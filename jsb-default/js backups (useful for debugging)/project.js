window.__require = function e(t, i, o) {
function n(a, s) {
if (!i[a]) {
if (!t[a]) {
var c = a.split("/");
c = c[c.length - 1];
if (!t[c]) {
var l = "function" == typeof __require && __require;
if (!s && l) return l(c, !0);
if (r) return r(c, !0);
throw new Error("Cannot find module '" + a + "'");
}
}
var u = i[a] = {
exports: {}
};
t[a][0].call(u.exports, function(e) {
return n(t[a][1][e] || e);
}, u, u.exports, e, t, i, o);
}
return i[a].exports;
}
for (var r = "function" == typeof __require && __require, a = 0; a < o.length; a++) n(o[a]);
return n;
}({
1: [ function(e, t, i) {
var o = i;
o.bignum = e("bn.js");
o.define = e("./asn1/api").define;
o.base = e("./asn1/base");
o.constants = e("./asn1/constants");
o.decoders = e("./asn1/decoders");
o.encoders = e("./asn1/encoders");
}, {
"./asn1/api": 2,
"./asn1/base": 4,
"./asn1/constants": 8,
"./asn1/decoders": 10,
"./asn1/encoders": 13,
"bn.js": 16
} ],
2: [ function(e, t, i) {
var o = e("../asn1"), n = e("inherits");
i.define = function(e, t) {
return new r(e, t);
};
function r(e, t) {
this.name = e;
this.body = t;
this.decoders = {};
this.encoders = {};
}
r.prototype._createNamed = function(t) {
var i;
try {
i = e("vm").runInThisContext("(function " + this.name + "(entity) {\n  this._initNamed(entity);\n})");
} catch (e) {
i = function(e) {
this._initNamed(e);
};
}
n(i, t);
i.prototype._initNamed = function(e) {
t.call(this, e);
};
return new i(this);
};
r.prototype._getDecoder = function(e) {
e = e || "der";
this.decoders.hasOwnProperty(e) || (this.decoders[e] = this._createNamed(o.decoders[e]));
return this.decoders[e];
};
r.prototype.decode = function(e, t, i) {
return this._getDecoder(t).decode(e, i);
};
r.prototype._getEncoder = function(e) {
e = e || "der";
this.encoders.hasOwnProperty(e) || (this.encoders[e] = this._createNamed(o.encoders[e]));
return this.encoders[e];
};
r.prototype.encode = function(e, t, i) {
return this._getEncoder(t).encode(e, i);
};
}, {
"../asn1": 1,
inherits: 101,
vm: 156
} ],
3: [ function(e, t, i) {
var o = e("inherits"), n = e("../base").Reporter, r = e("buffer").Buffer;
function a(e, t) {
n.call(this, t);
if (r.isBuffer(e)) {
this.base = e;
this.offset = 0;
this.length = e.length;
} else this.error("Input not Buffer");
}
o(a, n);
i.DecoderBuffer = a;
a.prototype.save = function() {
return {
offset: this.offset,
reporter: n.prototype.save.call(this)
};
};
a.prototype.restore = function(e) {
var t = new a(this.base);
t.offset = e.offset;
t.length = this.offset;
this.offset = e.offset;
n.prototype.restore.call(this, e.reporter);
return t;
};
a.prototype.isEmpty = function() {
return this.offset === this.length;
};
a.prototype.readUInt8 = function(e) {
return this.offset + 1 <= this.length ? this.base.readUInt8(this.offset++, !0) : this.error(e || "DecoderBuffer overrun");
};
a.prototype.skip = function(e, t) {
if (!(this.offset + e <= this.length)) return this.error(t || "DecoderBuffer overrun");
var i = new a(this.base);
i._reporterState = this._reporterState;
i.offset = this.offset;
i.length = this.offset + e;
this.offset += e;
return i;
};
a.prototype.raw = function(e) {
return this.base.slice(e ? e.offset : this.offset, this.length);
};
function s(e, t) {
if (Array.isArray(e)) {
this.length = 0;
this.value = e.map(function(e) {
e instanceof s || (e = new s(e, t));
this.length += e.length;
return e;
}, this);
} else if ("number" == typeof e) {
if (!(0 <= e && e <= 255)) return t.error("non-byte EncoderBuffer value");
this.value = e;
this.length = 1;
} else if ("string" == typeof e) {
this.value = e;
this.length = r.byteLength(e);
} else {
if (!r.isBuffer(e)) return t.error("Unsupported type: " + typeof e);
this.value = e;
this.length = e.length;
}
}
i.EncoderBuffer = s;
s.prototype.join = function(e, t) {
e || (e = new r(this.length));
t || (t = 0);
if (0 === this.length) return e;
if (Array.isArray(this.value)) this.value.forEach(function(i) {
i.join(e, t);
t += i.length;
}); else {
"number" == typeof this.value ? e[t] = this.value : "string" == typeof this.value ? e.write(this.value, t) : r.isBuffer(this.value) && this.value.copy(e, t);
t += this.length;
}
return e;
};
}, {
"../base": 4,
buffer: 47,
inherits: 101
} ],
4: [ function(e, t, i) {
var o = i;
o.Reporter = e("./reporter").Reporter;
o.DecoderBuffer = e("./buffer").DecoderBuffer;
o.EncoderBuffer = e("./buffer").EncoderBuffer;
o.Node = e("./node");
}, {
"./buffer": 3,
"./node": 5,
"./reporter": 6
} ],
5: [ function(e, t, i) {
var o = e("../base").Reporter, n = e("../base").EncoderBuffer, r = e("../base").DecoderBuffer, a = e("minimalistic-assert"), s = [ "seq", "seqof", "set", "setof", "objid", "bool", "gentime", "utctime", "null_", "enum", "int", "objDesc", "bitstr", "bmpstr", "charstr", "genstr", "graphstr", "ia5str", "iso646str", "numstr", "octstr", "printstr", "t61str", "unistr", "utf8str", "videostr" ], c = [ "key", "obj", "use", "optional", "explicit", "implicit", "def", "choice", "any", "contains" ].concat(s);
function l(e, t) {
var i = {};
this._baseState = i;
i.enc = e;
i.parent = t || null;
i.children = null;
i.tag = null;
i.args = null;
i.reverseArgs = null;
i.choice = null;
i.optional = !1;
i.any = !1;
i.obj = !1;
i.use = null;
i.useDecoder = null;
i.key = null;
i.default = null;
i.explicit = null;
i.implicit = null;
i.contains = null;
if (!i.parent) {
i.children = [];
this._wrap();
}
}
t.exports = l;
var u = [ "enc", "parent", "children", "tag", "args", "reverseArgs", "choice", "optional", "any", "obj", "use", "alteredUse", "key", "default", "explicit", "implicit", "contains" ];
l.prototype.clone = function() {
var e = this._baseState, t = {};
u.forEach(function(i) {
t[i] = e[i];
});
var i = new this.constructor(t.parent);
i._baseState = t;
return i;
};
l.prototype._wrap = function() {
var e = this._baseState;
c.forEach(function(t) {
this[t] = function() {
var i = new this.constructor(this);
e.children.push(i);
return i[t].apply(i, arguments);
};
}, this);
};
l.prototype._init = function(e) {
var t = this._baseState;
a(null === t.parent);
e.call(this);
t.children = t.children.filter(function(e) {
return e._baseState.parent === this;
}, this);
a.equal(t.children.length, 1, "Root node can have only one child");
};
l.prototype._useArgs = function(e) {
var t = this._baseState, i = e.filter(function(e) {
return e instanceof this.constructor;
}, this);
e = e.filter(function(e) {
return !(e instanceof this.constructor);
}, this);
if (0 !== i.length) {
a(null === t.children);
t.children = i;
i.forEach(function(e) {
e._baseState.parent = this;
}, this);
}
if (0 !== e.length) {
a(null === t.args);
t.args = e;
t.reverseArgs = e.map(function(e) {
if ("object" != typeof e || e.constructor !== Object) return e;
var t = {};
Object.keys(e).forEach(function(i) {
i == (0 | i) && (i |= 0);
var o = e[i];
t[o] = i;
});
return t;
});
}
};
[ "_peekTag", "_decodeTag", "_use", "_decodeStr", "_decodeObjid", "_decodeTime", "_decodeNull", "_decodeInt", "_decodeBool", "_decodeList", "_encodeComposite", "_encodeStr", "_encodeObjid", "_encodeTime", "_encodeNull", "_encodeInt", "_encodeBool" ].forEach(function(e) {
l.prototype[e] = function() {
var t = this._baseState;
throw new Error(e + " not implemented for encoding: " + t.enc);
};
});
s.forEach(function(e) {
l.prototype[e] = function() {
var t = this._baseState, i = Array.prototype.slice.call(arguments);
a(null === t.tag);
t.tag = e;
this._useArgs(i);
return this;
};
});
l.prototype.use = function(e) {
a(e);
var t = this._baseState;
a(null === t.use);
t.use = e;
return this;
};
l.prototype.optional = function() {
this._baseState.optional = !0;
return this;
};
l.prototype.def = function(e) {
var t = this._baseState;
a(null === t.default);
t.default = e;
t.optional = !0;
return this;
};
l.prototype.explicit = function(e) {
var t = this._baseState;
a(null === t.explicit && null === t.implicit);
t.explicit = e;
return this;
};
l.prototype.implicit = function(e) {
var t = this._baseState;
a(null === t.explicit && null === t.implicit);
t.implicit = e;
return this;
};
l.prototype.obj = function() {
var e = this._baseState, t = Array.prototype.slice.call(arguments);
e.obj = !0;
0 !== t.length && this._useArgs(t);
return this;
};
l.prototype.key = function(e) {
var t = this._baseState;
a(null === t.key);
t.key = e;
return this;
};
l.prototype.any = function() {
this._baseState.any = !0;
return this;
};
l.prototype.choice = function(e) {
var t = this._baseState;
a(null === t.choice);
t.choice = e;
this._useArgs(Object.keys(e).map(function(t) {
return e[t];
}));
return this;
};
l.prototype.contains = function(e) {
var t = this._baseState;
a(null === t.use);
t.contains = e;
return this;
};
l.prototype._decode = function(e, t) {
var i = this._baseState;
if (null === i.parent) return e.wrapResult(i.children[0]._decode(e, t));
var o, n = i.default, a = !0, s = null;
null !== i.key && (s = e.enterKey(i.key));
if (i.optional) {
var c = null;
null !== i.explicit ? c = i.explicit : null !== i.implicit ? c = i.implicit : null !== i.tag && (c = i.tag);
if (null !== c || i.any) {
a = this._peekTag(e, c, i.any);
if (e.isError(a)) return a;
} else {
var l = e.save();
try {
null === i.choice ? this._decodeGeneric(i.tag, e, t) : this._decodeChoice(e, t);
a = !0;
} catch (e) {
a = !1;
}
e.restore(l);
}
}
i.obj && a && (o = e.enterObject());
if (a) {
if (null !== i.explicit) {
var u = this._decodeTag(e, i.explicit);
if (e.isError(u)) return u;
e = u;
}
var d = e.offset;
if (null === i.use && null === i.choice) {
if (i.any) l = e.save();
var f = this._decodeTag(e, null !== i.implicit ? i.implicit : i.tag, i.any);
if (e.isError(f)) return f;
i.any ? n = e.raw(l) : e = f;
}
t && t.track && null !== i.tag && t.track(e.path(), d, e.length, "tagged");
t && t.track && null !== i.tag && t.track(e.path(), e.offset, e.length, "content");
n = i.any ? n : null === i.choice ? this._decodeGeneric(i.tag, e, t) : this._decodeChoice(e, t);
if (e.isError(n)) return n;
i.any || null !== i.choice || null === i.children || i.children.forEach(function(i) {
i._decode(e, t);
});
if (i.contains && ("octstr" === i.tag || "bitstr" === i.tag)) {
var h = new r(n);
n = this._getUse(i.contains, e._reporterState.obj)._decode(h, t);
}
}
i.obj && a && (n = e.leaveObject(o));
null === i.key || null === n && !0 !== a ? null !== s && e.exitKey(s) : e.leaveKey(s, i.key, n);
return n;
};
l.prototype._decodeGeneric = function(e, t, i) {
var o = this._baseState;
return "seq" === e || "set" === e ? null : "seqof" === e || "setof" === e ? this._decodeList(t, e, o.args[0], i) : /str$/.test(e) ? this._decodeStr(t, e, i) : "objid" === e && o.args ? this._decodeObjid(t, o.args[0], o.args[1], i) : "objid" === e ? this._decodeObjid(t, null, null, i) : "gentime" === e || "utctime" === e ? this._decodeTime(t, e, i) : "null_" === e ? this._decodeNull(t, i) : "bool" === e ? this._decodeBool(t, i) : "objDesc" === e ? this._decodeStr(t, e, i) : "int" === e || "enum" === e ? this._decodeInt(t, o.args && o.args[0], i) : null !== o.use ? this._getUse(o.use, t._reporterState.obj)._decode(t, i) : t.error("unknown tag: " + e);
};
l.prototype._getUse = function(e, t) {
var i = this._baseState;
i.useDecoder = this._use(e, t);
a(null === i.useDecoder._baseState.parent);
i.useDecoder = i.useDecoder._baseState.children[0];
if (i.implicit !== i.useDecoder._baseState.implicit) {
i.useDecoder = i.useDecoder.clone();
i.useDecoder._baseState.implicit = i.implicit;
}
return i.useDecoder;
};
l.prototype._decodeChoice = function(e, t) {
var i = this._baseState, o = null, n = !1;
Object.keys(i.choice).some(function(r) {
var a = e.save(), s = i.choice[r];
try {
var c = s._decode(e, t);
if (e.isError(c)) return !1;
o = {
type: r,
value: c
};
n = !0;
} catch (t) {
e.restore(a);
return !1;
}
return !0;
}, this);
return n ? o : e.error("Choice not matched");
};
l.prototype._createEncoderBuffer = function(e) {
return new n(e, this.reporter);
};
l.prototype._encode = function(e, t, i) {
var o = this._baseState;
if (null === o.default || o.default !== e) {
var n = this._encodeValue(e, t, i);
if (void 0 !== n && !this._skipDefault(n, t, i)) return n;
}
};
l.prototype._encodeValue = function(e, t, i) {
var n = this._baseState;
if (null === n.parent) return n.children[0]._encode(e, t || new o());
var r = null;
this.reporter = t;
if (n.optional && void 0 === e) {
if (null === n.default) return;
e = n.default;
}
var a = null, s = !1;
if (n.any) r = this._createEncoderBuffer(e); else if (n.choice) r = this._encodeChoice(e, t); else if (n.contains) {
a = this._getUse(n.contains, i)._encode(e, t);
s = !0;
} else if (n.children) {
a = n.children.map(function(i) {
if ("null_" === i._baseState.tag) return i._encode(null, t, e);
if (null === i._baseState.key) return t.error("Child should have a key");
var o = t.enterKey(i._baseState.key);
if ("object" != typeof e) return t.error("Child expected, but input is not object");
var n = i._encode(e[i._baseState.key], t, e);
t.leaveKey(o);
return n;
}, this).filter(function(e) {
return e;
});
a = this._createEncoderBuffer(a);
} else if ("seqof" === n.tag || "setof" === n.tag) {
if (!n.args || 1 !== n.args.length) return t.error("Too many args for : " + n.tag);
if (!Array.isArray(e)) return t.error("seqof/setof, but data is not Array");
var c = this.clone();
c._baseState.implicit = null;
a = this._createEncoderBuffer(e.map(function(i) {
var o = this._baseState;
return this._getUse(o.args[0], e)._encode(i, t);
}, c));
} else if (null !== n.use) r = this._getUse(n.use, i)._encode(e, t); else {
a = this._encodePrimitive(n.tag, e);
s = !0;
}
if (!n.any && null === n.choice) {
var l = null !== n.implicit ? n.implicit : n.tag, u = null === n.implicit ? "universal" : "context";
null === l ? null === n.use && t.error("Tag could be omitted only for .use()") : null === n.use && (r = this._encodeComposite(l, s, u, a));
}
null !== n.explicit && (r = this._encodeComposite(n.explicit, !1, "context", r));
return r;
};
l.prototype._encodeChoice = function(e, t) {
var i = this._baseState, o = i.choice[e.type];
o || a(!1, e.type + " not found in " + JSON.stringify(Object.keys(i.choice)));
return o._encode(e.value, t);
};
l.prototype._encodePrimitive = function(e, t) {
var i = this._baseState;
if (/str$/.test(e)) return this._encodeStr(t, e);
if ("objid" === e && i.args) return this._encodeObjid(t, i.reverseArgs[0], i.args[1]);
if ("objid" === e) return this._encodeObjid(t, null, null);
if ("gentime" === e || "utctime" === e) return this._encodeTime(t, e);
if ("null_" === e) return this._encodeNull();
if ("int" === e || "enum" === e) return this._encodeInt(t, i.args && i.reverseArgs[0]);
if ("bool" === e) return this._encodeBool(t);
if ("objDesc" === e) return this._encodeStr(t, e);
throw new Error("Unsupported tag: " + e);
};
l.prototype._isNumstr = function(e) {
return /^[0-9 ]*$/.test(e);
};
l.prototype._isPrintstr = function(e) {
return /^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(e);
};
}, {
"../base": 4,
"minimalistic-assert": 105
} ],
6: [ function(e, t, i) {
var o = e("inherits");
function n(e) {
this._reporterState = {
obj: null,
path: [],
options: e || {},
errors: []
};
}
i.Reporter = n;
n.prototype.isError = function(e) {
return e instanceof r;
};
n.prototype.save = function() {
var e = this._reporterState;
return {
obj: e.obj,
pathLen: e.path.length
};
};
n.prototype.restore = function(e) {
var t = this._reporterState;
t.obj = e.obj;
t.path = t.path.slice(0, e.pathLen);
};
n.prototype.enterKey = function(e) {
return this._reporterState.path.push(e);
};
n.prototype.exitKey = function(e) {
var t = this._reporterState;
t.path = t.path.slice(0, e - 1);
};
n.prototype.leaveKey = function(e, t, i) {
var o = this._reporterState;
this.exitKey(e);
null !== o.obj && (o.obj[t] = i);
};
n.prototype.path = function() {
return this._reporterState.path.join("/");
};
n.prototype.enterObject = function() {
var e = this._reporterState, t = e.obj;
e.obj = {};
return t;
};
n.prototype.leaveObject = function(e) {
var t = this._reporterState, i = t.obj;
t.obj = e;
return i;
};
n.prototype.error = function(e) {
var t, i = this._reporterState, o = e instanceof r;
t = o ? e : new r(i.path.map(function(e) {
return "[" + JSON.stringify(e) + "]";
}).join(""), e.message || e, e.stack);
if (!i.options.partial) throw t;
o || i.errors.push(t);
return t;
};
n.prototype.wrapResult = function(e) {
var t = this._reporterState;
return t.options.partial ? {
result: this.isError(e) ? null : e,
errors: t.errors
} : e;
};
function r(e, t) {
this.path = e;
this.rethrow(t);
}
o(r, Error);
r.prototype.rethrow = function(e) {
this.message = e + " at: " + (this.path || "(shallow)");
Error.captureStackTrace && Error.captureStackTrace(this, r);
if (!this.stack) try {
throw new Error(this.message);
} catch (e) {
this.stack = e.stack;
}
return this;
};
}, {
inherits: 101
} ],
7: [ function(e, t, i) {
var o = e("../constants");
i.tagClass = {
0: "universal",
1: "application",
2: "context",
3: "private"
};
i.tagClassByName = o._reverse(i.tagClass);
i.tag = {
0: "end",
1: "bool",
2: "int",
3: "bitstr",
4: "octstr",
5: "null_",
6: "objid",
7: "objDesc",
8: "external",
9: "real",
10: "enum",
11: "embed",
12: "utf8str",
13: "relativeOid",
16: "seq",
17: "set",
18: "numstr",
19: "printstr",
20: "t61str",
21: "videostr",
22: "ia5str",
23: "utctime",
24: "gentime",
25: "graphstr",
26: "iso646str",
27: "genstr",
28: "unistr",
29: "charstr",
30: "bmpstr"
};
i.tagByName = o._reverse(i.tag);
}, {
"../constants": 8
} ],
8: [ function(e, t, i) {
var o = i;
o._reverse = function(e) {
var t = {};
Object.keys(e).forEach(function(i) {
(0 | i) == i && (i |= 0);
var o = e[i];
t[o] = i;
});
return t;
};
o.der = e("./der");
}, {
"./der": 7
} ],
9: [ function(e, t, i) {
var o = e("inherits"), n = e("../../asn1"), r = n.base, a = n.bignum, s = n.constants.der;
function c(e) {
this.enc = "der";
this.name = e.name;
this.entity = e;
this.tree = new l();
this.tree._init(e.body);
}
t.exports = c;
c.prototype.decode = function(e, t) {
e instanceof r.DecoderBuffer || (e = new r.DecoderBuffer(e, t));
return this.tree._decode(e, t);
};
function l(e) {
r.Node.call(this, "der", e);
}
o(l, r.Node);
l.prototype._peekTag = function(e, t, i) {
if (e.isEmpty()) return !1;
var o = e.save(), n = u(e, 'Failed to peek tag: "' + t + '"');
if (e.isError(n)) return n;
e.restore(o);
return n.tag === t || n.tagStr === t || n.tagStr + "of" === t || i;
};
l.prototype._decodeTag = function(e, t, i) {
var o = u(e, 'Failed to decode tag of "' + t + '"');
if (e.isError(o)) return o;
var n = d(e, o.primitive, 'Failed to get length of "' + t + '"');
if (e.isError(n)) return n;
if (!i && o.tag !== t && o.tagStr !== t && o.tagStr + "of" !== t) return e.error('Failed to match tag: "' + t + '"');
if (o.primitive || null !== n) return e.skip(n, 'Failed to match body of: "' + t + '"');
var r = e.save(), a = this._skipUntilEnd(e, 'Failed to skip indefinite length body: "' + this.tag + '"');
if (e.isError(a)) return a;
n = e.offset - r.offset;
e.restore(r);
return e.skip(n, 'Failed to match body of: "' + t + '"');
};
l.prototype._skipUntilEnd = function(e, t) {
for (;;) {
var i = u(e, t);
if (e.isError(i)) return i;
var o, n = d(e, i.primitive, t);
if (e.isError(n)) return n;
o = i.primitive || null !== n ? e.skip(n) : this._skipUntilEnd(e, t);
if (e.isError(o)) return o;
if ("end" === i.tagStr) break;
}
};
l.prototype._decodeList = function(e, t, i, o) {
for (var n = []; !e.isEmpty(); ) {
var r = this._peekTag(e, "end");
if (e.isError(r)) return r;
var a = i.decode(e, "der", o);
if (e.isError(a) && r) break;
n.push(a);
}
return n;
};
l.prototype._decodeStr = function(e, t) {
if ("bitstr" === t) {
var i = e.readUInt8();
return e.isError(i) ? i : {
unused: i,
data: e.raw()
};
}
if ("bmpstr" === t) {
var o = e.raw();
if (o.length % 2 == 1) return e.error("Decoding of string type: bmpstr length mismatch");
for (var n = "", r = 0; r < o.length / 2; r++) n += String.fromCharCode(o.readUInt16BE(2 * r));
return n;
}
if ("numstr" === t) {
var a = e.raw().toString("ascii");
return this._isNumstr(a) ? a : e.error("Decoding of string type: numstr unsupported characters");
}
if ("octstr" === t) return e.raw();
if ("objDesc" === t) return e.raw();
if ("printstr" === t) {
var s = e.raw().toString("ascii");
return this._isPrintstr(s) ? s : e.error("Decoding of string type: printstr unsupported characters");
}
return /str$/.test(t) ? e.raw().toString() : e.error("Decoding of string type: " + t + " unsupported");
};
l.prototype._decodeObjid = function(e, t, i) {
for (var o, n = [], r = 0; !e.isEmpty(); ) {
var a = e.readUInt8();
r <<= 7;
r |= 127 & a;
if (0 == (128 & a)) {
n.push(r);
r = 0;
}
}
128 & a && n.push(r);
var s = n[0] / 40 | 0, c = n[0] % 40;
o = i ? n : [ s, c ].concat(n.slice(1));
if (t) {
var l = t[o.join(" ")];
void 0 === l && (l = t[o.join(".")]);
void 0 !== l && (o = l);
}
return o;
};
l.prototype._decodeTime = function(e, t) {
var i = e.raw().toString();
if ("gentime" === t) var o = 0 | i.slice(0, 4), n = 0 | i.slice(4, 6), r = 0 | i.slice(6, 8), a = 0 | i.slice(8, 10), s = 0 | i.slice(10, 12), c = 0 | i.slice(12, 14); else {
if ("utctime" !== t) return e.error("Decoding " + t + " time is not supported yet");
o = 0 | i.slice(0, 2), n = 0 | i.slice(2, 4), r = 0 | i.slice(4, 6), a = 0 | i.slice(6, 8), 
s = 0 | i.slice(8, 10), c = 0 | i.slice(10, 12);
o = o < 70 ? 2e3 + o : 1900 + o;
}
return Date.UTC(o, n - 1, r, a, s, c, 0);
};
l.prototype._decodeNull = function(e) {
return null;
};
l.prototype._decodeBool = function(e) {
var t = e.readUInt8();
return e.isError(t) ? t : 0 !== t;
};
l.prototype._decodeInt = function(e, t) {
var i = e.raw(), o = new a(i);
t && (o = t[o.toString(10)] || o);
return o;
};
l.prototype._use = function(e, t) {
"function" == typeof e && (e = e(t));
return e._getDecoder("der").tree;
};
function u(e, t) {
var i = e.readUInt8(t);
if (e.isError(i)) return i;
var o = s.tagClass[i >> 6], n = 0 == (32 & i);
if (31 == (31 & i)) {
var r = i;
i = 0;
for (;128 == (128 & r); ) {
r = e.readUInt8(t);
if (e.isError(r)) return r;
i <<= 7;
i |= 127 & r;
}
} else i &= 31;
return {
cls: o,
primitive: n,
tag: i,
tagStr: s.tag[i]
};
}
function d(e, t, i) {
var o = e.readUInt8(i);
if (e.isError(o)) return o;
if (!t && 128 === o) return null;
if (0 == (128 & o)) return o;
var n = 127 & o;
if (n > 4) return e.error("length octect is too long");
o = 0;
for (var r = 0; r < n; r++) {
o <<= 8;
var a = e.readUInt8(i);
if (e.isError(a)) return a;
o |= a;
}
return o;
}
}, {
"../../asn1": 1,
inherits: 101
} ],
10: [ function(e, t, i) {
var o = i;
o.der = e("./der");
o.pem = e("./pem");
}, {
"./der": 9,
"./pem": 11
} ],
11: [ function(e, t, i) {
var o = e("inherits"), n = e("buffer").Buffer, r = e("./der");
function a(e) {
r.call(this, e);
this.enc = "pem";
}
o(a, r);
t.exports = a;
a.prototype.decode = function(e, t) {
for (var i = e.toString().split(/[\r\n]+/g), o = t.label.toUpperCase(), a = /^-----(BEGIN|END) ([^-]+)-----$/, s = -1, c = -1, l = 0; l < i.length; l++) {
var u = i[l].match(a);
if (null !== u && u[2] === o) {
if (-1 !== s) {
if ("END" !== u[1]) break;
c = l;
break;
}
if ("BEGIN" !== u[1]) break;
s = l;
}
}
if (-1 === s || -1 === c) throw new Error("PEM section not found for: " + o);
var d = i.slice(s + 1, c).join("");
d.replace(/[^a-z0-9\+\/=]+/gi, "");
var f = new n(d, "base64");
return r.prototype.decode.call(this, f, t);
};
}, {
"./der": 9,
buffer: 47,
inherits: 101
} ],
12: [ function(e, t, i) {
var o = e("inherits"), n = e("buffer").Buffer, r = e("../../asn1"), a = r.base, s = r.constants.der;
function c(e) {
this.enc = "der";
this.name = e.name;
this.entity = e;
this.tree = new l();
this.tree._init(e.body);
}
t.exports = c;
c.prototype.encode = function(e, t) {
return this.tree._encode(e, t).join();
};
function l(e) {
a.Node.call(this, "der", e);
}
o(l, a.Node);
l.prototype._encodeComposite = function(e, t, i, o) {
var r = d(e, t, i, this.reporter);
if (o.length < 128) {
var a;
(a = new n(2))[0] = r;
a[1] = o.length;
return this._createEncoderBuffer([ a, o ]);
}
for (var s = 1, c = o.length; c >= 256; c >>= 8) s++;
(a = new n(2 + s))[0] = r;
a[1] = 128 | s;
c = 1 + s;
for (var l = o.length; l > 0; c--, l >>= 8) a[c] = 255 & l;
return this._createEncoderBuffer([ a, o ]);
};
l.prototype._encodeStr = function(e, t) {
if ("bitstr" === t) return this._createEncoderBuffer([ 0 | e.unused, e.data ]);
if ("bmpstr" === t) {
for (var i = new n(2 * e.length), o = 0; o < e.length; o++) i.writeUInt16BE(e.charCodeAt(o), 2 * o);
return this._createEncoderBuffer(i);
}
return "numstr" === t ? this._isNumstr(e) ? this._createEncoderBuffer(e) : this.reporter.error("Encoding of string type: numstr supports only digits and space") : "printstr" === t ? this._isPrintstr(e) ? this._createEncoderBuffer(e) : this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark") : /str$/.test(t) ? this._createEncoderBuffer(e) : "objDesc" === t ? this._createEncoderBuffer(e) : this.reporter.error("Encoding of string type: " + t + " unsupported");
};
l.prototype._encodeObjid = function(e, t, i) {
if ("string" == typeof e) {
if (!t) return this.reporter.error("string objid given, but no values map found");
if (!t.hasOwnProperty(e)) return this.reporter.error("objid not found in values map");
e = t[e].split(/[\s\.]+/g);
for (var o = 0; o < e.length; o++) e[o] |= 0;
} else if (Array.isArray(e)) {
e = e.slice();
for (o = 0; o < e.length; o++) e[o] |= 0;
}
if (!Array.isArray(e)) return this.reporter.error("objid() should be either array or string, got: " + JSON.stringify(e));
if (!i) {
if (e[1] >= 40) return this.reporter.error("Second objid identifier OOB");
e.splice(0, 2, 40 * e[0] + e[1]);
}
var r = 0;
for (o = 0; o < e.length; o++) {
var a = e[o];
for (r++; a >= 128; a >>= 7) r++;
}
var s = new n(r), c = s.length - 1;
for (o = e.length - 1; o >= 0; o--) {
a = e[o];
s[c--] = 127 & a;
for (;(a >>= 7) > 0; ) s[c--] = 128 | 127 & a;
}
return this._createEncoderBuffer(s);
};
function u(e) {
return e < 10 ? "0" + e : e;
}
l.prototype._encodeTime = function(e, t) {
var i, o = new Date(e);
"gentime" === t ? i = [ u(o.getFullYear()), u(o.getUTCMonth() + 1), u(o.getUTCDate()), u(o.getUTCHours()), u(o.getUTCMinutes()), u(o.getUTCSeconds()), "Z" ].join("") : "utctime" === t ? i = [ u(o.getFullYear() % 100), u(o.getUTCMonth() + 1), u(o.getUTCDate()), u(o.getUTCHours()), u(o.getUTCMinutes()), u(o.getUTCSeconds()), "Z" ].join("") : this.reporter.error("Encoding " + t + " time is not supported yet");
return this._encodeStr(i, "octstr");
};
l.prototype._encodeNull = function() {
return this._createEncoderBuffer("");
};
l.prototype._encodeInt = function(e, t) {
if ("string" == typeof e) {
if (!t) return this.reporter.error("String int or enum given, but no values map");
if (!t.hasOwnProperty(e)) return this.reporter.error("Values map doesn't contain: " + JSON.stringify(e));
e = t[e];
}
if ("number" != typeof e && !n.isBuffer(e)) {
var i = e.toArray();
!e.sign && 128 & i[0] && i.unshift(0);
e = new n(i);
}
if (n.isBuffer(e)) {
var o = e.length;
0 === e.length && o++;
var r = new n(o);
e.copy(r);
0 === e.length && (r[0] = 0);
return this._createEncoderBuffer(r);
}
if (e < 128) return this._createEncoderBuffer(e);
if (e < 256) return this._createEncoderBuffer([ 0, e ]);
o = 1;
for (var a = e; a >= 256; a >>= 8) o++;
for (a = (r = new Array(o)).length - 1; a >= 0; a--) {
r[a] = 255 & e;
e >>= 8;
}
128 & r[0] && r.unshift(0);
return this._createEncoderBuffer(new n(r));
};
l.prototype._encodeBool = function(e) {
return this._createEncoderBuffer(e ? 255 : 0);
};
l.prototype._use = function(e, t) {
"function" == typeof e && (e = e(t));
return e._getEncoder("der").tree;
};
l.prototype._skipDefault = function(e, t, i) {
var o, n = this._baseState;
if (null === n.default) return !1;
var r = e.join();
void 0 === n.defaultBuffer && (n.defaultBuffer = this._encodeValue(n.default, t, i).join());
if (r.length !== n.defaultBuffer.length) return !1;
for (o = 0; o < r.length; o++) if (r[o] !== n.defaultBuffer[o]) return !1;
return !0;
};
function d(e, t, i, o) {
var n;
"seqof" === e ? e = "seq" : "setof" === e && (e = "set");
if (s.tagByName.hasOwnProperty(e)) n = s.tagByName[e]; else {
if ("number" != typeof e || (0 | e) !== e) return o.error("Unknown tag: " + e);
n = e;
}
if (n >= 31) return o.error("Multi-octet tag encoding unsupported");
t || (n |= 32);
return n |= s.tagClassByName[i || "universal"] << 6;
}
}, {
"../../asn1": 1,
buffer: 47,
inherits: 101
} ],
13: [ function(e, t, i) {
var o = i;
o.der = e("./der");
o.pem = e("./pem");
}, {
"./der": 12,
"./pem": 14
} ],
14: [ function(e, t, i) {
var o = e("inherits"), n = e("./der");
function r(e) {
n.call(this, e);
this.enc = "pem";
}
o(r, n);
t.exports = r;
r.prototype.encode = function(e, t) {
for (var i = n.prototype.encode.call(this, e).toString("base64"), o = [ "-----BEGIN " + t.label + "-----" ], r = 0; r < i.length; r += 64) o.push(i.slice(r, r + 64));
o.push("-----END " + t.label + "-----");
return o.join("\n");
};
}, {
"./der": 12,
inherits: 101
} ],
15: [ function(e, t, i) {
"use strict";
i.byteLength = function(e) {
var t = l(e), i = t[0], o = t[1];
return 3 * (i + o) / 4 - o;
};
i.toByteArray = function(e) {
var t, i, o = l(e), a = o[0], s = o[1], c = new r(u(e, a, s)), d = 0, f = s > 0 ? a - 4 : a;
for (i = 0; i < f; i += 4) {
t = n[e.charCodeAt(i)] << 18 | n[e.charCodeAt(i + 1)] << 12 | n[e.charCodeAt(i + 2)] << 6 | n[e.charCodeAt(i + 3)];
c[d++] = t >> 16 & 255;
c[d++] = t >> 8 & 255;
c[d++] = 255 & t;
}
if (2 === s) {
t = n[e.charCodeAt(i)] << 2 | n[e.charCodeAt(i + 1)] >> 4;
c[d++] = 255 & t;
}
if (1 === s) {
t = n[e.charCodeAt(i)] << 10 | n[e.charCodeAt(i + 1)] << 4 | n[e.charCodeAt(i + 2)] >> 2;
c[d++] = t >> 8 & 255;
c[d++] = 255 & t;
}
return c;
};
i.fromByteArray = function(e) {
for (var t, i = e.length, n = i % 3, r = [], a = 0, s = i - n; a < s; a += 16383) r.push(f(e, a, a + 16383 > s ? s : a + 16383));
if (1 === n) {
t = e[i - 1];
r.push(o[t >> 2] + o[t << 4 & 63] + "==");
} else if (2 === n) {
t = (e[i - 2] << 8) + e[i - 1];
r.push(o[t >> 10] + o[t >> 4 & 63] + o[t << 2 & 63] + "=");
}
return r.join("");
};
for (var o = [], n = [], r = "undefined" != typeof Uint8Array ? Uint8Array : Array, a = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", s = 0, c = a.length; s < c; ++s) {
o[s] = a[s];
n[a.charCodeAt(s)] = s;
}
n["-".charCodeAt(0)] = 62;
n["_".charCodeAt(0)] = 63;
function l(e) {
var t = e.length;
if (t % 4 > 0) throw new Error("Invalid string. Length must be a multiple of 4");
var i = e.indexOf("=");
-1 === i && (i = t);
return [ i, i === t ? 0 : 4 - i % 4 ];
}
function u(e, t, i) {
return 3 * (t + i) / 4 - i;
}
function d(e) {
return o[e >> 18 & 63] + o[e >> 12 & 63] + o[e >> 6 & 63] + o[63 & e];
}
function f(e, t, i) {
for (var o, n = [], r = t; r < i; r += 3) {
o = (e[r] << 16 & 16711680) + (e[r + 1] << 8 & 65280) + (255 & e[r + 2]);
n.push(d(o));
}
return n.join("");
}
}, {} ],
16: [ function(e, t, i) {
(function(t, i) {
"use strict";
function o(e, t) {
if (!e) throw new Error(t || "Assertion failed");
}
function n(e, t) {
e.super_ = t;
var i = function() {};
i.prototype = t.prototype;
e.prototype = new i();
e.prototype.constructor = e;
}
function r(e, t, i) {
if (r.isBN(e)) return e;
this.negative = 0;
this.words = null;
this.length = 0;
this.red = null;
if (null !== e) {
if ("le" === t || "be" === t) {
i = t;
t = 10;
}
this._init(e || 0, t || 10, i || "be");
}
}
"object" == typeof t ? t.exports = r : i.BN = r;
r.BN = r;
r.wordSize = 26;
var a;
try {
a = e("buffer").Buffer;
} catch (e) {}
r.isBN = function(e) {
return e instanceof r || null !== e && "object" == typeof e && e.constructor.wordSize === r.wordSize && Array.isArray(e.words);
};
r.max = function(e, t) {
return e.cmp(t) > 0 ? e : t;
};
r.min = function(e, t) {
return e.cmp(t) < 0 ? e : t;
};
r.prototype._init = function(e, t, i) {
if ("number" == typeof e) return this._initNumber(e, t, i);
if ("object" == typeof e) return this._initArray(e, t, i);
"hex" === t && (t = 16);
o(t === (0 | t) && t >= 2 && t <= 36);
var n = 0;
"-" === (e = e.toString().replace(/\s+/g, ""))[0] && n++;
16 === t ? this._parseHex(e, n) : this._parseBase(e, t, n);
"-" === e[0] && (this.negative = 1);
this.strip();
"le" === i && this._initArray(this.toArray(), t, i);
};
r.prototype._initNumber = function(e, t, i) {
if (e < 0) {
this.negative = 1;
e = -e;
}
if (e < 67108864) {
this.words = [ 67108863 & e ];
this.length = 1;
} else if (e < 4503599627370496) {
this.words = [ 67108863 & e, e / 67108864 & 67108863 ];
this.length = 2;
} else {
o(e < 9007199254740992);
this.words = [ 67108863 & e, e / 67108864 & 67108863, 1 ];
this.length = 3;
}
"le" === i && this._initArray(this.toArray(), t, i);
};
r.prototype._initArray = function(e, t, i) {
o("number" == typeof e.length);
if (e.length <= 0) {
this.words = [ 0 ];
this.length = 1;
return this;
}
this.length = Math.ceil(e.length / 3);
this.words = new Array(this.length);
for (var n = 0; n < this.length; n++) this.words[n] = 0;
var r, a, s = 0;
if ("be" === i) for (n = e.length - 1, r = 0; n >= 0; n -= 3) {
a = e[n] | e[n - 1] << 8 | e[n - 2] << 16;
this.words[r] |= a << s & 67108863;
this.words[r + 1] = a >>> 26 - s & 67108863;
if ((s += 24) >= 26) {
s -= 26;
r++;
}
} else if ("le" === i) for (n = 0, r = 0; n < e.length; n += 3) {
a = e[n] | e[n + 1] << 8 | e[n + 2] << 16;
this.words[r] |= a << s & 67108863;
this.words[r + 1] = a >>> 26 - s & 67108863;
if ((s += 24) >= 26) {
s -= 26;
r++;
}
}
return this.strip();
};
function s(e, t, i) {
for (var o = 0, n = Math.min(e.length, i), r = t; r < n; r++) {
var a = e.charCodeAt(r) - 48;
o <<= 4;
o |= a >= 49 && a <= 54 ? a - 49 + 10 : a >= 17 && a <= 22 ? a - 17 + 10 : 15 & a;
}
return o;
}
r.prototype._parseHex = function(e, t) {
this.length = Math.ceil((e.length - t) / 6);
this.words = new Array(this.length);
for (var i = 0; i < this.length; i++) this.words[i] = 0;
var o, n, r = 0;
for (i = e.length - 6, o = 0; i >= t; i -= 6) {
n = s(e, i, i + 6);
this.words[o] |= n << r & 67108863;
this.words[o + 1] |= n >>> 26 - r & 4194303;
if ((r += 24) >= 26) {
r -= 26;
o++;
}
}
if (i + 6 !== t) {
n = s(e, t, i + 6);
this.words[o] |= n << r & 67108863;
this.words[o + 1] |= n >>> 26 - r & 4194303;
}
this.strip();
};
function c(e, t, i, o) {
for (var n = 0, r = Math.min(e.length, i), a = t; a < r; a++) {
var s = e.charCodeAt(a) - 48;
n *= o;
n += s >= 49 ? s - 49 + 10 : s >= 17 ? s - 17 + 10 : s;
}
return n;
}
r.prototype._parseBase = function(e, t, i) {
this.words = [ 0 ];
this.length = 1;
for (var o = 0, n = 1; n <= 67108863; n *= t) o++;
o--;
n = n / t | 0;
for (var r = e.length - i, a = r % o, s = Math.min(r, r - a) + i, l = 0, u = i; u < s; u += o) {
l = c(e, u, u + o, t);
this.imuln(n);
this.words[0] + l < 67108864 ? this.words[0] += l : this._iaddn(l);
}
if (0 !== a) {
var d = 1;
l = c(e, u, e.length, t);
for (u = 0; u < a; u++) d *= t;
this.imuln(d);
this.words[0] + l < 67108864 ? this.words[0] += l : this._iaddn(l);
}
};
r.prototype.copy = function(e) {
e.words = new Array(this.length);
for (var t = 0; t < this.length; t++) e.words[t] = this.words[t];
e.length = this.length;
e.negative = this.negative;
e.red = this.red;
};
r.prototype.clone = function() {
var e = new r(null);
this.copy(e);
return e;
};
r.prototype._expand = function(e) {
for (;this.length < e; ) this.words[this.length++] = 0;
return this;
};
r.prototype.strip = function() {
for (;this.length > 1 && 0 === this.words[this.length - 1]; ) this.length--;
return this._normSign();
};
r.prototype._normSign = function() {
1 === this.length && 0 === this.words[0] && (this.negative = 0);
return this;
};
r.prototype.inspect = function() {
return (this.red ? "<BN-R: " : "<BN: ") + this.toString(16) + ">";
};
var l = [ "", "0", "00", "000", "0000", "00000", "000000", "0000000", "00000000", "000000000", "0000000000", "00000000000", "000000000000", "0000000000000", "00000000000000", "000000000000000", "0000000000000000", "00000000000000000", "000000000000000000", "0000000000000000000", "00000000000000000000", "000000000000000000000", "0000000000000000000000", "00000000000000000000000", "000000000000000000000000", "0000000000000000000000000" ], u = [ 0, 0, 25, 16, 12, 11, 10, 9, 8, 8, 7, 7, 7, 7, 6, 6, 6, 6, 6, 6, 6, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5 ], d = [ 0, 0, 33554432, 43046721, 16777216, 48828125, 60466176, 40353607, 16777216, 43046721, 1e7, 19487171, 35831808, 62748517, 7529536, 11390625, 16777216, 24137569, 34012224, 47045881, 64e6, 4084101, 5153632, 6436343, 7962624, 9765625, 11881376, 14348907, 17210368, 20511149, 243e5, 28629151, 33554432, 39135393, 45435424, 52521875, 60466176 ];
r.prototype.toString = function(e, t) {
e = e || 10;
t = 0 | t || 1;
var i;
if (16 === e || "hex" === e) {
i = "";
for (var n = 0, r = 0, a = 0; a < this.length; a++) {
var s = this.words[a], c = (16777215 & (s << n | r)).toString(16);
i = 0 !== (r = s >>> 24 - n & 16777215) || a !== this.length - 1 ? l[6 - c.length] + c + i : c + i;
if ((n += 2) >= 26) {
n -= 26;
a--;
}
}
0 !== r && (i = r.toString(16) + i);
for (;i.length % t != 0; ) i = "0" + i;
0 !== this.negative && (i = "-" + i);
return i;
}
if (e === (0 | e) && e >= 2 && e <= 36) {
var f = u[e], h = d[e];
i = "";
var p = this.clone();
p.negative = 0;
for (;!p.isZero(); ) {
var g = p.modn(h).toString(e);
i = (p = p.idivn(h)).isZero() ? g + i : l[f - g.length] + g + i;
}
this.isZero() && (i = "0" + i);
for (;i.length % t != 0; ) i = "0" + i;
0 !== this.negative && (i = "-" + i);
return i;
}
o(!1, "Base should be between 2 and 36");
};
r.prototype.toNumber = function() {
var e = this.words[0];
2 === this.length ? e += 67108864 * this.words[1] : 3 === this.length && 1 === this.words[2] ? e += 4503599627370496 + 67108864 * this.words[1] : this.length > 2 && o(!1, "Number can only safely store up to 53 bits");
return 0 !== this.negative ? -e : e;
};
r.prototype.toJSON = function() {
return this.toString(16);
};
r.prototype.toBuffer = function(e, t) {
o("undefined" != typeof a);
return this.toArrayLike(a, e, t);
};
r.prototype.toArray = function(e, t) {
return this.toArrayLike(Array, e, t);
};
r.prototype.toArrayLike = function(e, t, i) {
var n = this.byteLength(), r = i || Math.max(1, n);
o(n <= r, "byte array longer than desired length");
o(r > 0, "Requested array length <= 0");
this.strip();
var a, s, c = "le" === t, l = new e(r), u = this.clone();
if (c) {
for (s = 0; !u.isZero(); s++) {
a = u.andln(255);
u.iushrn(8);
l[s] = a;
}
for (;s < r; s++) l[s] = 0;
} else {
for (s = 0; s < r - n; s++) l[s] = 0;
for (s = 0; !u.isZero(); s++) {
a = u.andln(255);
u.iushrn(8);
l[r - s - 1] = a;
}
}
return l;
};
Math.clz32 ? r.prototype._countBits = function(e) {
return 32 - Math.clz32(e);
} : r.prototype._countBits = function(e) {
var t = e, i = 0;
if (t >= 4096) {
i += 13;
t >>>= 13;
}
if (t >= 64) {
i += 7;
t >>>= 7;
}
if (t >= 8) {
i += 4;
t >>>= 4;
}
if (t >= 2) {
i += 2;
t >>>= 2;
}
return i + t;
};
r.prototype._zeroBits = function(e) {
if (0 === e) return 26;
var t = e, i = 0;
if (0 == (8191 & t)) {
i += 13;
t >>>= 13;
}
if (0 == (127 & t)) {
i += 7;
t >>>= 7;
}
if (0 == (15 & t)) {
i += 4;
t >>>= 4;
}
if (0 == (3 & t)) {
i += 2;
t >>>= 2;
}
0 == (1 & t) && i++;
return i;
};
r.prototype.bitLength = function() {
var e = this.words[this.length - 1], t = this._countBits(e);
return 26 * (this.length - 1) + t;
};
function f(e) {
for (var t = new Array(e.bitLength()), i = 0; i < t.length; i++) {
var o = i / 26 | 0, n = i % 26;
t[i] = (e.words[o] & 1 << n) >>> n;
}
return t;
}
r.prototype.zeroBits = function() {
if (this.isZero()) return 0;
for (var e = 0, t = 0; t < this.length; t++) {
var i = this._zeroBits(this.words[t]);
e += i;
if (26 !== i) break;
}
return e;
};
r.prototype.byteLength = function() {
return Math.ceil(this.bitLength() / 8);
};
r.prototype.toTwos = function(e) {
return 0 !== this.negative ? this.abs().inotn(e).iaddn(1) : this.clone();
};
r.prototype.fromTwos = function(e) {
return this.testn(e - 1) ? this.notn(e).iaddn(1).ineg() : this.clone();
};
r.prototype.isNeg = function() {
return 0 !== this.negative;
};
r.prototype.neg = function() {
return this.clone().ineg();
};
r.prototype.ineg = function() {
this.isZero() || (this.negative ^= 1);
return this;
};
r.prototype.iuor = function(e) {
for (;this.length < e.length; ) this.words[this.length++] = 0;
for (var t = 0; t < e.length; t++) this.words[t] = this.words[t] | e.words[t];
return this.strip();
};
r.prototype.ior = function(e) {
o(0 == (this.negative | e.negative));
return this.iuor(e);
};
r.prototype.or = function(e) {
return this.length > e.length ? this.clone().ior(e) : e.clone().ior(this);
};
r.prototype.uor = function(e) {
return this.length > e.length ? this.clone().iuor(e) : e.clone().iuor(this);
};
r.prototype.iuand = function(e) {
var t;
t = this.length > e.length ? e : this;
for (var i = 0; i < t.length; i++) this.words[i] = this.words[i] & e.words[i];
this.length = t.length;
return this.strip();
};
r.prototype.iand = function(e) {
o(0 == (this.negative | e.negative));
return this.iuand(e);
};
r.prototype.and = function(e) {
return this.length > e.length ? this.clone().iand(e) : e.clone().iand(this);
};
r.prototype.uand = function(e) {
return this.length > e.length ? this.clone().iuand(e) : e.clone().iuand(this);
};
r.prototype.iuxor = function(e) {
var t, i;
if (this.length > e.length) {
t = this;
i = e;
} else {
t = e;
i = this;
}
for (var o = 0; o < i.length; o++) this.words[o] = t.words[o] ^ i.words[o];
if (this !== t) for (;o < t.length; o++) this.words[o] = t.words[o];
this.length = t.length;
return this.strip();
};
r.prototype.ixor = function(e) {
o(0 == (this.negative | e.negative));
return this.iuxor(e);
};
r.prototype.xor = function(e) {
return this.length > e.length ? this.clone().ixor(e) : e.clone().ixor(this);
};
r.prototype.uxor = function(e) {
return this.length > e.length ? this.clone().iuxor(e) : e.clone().iuxor(this);
};
r.prototype.inotn = function(e) {
o("number" == typeof e && e >= 0);
var t = 0 | Math.ceil(e / 26), i = e % 26;
this._expand(t);
i > 0 && t--;
for (var n = 0; n < t; n++) this.words[n] = 67108863 & ~this.words[n];
i > 0 && (this.words[n] = ~this.words[n] & 67108863 >> 26 - i);
return this.strip();
};
r.prototype.notn = function(e) {
return this.clone().inotn(e);
};
r.prototype.setn = function(e, t) {
o("number" == typeof e && e >= 0);
var i = e / 26 | 0, n = e % 26;
this._expand(i + 1);
this.words[i] = t ? this.words[i] | 1 << n : this.words[i] & ~(1 << n);
return this.strip();
};
r.prototype.iadd = function(e) {
var t, i, o;
if (0 !== this.negative && 0 === e.negative) {
this.negative = 0;
t = this.isub(e);
this.negative ^= 1;
return this._normSign();
}
if (0 === this.negative && 0 !== e.negative) {
e.negative = 0;
t = this.isub(e);
e.negative = 1;
return t._normSign();
}
if (this.length > e.length) {
i = this;
o = e;
} else {
i = e;
o = this;
}
for (var n = 0, r = 0; r < o.length; r++) {
t = (0 | i.words[r]) + (0 | o.words[r]) + n;
this.words[r] = 67108863 & t;
n = t >>> 26;
}
for (;0 !== n && r < i.length; r++) {
t = (0 | i.words[r]) + n;
this.words[r] = 67108863 & t;
n = t >>> 26;
}
this.length = i.length;
if (0 !== n) {
this.words[this.length] = n;
this.length++;
} else if (i !== this) for (;r < i.length; r++) this.words[r] = i.words[r];
return this;
};
r.prototype.add = function(e) {
var t;
if (0 !== e.negative && 0 === this.negative) {
e.negative = 0;
t = this.sub(e);
e.negative ^= 1;
return t;
}
if (0 === e.negative && 0 !== this.negative) {
this.negative = 0;
t = e.sub(this);
this.negative = 1;
return t;
}
return this.length > e.length ? this.clone().iadd(e) : e.clone().iadd(this);
};
r.prototype.isub = function(e) {
if (0 !== e.negative) {
e.negative = 0;
var t = this.iadd(e);
e.negative = 1;
return t._normSign();
}
if (0 !== this.negative) {
this.negative = 0;
this.iadd(e);
this.negative = 1;
return this._normSign();
}
var i, o, n = this.cmp(e);
if (0 === n) {
this.negative = 0;
this.length = 1;
this.words[0] = 0;
return this;
}
if (n > 0) {
i = this;
o = e;
} else {
i = e;
o = this;
}
for (var r = 0, a = 0; a < o.length; a++) {
r = (t = (0 | i.words[a]) - (0 | o.words[a]) + r) >> 26;
this.words[a] = 67108863 & t;
}
for (;0 !== r && a < i.length; a++) {
r = (t = (0 | i.words[a]) + r) >> 26;
this.words[a] = 67108863 & t;
}
if (0 === r && a < i.length && i !== this) for (;a < i.length; a++) this.words[a] = i.words[a];
this.length = Math.max(this.length, a);
i !== this && (this.negative = 1);
return this.strip();
};
r.prototype.sub = function(e) {
return this.clone().isub(e);
};
function h(e, t, i) {
i.negative = t.negative ^ e.negative;
var o = e.length + t.length | 0;
i.length = o;
o = o - 1 | 0;
var n = 0 | e.words[0], r = 0 | t.words[0], a = n * r, s = 67108863 & a, c = a / 67108864 | 0;
i.words[0] = s;
for (var l = 1; l < o; l++) {
for (var u = c >>> 26, d = 67108863 & c, f = Math.min(l, t.length - 1), h = Math.max(0, l - e.length + 1); h <= f; h++) {
var p = l - h | 0;
u += (a = (n = 0 | e.words[p]) * (r = 0 | t.words[h]) + d) / 67108864 | 0;
d = 67108863 & a;
}
i.words[l] = 0 | d;
c = 0 | u;
}
0 !== c ? i.words[l] = 0 | c : i.length--;
return i.strip();
}
var p = function(e, t, i) {
var o, n, r, a = e.words, s = t.words, c = i.words, l = 0, u = 0 | a[0], d = 8191 & u, f = u >>> 13, h = 0 | a[1], p = 8191 & h, g = h >>> 13, m = 0 | a[2], y = 8191 & m, b = m >>> 13, _ = 0 | a[3], v = 8191 & _, S = _ >>> 13, C = 0 | a[4], w = 8191 & C, A = C >>> 13, R = 0 | a[5], T = 8191 & R, E = R >>> 13, M = 0 | a[6], P = 8191 & M, k = M >>> 13, I = 0 | a[7], N = 8191 & I, B = I >>> 13, L = 0 | a[8], U = 8191 & L, D = L >>> 13, F = 0 | a[9], O = 8191 & F, x = F >>> 13, G = 0 | s[0], W = 8191 & G, V = G >>> 13, j = 0 | s[1], H = 8191 & j, q = j >>> 13, z = 0 | s[2], Y = 8191 & z, K = z >>> 13, X = 0 | s[3], J = 8191 & X, Q = X >>> 13, Z = 0 | s[4], $ = 8191 & Z, ee = Z >>> 13, te = 0 | s[5], ie = 8191 & te, oe = te >>> 13, ne = 0 | s[6], re = 8191 & ne, ae = ne >>> 13, se = 0 | s[7], ce = 8191 & se, le = se >>> 13, ue = 0 | s[8], de = 8191 & ue, fe = ue >>> 13, he = 0 | s[9], pe = 8191 & he, ge = he >>> 13;
i.negative = e.negative ^ t.negative;
i.length = 19;
var me = (l + (o = Math.imul(d, W)) | 0) + ((8191 & (n = (n = Math.imul(d, V)) + Math.imul(f, W) | 0)) << 13) | 0;
l = ((r = Math.imul(f, V)) + (n >>> 13) | 0) + (me >>> 26) | 0;
me &= 67108863;
o = Math.imul(p, W);
n = (n = Math.imul(p, V)) + Math.imul(g, W) | 0;
r = Math.imul(g, V);
var ye = (l + (o = o + Math.imul(d, H) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(d, q) | 0) + Math.imul(f, H) | 0)) << 13) | 0;
l = ((r = r + Math.imul(f, q) | 0) + (n >>> 13) | 0) + (ye >>> 26) | 0;
ye &= 67108863;
o = Math.imul(y, W);
n = (n = Math.imul(y, V)) + Math.imul(b, W) | 0;
r = Math.imul(b, V);
o = o + Math.imul(p, H) | 0;
n = (n = n + Math.imul(p, q) | 0) + Math.imul(g, H) | 0;
r = r + Math.imul(g, q) | 0;
var be = (l + (o = o + Math.imul(d, Y) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(d, K) | 0) + Math.imul(f, Y) | 0)) << 13) | 0;
l = ((r = r + Math.imul(f, K) | 0) + (n >>> 13) | 0) + (be >>> 26) | 0;
be &= 67108863;
o = Math.imul(v, W);
n = (n = Math.imul(v, V)) + Math.imul(S, W) | 0;
r = Math.imul(S, V);
o = o + Math.imul(y, H) | 0;
n = (n = n + Math.imul(y, q) | 0) + Math.imul(b, H) | 0;
r = r + Math.imul(b, q) | 0;
o = o + Math.imul(p, Y) | 0;
n = (n = n + Math.imul(p, K) | 0) + Math.imul(g, Y) | 0;
r = r + Math.imul(g, K) | 0;
var _e = (l + (o = o + Math.imul(d, J) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(d, Q) | 0) + Math.imul(f, J) | 0)) << 13) | 0;
l = ((r = r + Math.imul(f, Q) | 0) + (n >>> 13) | 0) + (_e >>> 26) | 0;
_e &= 67108863;
o = Math.imul(w, W);
n = (n = Math.imul(w, V)) + Math.imul(A, W) | 0;
r = Math.imul(A, V);
o = o + Math.imul(v, H) | 0;
n = (n = n + Math.imul(v, q) | 0) + Math.imul(S, H) | 0;
r = r + Math.imul(S, q) | 0;
o = o + Math.imul(y, Y) | 0;
n = (n = n + Math.imul(y, K) | 0) + Math.imul(b, Y) | 0;
r = r + Math.imul(b, K) | 0;
o = o + Math.imul(p, J) | 0;
n = (n = n + Math.imul(p, Q) | 0) + Math.imul(g, J) | 0;
r = r + Math.imul(g, Q) | 0;
var ve = (l + (o = o + Math.imul(d, $) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(d, ee) | 0) + Math.imul(f, $) | 0)) << 13) | 0;
l = ((r = r + Math.imul(f, ee) | 0) + (n >>> 13) | 0) + (ve >>> 26) | 0;
ve &= 67108863;
o = Math.imul(T, W);
n = (n = Math.imul(T, V)) + Math.imul(E, W) | 0;
r = Math.imul(E, V);
o = o + Math.imul(w, H) | 0;
n = (n = n + Math.imul(w, q) | 0) + Math.imul(A, H) | 0;
r = r + Math.imul(A, q) | 0;
o = o + Math.imul(v, Y) | 0;
n = (n = n + Math.imul(v, K) | 0) + Math.imul(S, Y) | 0;
r = r + Math.imul(S, K) | 0;
o = o + Math.imul(y, J) | 0;
n = (n = n + Math.imul(y, Q) | 0) + Math.imul(b, J) | 0;
r = r + Math.imul(b, Q) | 0;
o = o + Math.imul(p, $) | 0;
n = (n = n + Math.imul(p, ee) | 0) + Math.imul(g, $) | 0;
r = r + Math.imul(g, ee) | 0;
var Se = (l + (o = o + Math.imul(d, ie) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(d, oe) | 0) + Math.imul(f, ie) | 0)) << 13) | 0;
l = ((r = r + Math.imul(f, oe) | 0) + (n >>> 13) | 0) + (Se >>> 26) | 0;
Se &= 67108863;
o = Math.imul(P, W);
n = (n = Math.imul(P, V)) + Math.imul(k, W) | 0;
r = Math.imul(k, V);
o = o + Math.imul(T, H) | 0;
n = (n = n + Math.imul(T, q) | 0) + Math.imul(E, H) | 0;
r = r + Math.imul(E, q) | 0;
o = o + Math.imul(w, Y) | 0;
n = (n = n + Math.imul(w, K) | 0) + Math.imul(A, Y) | 0;
r = r + Math.imul(A, K) | 0;
o = o + Math.imul(v, J) | 0;
n = (n = n + Math.imul(v, Q) | 0) + Math.imul(S, J) | 0;
r = r + Math.imul(S, Q) | 0;
o = o + Math.imul(y, $) | 0;
n = (n = n + Math.imul(y, ee) | 0) + Math.imul(b, $) | 0;
r = r + Math.imul(b, ee) | 0;
o = o + Math.imul(p, ie) | 0;
n = (n = n + Math.imul(p, oe) | 0) + Math.imul(g, ie) | 0;
r = r + Math.imul(g, oe) | 0;
var Ce = (l + (o = o + Math.imul(d, re) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(d, ae) | 0) + Math.imul(f, re) | 0)) << 13) | 0;
l = ((r = r + Math.imul(f, ae) | 0) + (n >>> 13) | 0) + (Ce >>> 26) | 0;
Ce &= 67108863;
o = Math.imul(N, W);
n = (n = Math.imul(N, V)) + Math.imul(B, W) | 0;
r = Math.imul(B, V);
o = o + Math.imul(P, H) | 0;
n = (n = n + Math.imul(P, q) | 0) + Math.imul(k, H) | 0;
r = r + Math.imul(k, q) | 0;
o = o + Math.imul(T, Y) | 0;
n = (n = n + Math.imul(T, K) | 0) + Math.imul(E, Y) | 0;
r = r + Math.imul(E, K) | 0;
o = o + Math.imul(w, J) | 0;
n = (n = n + Math.imul(w, Q) | 0) + Math.imul(A, J) | 0;
r = r + Math.imul(A, Q) | 0;
o = o + Math.imul(v, $) | 0;
n = (n = n + Math.imul(v, ee) | 0) + Math.imul(S, $) | 0;
r = r + Math.imul(S, ee) | 0;
o = o + Math.imul(y, ie) | 0;
n = (n = n + Math.imul(y, oe) | 0) + Math.imul(b, ie) | 0;
r = r + Math.imul(b, oe) | 0;
o = o + Math.imul(p, re) | 0;
n = (n = n + Math.imul(p, ae) | 0) + Math.imul(g, re) | 0;
r = r + Math.imul(g, ae) | 0;
var we = (l + (o = o + Math.imul(d, ce) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(d, le) | 0) + Math.imul(f, ce) | 0)) << 13) | 0;
l = ((r = r + Math.imul(f, le) | 0) + (n >>> 13) | 0) + (we >>> 26) | 0;
we &= 67108863;
o = Math.imul(U, W);
n = (n = Math.imul(U, V)) + Math.imul(D, W) | 0;
r = Math.imul(D, V);
o = o + Math.imul(N, H) | 0;
n = (n = n + Math.imul(N, q) | 0) + Math.imul(B, H) | 0;
r = r + Math.imul(B, q) | 0;
o = o + Math.imul(P, Y) | 0;
n = (n = n + Math.imul(P, K) | 0) + Math.imul(k, Y) | 0;
r = r + Math.imul(k, K) | 0;
o = o + Math.imul(T, J) | 0;
n = (n = n + Math.imul(T, Q) | 0) + Math.imul(E, J) | 0;
r = r + Math.imul(E, Q) | 0;
o = o + Math.imul(w, $) | 0;
n = (n = n + Math.imul(w, ee) | 0) + Math.imul(A, $) | 0;
r = r + Math.imul(A, ee) | 0;
o = o + Math.imul(v, ie) | 0;
n = (n = n + Math.imul(v, oe) | 0) + Math.imul(S, ie) | 0;
r = r + Math.imul(S, oe) | 0;
o = o + Math.imul(y, re) | 0;
n = (n = n + Math.imul(y, ae) | 0) + Math.imul(b, re) | 0;
r = r + Math.imul(b, ae) | 0;
o = o + Math.imul(p, ce) | 0;
n = (n = n + Math.imul(p, le) | 0) + Math.imul(g, ce) | 0;
r = r + Math.imul(g, le) | 0;
var Ae = (l + (o = o + Math.imul(d, de) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(d, fe) | 0) + Math.imul(f, de) | 0)) << 13) | 0;
l = ((r = r + Math.imul(f, fe) | 0) + (n >>> 13) | 0) + (Ae >>> 26) | 0;
Ae &= 67108863;
o = Math.imul(O, W);
n = (n = Math.imul(O, V)) + Math.imul(x, W) | 0;
r = Math.imul(x, V);
o = o + Math.imul(U, H) | 0;
n = (n = n + Math.imul(U, q) | 0) + Math.imul(D, H) | 0;
r = r + Math.imul(D, q) | 0;
o = o + Math.imul(N, Y) | 0;
n = (n = n + Math.imul(N, K) | 0) + Math.imul(B, Y) | 0;
r = r + Math.imul(B, K) | 0;
o = o + Math.imul(P, J) | 0;
n = (n = n + Math.imul(P, Q) | 0) + Math.imul(k, J) | 0;
r = r + Math.imul(k, Q) | 0;
o = o + Math.imul(T, $) | 0;
n = (n = n + Math.imul(T, ee) | 0) + Math.imul(E, $) | 0;
r = r + Math.imul(E, ee) | 0;
o = o + Math.imul(w, ie) | 0;
n = (n = n + Math.imul(w, oe) | 0) + Math.imul(A, ie) | 0;
r = r + Math.imul(A, oe) | 0;
o = o + Math.imul(v, re) | 0;
n = (n = n + Math.imul(v, ae) | 0) + Math.imul(S, re) | 0;
r = r + Math.imul(S, ae) | 0;
o = o + Math.imul(y, ce) | 0;
n = (n = n + Math.imul(y, le) | 0) + Math.imul(b, ce) | 0;
r = r + Math.imul(b, le) | 0;
o = o + Math.imul(p, de) | 0;
n = (n = n + Math.imul(p, fe) | 0) + Math.imul(g, de) | 0;
r = r + Math.imul(g, fe) | 0;
var Re = (l + (o = o + Math.imul(d, pe) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(d, ge) | 0) + Math.imul(f, pe) | 0)) << 13) | 0;
l = ((r = r + Math.imul(f, ge) | 0) + (n >>> 13) | 0) + (Re >>> 26) | 0;
Re &= 67108863;
o = Math.imul(O, H);
n = (n = Math.imul(O, q)) + Math.imul(x, H) | 0;
r = Math.imul(x, q);
o = o + Math.imul(U, Y) | 0;
n = (n = n + Math.imul(U, K) | 0) + Math.imul(D, Y) | 0;
r = r + Math.imul(D, K) | 0;
o = o + Math.imul(N, J) | 0;
n = (n = n + Math.imul(N, Q) | 0) + Math.imul(B, J) | 0;
r = r + Math.imul(B, Q) | 0;
o = o + Math.imul(P, $) | 0;
n = (n = n + Math.imul(P, ee) | 0) + Math.imul(k, $) | 0;
r = r + Math.imul(k, ee) | 0;
o = o + Math.imul(T, ie) | 0;
n = (n = n + Math.imul(T, oe) | 0) + Math.imul(E, ie) | 0;
r = r + Math.imul(E, oe) | 0;
o = o + Math.imul(w, re) | 0;
n = (n = n + Math.imul(w, ae) | 0) + Math.imul(A, re) | 0;
r = r + Math.imul(A, ae) | 0;
o = o + Math.imul(v, ce) | 0;
n = (n = n + Math.imul(v, le) | 0) + Math.imul(S, ce) | 0;
r = r + Math.imul(S, le) | 0;
o = o + Math.imul(y, de) | 0;
n = (n = n + Math.imul(y, fe) | 0) + Math.imul(b, de) | 0;
r = r + Math.imul(b, fe) | 0;
var Te = (l + (o = o + Math.imul(p, pe) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(p, ge) | 0) + Math.imul(g, pe) | 0)) << 13) | 0;
l = ((r = r + Math.imul(g, ge) | 0) + (n >>> 13) | 0) + (Te >>> 26) | 0;
Te &= 67108863;
o = Math.imul(O, Y);
n = (n = Math.imul(O, K)) + Math.imul(x, Y) | 0;
r = Math.imul(x, K);
o = o + Math.imul(U, J) | 0;
n = (n = n + Math.imul(U, Q) | 0) + Math.imul(D, J) | 0;
r = r + Math.imul(D, Q) | 0;
o = o + Math.imul(N, $) | 0;
n = (n = n + Math.imul(N, ee) | 0) + Math.imul(B, $) | 0;
r = r + Math.imul(B, ee) | 0;
o = o + Math.imul(P, ie) | 0;
n = (n = n + Math.imul(P, oe) | 0) + Math.imul(k, ie) | 0;
r = r + Math.imul(k, oe) | 0;
o = o + Math.imul(T, re) | 0;
n = (n = n + Math.imul(T, ae) | 0) + Math.imul(E, re) | 0;
r = r + Math.imul(E, ae) | 0;
o = o + Math.imul(w, ce) | 0;
n = (n = n + Math.imul(w, le) | 0) + Math.imul(A, ce) | 0;
r = r + Math.imul(A, le) | 0;
o = o + Math.imul(v, de) | 0;
n = (n = n + Math.imul(v, fe) | 0) + Math.imul(S, de) | 0;
r = r + Math.imul(S, fe) | 0;
var Ee = (l + (o = o + Math.imul(y, pe) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(y, ge) | 0) + Math.imul(b, pe) | 0)) << 13) | 0;
l = ((r = r + Math.imul(b, ge) | 0) + (n >>> 13) | 0) + (Ee >>> 26) | 0;
Ee &= 67108863;
o = Math.imul(O, J);
n = (n = Math.imul(O, Q)) + Math.imul(x, J) | 0;
r = Math.imul(x, Q);
o = o + Math.imul(U, $) | 0;
n = (n = n + Math.imul(U, ee) | 0) + Math.imul(D, $) | 0;
r = r + Math.imul(D, ee) | 0;
o = o + Math.imul(N, ie) | 0;
n = (n = n + Math.imul(N, oe) | 0) + Math.imul(B, ie) | 0;
r = r + Math.imul(B, oe) | 0;
o = o + Math.imul(P, re) | 0;
n = (n = n + Math.imul(P, ae) | 0) + Math.imul(k, re) | 0;
r = r + Math.imul(k, ae) | 0;
o = o + Math.imul(T, ce) | 0;
n = (n = n + Math.imul(T, le) | 0) + Math.imul(E, ce) | 0;
r = r + Math.imul(E, le) | 0;
o = o + Math.imul(w, de) | 0;
n = (n = n + Math.imul(w, fe) | 0) + Math.imul(A, de) | 0;
r = r + Math.imul(A, fe) | 0;
var Me = (l + (o = o + Math.imul(v, pe) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(v, ge) | 0) + Math.imul(S, pe) | 0)) << 13) | 0;
l = ((r = r + Math.imul(S, ge) | 0) + (n >>> 13) | 0) + (Me >>> 26) | 0;
Me &= 67108863;
o = Math.imul(O, $);
n = (n = Math.imul(O, ee)) + Math.imul(x, $) | 0;
r = Math.imul(x, ee);
o = o + Math.imul(U, ie) | 0;
n = (n = n + Math.imul(U, oe) | 0) + Math.imul(D, ie) | 0;
r = r + Math.imul(D, oe) | 0;
o = o + Math.imul(N, re) | 0;
n = (n = n + Math.imul(N, ae) | 0) + Math.imul(B, re) | 0;
r = r + Math.imul(B, ae) | 0;
o = o + Math.imul(P, ce) | 0;
n = (n = n + Math.imul(P, le) | 0) + Math.imul(k, ce) | 0;
r = r + Math.imul(k, le) | 0;
o = o + Math.imul(T, de) | 0;
n = (n = n + Math.imul(T, fe) | 0) + Math.imul(E, de) | 0;
r = r + Math.imul(E, fe) | 0;
var Pe = (l + (o = o + Math.imul(w, pe) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(w, ge) | 0) + Math.imul(A, pe) | 0)) << 13) | 0;
l = ((r = r + Math.imul(A, ge) | 0) + (n >>> 13) | 0) + (Pe >>> 26) | 0;
Pe &= 67108863;
o = Math.imul(O, ie);
n = (n = Math.imul(O, oe)) + Math.imul(x, ie) | 0;
r = Math.imul(x, oe);
o = o + Math.imul(U, re) | 0;
n = (n = n + Math.imul(U, ae) | 0) + Math.imul(D, re) | 0;
r = r + Math.imul(D, ae) | 0;
o = o + Math.imul(N, ce) | 0;
n = (n = n + Math.imul(N, le) | 0) + Math.imul(B, ce) | 0;
r = r + Math.imul(B, le) | 0;
o = o + Math.imul(P, de) | 0;
n = (n = n + Math.imul(P, fe) | 0) + Math.imul(k, de) | 0;
r = r + Math.imul(k, fe) | 0;
var ke = (l + (o = o + Math.imul(T, pe) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(T, ge) | 0) + Math.imul(E, pe) | 0)) << 13) | 0;
l = ((r = r + Math.imul(E, ge) | 0) + (n >>> 13) | 0) + (ke >>> 26) | 0;
ke &= 67108863;
o = Math.imul(O, re);
n = (n = Math.imul(O, ae)) + Math.imul(x, re) | 0;
r = Math.imul(x, ae);
o = o + Math.imul(U, ce) | 0;
n = (n = n + Math.imul(U, le) | 0) + Math.imul(D, ce) | 0;
r = r + Math.imul(D, le) | 0;
o = o + Math.imul(N, de) | 0;
n = (n = n + Math.imul(N, fe) | 0) + Math.imul(B, de) | 0;
r = r + Math.imul(B, fe) | 0;
var Ie = (l + (o = o + Math.imul(P, pe) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(P, ge) | 0) + Math.imul(k, pe) | 0)) << 13) | 0;
l = ((r = r + Math.imul(k, ge) | 0) + (n >>> 13) | 0) + (Ie >>> 26) | 0;
Ie &= 67108863;
o = Math.imul(O, ce);
n = (n = Math.imul(O, le)) + Math.imul(x, ce) | 0;
r = Math.imul(x, le);
o = o + Math.imul(U, de) | 0;
n = (n = n + Math.imul(U, fe) | 0) + Math.imul(D, de) | 0;
r = r + Math.imul(D, fe) | 0;
var Ne = (l + (o = o + Math.imul(N, pe) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(N, ge) | 0) + Math.imul(B, pe) | 0)) << 13) | 0;
l = ((r = r + Math.imul(B, ge) | 0) + (n >>> 13) | 0) + (Ne >>> 26) | 0;
Ne &= 67108863;
o = Math.imul(O, de);
n = (n = Math.imul(O, fe)) + Math.imul(x, de) | 0;
r = Math.imul(x, fe);
var Be = (l + (o = o + Math.imul(U, pe) | 0) | 0) + ((8191 & (n = (n = n + Math.imul(U, ge) | 0) + Math.imul(D, pe) | 0)) << 13) | 0;
l = ((r = r + Math.imul(D, ge) | 0) + (n >>> 13) | 0) + (Be >>> 26) | 0;
Be &= 67108863;
var Le = (l + (o = Math.imul(O, pe)) | 0) + ((8191 & (n = (n = Math.imul(O, ge)) + Math.imul(x, pe) | 0)) << 13) | 0;
l = ((r = Math.imul(x, ge)) + (n >>> 13) | 0) + (Le >>> 26) | 0;
Le &= 67108863;
c[0] = me;
c[1] = ye;
c[2] = be;
c[3] = _e;
c[4] = ve;
c[5] = Se;
c[6] = Ce;
c[7] = we;
c[8] = Ae;
c[9] = Re;
c[10] = Te;
c[11] = Ee;
c[12] = Me;
c[13] = Pe;
c[14] = ke;
c[15] = Ie;
c[16] = Ne;
c[17] = Be;
c[18] = Le;
if (0 !== l) {
c[19] = l;
i.length++;
}
return i;
};
Math.imul || (p = h);
function g(e, t, i) {
i.negative = t.negative ^ e.negative;
i.length = e.length + t.length;
for (var o = 0, n = 0, r = 0; r < i.length - 1; r++) {
var a = n;
n = 0;
for (var s = 67108863 & o, c = Math.min(r, t.length - 1), l = Math.max(0, r - e.length + 1); l <= c; l++) {
var u = r - l, d = (0 | e.words[u]) * (0 | t.words[l]), f = 67108863 & d;
s = 67108863 & (f = f + s | 0);
n += (a = (a = a + (d / 67108864 | 0) | 0) + (f >>> 26) | 0) >>> 26;
a &= 67108863;
}
i.words[r] = s;
o = a;
a = n;
}
0 !== o ? i.words[r] = o : i.length--;
return i.strip();
}
function m(e, t, i) {
return new y().mulp(e, t, i);
}
r.prototype.mulTo = function(e, t) {
var i = this.length + e.length;
return 10 === this.length && 10 === e.length ? p(this, e, t) : i < 63 ? h(this, e, t) : i < 1024 ? g(this, e, t) : m(this, e, t);
};
function y(e, t) {
this.x = e;
this.y = t;
}
y.prototype.makeRBT = function(e) {
for (var t = new Array(e), i = r.prototype._countBits(e) - 1, o = 0; o < e; o++) t[o] = this.revBin(o, i, e);
return t;
};
y.prototype.revBin = function(e, t, i) {
if (0 === e || e === i - 1) return e;
for (var o = 0, n = 0; n < t; n++) {
o |= (1 & e) << t - n - 1;
e >>= 1;
}
return o;
};
y.prototype.permute = function(e, t, i, o, n, r) {
for (var a = 0; a < r; a++) {
o[a] = t[e[a]];
n[a] = i[e[a]];
}
};
y.prototype.transform = function(e, t, i, o, n, r) {
this.permute(r, e, t, i, o, n);
for (var a = 1; a < n; a <<= 1) for (var s = a << 1, c = Math.cos(2 * Math.PI / s), l = Math.sin(2 * Math.PI / s), u = 0; u < n; u += s) for (var d = c, f = l, h = 0; h < a; h++) {
var p = i[u + h], g = o[u + h], m = i[u + h + a], y = o[u + h + a], b = d * m - f * y;
y = d * y + f * m;
m = b;
i[u + h] = p + m;
o[u + h] = g + y;
i[u + h + a] = p - m;
o[u + h + a] = g - y;
if (h !== s) {
b = c * d - l * f;
f = c * f + l * d;
d = b;
}
}
};
y.prototype.guessLen13b = function(e, t) {
var i = 1 | Math.max(t, e), o = 1 & i, n = 0;
for (i = i / 2 | 0; i; i >>>= 1) n++;
return 1 << n + 1 + o;
};
y.prototype.conjugate = function(e, t, i) {
if (!(i <= 1)) for (var o = 0; o < i / 2; o++) {
var n = e[o];
e[o] = e[i - o - 1];
e[i - o - 1] = n;
n = t[o];
t[o] = -t[i - o - 1];
t[i - o - 1] = -n;
}
};
y.prototype.normalize13b = function(e, t) {
for (var i = 0, o = 0; o < t / 2; o++) {
var n = 8192 * Math.round(e[2 * o + 1] / t) + Math.round(e[2 * o] / t) + i;
e[o] = 67108863 & n;
i = n < 67108864 ? 0 : n / 67108864 | 0;
}
return e;
};
y.prototype.convert13b = function(e, t, i, n) {
for (var r = 0, a = 0; a < t; a++) {
r += 0 | e[a];
i[2 * a] = 8191 & r;
r >>>= 13;
i[2 * a + 1] = 8191 & r;
r >>>= 13;
}
for (a = 2 * t; a < n; ++a) i[a] = 0;
o(0 === r);
o(0 == (-8192 & r));
};
y.prototype.stub = function(e) {
for (var t = new Array(e), i = 0; i < e; i++) t[i] = 0;
return t;
};
y.prototype.mulp = function(e, t, i) {
var o = 2 * this.guessLen13b(e.length, t.length), n = this.makeRBT(o), r = this.stub(o), a = new Array(o), s = new Array(o), c = new Array(o), l = new Array(o), u = new Array(o), d = new Array(o), f = i.words;
f.length = o;
this.convert13b(e.words, e.length, a, o);
this.convert13b(t.words, t.length, l, o);
this.transform(a, r, s, c, o, n);
this.transform(l, r, u, d, o, n);
for (var h = 0; h < o; h++) {
var p = s[h] * u[h] - c[h] * d[h];
c[h] = s[h] * d[h] + c[h] * u[h];
s[h] = p;
}
this.conjugate(s, c, o);
this.transform(s, c, f, r, o, n);
this.conjugate(f, r, o);
this.normalize13b(f, o);
i.negative = e.negative ^ t.negative;
i.length = e.length + t.length;
return i.strip();
};
r.prototype.mul = function(e) {
var t = new r(null);
t.words = new Array(this.length + e.length);
return this.mulTo(e, t);
};
r.prototype.mulf = function(e) {
var t = new r(null);
t.words = new Array(this.length + e.length);
return m(this, e, t);
};
r.prototype.imul = function(e) {
return this.clone().mulTo(e, this);
};
r.prototype.imuln = function(e) {
o("number" == typeof e);
o(e < 67108864);
for (var t = 0, i = 0; i < this.length; i++) {
var n = (0 | this.words[i]) * e, r = (67108863 & n) + (67108863 & t);
t >>= 26;
t += n / 67108864 | 0;
t += r >>> 26;
this.words[i] = 67108863 & r;
}
if (0 !== t) {
this.words[i] = t;
this.length++;
}
return this;
};
r.prototype.muln = function(e) {
return this.clone().imuln(e);
};
r.prototype.sqr = function() {
return this.mul(this);
};
r.prototype.isqr = function() {
return this.imul(this.clone());
};
r.prototype.pow = function(e) {
var t = f(e);
if (0 === t.length) return new r(1);
for (var i = this, o = 0; o < t.length && 0 === t[o]; o++, i = i.sqr()) ;
if (++o < t.length) for (var n = i.sqr(); o < t.length; o++, n = n.sqr()) 0 !== t[o] && (i = i.mul(n));
return i;
};
r.prototype.iushln = function(e) {
o("number" == typeof e && e >= 0);
var t, i = e % 26, n = (e - i) / 26, r = 67108863 >>> 26 - i << 26 - i;
if (0 !== i) {
var a = 0;
for (t = 0; t < this.length; t++) {
var s = this.words[t] & r, c = (0 | this.words[t]) - s << i;
this.words[t] = c | a;
a = s >>> 26 - i;
}
if (a) {
this.words[t] = a;
this.length++;
}
}
if (0 !== n) {
for (t = this.length - 1; t >= 0; t--) this.words[t + n] = this.words[t];
for (t = 0; t < n; t++) this.words[t] = 0;
this.length += n;
}
return this.strip();
};
r.prototype.ishln = function(e) {
o(0 === this.negative);
return this.iushln(e);
};
r.prototype.iushrn = function(e, t, i) {
o("number" == typeof e && e >= 0);
var n;
n = t ? (t - t % 26) / 26 : 0;
var r = e % 26, a = Math.min((e - r) / 26, this.length), s = 67108863 ^ 67108863 >>> r << r, c = i;
n -= a;
n = Math.max(0, n);
if (c) {
for (var l = 0; l < a; l++) c.words[l] = this.words[l];
c.length = a;
}
if (0 === a) ; else if (this.length > a) {
this.length -= a;
for (l = 0; l < this.length; l++) this.words[l] = this.words[l + a];
} else {
this.words[0] = 0;
this.length = 1;
}
var u = 0;
for (l = this.length - 1; l >= 0 && (0 !== u || l >= n); l--) {
var d = 0 | this.words[l];
this.words[l] = u << 26 - r | d >>> r;
u = d & s;
}
c && 0 !== u && (c.words[c.length++] = u);
if (0 === this.length) {
this.words[0] = 0;
this.length = 1;
}
return this.strip();
};
r.prototype.ishrn = function(e, t, i) {
o(0 === this.negative);
return this.iushrn(e, t, i);
};
r.prototype.shln = function(e) {
return this.clone().ishln(e);
};
r.prototype.ushln = function(e) {
return this.clone().iushln(e);
};
r.prototype.shrn = function(e) {
return this.clone().ishrn(e);
};
r.prototype.ushrn = function(e) {
return this.clone().iushrn(e);
};
r.prototype.testn = function(e) {
o("number" == typeof e && e >= 0);
var t = e % 26, i = (e - t) / 26, n = 1 << t;
return !(this.length <= i) && !!(this.words[i] & n);
};
r.prototype.imaskn = function(e) {
o("number" == typeof e && e >= 0);
var t = e % 26, i = (e - t) / 26;
o(0 === this.negative, "imaskn works only with positive numbers");
if (this.length <= i) return this;
0 !== t && i++;
this.length = Math.min(i, this.length);
if (0 !== t) {
var n = 67108863 ^ 67108863 >>> t << t;
this.words[this.length - 1] &= n;
}
return this.strip();
};
r.prototype.maskn = function(e) {
return this.clone().imaskn(e);
};
r.prototype.iaddn = function(e) {
o("number" == typeof e);
o(e < 67108864);
if (e < 0) return this.isubn(-e);
if (0 !== this.negative) {
if (1 === this.length && (0 | this.words[0]) < e) {
this.words[0] = e - (0 | this.words[0]);
this.negative = 0;
return this;
}
this.negative = 0;
this.isubn(e);
this.negative = 1;
return this;
}
return this._iaddn(e);
};
r.prototype._iaddn = function(e) {
this.words[0] += e;
for (var t = 0; t < this.length && this.words[t] >= 67108864; t++) {
this.words[t] -= 67108864;
t === this.length - 1 ? this.words[t + 1] = 1 : this.words[t + 1]++;
}
this.length = Math.max(this.length, t + 1);
return this;
};
r.prototype.isubn = function(e) {
o("number" == typeof e);
o(e < 67108864);
if (e < 0) return this.iaddn(-e);
if (0 !== this.negative) {
this.negative = 0;
this.iaddn(e);
this.negative = 1;
return this;
}
this.words[0] -= e;
if (1 === this.length && this.words[0] < 0) {
this.words[0] = -this.words[0];
this.negative = 1;
} else for (var t = 0; t < this.length && this.words[t] < 0; t++) {
this.words[t] += 67108864;
this.words[t + 1] -= 1;
}
return this.strip();
};
r.prototype.addn = function(e) {
return this.clone().iaddn(e);
};
r.prototype.subn = function(e) {
return this.clone().isubn(e);
};
r.prototype.iabs = function() {
this.negative = 0;
return this;
};
r.prototype.abs = function() {
return this.clone().iabs();
};
r.prototype._ishlnsubmul = function(e, t, i) {
var n, r, a = e.length + i;
this._expand(a);
var s = 0;
for (n = 0; n < e.length; n++) {
r = (0 | this.words[n + i]) + s;
var c = (0 | e.words[n]) * t;
s = ((r -= 67108863 & c) >> 26) - (c / 67108864 | 0);
this.words[n + i] = 67108863 & r;
}
for (;n < this.length - i; n++) {
s = (r = (0 | this.words[n + i]) + s) >> 26;
this.words[n + i] = 67108863 & r;
}
if (0 === s) return this.strip();
o(-1 === s);
s = 0;
for (n = 0; n < this.length; n++) {
s = (r = -(0 | this.words[n]) + s) >> 26;
this.words[n] = 67108863 & r;
}
this.negative = 1;
return this.strip();
};
r.prototype._wordDiv = function(e, t) {
var i = (this.length, e.length), o = this.clone(), n = e, a = 0 | n.words[n.length - 1];
if (0 !== (i = 26 - this._countBits(a))) {
n = n.ushln(i);
o.iushln(i);
a = 0 | n.words[n.length - 1];
}
var s, c = o.length - n.length;
if ("mod" !== t) {
(s = new r(null)).length = c + 1;
s.words = new Array(s.length);
for (var l = 0; l < s.length; l++) s.words[l] = 0;
}
var u = o.clone()._ishlnsubmul(n, 1, c);
if (0 === u.negative) {
o = u;
s && (s.words[c] = 1);
}
for (var d = c - 1; d >= 0; d--) {
var f = 67108864 * (0 | o.words[n.length + d]) + (0 | o.words[n.length + d - 1]);
f = Math.min(f / a | 0, 67108863);
o._ishlnsubmul(n, f, d);
for (;0 !== o.negative; ) {
f--;
o.negative = 0;
o._ishlnsubmul(n, 1, d);
o.isZero() || (o.negative ^= 1);
}
s && (s.words[d] = f);
}
s && s.strip();
o.strip();
"div" !== t && 0 !== i && o.iushrn(i);
return {
div: s || null,
mod: o
};
};
r.prototype.divmod = function(e, t, i) {
o(!e.isZero());
if (this.isZero()) return {
div: new r(0),
mod: new r(0)
};
var n, a, s;
if (0 !== this.negative && 0 === e.negative) {
s = this.neg().divmod(e, t);
"mod" !== t && (n = s.div.neg());
if ("div" !== t) {
a = s.mod.neg();
i && 0 !== a.negative && a.iadd(e);
}
return {
div: n,
mod: a
};
}
if (0 === this.negative && 0 !== e.negative) {
s = this.divmod(e.neg(), t);
"mod" !== t && (n = s.div.neg());
return {
div: n,
mod: s.mod
};
}
if (0 != (this.negative & e.negative)) {
s = this.neg().divmod(e.neg(), t);
if ("div" !== t) {
a = s.mod.neg();
i && 0 !== a.negative && a.isub(e);
}
return {
div: s.div,
mod: a
};
}
return e.length > this.length || this.cmp(e) < 0 ? {
div: new r(0),
mod: this
} : 1 === e.length ? "div" === t ? {
div: this.divn(e.words[0]),
mod: null
} : "mod" === t ? {
div: null,
mod: new r(this.modn(e.words[0]))
} : {
div: this.divn(e.words[0]),
mod: new r(this.modn(e.words[0]))
} : this._wordDiv(e, t);
};
r.prototype.div = function(e) {
return this.divmod(e, "div", !1).div;
};
r.prototype.mod = function(e) {
return this.divmod(e, "mod", !1).mod;
};
r.prototype.umod = function(e) {
return this.divmod(e, "mod", !0).mod;
};
r.prototype.divRound = function(e) {
var t = this.divmod(e);
if (t.mod.isZero()) return t.div;
var i = 0 !== t.div.negative ? t.mod.isub(e) : t.mod, o = e.ushrn(1), n = e.andln(1), r = i.cmp(o);
return r < 0 || 1 === n && 0 === r ? t.div : 0 !== t.div.negative ? t.div.isubn(1) : t.div.iaddn(1);
};
r.prototype.modn = function(e) {
o(e <= 67108863);
for (var t = (1 << 26) % e, i = 0, n = this.length - 1; n >= 0; n--) i = (t * i + (0 | this.words[n])) % e;
return i;
};
r.prototype.idivn = function(e) {
o(e <= 67108863);
for (var t = 0, i = this.length - 1; i >= 0; i--) {
var n = (0 | this.words[i]) + 67108864 * t;
this.words[i] = n / e | 0;
t = n % e;
}
return this.strip();
};
r.prototype.divn = function(e) {
return this.clone().idivn(e);
};
r.prototype.egcd = function(e) {
o(0 === e.negative);
o(!e.isZero());
var t = this, i = e.clone();
t = 0 !== t.negative ? t.umod(e) : t.clone();
for (var n = new r(1), a = new r(0), s = new r(0), c = new r(1), l = 0; t.isEven() && i.isEven(); ) {
t.iushrn(1);
i.iushrn(1);
++l;
}
for (var u = i.clone(), d = t.clone(); !t.isZero(); ) {
for (var f = 0, h = 1; 0 == (t.words[0] & h) && f < 26; ++f, h <<= 1) ;
if (f > 0) {
t.iushrn(f);
for (;f-- > 0; ) {
if (n.isOdd() || a.isOdd()) {
n.iadd(u);
a.isub(d);
}
n.iushrn(1);
a.iushrn(1);
}
}
for (var p = 0, g = 1; 0 == (i.words[0] & g) && p < 26; ++p, g <<= 1) ;
if (p > 0) {
i.iushrn(p);
for (;p-- > 0; ) {
if (s.isOdd() || c.isOdd()) {
s.iadd(u);
c.isub(d);
}
s.iushrn(1);
c.iushrn(1);
}
}
if (t.cmp(i) >= 0) {
t.isub(i);
n.isub(s);
a.isub(c);
} else {
i.isub(t);
s.isub(n);
c.isub(a);
}
}
return {
a: s,
b: c,
gcd: i.iushln(l)
};
};
r.prototype._invmp = function(e) {
o(0 === e.negative);
o(!e.isZero());
var t = this, i = e.clone();
t = 0 !== t.negative ? t.umod(e) : t.clone();
for (var n, a = new r(1), s = new r(0), c = i.clone(); t.cmpn(1) > 0 && i.cmpn(1) > 0; ) {
for (var l = 0, u = 1; 0 == (t.words[0] & u) && l < 26; ++l, u <<= 1) ;
if (l > 0) {
t.iushrn(l);
for (;l-- > 0; ) {
a.isOdd() && a.iadd(c);
a.iushrn(1);
}
}
for (var d = 0, f = 1; 0 == (i.words[0] & f) && d < 26; ++d, f <<= 1) ;
if (d > 0) {
i.iushrn(d);
for (;d-- > 0; ) {
s.isOdd() && s.iadd(c);
s.iushrn(1);
}
}
if (t.cmp(i) >= 0) {
t.isub(i);
a.isub(s);
} else {
i.isub(t);
s.isub(a);
}
}
(n = 0 === t.cmpn(1) ? a : s).cmpn(0) < 0 && n.iadd(e);
return n;
};
r.prototype.gcd = function(e) {
if (this.isZero()) return e.abs();
if (e.isZero()) return this.abs();
var t = this.clone(), i = e.clone();
t.negative = 0;
i.negative = 0;
for (var o = 0; t.isEven() && i.isEven(); o++) {
t.iushrn(1);
i.iushrn(1);
}
for (;;) {
for (;t.isEven(); ) t.iushrn(1);
for (;i.isEven(); ) i.iushrn(1);
var n = t.cmp(i);
if (n < 0) {
var r = t;
t = i;
i = r;
} else if (0 === n || 0 === i.cmpn(1)) break;
t.isub(i);
}
return i.iushln(o);
};
r.prototype.invm = function(e) {
return this.egcd(e).a.umod(e);
};
r.prototype.isEven = function() {
return 0 == (1 & this.words[0]);
};
r.prototype.isOdd = function() {
return 1 == (1 & this.words[0]);
};
r.prototype.andln = function(e) {
return this.words[0] & e;
};
r.prototype.bincn = function(e) {
o("number" == typeof e);
var t = e % 26, i = (e - t) / 26, n = 1 << t;
if (this.length <= i) {
this._expand(i + 1);
this.words[i] |= n;
return this;
}
for (var r = n, a = i; 0 !== r && a < this.length; a++) {
var s = 0 | this.words[a];
r = (s += r) >>> 26;
s &= 67108863;
this.words[a] = s;
}
if (0 !== r) {
this.words[a] = r;
this.length++;
}
return this;
};
r.prototype.isZero = function() {
return 1 === this.length && 0 === this.words[0];
};
r.prototype.cmpn = function(e) {
var t, i = e < 0;
if (0 !== this.negative && !i) return -1;
if (0 === this.negative && i) return 1;
this.strip();
if (this.length > 1) t = 1; else {
i && (e = -e);
o(e <= 67108863, "Number is too big");
var n = 0 | this.words[0];
t = n === e ? 0 : n < e ? -1 : 1;
}
return 0 !== this.negative ? 0 | -t : t;
};
r.prototype.cmp = function(e) {
if (0 !== this.negative && 0 === e.negative) return -1;
if (0 === this.negative && 0 !== e.negative) return 1;
var t = this.ucmp(e);
return 0 !== this.negative ? 0 | -t : t;
};
r.prototype.ucmp = function(e) {
if (this.length > e.length) return 1;
if (this.length < e.length) return -1;
for (var t = 0, i = this.length - 1; i >= 0; i--) {
var o = 0 | this.words[i], n = 0 | e.words[i];
if (o !== n) {
o < n ? t = -1 : o > n && (t = 1);
break;
}
}
return t;
};
r.prototype.gtn = function(e) {
return 1 === this.cmpn(e);
};
r.prototype.gt = function(e) {
return 1 === this.cmp(e);
};
r.prototype.gten = function(e) {
return this.cmpn(e) >= 0;
};
r.prototype.gte = function(e) {
return this.cmp(e) >= 0;
};
r.prototype.ltn = function(e) {
return -1 === this.cmpn(e);
};
r.prototype.lt = function(e) {
return -1 === this.cmp(e);
};
r.prototype.lten = function(e) {
return this.cmpn(e) <= 0;
};
r.prototype.lte = function(e) {
return this.cmp(e) <= 0;
};
r.prototype.eqn = function(e) {
return 0 === this.cmpn(e);
};
r.prototype.eq = function(e) {
return 0 === this.cmp(e);
};
r.red = function(e) {
return new A(e);
};
r.prototype.toRed = function(e) {
o(!this.red, "Already a number in reduction context");
o(0 === this.negative, "red works only with positives");
return e.convertTo(this)._forceRed(e);
};
r.prototype.fromRed = function() {
o(this.red, "fromRed works only with numbers in reduction context");
return this.red.convertFrom(this);
};
r.prototype._forceRed = function(e) {
this.red = e;
return this;
};
r.prototype.forceRed = function(e) {
o(!this.red, "Already a number in reduction context");
return this._forceRed(e);
};
r.prototype.redAdd = function(e) {
o(this.red, "redAdd works only with red numbers");
return this.red.add(this, e);
};
r.prototype.redIAdd = function(e) {
o(this.red, "redIAdd works only with red numbers");
return this.red.iadd(this, e);
};
r.prototype.redSub = function(e) {
o(this.red, "redSub works only with red numbers");
return this.red.sub(this, e);
};
r.prototype.redISub = function(e) {
o(this.red, "redISub works only with red numbers");
return this.red.isub(this, e);
};
r.prototype.redShl = function(e) {
o(this.red, "redShl works only with red numbers");
return this.red.shl(this, e);
};
r.prototype.redMul = function(e) {
o(this.red, "redMul works only with red numbers");
this.red._verify2(this, e);
return this.red.mul(this, e);
};
r.prototype.redIMul = function(e) {
o(this.red, "redMul works only with red numbers");
this.red._verify2(this, e);
return this.red.imul(this, e);
};
r.prototype.redSqr = function() {
o(this.red, "redSqr works only with red numbers");
this.red._verify1(this);
return this.red.sqr(this);
};
r.prototype.redISqr = function() {
o(this.red, "redISqr works only with red numbers");
this.red._verify1(this);
return this.red.isqr(this);
};
r.prototype.redSqrt = function() {
o(this.red, "redSqrt works only with red numbers");
this.red._verify1(this);
return this.red.sqrt(this);
};
r.prototype.redInvm = function() {
o(this.red, "redInvm works only with red numbers");
this.red._verify1(this);
return this.red.invm(this);
};
r.prototype.redNeg = function() {
o(this.red, "redNeg works only with red numbers");
this.red._verify1(this);
return this.red.neg(this);
};
r.prototype.redPow = function(e) {
o(this.red && !e.red, "redPow(normalNum)");
this.red._verify1(this);
return this.red.pow(this, e);
};
var b = {
k256: null,
p224: null,
p192: null,
p25519: null
};
function _(e, t) {
this.name = e;
this.p = new r(t, 16);
this.n = this.p.bitLength();
this.k = new r(1).iushln(this.n).isub(this.p);
this.tmp = this._tmp();
}
_.prototype._tmp = function() {
var e = new r(null);
e.words = new Array(Math.ceil(this.n / 13));
return e;
};
_.prototype.ireduce = function(e) {
var t, i = e;
do {
this.split(i, this.tmp);
t = (i = (i = this.imulK(i)).iadd(this.tmp)).bitLength();
} while (t > this.n);
var o = t < this.n ? -1 : i.ucmp(this.p);
if (0 === o) {
i.words[0] = 0;
i.length = 1;
} else o > 0 ? i.isub(this.p) : i.strip();
return i;
};
_.prototype.split = function(e, t) {
e.iushrn(this.n, 0, t);
};
_.prototype.imulK = function(e) {
return e.imul(this.k);
};
function v() {
_.call(this, "k256", "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f");
}
n(v, _);
v.prototype.split = function(e, t) {
for (var i = Math.min(e.length, 9), o = 0; o < i; o++) t.words[o] = e.words[o];
t.length = i;
if (e.length <= 9) {
e.words[0] = 0;
e.length = 1;
} else {
var n = e.words[9];
t.words[t.length++] = 4194303 & n;
for (o = 10; o < e.length; o++) {
var r = 0 | e.words[o];
e.words[o - 10] = (4194303 & r) << 4 | n >>> 22;
n = r;
}
n >>>= 22;
e.words[o - 10] = n;
0 === n && e.length > 10 ? e.length -= 10 : e.length -= 9;
}
};
v.prototype.imulK = function(e) {
e.words[e.length] = 0;
e.words[e.length + 1] = 0;
e.length += 2;
for (var t = 0, i = 0; i < e.length; i++) {
var o = 0 | e.words[i];
t += 977 * o;
e.words[i] = 67108863 & t;
t = 64 * o + (t / 67108864 | 0);
}
if (0 === e.words[e.length - 1]) {
e.length--;
0 === e.words[e.length - 1] && e.length--;
}
return e;
};
function S() {
_.call(this, "p224", "ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001");
}
n(S, _);
function C() {
_.call(this, "p192", "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff");
}
n(C, _);
function w() {
_.call(this, "25519", "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed");
}
n(w, _);
w.prototype.imulK = function(e) {
for (var t = 0, i = 0; i < e.length; i++) {
var o = 19 * (0 | e.words[i]) + t, n = 67108863 & o;
o >>>= 26;
e.words[i] = n;
t = o;
}
0 !== t && (e.words[e.length++] = t);
return e;
};
r._prime = function(e) {
if (b[e]) return b[e];
var t;
if ("k256" === e) t = new v(); else if ("p224" === e) t = new S(); else if ("p192" === e) t = new C(); else {
if ("p25519" !== e) throw new Error("Unknown prime " + e);
t = new w();
}
b[e] = t;
return t;
};
function A(e) {
if ("string" == typeof e) {
var t = r._prime(e);
this.m = t.p;
this.prime = t;
} else {
o(e.gtn(1), "modulus must be greater than 1");
this.m = e;
this.prime = null;
}
}
A.prototype._verify1 = function(e) {
o(0 === e.negative, "red works only with positives");
o(e.red, "red works only with red numbers");
};
A.prototype._verify2 = function(e, t) {
o(0 == (e.negative | t.negative), "red works only with positives");
o(e.red && e.red === t.red, "red works only with red numbers");
};
A.prototype.imod = function(e) {
return this.prime ? this.prime.ireduce(e)._forceRed(this) : e.umod(this.m)._forceRed(this);
};
A.prototype.neg = function(e) {
return e.isZero() ? e.clone() : this.m.sub(e)._forceRed(this);
};
A.prototype.add = function(e, t) {
this._verify2(e, t);
var i = e.add(t);
i.cmp(this.m) >= 0 && i.isub(this.m);
return i._forceRed(this);
};
A.prototype.iadd = function(e, t) {
this._verify2(e, t);
var i = e.iadd(t);
i.cmp(this.m) >= 0 && i.isub(this.m);
return i;
};
A.prototype.sub = function(e, t) {
this._verify2(e, t);
var i = e.sub(t);
i.cmpn(0) < 0 && i.iadd(this.m);
return i._forceRed(this);
};
A.prototype.isub = function(e, t) {
this._verify2(e, t);
var i = e.isub(t);
i.cmpn(0) < 0 && i.iadd(this.m);
return i;
};
A.prototype.shl = function(e, t) {
this._verify1(e);
return this.imod(e.ushln(t));
};
A.prototype.imul = function(e, t) {
this._verify2(e, t);
return this.imod(e.imul(t));
};
A.prototype.mul = function(e, t) {
this._verify2(e, t);
return this.imod(e.mul(t));
};
A.prototype.isqr = function(e) {
return this.imul(e, e.clone());
};
A.prototype.sqr = function(e) {
return this.mul(e, e);
};
A.prototype.sqrt = function(e) {
if (e.isZero()) return e.clone();
var t = this.m.andln(3);
o(t % 2 == 1);
if (3 === t) {
var i = this.m.add(new r(1)).iushrn(2);
return this.pow(e, i);
}
for (var n = this.m.subn(1), a = 0; !n.isZero() && 0 === n.andln(1); ) {
a++;
n.iushrn(1);
}
o(!n.isZero());
var s = new r(1).toRed(this), c = s.redNeg(), l = this.m.subn(1).iushrn(1), u = this.m.bitLength();
u = new r(2 * u * u).toRed(this);
for (;0 !== this.pow(u, l).cmp(c); ) u.redIAdd(c);
for (var d = this.pow(u, n), f = this.pow(e, n.addn(1).iushrn(1)), h = this.pow(e, n), p = a; 0 !== h.cmp(s); ) {
for (var g = h, m = 0; 0 !== g.cmp(s); m++) g = g.redSqr();
o(m < p);
var y = this.pow(d, new r(1).iushln(p - m - 1));
f = f.redMul(y);
d = y.redSqr();
h = h.redMul(d);
p = m;
}
return f;
};
A.prototype.invm = function(e) {
var t = e._invmp(this.m);
if (0 !== t.negative) {
t.negative = 0;
return this.imod(t).redNeg();
}
return this.imod(t);
};
A.prototype.pow = function(e, t) {
if (t.isZero()) return new r(1).toRed(this);
if (0 === t.cmpn(1)) return e.clone();
var i = new Array(16);
i[0] = new r(1).toRed(this);
i[1] = e;
for (var o = 2; o < i.length; o++) i[o] = this.mul(i[o - 1], e);
var n = i[0], a = 0, s = 0, c = t.bitLength() % 26;
0 === c && (c = 26);
for (o = t.length - 1; o >= 0; o--) {
for (var l = t.words[o], u = c - 1; u >= 0; u--) {
var d = l >> u & 1;
n !== i[0] && (n = this.sqr(n));
if (0 !== d || 0 !== a) {
a <<= 1;
a |= d;
if (4 === ++s || 0 === o && 0 === u) {
n = this.mul(n, i[a]);
s = 0;
a = 0;
}
} else s = 0;
}
c = 26;
}
return n;
};
A.prototype.convertTo = function(e) {
var t = e.umod(this.m);
return t === e ? t.clone() : t;
};
A.prototype.convertFrom = function(e) {
var t = e.clone();
t.red = null;
return t;
};
r.mont = function(e) {
return new R(e);
};
function R(e) {
A.call(this, e);
this.shift = this.m.bitLength();
this.shift % 26 != 0 && (this.shift += 26 - this.shift % 26);
this.r = new r(1).iushln(this.shift);
this.r2 = this.imod(this.r.sqr());
this.rinv = this.r._invmp(this.m);
this.minv = this.rinv.mul(this.r).isubn(1).div(this.m);
this.minv = this.minv.umod(this.r);
this.minv = this.r.sub(this.minv);
}
n(R, A);
R.prototype.convertTo = function(e) {
return this.imod(e.ushln(this.shift));
};
R.prototype.convertFrom = function(e) {
var t = this.imod(e.mul(this.rinv));
t.red = null;
return t;
};
R.prototype.imul = function(e, t) {
if (e.isZero() || t.isZero()) {
e.words[0] = 0;
e.length = 1;
return e;
}
var i = e.imul(t), o = i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m), n = i.isub(o).iushrn(this.shift), r = n;
n.cmp(this.m) >= 0 ? r = n.isub(this.m) : n.cmpn(0) < 0 && (r = n.iadd(this.m));
return r._forceRed(this);
};
R.prototype.mul = function(e, t) {
if (e.isZero() || t.isZero()) return new r(0)._forceRed(this);
var i = e.mul(t), o = i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m), n = i.isub(o).iushrn(this.shift), a = n;
n.cmp(this.m) >= 0 ? a = n.isub(this.m) : n.cmpn(0) < 0 && (a = n.iadd(this.m));
return a._forceRed(this);
};
R.prototype.invm = function(e) {
return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this);
};
})("undefined" == typeof t || t, this);
}, {
buffer: 18
} ],
17: [ function(e, t, i) {
var o;
t.exports = function(e) {
o || (o = new n(null));
return o.generate(e);
};
function n(e) {
this.rand = e;
}
t.exports.Rand = n;
n.prototype.generate = function(e) {
return this._rand(e);
};
n.prototype._rand = function(e) {
if (this.rand.getBytes) return this.rand.getBytes(e);
for (var t = new Uint8Array(e), i = 0; i < t.length; i++) t[i] = this.rand.getByte();
return t;
};
if ("object" == typeof self) self.crypto && self.crypto.getRandomValues ? n.prototype._rand = function(e) {
var t = new Uint8Array(e);
self.crypto.getRandomValues(t);
return t;
} : self.msCrypto && self.msCrypto.getRandomValues ? n.prototype._rand = function(e) {
var t = new Uint8Array(e);
self.msCrypto.getRandomValues(t);
return t;
} : "object" == typeof window && (n.prototype._rand = function() {
throw new Error("Not implemented yet");
}); else try {
var r = e("crypto");
if ("function" != typeof r.randomBytes) throw new Error("Not supported");
n.prototype._rand = function(e) {
return r.randomBytes(e);
};
} catch (e) {}
}, {
crypto: 18
} ],
18: [ function(e, t, i) {}, {} ],
19: [ function(e, t, i) {
var o = e("safe-buffer").Buffer;
function n(e) {
o.isBuffer(e) || (e = o.from(e));
for (var t = e.length / 4 | 0, i = new Array(t), n = 0; n < t; n++) i[n] = e.readUInt32BE(4 * n);
return i;
}
function r(e) {
for (;0 < e.length; e++) e[0] = 0;
}
function a(e, t, i, o, n) {
for (var r, a, s, c, l = i[0], u = i[1], d = i[2], f = i[3], h = e[0] ^ t[0], p = e[1] ^ t[1], g = e[2] ^ t[2], m = e[3] ^ t[3], y = 4, b = 1; b < n; b++) {
r = l[h >>> 24] ^ u[p >>> 16 & 255] ^ d[g >>> 8 & 255] ^ f[255 & m] ^ t[y++];
a = l[p >>> 24] ^ u[g >>> 16 & 255] ^ d[m >>> 8 & 255] ^ f[255 & h] ^ t[y++];
s = l[g >>> 24] ^ u[m >>> 16 & 255] ^ d[h >>> 8 & 255] ^ f[255 & p] ^ t[y++];
c = l[m >>> 24] ^ u[h >>> 16 & 255] ^ d[p >>> 8 & 255] ^ f[255 & g] ^ t[y++];
h = r;
p = a;
g = s;
m = c;
}
r = (o[h >>> 24] << 24 | o[p >>> 16 & 255] << 16 | o[g >>> 8 & 255] << 8 | o[255 & m]) ^ t[y++];
a = (o[p >>> 24] << 24 | o[g >>> 16 & 255] << 16 | o[m >>> 8 & 255] << 8 | o[255 & h]) ^ t[y++];
s = (o[g >>> 24] << 24 | o[m >>> 16 & 255] << 16 | o[h >>> 8 & 255] << 8 | o[255 & p]) ^ t[y++];
c = (o[m >>> 24] << 24 | o[h >>> 16 & 255] << 16 | o[p >>> 8 & 255] << 8 | o[255 & g]) ^ t[y++];
return [ r >>>= 0, a >>>= 0, s >>>= 0, c >>>= 0 ];
}
var s = [ 0, 1, 2, 4, 8, 16, 32, 64, 128, 27, 54 ], c = function() {
for (var e = new Array(256), t = 0; t < 256; t++) e[t] = t < 128 ? t << 1 : t << 1 ^ 283;
for (var i = [], o = [], n = [ [], [], [], [] ], r = [ [], [], [], [] ], a = 0, s = 0, c = 0; c < 256; ++c) {
var l = s ^ s << 1 ^ s << 2 ^ s << 3 ^ s << 4;
l = l >>> 8 ^ 255 & l ^ 99;
i[a] = l;
o[l] = a;
var u = e[a], d = e[u], f = e[d], h = 257 * e[l] ^ 16843008 * l;
n[0][a] = h << 24 | h >>> 8;
n[1][a] = h << 16 | h >>> 16;
n[2][a] = h << 8 | h >>> 24;
n[3][a] = h;
h = 16843009 * f ^ 65537 * d ^ 257 * u ^ 16843008 * a;
r[0][l] = h << 24 | h >>> 8;
r[1][l] = h << 16 | h >>> 16;
r[2][l] = h << 8 | h >>> 24;
r[3][l] = h;
if (0 === a) a = s = 1; else {
a = u ^ e[e[e[f ^ u]]];
s ^= e[e[s]];
}
}
return {
SBOX: i,
INV_SBOX: o,
SUB_MIX: n,
INV_SUB_MIX: r
};
}();
function l(e) {
this._key = n(e);
this._reset();
}
l.blockSize = 16;
l.keySize = 32;
l.prototype.blockSize = l.blockSize;
l.prototype.keySize = l.keySize;
l.prototype._reset = function() {
for (var e = this._key, t = e.length, i = t + 6, o = 4 * (i + 1), n = [], r = 0; r < t; r++) n[r] = e[r];
for (r = t; r < o; r++) {
var a = n[r - 1];
if (r % t == 0) {
a = a << 8 | a >>> 24;
a = c.SBOX[a >>> 24] << 24 | c.SBOX[a >>> 16 & 255] << 16 | c.SBOX[a >>> 8 & 255] << 8 | c.SBOX[255 & a];
a ^= s[r / t | 0] << 24;
} else t > 6 && r % t == 4 && (a = c.SBOX[a >>> 24] << 24 | c.SBOX[a >>> 16 & 255] << 16 | c.SBOX[a >>> 8 & 255] << 8 | c.SBOX[255 & a]);
n[r] = n[r - t] ^ a;
}
for (var l = [], u = 0; u < o; u++) {
var d = o - u, f = n[d - (u % 4 ? 0 : 4)];
l[u] = u < 4 || d <= 4 ? f : c.INV_SUB_MIX[0][c.SBOX[f >>> 24]] ^ c.INV_SUB_MIX[1][c.SBOX[f >>> 16 & 255]] ^ c.INV_SUB_MIX[2][c.SBOX[f >>> 8 & 255]] ^ c.INV_SUB_MIX[3][c.SBOX[255 & f]];
}
this._nRounds = i;
this._keySchedule = n;
this._invKeySchedule = l;
};
l.prototype.encryptBlockRaw = function(e) {
return a(e = n(e), this._keySchedule, c.SUB_MIX, c.SBOX, this._nRounds);
};
l.prototype.encryptBlock = function(e) {
var t = this.encryptBlockRaw(e), i = o.allocUnsafe(16);
i.writeUInt32BE(t[0], 0);
i.writeUInt32BE(t[1], 4);
i.writeUInt32BE(t[2], 8);
i.writeUInt32BE(t[3], 12);
return i;
};
l.prototype.decryptBlock = function(e) {
var t = (e = n(e))[1];
e[1] = e[3];
e[3] = t;
var i = a(e, this._invKeySchedule, c.INV_SUB_MIX, c.INV_SBOX, this._nRounds), r = o.allocUnsafe(16);
r.writeUInt32BE(i[0], 0);
r.writeUInt32BE(i[3], 4);
r.writeUInt32BE(i[2], 8);
r.writeUInt32BE(i[1], 12);
return r;
};
l.prototype.scrub = function() {
r(this._keySchedule);
r(this._invKeySchedule);
r(this._key);
};
t.exports.AES = l;
}, {
"safe-buffer": 144
} ],
20: [ function(e, t, i) {
var o = e("./aes"), n = e("safe-buffer").Buffer, r = e("cipher-base"), a = e("inherits"), s = e("./ghash"), c = e("buffer-xor"), l = e("./incr32");
function u(e, t) {
var i = 0;
e.length !== t.length && i++;
for (var o = Math.min(e.length, t.length), n = 0; n < o; ++n) i += e[n] ^ t[n];
return i;
}
function d(e, t, i) {
if (12 === t.length) {
e._finID = n.concat([ t, n.from([ 0, 0, 0, 1 ]) ]);
return n.concat([ t, n.from([ 0, 0, 0, 2 ]) ]);
}
var o = new s(i), r = t.length, a = r % 16;
o.update(t);
if (a) {
a = 16 - a;
o.update(n.alloc(a, 0));
}
o.update(n.alloc(8, 0));
var c = 8 * r, u = n.alloc(8);
u.writeUIntBE(c, 0, 8);
o.update(u);
e._finID = o.state;
var d = n.from(e._finID);
l(d);
return d;
}
function f(e, t, i, a) {
r.call(this);
var c = n.alloc(4, 0);
this._cipher = new o.AES(t);
var l = this._cipher.encryptBlock(c);
this._ghash = new s(l);
i = d(this, i, l);
this._prev = n.from(i);
this._cache = n.allocUnsafe(0);
this._secCache = n.allocUnsafe(0);
this._decrypt = a;
this._alen = 0;
this._len = 0;
this._mode = e;
this._authTag = null;
this._called = !1;
}
a(f, r);
f.prototype._update = function(e) {
if (!this._called && this._alen) {
var t = 16 - this._alen % 16;
if (t < 16) {
t = n.alloc(t, 0);
this._ghash.update(t);
}
}
this._called = !0;
var i = this._mode.encrypt(this, e);
this._decrypt ? this._ghash.update(e) : this._ghash.update(i);
this._len += e.length;
return i;
};
f.prototype._final = function() {
if (this._decrypt && !this._authTag) throw new Error("Unsupported state or unable to authenticate data");
var e = c(this._ghash.final(8 * this._alen, 8 * this._len), this._cipher.encryptBlock(this._finID));
if (this._decrypt && u(e, this._authTag)) throw new Error("Unsupported state or unable to authenticate data");
this._authTag = e;
this._cipher.scrub();
};
f.prototype.getAuthTag = function() {
if (this._decrypt || !n.isBuffer(this._authTag)) throw new Error("Attempting to get auth tag in unsupported state");
return this._authTag;
};
f.prototype.setAuthTag = function(e) {
if (!this._decrypt) throw new Error("Attempting to set auth tag in unsupported state");
this._authTag = e;
};
f.prototype.setAAD = function(e) {
if (this._called) throw new Error("Attempting to set AAD in unsupported state");
this._ghash.update(e);
this._alen += e.length;
};
t.exports = f;
}, {
"./aes": 19,
"./ghash": 24,
"./incr32": 25,
"buffer-xor": 46,
"cipher-base": 49,
inherits: 101,
"safe-buffer": 144
} ],
21: [ function(e, t, i) {
var o = e("./encrypter"), n = e("./decrypter"), r = e("./modes/list.json");
i.createCipher = i.Cipher = o.createCipher;
i.createCipheriv = i.Cipheriv = o.createCipheriv;
i.createDecipher = i.Decipher = n.createDecipher;
i.createDecipheriv = i.Decipheriv = n.createDecipheriv;
i.listCiphers = i.getCiphers = function() {
return Object.keys(r);
};
}, {
"./decrypter": 22,
"./encrypter": 23,
"./modes/list.json": 33
} ],
22: [ function(e, t, i) {
var o = e("./authCipher"), n = e("safe-buffer").Buffer, r = e("./modes"), a = e("./streamCipher"), s = e("cipher-base"), c = e("./aes"), l = e("evp_bytestokey");
function u(e, t, i) {
s.call(this);
this._cache = new d();
this._last = void 0;
this._cipher = new c.AES(t);
this._prev = n.from(i);
this._mode = e;
this._autopadding = !0;
}
e("inherits")(u, s);
u.prototype._update = function(e) {
this._cache.add(e);
for (var t, i, o = []; t = this._cache.get(this._autopadding); ) {
i = this._mode.decrypt(this, t);
o.push(i);
}
return n.concat(o);
};
u.prototype._final = function() {
var e = this._cache.flush();
if (this._autopadding) return f(this._mode.decrypt(this, e));
if (e) throw new Error("data not multiple of block length");
};
u.prototype.setAutoPadding = function(e) {
this._autopadding = !!e;
return this;
};
function d() {
this.cache = n.allocUnsafe(0);
}
d.prototype.add = function(e) {
this.cache = n.concat([ this.cache, e ]);
};
d.prototype.get = function(e) {
var t;
if (e) {
if (this.cache.length > 16) {
t = this.cache.slice(0, 16);
this.cache = this.cache.slice(16);
return t;
}
} else if (this.cache.length >= 16) {
t = this.cache.slice(0, 16);
this.cache = this.cache.slice(16);
return t;
}
return null;
};
d.prototype.flush = function() {
if (this.cache.length) return this.cache;
};
function f(e) {
var t = e[15];
if (t < 1 || t > 16) throw new Error("unable to decrypt data");
for (var i = -1; ++i < t; ) if (e[i + (16 - t)] !== t) throw new Error("unable to decrypt data");
if (16 !== t) return e.slice(0, 16 - t);
}
function h(e, t, i) {
var s = r[e.toLowerCase()];
if (!s) throw new TypeError("invalid suite type");
"string" == typeof i && (i = n.from(i));
if ("GCM" !== s.mode && i.length !== s.iv) throw new TypeError("invalid iv length " + i.length);
"string" == typeof t && (t = n.from(t));
if (t.length !== s.key / 8) throw new TypeError("invalid key length " + t.length);
return "stream" === s.type ? new a(s.module, t, i, !0) : "auth" === s.type ? new o(s.module, t, i, !0) : new u(s.module, t, i);
}
i.createDecipher = function(e, t) {
var i = r[e.toLowerCase()];
if (!i) throw new TypeError("invalid suite type");
var o = l(t, !1, i.key, i.iv);
return h(e, o.key, o.iv);
};
i.createDecipheriv = h;
}, {
"./aes": 19,
"./authCipher": 20,
"./modes": 32,
"./streamCipher": 35,
"cipher-base": 49,
evp_bytestokey: 84,
inherits: 101,
"safe-buffer": 144
} ],
23: [ function(e, t, i) {
var o = e("./modes"), n = e("./authCipher"), r = e("safe-buffer").Buffer, a = e("./streamCipher"), s = e("cipher-base"), c = e("./aes"), l = e("evp_bytestokey");
function u(e, t, i) {
s.call(this);
this._cache = new f();
this._cipher = new c.AES(t);
this._prev = r.from(i);
this._mode = e;
this._autopadding = !0;
}
e("inherits")(u, s);
u.prototype._update = function(e) {
this._cache.add(e);
for (var t, i, o = []; t = this._cache.get(); ) {
i = this._mode.encrypt(this, t);
o.push(i);
}
return r.concat(o);
};
var d = r.alloc(16, 16);
u.prototype._final = function() {
var e = this._cache.flush();
if (this._autopadding) {
e = this._mode.encrypt(this, e);
this._cipher.scrub();
return e;
}
if (!e.equals(d)) {
this._cipher.scrub();
throw new Error("data not multiple of block length");
}
};
u.prototype.setAutoPadding = function(e) {
this._autopadding = !!e;
return this;
};
function f() {
this.cache = r.allocUnsafe(0);
}
f.prototype.add = function(e) {
this.cache = r.concat([ this.cache, e ]);
};
f.prototype.get = function() {
if (this.cache.length > 15) {
var e = this.cache.slice(0, 16);
this.cache = this.cache.slice(16);
return e;
}
return null;
};
f.prototype.flush = function() {
for (var e = 16 - this.cache.length, t = r.allocUnsafe(e), i = -1; ++i < e; ) t.writeUInt8(e, i);
return r.concat([ this.cache, t ]);
};
function h(e, t, i) {
var s = o[e.toLowerCase()];
if (!s) throw new TypeError("invalid suite type");
"string" == typeof t && (t = r.from(t));
if (t.length !== s.key / 8) throw new TypeError("invalid key length " + t.length);
"string" == typeof i && (i = r.from(i));
if ("GCM" !== s.mode && i.length !== s.iv) throw new TypeError("invalid iv length " + i.length);
return "stream" === s.type ? new a(s.module, t, i) : "auth" === s.type ? new n(s.module, t, i) : new u(s.module, t, i);
}
i.createCipheriv = h;
i.createCipher = function(e, t) {
var i = o[e.toLowerCase()];
if (!i) throw new TypeError("invalid suite type");
var n = l(t, !1, i.key, i.iv);
return h(e, n.key, n.iv);
};
}, {
"./aes": 19,
"./authCipher": 20,
"./modes": 32,
"./streamCipher": 35,
"cipher-base": 49,
evp_bytestokey: 84,
inherits: 101,
"safe-buffer": 144
} ],
24: [ function(e, t, i) {
var o = e("safe-buffer").Buffer, n = o.alloc(16, 0);
function r(e) {
return [ e.readUInt32BE(0), e.readUInt32BE(4), e.readUInt32BE(8), e.readUInt32BE(12) ];
}
function a(e) {
var t = o.allocUnsafe(16);
t.writeUInt32BE(e[0] >>> 0, 0);
t.writeUInt32BE(e[1] >>> 0, 4);
t.writeUInt32BE(e[2] >>> 0, 8);
t.writeUInt32BE(e[3] >>> 0, 12);
return t;
}
function s(e) {
this.h = e;
this.state = o.alloc(16, 0);
this.cache = o.allocUnsafe(0);
}
s.prototype.ghash = function(e) {
for (var t = -1; ++t < e.length; ) this.state[t] ^= e[t];
this._multiply();
};
s.prototype._multiply = function() {
for (var e, t, i = r(this.h), o = [ 0, 0, 0, 0 ], n = -1; ++n < 128; ) {
if (0 != (this.state[~~(n / 8)] & 1 << 7 - n % 8)) {
o[0] ^= i[0];
o[1] ^= i[1];
o[2] ^= i[2];
o[3] ^= i[3];
}
t = 0 != (1 & i[3]);
for (e = 3; e > 0; e--) i[e] = i[e] >>> 1 | (1 & i[e - 1]) << 31;
i[0] = i[0] >>> 1;
t && (i[0] = i[0] ^ 225 << 24);
}
this.state = a(o);
};
s.prototype.update = function(e) {
this.cache = o.concat([ this.cache, e ]);
for (var t; this.cache.length >= 16; ) {
t = this.cache.slice(0, 16);
this.cache = this.cache.slice(16);
this.ghash(t);
}
};
s.prototype.final = function(e, t) {
this.cache.length && this.ghash(o.concat([ this.cache, n ], 16));
this.ghash(a([ 0, e, 0, t ]));
return this.state;
};
t.exports = s;
}, {
"safe-buffer": 144
} ],
25: [ function(e, t, i) {
t.exports = function(e) {
for (var t, i = e.length; i--; ) {
if (255 !== (t = e.readUInt8(i))) {
t++;
e.writeUInt8(t, i);
break;
}
e.writeUInt8(0, i);
}
};
}, {} ],
26: [ function(e, t, i) {
var o = e("buffer-xor");
i.encrypt = function(e, t) {
var i = o(t, e._prev);
e._prev = e._cipher.encryptBlock(i);
return e._prev;
};
i.decrypt = function(e, t) {
var i = e._prev;
e._prev = t;
var n = e._cipher.decryptBlock(t);
return o(n, i);
};
}, {
"buffer-xor": 46
} ],
27: [ function(e, t, i) {
var o = e("safe-buffer").Buffer, n = e("buffer-xor");
function r(e, t, i) {
var r = t.length, a = n(t, e._cache);
e._cache = e._cache.slice(r);
e._prev = o.concat([ e._prev, i ? t : a ]);
return a;
}
i.encrypt = function(e, t, i) {
for (var n, a = o.allocUnsafe(0); t.length; ) {
if (0 === e._cache.length) {
e._cache = e._cipher.encryptBlock(e._prev);
e._prev = o.allocUnsafe(0);
}
if (!(e._cache.length <= t.length)) {
a = o.concat([ a, r(e, t, i) ]);
break;
}
n = e._cache.length;
a = o.concat([ a, r(e, t.slice(0, n), i) ]);
t = t.slice(n);
}
return a;
};
}, {
"buffer-xor": 46,
"safe-buffer": 144
} ],
28: [ function(e, t, i) {
var o = e("safe-buffer").Buffer;
function n(e, t, i) {
for (var o, n, a, s = -1, c = 0; ++s < 8; ) {
o = e._cipher.encryptBlock(e._prev);
n = t & 1 << 7 - s ? 128 : 0;
c += (128 & (a = o[0] ^ n)) >> s % 8;
e._prev = r(e._prev, i ? n : a);
}
return c;
}
function r(e, t) {
var i = e.length, n = -1, r = o.allocUnsafe(e.length);
e = o.concat([ e, o.from([ t ]) ]);
for (;++n < i; ) r[n] = e[n] << 1 | e[n + 1] >> 7;
return r;
}
i.encrypt = function(e, t, i) {
for (var r = t.length, a = o.allocUnsafe(r), s = -1; ++s < r; ) a[s] = n(e, t[s], i);
return a;
};
}, {
"safe-buffer": 144
} ],
29: [ function(e, t, i) {
var o = e("safe-buffer").Buffer;
function n(e, t, i) {
var n = e._cipher.encryptBlock(e._prev)[0] ^ t;
e._prev = o.concat([ e._prev.slice(1), o.from([ i ? t : n ]) ]);
return n;
}
i.encrypt = function(e, t, i) {
for (var r = t.length, a = o.allocUnsafe(r), s = -1; ++s < r; ) a[s] = n(e, t[s], i);
return a;
};
}, {
"safe-buffer": 144
} ],
30: [ function(e, t, i) {
var o = e("buffer-xor"), n = e("safe-buffer").Buffer, r = e("../incr32");
function a(e) {
var t = e._cipher.encryptBlockRaw(e._prev);
r(e._prev);
return t;
}
i.encrypt = function(e, t) {
var i = Math.ceil(t.length / 16), r = e._cache.length;
e._cache = n.concat([ e._cache, n.allocUnsafe(16 * i) ]);
for (var s = 0; s < i; s++) {
var c = a(e), l = r + 16 * s;
e._cache.writeUInt32BE(c[0], l + 0);
e._cache.writeUInt32BE(c[1], l + 4);
e._cache.writeUInt32BE(c[2], l + 8);
e._cache.writeUInt32BE(c[3], l + 12);
}
var u = e._cache.slice(0, t.length);
e._cache = e._cache.slice(t.length);
return o(t, u);
};
}, {
"../incr32": 25,
"buffer-xor": 46,
"safe-buffer": 144
} ],
31: [ function(e, t, i) {
i.encrypt = function(e, t) {
return e._cipher.encryptBlock(t);
};
i.decrypt = function(e, t) {
return e._cipher.decryptBlock(t);
};
}, {} ],
32: [ function(e, t, i) {
var o = {
ECB: e("./ecb"),
CBC: e("./cbc"),
CFB: e("./cfb"),
CFB8: e("./cfb8"),
CFB1: e("./cfb1"),
OFB: e("./ofb"),
CTR: e("./ctr"),
GCM: e("./ctr")
}, n = e("./list.json");
for (var r in n) n[r].module = o[n[r].mode];
t.exports = n;
}, {
"./cbc": 26,
"./cfb": 27,
"./cfb1": 28,
"./cfb8": 29,
"./ctr": 30,
"./ecb": 31,
"./list.json": 33,
"./ofb": 34
} ],
33: [ function(e, t, i) {
t.exports = {
"aes-128-ecb": {
cipher: "AES",
key: 128,
iv: 0,
mode: "ECB",
type: "block"
},
"aes-192-ecb": {
cipher: "AES",
key: 192,
iv: 0,
mode: "ECB",
type: "block"
},
"aes-256-ecb": {
cipher: "AES",
key: 256,
iv: 0,
mode: "ECB",
type: "block"
},
"aes-128-cbc": {
cipher: "AES",
key: 128,
iv: 16,
mode: "CBC",
type: "block"
},
"aes-192-cbc": {
cipher: "AES",
key: 192,
iv: 16,
mode: "CBC",
type: "block"
},
"aes-256-cbc": {
cipher: "AES",
key: 256,
iv: 16,
mode: "CBC",
type: "block"
},
aes128: {
cipher: "AES",
key: 128,
iv: 16,
mode: "CBC",
type: "block"
},
aes192: {
cipher: "AES",
key: 192,
iv: 16,
mode: "CBC",
type: "block"
},
aes256: {
cipher: "AES",
key: 256,
iv: 16,
mode: "CBC",
type: "block"
},
"aes-128-cfb": {
cipher: "AES",
key: 128,
iv: 16,
mode: "CFB",
type: "stream"
},
"aes-192-cfb": {
cipher: "AES",
key: 192,
iv: 16,
mode: "CFB",
type: "stream"
},
"aes-256-cfb": {
cipher: "AES",
key: 256,
iv: 16,
mode: "CFB",
type: "stream"
},
"aes-128-cfb8": {
cipher: "AES",
key: 128,
iv: 16,
mode: "CFB8",
type: "stream"
},
"aes-192-cfb8": {
cipher: "AES",
key: 192,
iv: 16,
mode: "CFB8",
type: "stream"
},
"aes-256-cfb8": {
cipher: "AES",
key: 256,
iv: 16,
mode: "CFB8",
type: "stream"
},
"aes-128-cfb1": {
cipher: "AES",
key: 128,
iv: 16,
mode: "CFB1",
type: "stream"
},
"aes-192-cfb1": {
cipher: "AES",
key: 192,
iv: 16,
mode: "CFB1",
type: "stream"
},
"aes-256-cfb1": {
cipher: "AES",
key: 256,
iv: 16,
mode: "CFB1",
type: "stream"
},
"aes-128-ofb": {
cipher: "AES",
key: 128,
iv: 16,
mode: "OFB",
type: "stream"
},
"aes-192-ofb": {
cipher: "AES",
key: 192,
iv: 16,
mode: "OFB",
type: "stream"
},
"aes-256-ofb": {
cipher: "AES",
key: 256,
iv: 16,
mode: "OFB",
type: "stream"
},
"aes-128-ctr": {
cipher: "AES",
key: 128,
iv: 16,
mode: "CTR",
type: "stream"
},
"aes-192-ctr": {
cipher: "AES",
key: 192,
iv: 16,
mode: "CTR",
type: "stream"
},
"aes-256-ctr": {
cipher: "AES",
key: 256,
iv: 16,
mode: "CTR",
type: "stream"
},
"aes-128-gcm": {
cipher: "AES",
key: 128,
iv: 12,
mode: "GCM",
type: "auth"
},
"aes-192-gcm": {
cipher: "AES",
key: 192,
iv: 12,
mode: "GCM",
type: "auth"
},
"aes-256-gcm": {
cipher: "AES",
key: 256,
iv: 12,
mode: "GCM",
type: "auth"
}
};
}, {} ],
34: [ function(e, t, i) {
(function(t) {
var o = e("buffer-xor");
function n(e) {
e._prev = e._cipher.encryptBlock(e._prev);
return e._prev;
}
i.encrypt = function(e, i) {
for (;e._cache.length < i.length; ) e._cache = t.concat([ e._cache, n(e) ]);
var r = e._cache.slice(0, i.length);
e._cache = e._cache.slice(i.length);
return o(i, r);
};
}).call(this, e("buffer").Buffer);
}, {
buffer: 47,
"buffer-xor": 46
} ],
35: [ function(e, t, i) {
var o = e("./aes"), n = e("safe-buffer").Buffer, r = e("cipher-base");
function a(e, t, i, a) {
r.call(this);
this._cipher = new o.AES(t);
this._prev = n.from(i);
this._cache = n.allocUnsafe(0);
this._secCache = n.allocUnsafe(0);
this._decrypt = a;
this._mode = e;
}
e("inherits")(a, r);
a.prototype._update = function(e) {
return this._mode.encrypt(this, e, this._decrypt);
};
a.prototype._final = function() {
this._cipher.scrub();
};
t.exports = a;
}, {
"./aes": 19,
"cipher-base": 49,
inherits: 101,
"safe-buffer": 144
} ],
36: [ function(e, t, i) {
var o = e("browserify-des"), n = e("browserify-aes/browser"), r = e("browserify-aes/modes"), a = e("browserify-des/modes"), s = e("evp_bytestokey");
function c(e, t, i) {
e = e.toLowerCase();
if (r[e]) return n.createCipheriv(e, t, i);
if (a[e]) return new o({
key: t,
iv: i,
mode: e
});
throw new TypeError("invalid suite type");
}
function l(e, t, i) {
e = e.toLowerCase();
if (r[e]) return n.createDecipheriv(e, t, i);
if (a[e]) return new o({
key: t,
iv: i,
mode: e,
decrypt: !0
});
throw new TypeError("invalid suite type");
}
i.createCipher = i.Cipher = function(e, t) {
e = e.toLowerCase();
var i, o;
if (r[e]) {
i = r[e].key;
o = r[e].iv;
} else {
if (!a[e]) throw new TypeError("invalid suite type");
i = 8 * a[e].key;
o = a[e].iv;
}
var n = s(t, !1, i, o);
return c(e, n.key, n.iv);
};
i.createCipheriv = i.Cipheriv = c;
i.createDecipher = i.Decipher = function(e, t) {
e = e.toLowerCase();
var i, o;
if (r[e]) {
i = r[e].key;
o = r[e].iv;
} else {
if (!a[e]) throw new TypeError("invalid suite type");
i = 8 * a[e].key;
o = a[e].iv;
}
var n = s(t, !1, i, o);
return l(e, n.key, n.iv);
};
i.createDecipheriv = i.Decipheriv = l;
i.listCiphers = i.getCiphers = function() {
return Object.keys(a).concat(n.getCiphers());
};
}, {
"browserify-aes/browser": 21,
"browserify-aes/modes": 32,
"browserify-des": 37,
"browserify-des/modes": 38,
evp_bytestokey: 84
} ],
37: [ function(e, t, i) {
var o = e("cipher-base"), n = e("des.js"), r = e("inherits"), a = e("safe-buffer").Buffer, s = {
"des-ede3-cbc": n.CBC.instantiate(n.EDE),
"des-ede3": n.EDE,
"des-ede-cbc": n.CBC.instantiate(n.EDE),
"des-ede": n.EDE,
"des-cbc": n.CBC.instantiate(n.DES),
"des-ecb": n.DES
};
s.des = s["des-cbc"];
s.des3 = s["des-ede3-cbc"];
t.exports = c;
r(c, o);
function c(e) {
o.call(this);
var t, i = e.mode.toLowerCase(), n = s[i];
t = e.decrypt ? "decrypt" : "encrypt";
var r = e.key;
a.isBuffer(r) || (r = a.from(r));
"des-ede" !== i && "des-ede-cbc" !== i || (r = a.concat([ r, r.slice(0, 8) ]));
var c = e.iv;
a.isBuffer(c) || (c = a.from(c));
this._des = n.create({
key: r,
iv: c,
type: t
});
}
c.prototype._update = function(e) {
return a.from(this._des.update(e));
};
c.prototype._final = function() {
return a.from(this._des.final());
};
}, {
"cipher-base": 49,
"des.js": 57,
inherits: 101,
"safe-buffer": 144
} ],
38: [ function(e, t, i) {
i["des-ecb"] = {
key: 8,
iv: 0
};
i["des-cbc"] = i.des = {
key: 8,
iv: 8
};
i["des-ede3-cbc"] = i.des3 = {
key: 24,
iv: 8
};
i["des-ede3"] = {
key: 24,
iv: 0
};
i["des-ede-cbc"] = {
key: 16,
iv: 8
};
i["des-ede"] = {
key: 16,
iv: 0
};
}, {} ],
39: [ function(e, t, i) {
(function(i) {
var o = e("bn.js"), n = e("randombytes");
t.exports = a;
function r(e) {
var t = s(e);
return {
blinder: t.toRed(o.mont(e.modulus)).redPow(new o(e.publicExponent)).fromRed(),
unblinder: t.invm(e.modulus)
};
}
function a(e, t) {
var n = r(t), a = t.modulus.byteLength(), s = (o.mont(t.modulus), new o(e).mul(n.blinder).umod(t.modulus)), c = s.toRed(o.mont(t.prime1)), l = s.toRed(o.mont(t.prime2)), u = t.coefficient, d = t.prime1, f = t.prime2, h = c.redPow(t.exponent1), p = l.redPow(t.exponent2);
h = h.fromRed();
p = p.fromRed();
var g = h.isub(p).imul(u).umod(d);
g.imul(f);
p.iadd(g);
return new i(p.imul(n.unblinder).umod(t.modulus).toArray(!1, a));
}
a.getr = s;
function s(e) {
for (var t = e.modulus.byteLength(), i = new o(n(t)); i.cmp(e.modulus) >= 0 || !i.umod(e.prime1) || !i.umod(e.prime2); ) i = new o(n(t));
return i;
}
}).call(this, e("buffer").Buffer);
}, {
"bn.js": 16,
buffer: 47,
randombytes: 126
} ],
40: [ function(e, t, i) {
t.exports = e("./browser/algorithms.json");
}, {
"./browser/algorithms.json": 41
} ],
41: [ function(e, t, i) {
t.exports = {
sha224WithRSAEncryption: {
sign: "rsa",
hash: "sha224",
id: "302d300d06096086480165030402040500041c"
},
"RSA-SHA224": {
sign: "ecdsa/rsa",
hash: "sha224",
id: "302d300d06096086480165030402040500041c"
},
sha256WithRSAEncryption: {
sign: "rsa",
hash: "sha256",
id: "3031300d060960864801650304020105000420"
},
"RSA-SHA256": {
sign: "ecdsa/rsa",
hash: "sha256",
id: "3031300d060960864801650304020105000420"
},
sha384WithRSAEncryption: {
sign: "rsa",
hash: "sha384",
id: "3041300d060960864801650304020205000430"
},
"RSA-SHA384": {
sign: "ecdsa/rsa",
hash: "sha384",
id: "3041300d060960864801650304020205000430"
},
sha512WithRSAEncryption: {
sign: "rsa",
hash: "sha512",
id: "3051300d060960864801650304020305000440"
},
"RSA-SHA512": {
sign: "ecdsa/rsa",
hash: "sha512",
id: "3051300d060960864801650304020305000440"
},
"RSA-SHA1": {
sign: "rsa",
hash: "sha1",
id: "3021300906052b0e03021a05000414"
},
"ecdsa-with-SHA1": {
sign: "ecdsa",
hash: "sha1",
id: ""
},
sha256: {
sign: "ecdsa",
hash: "sha256",
id: ""
},
sha224: {
sign: "ecdsa",
hash: "sha224",
id: ""
},
sha384: {
sign: "ecdsa",
hash: "sha384",
id: ""
},
sha512: {
sign: "ecdsa",
hash: "sha512",
id: ""
},
"DSA-SHA": {
sign: "dsa",
hash: "sha1",
id: ""
},
"DSA-SHA1": {
sign: "dsa",
hash: "sha1",
id: ""
},
DSA: {
sign: "dsa",
hash: "sha1",
id: ""
},
"DSA-WITH-SHA224": {
sign: "dsa",
hash: "sha224",
id: ""
},
"DSA-SHA224": {
sign: "dsa",
hash: "sha224",
id: ""
},
"DSA-WITH-SHA256": {
sign: "dsa",
hash: "sha256",
id: ""
},
"DSA-SHA256": {
sign: "dsa",
hash: "sha256",
id: ""
},
"DSA-WITH-SHA384": {
sign: "dsa",
hash: "sha384",
id: ""
},
"DSA-SHA384": {
sign: "dsa",
hash: "sha384",
id: ""
},
"DSA-WITH-SHA512": {
sign: "dsa",
hash: "sha512",
id: ""
},
"DSA-SHA512": {
sign: "dsa",
hash: "sha512",
id: ""
},
"DSA-RIPEMD160": {
sign: "dsa",
hash: "rmd160",
id: ""
},
ripemd160WithRSA: {
sign: "rsa",
hash: "rmd160",
id: "3021300906052b2403020105000414"
},
"RSA-RIPEMD160": {
sign: "rsa",
hash: "rmd160",
id: "3021300906052b2403020105000414"
},
md5WithRSAEncryption: {
sign: "rsa",
hash: "md5",
id: "3020300c06082a864886f70d020505000410"
},
"RSA-MD5": {
sign: "rsa",
hash: "md5",
id: "3020300c06082a864886f70d020505000410"
}
};
}, {} ],
42: [ function(e, t, i) {
t.exports = {
"1.3.132.0.10": "secp256k1",
"1.3.132.0.33": "p224",
"1.2.840.10045.3.1.1": "p192",
"1.2.840.10045.3.1.7": "p256",
"1.3.132.0.34": "p384",
"1.3.132.0.35": "p521"
};
}, {} ],
43: [ function(e, t, i) {
(function(i) {
var o = e("create-hash"), n = e("stream"), r = e("inherits"), a = e("./sign"), s = e("./verify"), c = e("./algorithms.json");
Object.keys(c).forEach(function(e) {
c[e].id = new i(c[e].id, "hex");
c[e.toLowerCase()] = c[e];
});
function l(e) {
n.Writable.call(this);
var t = c[e];
if (!t) throw new Error("Unknown message digest");
this._hashType = t.hash;
this._hash = o(t.hash);
this._tag = t.id;
this._signType = t.sign;
}
r(l, n.Writable);
l.prototype._write = function(e, t, i) {
this._hash.update(e);
i();
};
l.prototype.update = function(e, t) {
"string" == typeof e && (e = new i(e, t));
this._hash.update(e);
return this;
};
l.prototype.sign = function(e, t) {
this.end();
var i = this._hash.digest(), o = a(i, e, this._hashType, this._signType, this._tag);
return t ? o.toString(t) : o;
};
function u(e) {
n.Writable.call(this);
var t = c[e];
if (!t) throw new Error("Unknown message digest");
this._hash = o(t.hash);
this._tag = t.id;
this._signType = t.sign;
}
r(u, n.Writable);
u.prototype._write = function(e, t, i) {
this._hash.update(e);
i();
};
u.prototype.update = function(e, t) {
"string" == typeof e && (e = new i(e, t));
this._hash.update(e);
return this;
};
u.prototype.verify = function(e, t, o) {
"string" == typeof t && (t = new i(t, o));
this.end();
var n = this._hash.digest();
return s(t, n, e, this._signType, this._tag);
};
function d(e) {
return new l(e);
}
function f(e) {
return new u(e);
}
t.exports = {
Sign: d,
Verify: f,
createSign: d,
createVerify: f
};
}).call(this, e("buffer").Buffer);
}, {
"./algorithms.json": 41,
"./sign": 44,
"./verify": 45,
buffer: 47,
"create-hash": 52,
inherits: 101,
stream: 153
} ],
44: [ function(e, t, i) {
(function(i) {
var o = e("create-hmac"), n = e("browserify-rsa"), r = e("elliptic").ec, a = e("bn.js"), s = e("parse-asn1"), c = e("./curves.json");
function l(e, t) {
var o = c[t.curve.join(".")];
if (!o) throw new Error("unknown curve " + t.curve.join("."));
var n = new r(o).keyFromPrivate(t.privateKey).sign(e);
return new i(n.toDER());
}
function u(e, t, i) {
for (var o, n = t.params.priv_key, r = t.params.p, s = t.params.q, c = t.params.g, l = new a(0), u = h(e, s).mod(s), p = !1, y = f(n, s, e, i); !1 === p; ) {
l = m(c, o = g(s, y, i), r, s);
if (0 === (p = o.invm(s).imul(u.add(n.mul(l))).mod(s)).cmpn(0)) {
p = !1;
l = new a(0);
}
}
return d(l, p);
}
function d(e, t) {
e = e.toArray();
t = t.toArray();
128 & e[0] && (e = [ 0 ].concat(e));
128 & t[0] && (t = [ 0 ].concat(t));
var o = [ 48, e.length + t.length + 4, 2, e.length ];
o = o.concat(e, [ 2, t.length ], t);
return new i(o);
}
function f(e, t, n, r) {
if ((e = new i(e.toArray())).length < t.byteLength()) {
var a = new i(t.byteLength() - e.length);
a.fill(0);
e = i.concat([ a, e ]);
}
var s = n.length, c = p(n, t), l = new i(s);
l.fill(1);
var u = new i(s);
u.fill(0);
u = o(r, u).update(l).update(new i([ 0 ])).update(e).update(c).digest();
l = o(r, u).update(l).digest();
return {
k: u = o(r, u).update(l).update(new i([ 1 ])).update(e).update(c).digest(),
v: l = o(r, u).update(l).digest()
};
}
function h(e, t) {
var i = new a(e), o = (e.length << 3) - t.bitLength();
o > 0 && i.ishrn(o);
return i;
}
function p(e, t) {
e = (e = h(e, t)).mod(t);
var o = new i(e.toArray());
if (o.length < t.byteLength()) {
var n = new i(t.byteLength() - o.length);
n.fill(0);
o = i.concat([ n, o ]);
}
return o;
}
function g(e, t, n) {
var r, a;
do {
r = new i(0);
for (;8 * r.length < e.bitLength(); ) {
t.v = o(n, t.k).update(t.v).digest();
r = i.concat([ r, t.v ]);
}
a = h(r, e);
t.k = o(n, t.k).update(t.v).update(new i([ 0 ])).digest();
t.v = o(n, t.k).update(t.v).digest();
} while (-1 !== a.cmp(e));
return a;
}
function m(e, t, i, o) {
return e.toRed(a.mont(i)).redPow(t).fromRed().mod(o);
}
t.exports = function(e, t, o, r, a) {
var c = s(t);
if (c.curve) {
if ("ecdsa" !== r && "ecdsa/rsa" !== r) throw new Error("wrong private key type");
return l(e, c);
}
if ("dsa" === c.type) {
if ("dsa" !== r) throw new Error("wrong private key type");
return u(e, c, o);
}
if ("rsa" !== r && "ecdsa/rsa" !== r) throw new Error("wrong private key type");
e = i.concat([ a, e ]);
for (var d = c.modulus.byteLength(), f = [ 0, 1 ]; e.length + f.length + 1 < d; ) f.push(255);
f.push(0);
for (var h = -1; ++h < e.length; ) f.push(e[h]);
return n(f, c);
};
t.exports.getKey = f;
t.exports.makeKey = g;
}).call(this, e("buffer").Buffer);
}, {
"./curves.json": 42,
"bn.js": 16,
"browserify-rsa": 39,
buffer: 47,
"create-hmac": 54,
elliptic: 67,
"parse-asn1": 111
} ],
45: [ function(e, t, i) {
(function(i) {
var o = e("bn.js"), n = e("elliptic").ec, r = e("parse-asn1"), a = e("./curves.json");
function s(e, t, i) {
var o = a[i.data.algorithm.curve.join(".")];
if (!o) throw new Error("unknown curve " + i.data.algorithm.curve.join("."));
var r = new n(o), s = i.data.subjectPrivateKey.data;
return r.verify(t, e, s);
}
function c(e, t, i) {
var n = i.data.p, a = i.data.q, s = i.data.g, c = i.data.pub_key, u = r.signature.decode(e, "der"), d = u.s, f = u.r;
l(d, a);
l(f, a);
var h = o.mont(n), p = d.invm(a);
return 0 === s.toRed(h).redPow(new o(t).mul(p).mod(a)).fromRed().mul(c.toRed(h).redPow(f.mul(p).mod(a)).fromRed()).mod(n).mod(a).cmp(f);
}
function l(e, t) {
if (e.cmpn(0) <= 0) throw new Error("invalid sig");
if (e.cmp(t) >= t) throw new Error("invalid sig");
}
t.exports = function(e, t, n, a, l) {
var u = r(n);
if ("ec" === u.type) {
if ("ecdsa" !== a && "ecdsa/rsa" !== a) throw new Error("wrong public key type");
return s(e, t, u);
}
if ("dsa" === u.type) {
if ("dsa" !== a) throw new Error("wrong public key type");
return c(e, t, u);
}
if ("rsa" !== a && "ecdsa/rsa" !== a) throw new Error("wrong public key type");
t = i.concat([ l, t ]);
for (var d = u.modulus.byteLength(), f = [ 1 ], h = 0; t.length + f.length + 2 < d; ) {
f.push(255);
h++;
}
f.push(0);
for (var p = -1; ++p < t.length; ) f.push(t[p]);
f = new i(f);
var g = o.mont(u.modulus);
e = (e = new o(e).toRed(g)).redPow(new o(u.publicExponent));
e = new i(e.fromRed().toArray());
var m = h < 8 ? 1 : 0;
d = Math.min(e.length, f.length);
e.length !== f.length && (m = 1);
p = -1;
for (;++p < d; ) m |= e[p] ^ f[p];
return 0 === m;
};
}).call(this, e("buffer").Buffer);
}, {
"./curves.json": 42,
"bn.js": 16,
buffer: 47,
elliptic: 67,
"parse-asn1": 111
} ],
46: [ function(e, t, i) {
(function(e) {
t.exports = function(t, i) {
for (var o = Math.min(t.length, i.length), n = new e(o), r = 0; r < o; ++r) n[r] = t[r] ^ i[r];
return n;
};
}).call(this, e("buffer").Buffer);
}, {
buffer: 47
} ],
47: [ function(e, t, i) {
(function(t) {
"use strict";
var o = e("base64-js"), n = e("ieee754"), r = e("isarray");
i.Buffer = c;
i.SlowBuffer = function(e) {
+e != e && (e = 0);
return c.alloc(+e);
};
i.INSPECT_MAX_BYTES = 50;
c.TYPED_ARRAY_SUPPORT = void 0 !== t.TYPED_ARRAY_SUPPORT ? t.TYPED_ARRAY_SUPPORT : function() {
try {
var e = new Uint8Array(1);
e.__proto__ = {
__proto__: Uint8Array.prototype,
foo: function() {
return 42;
}
};
return 42 === e.foo() && "function" == typeof e.subarray && 0 === e.subarray(1, 1).byteLength;
} catch (e) {
return !1;
}
}();
i.kMaxLength = a();
function a() {
return c.TYPED_ARRAY_SUPPORT ? 2147483647 : 1073741823;
}
function s(e, t) {
if (a() < t) throw new RangeError("Invalid typed array length");
if (c.TYPED_ARRAY_SUPPORT) (e = new Uint8Array(t)).__proto__ = c.prototype; else {
null === e && (e = new c(t));
e.length = t;
}
return e;
}
function c(e, t, i) {
if (!(c.TYPED_ARRAY_SUPPORT || this instanceof c)) return new c(e, t, i);
if ("number" == typeof e) {
if ("string" == typeof t) throw new Error("If encoding is specified then the first argument must be a string");
return f(this, e);
}
return l(this, e, t, i);
}
c.poolSize = 8192;
c._augment = function(e) {
e.__proto__ = c.prototype;
return e;
};
function l(e, t, i, o) {
if ("number" == typeof t) throw new TypeError('"value" argument must not be a number');
return "undefined" != typeof ArrayBuffer && t instanceof ArrayBuffer ? g(e, t, i, o) : "string" == typeof t ? h(e, t, i) : m(e, t);
}
c.from = function(e, t, i) {
return l(null, e, t, i);
};
if (c.TYPED_ARRAY_SUPPORT) {
c.prototype.__proto__ = Uint8Array.prototype;
c.__proto__ = Uint8Array;
"undefined" != typeof Symbol && Symbol.species && c[Symbol.species] === c && Object.defineProperty(c, Symbol.species, {
value: null,
configurable: !0
});
}
function u(e) {
if ("number" != typeof e) throw new TypeError('"size" argument must be a number');
if (e < 0) throw new RangeError('"size" argument must not be negative');
}
function d(e, t, i, o) {
u(t);
return t <= 0 ? s(e, t) : void 0 !== i ? "string" == typeof o ? s(e, t).fill(i, o) : s(e, t).fill(i) : s(e, t);
}
c.alloc = function(e, t, i) {
return d(null, e, t, i);
};
function f(e, t) {
u(t);
e = s(e, t < 0 ? 0 : 0 | y(t));
if (!c.TYPED_ARRAY_SUPPORT) for (var i = 0; i < t; ++i) e[i] = 0;
return e;
}
c.allocUnsafe = function(e) {
return f(null, e);
};
c.allocUnsafeSlow = function(e) {
return f(null, e);
};
function h(e, t, i) {
"string" == typeof i && "" !== i || (i = "utf8");
if (!c.isEncoding(i)) throw new TypeError('"encoding" must be a valid string encoding');
var o = 0 | b(t, i), n = (e = s(e, o)).write(t, i);
n !== o && (e = e.slice(0, n));
return e;
}
function p(e, t) {
var i = t.length < 0 ? 0 : 0 | y(t.length);
e = s(e, i);
for (var o = 0; o < i; o += 1) e[o] = 255 & t[o];
return e;
}
function g(e, t, i, o) {
t.byteLength;
if (i < 0 || t.byteLength < i) throw new RangeError("'offset' is out of bounds");
if (t.byteLength < i + (o || 0)) throw new RangeError("'length' is out of bounds");
t = void 0 === i && void 0 === o ? new Uint8Array(t) : void 0 === o ? new Uint8Array(t, i) : new Uint8Array(t, i, o);
c.TYPED_ARRAY_SUPPORT ? (e = t).__proto__ = c.prototype : e = p(e, t);
return e;
}
function m(e, t) {
if (c.isBuffer(t)) {
var i = 0 | y(t.length);
if (0 === (e = s(e, i)).length) return e;
t.copy(e, 0, 0, i);
return e;
}
if (t) {
if ("undefined" != typeof ArrayBuffer && t.buffer instanceof ArrayBuffer || "length" in t) return "number" != typeof t.length || $(t.length) ? s(e, 0) : p(e, t);
if ("Buffer" === t.type && r(t.data)) return p(e, t.data);
}
throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");
}
function y(e) {
if (e >= a()) throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + a().toString(16) + " bytes");
return 0 | e;
}
c.isBuffer = function(e) {
return !(null == e || !e._isBuffer);
};
c.compare = function(e, t) {
if (!c.isBuffer(e) || !c.isBuffer(t)) throw new TypeError("Arguments must be Buffers");
if (e === t) return 0;
for (var i = e.length, o = t.length, n = 0, r = Math.min(i, o); n < r; ++n) if (e[n] !== t[n]) {
i = e[n];
o = t[n];
break;
}
return i < o ? -1 : o < i ? 1 : 0;
};
c.isEncoding = function(e) {
switch (String(e).toLowerCase()) {
case "hex":
case "utf8":
case "utf-8":
case "ascii":
case "latin1":
case "binary":
case "base64":
case "ucs2":
case "ucs-2":
case "utf16le":
case "utf-16le":
return !0;

default:
return !1;
}
};
c.concat = function(e, t) {
if (!r(e)) throw new TypeError('"list" argument must be an Array of Buffers');
if (0 === e.length) return c.alloc(0);
var i;
if (void 0 === t) {
t = 0;
for (i = 0; i < e.length; ++i) t += e[i].length;
}
var o = c.allocUnsafe(t), n = 0;
for (i = 0; i < e.length; ++i) {
var a = e[i];
if (!c.isBuffer(a)) throw new TypeError('"list" argument must be an Array of Buffers');
a.copy(o, n);
n += a.length;
}
return o;
};
function b(e, t) {
if (c.isBuffer(e)) return e.length;
if ("undefined" != typeof ArrayBuffer && "function" == typeof ArrayBuffer.isView && (ArrayBuffer.isView(e) || e instanceof ArrayBuffer)) return e.byteLength;
"string" != typeof e && (e = "" + e);
var i = e.length;
if (0 === i) return 0;
for (var o = !1; ;) switch (t) {
case "ascii":
case "latin1":
case "binary":
return i;

case "utf8":
case "utf-8":
case void 0:
return K(e).length;

case "ucs2":
case "ucs-2":
case "utf16le":
case "utf-16le":
return 2 * i;

case "hex":
return i >>> 1;

case "base64":
return Q(e).length;

default:
if (o) return K(e).length;
t = ("" + t).toLowerCase();
o = !0;
}
}
c.byteLength = b;
function _(e, t, i) {
var o = !1;
(void 0 === t || t < 0) && (t = 0);
if (t > this.length) return "";
(void 0 === i || i > this.length) && (i = this.length);
if (i <= 0) return "";
if ((i >>>= 0) <= (t >>>= 0)) return "";
e || (e = "utf8");
for (;;) switch (e) {
case "hex":
return U(this, t, i);

case "utf8":
case "utf-8":
return k(this, t, i);

case "ascii":
return B(this, t, i);

case "latin1":
case "binary":
return L(this, t, i);

case "base64":
return P(this, t, i);

case "ucs2":
case "ucs-2":
case "utf16le":
case "utf-16le":
return D(this, t, i);

default:
if (o) throw new TypeError("Unknown encoding: " + e);
e = (e + "").toLowerCase();
o = !0;
}
}
c.prototype._isBuffer = !0;
function v(e, t, i) {
var o = e[t];
e[t] = e[i];
e[i] = o;
}
c.prototype.swap16 = function() {
var e = this.length;
if (e % 2 != 0) throw new RangeError("Buffer size must be a multiple of 16-bits");
for (var t = 0; t < e; t += 2) v(this, t, t + 1);
return this;
};
c.prototype.swap32 = function() {
var e = this.length;
if (e % 4 != 0) throw new RangeError("Buffer size must be a multiple of 32-bits");
for (var t = 0; t < e; t += 4) {
v(this, t, t + 3);
v(this, t + 1, t + 2);
}
return this;
};
c.prototype.swap64 = function() {
var e = this.length;
if (e % 8 != 0) throw new RangeError("Buffer size must be a multiple of 64-bits");
for (var t = 0; t < e; t += 8) {
v(this, t, t + 7);
v(this, t + 1, t + 6);
v(this, t + 2, t + 5);
v(this, t + 3, t + 4);
}
return this;
};
c.prototype.toString = function() {
var e = 0 | this.length;
return 0 === e ? "" : 0 === arguments.length ? k(this, 0, e) : _.apply(this, arguments);
};
c.prototype.equals = function(e) {
if (!c.isBuffer(e)) throw new TypeError("Argument must be a Buffer");
return this === e || 0 === c.compare(this, e);
};
c.prototype.inspect = function() {
var e = "", t = i.INSPECT_MAX_BYTES;
if (this.length > 0) {
e = this.toString("hex", 0, t).match(/.{2}/g).join(" ");
this.length > t && (e += " ... ");
}
return "<Buffer " + e + ">";
};
c.prototype.compare = function(e, t, i, o, n) {
if (!c.isBuffer(e)) throw new TypeError("Argument must be a Buffer");
void 0 === t && (t = 0);
void 0 === i && (i = e ? e.length : 0);
void 0 === o && (o = 0);
void 0 === n && (n = this.length);
if (t < 0 || i > e.length || o < 0 || n > this.length) throw new RangeError("out of range index");
if (o >= n && t >= i) return 0;
if (o >= n) return -1;
if (t >= i) return 1;
t >>>= 0;
i >>>= 0;
o >>>= 0;
n >>>= 0;
if (this === e) return 0;
for (var r = n - o, a = i - t, s = Math.min(r, a), l = this.slice(o, n), u = e.slice(t, i), d = 0; d < s; ++d) if (l[d] !== u[d]) {
r = l[d];
a = u[d];
break;
}
return r < a ? -1 : a < r ? 1 : 0;
};
function S(e, t, i, o, n) {
if (0 === e.length) return -1;
if ("string" == typeof i) {
o = i;
i = 0;
} else i > 2147483647 ? i = 2147483647 : i < -2147483648 && (i = -2147483648);
i = +i;
isNaN(i) && (i = n ? 0 : e.length - 1);
i < 0 && (i = e.length + i);
if (i >= e.length) {
if (n) return -1;
i = e.length - 1;
} else if (i < 0) {
if (!n) return -1;
i = 0;
}
"string" == typeof t && (t = c.from(t, o));
if (c.isBuffer(t)) return 0 === t.length ? -1 : C(e, t, i, o, n);
if ("number" == typeof t) {
t &= 255;
return c.TYPED_ARRAY_SUPPORT && "function" == typeof Uint8Array.prototype.indexOf ? n ? Uint8Array.prototype.indexOf.call(e, t, i) : Uint8Array.prototype.lastIndexOf.call(e, t, i) : C(e, [ t ], i, o, n);
}
throw new TypeError("val must be string, number or Buffer");
}
function C(e, t, i, o, n) {
var r, a = 1, s = e.length, c = t.length;
if (void 0 !== o && ("ucs2" === (o = String(o).toLowerCase()) || "ucs-2" === o || "utf16le" === o || "utf-16le" === o)) {
if (e.length < 2 || t.length < 2) return -1;
a = 2;
s /= 2;
c /= 2;
i /= 2;
}
function l(e, t) {
return 1 === a ? e[t] : e.readUInt16BE(t * a);
}
if (n) {
var u = -1;
for (r = i; r < s; r++) if (l(e, r) === l(t, -1 === u ? 0 : r - u)) {
-1 === u && (u = r);
if (r - u + 1 === c) return u * a;
} else {
-1 !== u && (r -= r - u);
u = -1;
}
} else {
i + c > s && (i = s - c);
for (r = i; r >= 0; r--) {
for (var d = !0, f = 0; f < c; f++) if (l(e, r + f) !== l(t, f)) {
d = !1;
break;
}
if (d) return r;
}
}
return -1;
}
c.prototype.includes = function(e, t, i) {
return -1 !== this.indexOf(e, t, i);
};
c.prototype.indexOf = function(e, t, i) {
return S(this, e, t, i, !0);
};
c.prototype.lastIndexOf = function(e, t, i) {
return S(this, e, t, i, !1);
};
function w(e, t, i, o) {
i = Number(i) || 0;
var n = e.length - i;
o ? (o = Number(o)) > n && (o = n) : o = n;
var r = t.length;
if (r % 2 != 0) throw new TypeError("Invalid hex string");
o > r / 2 && (o = r / 2);
for (var a = 0; a < o; ++a) {
var s = parseInt(t.substr(2 * a, 2), 16);
if (isNaN(s)) return a;
e[i + a] = s;
}
return a;
}
function A(e, t, i, o) {
return Z(K(t, e.length - i), e, i, o);
}
function R(e, t, i, o) {
return Z(X(t), e, i, o);
}
function T(e, t, i, o) {
return R(e, t, i, o);
}
function E(e, t, i, o) {
return Z(Q(t), e, i, o);
}
function M(e, t, i, o) {
return Z(J(t, e.length - i), e, i, o);
}
c.prototype.write = function(e, t, i, o) {
if (void 0 === t) {
o = "utf8";
i = this.length;
t = 0;
} else if (void 0 === i && "string" == typeof t) {
o = t;
i = this.length;
t = 0;
} else {
if (!isFinite(t)) throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");
t |= 0;
if (isFinite(i)) {
i |= 0;
void 0 === o && (o = "utf8");
} else {
o = i;
i = void 0;
}
}
var n = this.length - t;
(void 0 === i || i > n) && (i = n);
if (e.length > 0 && (i < 0 || t < 0) || t > this.length) throw new RangeError("Attempt to write outside buffer bounds");
o || (o = "utf8");
for (var r = !1; ;) switch (o) {
case "hex":
return w(this, e, t, i);

case "utf8":
case "utf-8":
return A(this, e, t, i);

case "ascii":
return R(this, e, t, i);

case "latin1":
case "binary":
return T(this, e, t, i);

case "base64":
return E(this, e, t, i);

case "ucs2":
case "ucs-2":
case "utf16le":
case "utf-16le":
return M(this, e, t, i);

default:
if (r) throw new TypeError("Unknown encoding: " + o);
o = ("" + o).toLowerCase();
r = !0;
}
};
c.prototype.toJSON = function() {
return {
type: "Buffer",
data: Array.prototype.slice.call(this._arr || this, 0)
};
};
function P(e, t, i) {
return 0 === t && i === e.length ? o.fromByteArray(e) : o.fromByteArray(e.slice(t, i));
}
function k(e, t, i) {
i = Math.min(e.length, i);
for (var o = [], n = t; n < i; ) {
var r = e[n], a = null, s = r > 239 ? 4 : r > 223 ? 3 : r > 191 ? 2 : 1;
if (n + s <= i) {
var c, l, u, d;
switch (s) {
case 1:
r < 128 && (a = r);
break;

case 2:
128 == (192 & (c = e[n + 1])) && (d = (31 & r) << 6 | 63 & c) > 127 && (a = d);
break;

case 3:
c = e[n + 1];
l = e[n + 2];
128 == (192 & c) && 128 == (192 & l) && (d = (15 & r) << 12 | (63 & c) << 6 | 63 & l) > 2047 && (d < 55296 || d > 57343) && (a = d);
break;

case 4:
c = e[n + 1];
l = e[n + 2];
u = e[n + 3];
128 == (192 & c) && 128 == (192 & l) && 128 == (192 & u) && (d = (15 & r) << 18 | (63 & c) << 12 | (63 & l) << 6 | 63 & u) > 65535 && d < 1114112 && (a = d);
}
}
if (null === a) {
a = 65533;
s = 1;
} else if (a > 65535) {
a -= 65536;
o.push(a >>> 10 & 1023 | 55296);
a = 56320 | 1023 & a;
}
o.push(a);
n += s;
}
return N(o);
}
var I = 4096;
function N(e) {
var t = e.length;
if (t <= I) return String.fromCharCode.apply(String, e);
for (var i = "", o = 0; o < t; ) i += String.fromCharCode.apply(String, e.slice(o, o += I));
return i;
}
function B(e, t, i) {
var o = "";
i = Math.min(e.length, i);
for (var n = t; n < i; ++n) o += String.fromCharCode(127 & e[n]);
return o;
}
function L(e, t, i) {
var o = "";
i = Math.min(e.length, i);
for (var n = t; n < i; ++n) o += String.fromCharCode(e[n]);
return o;
}
function U(e, t, i) {
var o = e.length;
(!t || t < 0) && (t = 0);
(!i || i < 0 || i > o) && (i = o);
for (var n = "", r = t; r < i; ++r) n += Y(e[r]);
return n;
}
function D(e, t, i) {
for (var o = e.slice(t, i), n = "", r = 0; r < o.length; r += 2) n += String.fromCharCode(o[r] + 256 * o[r + 1]);
return n;
}
c.prototype.slice = function(e, t) {
var i, o = this.length;
e = ~~e;
t = void 0 === t ? o : ~~t;
e < 0 ? (e += o) < 0 && (e = 0) : e > o && (e = o);
t < 0 ? (t += o) < 0 && (t = 0) : t > o && (t = o);
t < e && (t = e);
if (c.TYPED_ARRAY_SUPPORT) (i = this.subarray(e, t)).__proto__ = c.prototype; else {
var n = t - e;
i = new c(n, void 0);
for (var r = 0; r < n; ++r) i[r] = this[r + e];
}
return i;
};
function F(e, t, i) {
if (e % 1 != 0 || e < 0) throw new RangeError("offset is not uint");
if (e + t > i) throw new RangeError("Trying to access beyond buffer length");
}
c.prototype.readUIntLE = function(e, t, i) {
e |= 0;
t |= 0;
i || F(e, t, this.length);
for (var o = this[e], n = 1, r = 0; ++r < t && (n *= 256); ) o += this[e + r] * n;
return o;
};
c.prototype.readUIntBE = function(e, t, i) {
e |= 0;
t |= 0;
i || F(e, t, this.length);
for (var o = this[e + --t], n = 1; t > 0 && (n *= 256); ) o += this[e + --t] * n;
return o;
};
c.prototype.readUInt8 = function(e, t) {
t || F(e, 1, this.length);
return this[e];
};
c.prototype.readUInt16LE = function(e, t) {
t || F(e, 2, this.length);
return this[e] | this[e + 1] << 8;
};
c.prototype.readUInt16BE = function(e, t) {
t || F(e, 2, this.length);
return this[e] << 8 | this[e + 1];
};
c.prototype.readUInt32LE = function(e, t) {
t || F(e, 4, this.length);
return (this[e] | this[e + 1] << 8 | this[e + 2] << 16) + 16777216 * this[e + 3];
};
c.prototype.readUInt32BE = function(e, t) {
t || F(e, 4, this.length);
return 16777216 * this[e] + (this[e + 1] << 16 | this[e + 2] << 8 | this[e + 3]);
};
c.prototype.readIntLE = function(e, t, i) {
e |= 0;
t |= 0;
i || F(e, t, this.length);
for (var o = this[e], n = 1, r = 0; ++r < t && (n *= 256); ) o += this[e + r] * n;
o >= (n *= 128) && (o -= Math.pow(2, 8 * t));
return o;
};
c.prototype.readIntBE = function(e, t, i) {
e |= 0;
t |= 0;
i || F(e, t, this.length);
for (var o = t, n = 1, r = this[e + --o]; o > 0 && (n *= 256); ) r += this[e + --o] * n;
r >= (n *= 128) && (r -= Math.pow(2, 8 * t));
return r;
};
c.prototype.readInt8 = function(e, t) {
t || F(e, 1, this.length);
return 128 & this[e] ? -1 * (255 - this[e] + 1) : this[e];
};
c.prototype.readInt16LE = function(e, t) {
t || F(e, 2, this.length);
var i = this[e] | this[e + 1] << 8;
return 32768 & i ? 4294901760 | i : i;
};
c.prototype.readInt16BE = function(e, t) {
t || F(e, 2, this.length);
var i = this[e + 1] | this[e] << 8;
return 32768 & i ? 4294901760 | i : i;
};
c.prototype.readInt32LE = function(e, t) {
t || F(e, 4, this.length);
return this[e] | this[e + 1] << 8 | this[e + 2] << 16 | this[e + 3] << 24;
};
c.prototype.readInt32BE = function(e, t) {
t || F(e, 4, this.length);
return this[e] << 24 | this[e + 1] << 16 | this[e + 2] << 8 | this[e + 3];
};
c.prototype.readFloatLE = function(e, t) {
t || F(e, 4, this.length);
return n.read(this, e, !0, 23, 4);
};
c.prototype.readFloatBE = function(e, t) {
t || F(e, 4, this.length);
return n.read(this, e, !1, 23, 4);
};
c.prototype.readDoubleLE = function(e, t) {
t || F(e, 8, this.length);
return n.read(this, e, !0, 52, 8);
};
c.prototype.readDoubleBE = function(e, t) {
t || F(e, 8, this.length);
return n.read(this, e, !1, 52, 8);
};
function O(e, t, i, o, n, r) {
if (!c.isBuffer(e)) throw new TypeError('"buffer" argument must be a Buffer instance');
if (t > n || t < r) throw new RangeError('"value" argument is out of bounds');
if (i + o > e.length) throw new RangeError("Index out of range");
}
c.prototype.writeUIntLE = function(e, t, i, o) {
e = +e;
t |= 0;
i |= 0;
if (!o) {
O(this, e, t, i, Math.pow(2, 8 * i) - 1, 0);
}
var n = 1, r = 0;
this[t] = 255 & e;
for (;++r < i && (n *= 256); ) this[t + r] = e / n & 255;
return t + i;
};
c.prototype.writeUIntBE = function(e, t, i, o) {
e = +e;
t |= 0;
i |= 0;
if (!o) {
O(this, e, t, i, Math.pow(2, 8 * i) - 1, 0);
}
var n = i - 1, r = 1;
this[t + n] = 255 & e;
for (;--n >= 0 && (r *= 256); ) this[t + n] = e / r & 255;
return t + i;
};
c.prototype.writeUInt8 = function(e, t, i) {
e = +e;
t |= 0;
i || O(this, e, t, 1, 255, 0);
c.TYPED_ARRAY_SUPPORT || (e = Math.floor(e));
this[t] = 255 & e;
return t + 1;
};
function x(e, t, i, o) {
t < 0 && (t = 65535 + t + 1);
for (var n = 0, r = Math.min(e.length - i, 2); n < r; ++n) e[i + n] = (t & 255 << 8 * (o ? n : 1 - n)) >>> 8 * (o ? n : 1 - n);
}
c.prototype.writeUInt16LE = function(e, t, i) {
e = +e;
t |= 0;
i || O(this, e, t, 2, 65535, 0);
if (c.TYPED_ARRAY_SUPPORT) {
this[t] = 255 & e;
this[t + 1] = e >>> 8;
} else x(this, e, t, !0);
return t + 2;
};
c.prototype.writeUInt16BE = function(e, t, i) {
e = +e;
t |= 0;
i || O(this, e, t, 2, 65535, 0);
if (c.TYPED_ARRAY_SUPPORT) {
this[t] = e >>> 8;
this[t + 1] = 255 & e;
} else x(this, e, t, !1);
return t + 2;
};
function G(e, t, i, o) {
t < 0 && (t = 4294967295 + t + 1);
for (var n = 0, r = Math.min(e.length - i, 4); n < r; ++n) e[i + n] = t >>> 8 * (o ? n : 3 - n) & 255;
}
c.prototype.writeUInt32LE = function(e, t, i) {
e = +e;
t |= 0;
i || O(this, e, t, 4, 4294967295, 0);
if (c.TYPED_ARRAY_SUPPORT) {
this[t + 3] = e >>> 24;
this[t + 2] = e >>> 16;
this[t + 1] = e >>> 8;
this[t] = 255 & e;
} else G(this, e, t, !0);
return t + 4;
};
c.prototype.writeUInt32BE = function(e, t, i) {
e = +e;
t |= 0;
i || O(this, e, t, 4, 4294967295, 0);
if (c.TYPED_ARRAY_SUPPORT) {
this[t] = e >>> 24;
this[t + 1] = e >>> 16;
this[t + 2] = e >>> 8;
this[t + 3] = 255 & e;
} else G(this, e, t, !1);
return t + 4;
};
c.prototype.writeIntLE = function(e, t, i, o) {
e = +e;
t |= 0;
if (!o) {
var n = Math.pow(2, 8 * i - 1);
O(this, e, t, i, n - 1, -n);
}
var r = 0, a = 1, s = 0;
this[t] = 255 & e;
for (;++r < i && (a *= 256); ) {
e < 0 && 0 === s && 0 !== this[t + r - 1] && (s = 1);
this[t + r] = (e / a >> 0) - s & 255;
}
return t + i;
};
c.prototype.writeIntBE = function(e, t, i, o) {
e = +e;
t |= 0;
if (!o) {
var n = Math.pow(2, 8 * i - 1);
O(this, e, t, i, n - 1, -n);
}
var r = i - 1, a = 1, s = 0;
this[t + r] = 255 & e;
for (;--r >= 0 && (a *= 256); ) {
e < 0 && 0 === s && 0 !== this[t + r + 1] && (s = 1);
this[t + r] = (e / a >> 0) - s & 255;
}
return t + i;
};
c.prototype.writeInt8 = function(e, t, i) {
e = +e;
t |= 0;
i || O(this, e, t, 1, 127, -128);
c.TYPED_ARRAY_SUPPORT || (e = Math.floor(e));
e < 0 && (e = 255 + e + 1);
this[t] = 255 & e;
return t + 1;
};
c.prototype.writeInt16LE = function(e, t, i) {
e = +e;
t |= 0;
i || O(this, e, t, 2, 32767, -32768);
if (c.TYPED_ARRAY_SUPPORT) {
this[t] = 255 & e;
this[t + 1] = e >>> 8;
} else x(this, e, t, !0);
return t + 2;
};
c.prototype.writeInt16BE = function(e, t, i) {
e = +e;
t |= 0;
i || O(this, e, t, 2, 32767, -32768);
if (c.TYPED_ARRAY_SUPPORT) {
this[t] = e >>> 8;
this[t + 1] = 255 & e;
} else x(this, e, t, !1);
return t + 2;
};
c.prototype.writeInt32LE = function(e, t, i) {
e = +e;
t |= 0;
i || O(this, e, t, 4, 2147483647, -2147483648);
if (c.TYPED_ARRAY_SUPPORT) {
this[t] = 255 & e;
this[t + 1] = e >>> 8;
this[t + 2] = e >>> 16;
this[t + 3] = e >>> 24;
} else G(this, e, t, !0);
return t + 4;
};
c.prototype.writeInt32BE = function(e, t, i) {
e = +e;
t |= 0;
i || O(this, e, t, 4, 2147483647, -2147483648);
e < 0 && (e = 4294967295 + e + 1);
if (c.TYPED_ARRAY_SUPPORT) {
this[t] = e >>> 24;
this[t + 1] = e >>> 16;
this[t + 2] = e >>> 8;
this[t + 3] = 255 & e;
} else G(this, e, t, !1);
return t + 4;
};
function W(e, t, i, o, n, r) {
if (i + o > e.length) throw new RangeError("Index out of range");
if (i < 0) throw new RangeError("Index out of range");
}
function V(e, t, i, o, r) {
r || W(e, 0, i, 4);
n.write(e, t, i, o, 23, 4);
return i + 4;
}
c.prototype.writeFloatLE = function(e, t, i) {
return V(this, e, t, !0, i);
};
c.prototype.writeFloatBE = function(e, t, i) {
return V(this, e, t, !1, i);
};
function j(e, t, i, o, r) {
r || W(e, 0, i, 8);
n.write(e, t, i, o, 52, 8);
return i + 8;
}
c.prototype.writeDoubleLE = function(e, t, i) {
return j(this, e, t, !0, i);
};
c.prototype.writeDoubleBE = function(e, t, i) {
return j(this, e, t, !1, i);
};
c.prototype.copy = function(e, t, i, o) {
i || (i = 0);
o || 0 === o || (o = this.length);
t >= e.length && (t = e.length);
t || (t = 0);
o > 0 && o < i && (o = i);
if (o === i) return 0;
if (0 === e.length || 0 === this.length) return 0;
if (t < 0) throw new RangeError("targetStart out of bounds");
if (i < 0 || i >= this.length) throw new RangeError("sourceStart out of bounds");
if (o < 0) throw new RangeError("sourceEnd out of bounds");
o > this.length && (o = this.length);
e.length - t < o - i && (o = e.length - t + i);
var n, r = o - i;
if (this === e && i < t && t < o) for (n = r - 1; n >= 0; --n) e[n + t] = this[n + i]; else if (r < 1e3 || !c.TYPED_ARRAY_SUPPORT) for (n = 0; n < r; ++n) e[n + t] = this[n + i]; else Uint8Array.prototype.set.call(e, this.subarray(i, i + r), t);
return r;
};
c.prototype.fill = function(e, t, i, o) {
if ("string" == typeof e) {
if ("string" == typeof t) {
o = t;
t = 0;
i = this.length;
} else if ("string" == typeof i) {
o = i;
i = this.length;
}
if (1 === e.length) {
var n = e.charCodeAt(0);
n < 256 && (e = n);
}
if (void 0 !== o && "string" != typeof o) throw new TypeError("encoding must be a string");
if ("string" == typeof o && !c.isEncoding(o)) throw new TypeError("Unknown encoding: " + o);
} else "number" == typeof e && (e &= 255);
if (t < 0 || this.length < t || this.length < i) throw new RangeError("Out of range index");
if (i <= t) return this;
t >>>= 0;
i = void 0 === i ? this.length : i >>> 0;
e || (e = 0);
var r;
if ("number" == typeof e) for (r = t; r < i; ++r) this[r] = e; else {
var a = c.isBuffer(e) ? e : K(new c(e, o).toString()), s = a.length;
for (r = 0; r < i - t; ++r) this[r + t] = a[r % s];
}
return this;
};
var H = /[^+\/0-9A-Za-z-_]/g;
function q(e) {
if ((e = z(e).replace(H, "")).length < 2) return "";
for (;e.length % 4 != 0; ) e += "=";
return e;
}
function z(e) {
return e.trim ? e.trim() : e.replace(/^\s+|\s+$/g, "");
}
function Y(e) {
return e < 16 ? "0" + e.toString(16) : e.toString(16);
}
function K(e, t) {
t = t || Infinity;
for (var i, o = e.length, n = null, r = [], a = 0; a < o; ++a) {
if ((i = e.charCodeAt(a)) > 55295 && i < 57344) {
if (!n) {
if (i > 56319) {
(t -= 3) > -1 && r.push(239, 191, 189);
continue;
}
if (a + 1 === o) {
(t -= 3) > -1 && r.push(239, 191, 189);
continue;
}
n = i;
continue;
}
if (i < 56320) {
(t -= 3) > -1 && r.push(239, 191, 189);
n = i;
continue;
}
i = 65536 + (n - 55296 << 10 | i - 56320);
} else n && (t -= 3) > -1 && r.push(239, 191, 189);
n = null;
if (i < 128) {
if ((t -= 1) < 0) break;
r.push(i);
} else if (i < 2048) {
if ((t -= 2) < 0) break;
r.push(i >> 6 | 192, 63 & i | 128);
} else if (i < 65536) {
if ((t -= 3) < 0) break;
r.push(i >> 12 | 224, i >> 6 & 63 | 128, 63 & i | 128);
} else {
if (!(i < 1114112)) throw new Error("Invalid code point");
if ((t -= 4) < 0) break;
r.push(i >> 18 | 240, i >> 12 & 63 | 128, i >> 6 & 63 | 128, 63 & i | 128);
}
}
return r;
}
function X(e) {
for (var t = [], i = 0; i < e.length; ++i) t.push(255 & e.charCodeAt(i));
return t;
}
function J(e, t) {
for (var i, o, n, r = [], a = 0; a < e.length && !((t -= 2) < 0); ++a) {
o = (i = e.charCodeAt(a)) >> 8;
n = i % 256;
r.push(n);
r.push(o);
}
return r;
}
function Q(e) {
return o.toByteArray(q(e));
}
function Z(e, t, i, o) {
for (var n = 0; n < o && !(n + i >= t.length || n >= e.length); ++n) t[n + i] = e[n];
return n;
}
function $(e) {
return e != e;
}
}).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {});
}, {
"base64-js": 15,
ieee754: 99,
isarray: 48
} ],
48: [ function(e, t, i) {
var o = {}.toString;
t.exports = Array.isArray || function(e) {
return "[object Array]" == o.call(e);
};
}, {} ],
49: [ function(e, t, i) {
var o = e("safe-buffer").Buffer, n = e("stream").Transform, r = e("string_decoder").StringDecoder;
function a(e) {
n.call(this);
this.hashMode = "string" == typeof e;
this.hashMode ? this[e] = this._finalOrDigest : this.final = this._finalOrDigest;
if (this._final) {
this.__final = this._final;
this._final = null;
}
this._decoder = null;
this._encoding = null;
}
e("inherits")(a, n);
a.prototype.update = function(e, t, i) {
"string" == typeof e && (e = o.from(e, t));
var n = this._update(e);
if (this.hashMode) return this;
i && (n = this._toString(n, i));
return n;
};
a.prototype.setAutoPadding = function() {};
a.prototype.getAuthTag = function() {
throw new Error("trying to get auth tag in unsupported state");
};
a.prototype.setAuthTag = function() {
throw new Error("trying to set auth tag in unsupported state");
};
a.prototype.setAAD = function() {
throw new Error("trying to set aad in unsupported state");
};
a.prototype._transform = function(e, t, i) {
var o;
try {
this.hashMode ? this._update(e) : this.push(this._update(e));
} catch (e) {
o = e;
} finally {
i(o);
}
};
a.prototype._flush = function(e) {
var t;
try {
this.push(this.__final());
} catch (e) {
t = e;
}
e(t);
};
a.prototype._finalOrDigest = function(e) {
var t = this.__final() || o.alloc(0);
e && (t = this._toString(t, e, !0));
return t;
};
a.prototype._toString = function(e, t, i) {
if (!this._decoder) {
this._decoder = new r(t);
this._encoding = t;
}
if (this._encoding !== t) throw new Error("can't switch encodings");
var o = this._decoder.write(e);
i && (o += this._decoder.end());
return o;
};
t.exports = a;
}, {
inherits: 101,
"safe-buffer": 144,
stream: 153,
string_decoder: 154
} ],
50: [ function(e, t, i) {
(function(e) {
i.isArray = function(e) {
return Array.isArray ? Array.isArray(e) : "[object Array]" === t(e);
};
i.isBoolean = function(e) {
return "boolean" == typeof e;
};
i.isNull = function(e) {
return null === e;
};
i.isNullOrUndefined = function(e) {
return null == e;
};
i.isNumber = function(e) {
return "number" == typeof e;
};
i.isString = function(e) {
return "string" == typeof e;
};
i.isSymbol = function(e) {
return "symbol" == typeof e;
};
i.isUndefined = function(e) {
return void 0 === e;
};
i.isRegExp = function(e) {
return "[object RegExp]" === t(e);
};
i.isObject = function(e) {
return "object" == typeof e && null !== e;
};
i.isDate = function(e) {
return "[object Date]" === t(e);
};
i.isError = function(e) {
return "[object Error]" === t(e) || e instanceof Error;
};
i.isFunction = function(e) {
return "function" == typeof e;
};
i.isPrimitive = function(e) {
return null === e || "boolean" == typeof e || "number" == typeof e || "string" == typeof e || "symbol" == typeof e || "undefined" == typeof e;
};
i.isBuffer = e.isBuffer;
function t(e) {
return Object.prototype.toString.call(e);
}
}).call(this, {
isBuffer: e("../../is-buffer/index.js")
});
}, {
"../../is-buffer/index.js": 102
} ],
51: [ function(e, t, i) {
(function(i) {
var o = e("elliptic"), n = e("bn.js");
t.exports = function(e) {
return new a(e);
};
var r = {
secp256k1: {
name: "secp256k1",
byteLength: 32
},
secp224r1: {
name: "p224",
byteLength: 28
},
prime256v1: {
name: "p256",
byteLength: 32
},
prime192v1: {
name: "p192",
byteLength: 24
},
ed25519: {
name: "ed25519",
byteLength: 32
},
secp384r1: {
name: "p384",
byteLength: 48
},
secp521r1: {
name: "p521",
byteLength: 66
}
};
r.p224 = r.secp224r1;
r.p256 = r.secp256r1 = r.prime256v1;
r.p192 = r.secp192r1 = r.prime192v1;
r.p384 = r.secp384r1;
r.p521 = r.secp521r1;
function a(e) {
this.curveType = r[e];
this.curveType || (this.curveType = {
name: e
});
this.curve = new o.ec(this.curveType.name);
this.keys = void 0;
}
a.prototype.generateKeys = function(e, t) {
this.keys = this.curve.genKeyPair();
return this.getPublicKey(e, t);
};
a.prototype.computeSecret = function(e, t, o) {
t = t || "utf8";
i.isBuffer(e) || (e = new i(e, t));
return s(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(), o, this.curveType.byteLength);
};
a.prototype.getPublicKey = function(e, t) {
var i = this.keys.getPublic("compressed" === t, !0);
"hybrid" === t && (i[i.length - 1] % 2 ? i[0] = 7 : i[0] = 6);
return s(i, e);
};
a.prototype.getPrivateKey = function(e) {
return s(this.keys.getPrivate(), e);
};
a.prototype.setPublicKey = function(e, t) {
t = t || "utf8";
i.isBuffer(e) || (e = new i(e, t));
this.keys._importPublic(e);
return this;
};
a.prototype.setPrivateKey = function(e, t) {
t = t || "utf8";
i.isBuffer(e) || (e = new i(e, t));
var o = new n(e);
o = o.toString(16);
this.keys = this.curve.genKeyPair();
this.keys._importPrivate(o);
return this;
};
function s(e, t, o) {
Array.isArray(e) || (e = e.toArray());
var n = new i(e);
if (o && n.length < o) {
var r = new i(o - n.length);
r.fill(0);
n = i.concat([ r, n ]);
}
return t ? n.toString(t) : n;
}
}).call(this, e("buffer").Buffer);
}, {
"bn.js": 16,
buffer: 47,
elliptic: 67
} ],
52: [ function(e, t, i) {
"use strict";
var o = e("inherits"), n = e("md5.js"), r = e("ripemd160"), a = e("sha.js"), s = e("cipher-base");
function c(e) {
s.call(this, "digest");
this._hash = e;
}
o(c, s);
c.prototype._update = function(e) {
this._hash.update(e);
};
c.prototype._final = function() {
return this._hash.digest();
};
t.exports = function(e) {
return "md5" === (e = e.toLowerCase()) ? new n() : "rmd160" === e || "ripemd160" === e ? new r() : new c(a(e));
};
}, {
"cipher-base": 49,
inherits: 101,
"md5.js": 103,
ripemd160: 143,
"sha.js": 146
} ],
53: [ function(e, t, i) {
var o = e("md5.js");
t.exports = function(e) {
return new o().update(e).digest();
};
}, {
"md5.js": 103
} ],
54: [ function(e, t, i) {
"use strict";
var o = e("inherits"), n = e("./legacy"), r = e("cipher-base"), a = e("safe-buffer").Buffer, s = e("create-hash/md5"), c = e("ripemd160"), l = e("sha.js"), u = a.alloc(128);
function d(e, t) {
r.call(this, "digest");
"string" == typeof t && (t = a.from(t));
var i = "sha512" === e || "sha384" === e ? 128 : 64;
this._alg = e;
this._key = t;
if (t.length > i) {
t = ("rmd160" === e ? new c() : l(e)).update(t).digest();
} else t.length < i && (t = a.concat([ t, u ], i));
for (var o = this._ipad = a.allocUnsafe(i), n = this._opad = a.allocUnsafe(i), s = 0; s < i; s++) {
o[s] = 54 ^ t[s];
n[s] = 92 ^ t[s];
}
this._hash = "rmd160" === e ? new c() : l(e);
this._hash.update(o);
}
o(d, r);
d.prototype._update = function(e) {
this._hash.update(e);
};
d.prototype._final = function() {
var e = this._hash.digest();
return ("rmd160" === this._alg ? new c() : l(this._alg)).update(this._opad).update(e).digest();
};
t.exports = function(e, t) {
return "rmd160" === (e = e.toLowerCase()) || "ripemd160" === e ? new d("rmd160", t) : "md5" === e ? new n(s, t) : new d(e, t);
};
}, {
"./legacy": 55,
"cipher-base": 49,
"create-hash/md5": 53,
inherits: 101,
ripemd160: 143,
"safe-buffer": 144,
"sha.js": 146
} ],
55: [ function(e, t, i) {
"use strict";
var o = e("inherits"), n = e("safe-buffer").Buffer, r = e("cipher-base"), a = n.alloc(128), s = 64;
function c(e, t) {
r.call(this, "digest");
"string" == typeof t && (t = n.from(t));
this._alg = e;
this._key = t;
t.length > s ? t = e(t) : t.length < s && (t = n.concat([ t, a ], s));
for (var i = this._ipad = n.allocUnsafe(s), o = this._opad = n.allocUnsafe(s), c = 0; c < s; c++) {
i[c] = 54 ^ t[c];
o[c] = 92 ^ t[c];
}
this._hash = [ i ];
}
o(c, r);
c.prototype._update = function(e) {
this._hash.push(e);
};
c.prototype._final = function() {
var e = this._alg(n.concat(this._hash));
return this._alg(n.concat([ this._opad, e ]));
};
t.exports = c;
}, {
"cipher-base": 49,
inherits: 101,
"safe-buffer": 144
} ],
56: [ function(e, t, i) {
"use strict";
i.randomBytes = i.rng = i.pseudoRandomBytes = i.prng = e("randombytes");
i.createHash = i.Hash = e("create-hash");
i.createHmac = i.Hmac = e("create-hmac");
var o = e("browserify-sign/algos"), n = Object.keys(o), r = [ "sha1", "sha224", "sha256", "sha384", "sha512", "md5", "rmd160" ].concat(n);
i.getHashes = function() {
return r;
};
var a = e("pbkdf2");
i.pbkdf2 = a.pbkdf2;
i.pbkdf2Sync = a.pbkdf2Sync;
var s = e("browserify-cipher");
i.Cipher = s.Cipher;
i.createCipher = s.createCipher;
i.Cipheriv = s.Cipheriv;
i.createCipheriv = s.createCipheriv;
i.Decipher = s.Decipher;
i.createDecipher = s.createDecipher;
i.Decipheriv = s.Decipheriv;
i.createDecipheriv = s.createDecipheriv;
i.getCiphers = s.getCiphers;
i.listCiphers = s.listCiphers;
var c = e("diffie-hellman");
i.DiffieHellmanGroup = c.DiffieHellmanGroup;
i.createDiffieHellmanGroup = c.createDiffieHellmanGroup;
i.getDiffieHellman = c.getDiffieHellman;
i.createDiffieHellman = c.createDiffieHellman;
i.DiffieHellman = c.DiffieHellman;
var l = e("browserify-sign");
i.createSign = l.createSign;
i.Sign = l.Sign;
i.createVerify = l.createVerify;
i.Verify = l.Verify;
i.createECDH = e("create-ecdh");
var u = e("public-encrypt");
i.publicEncrypt = u.publicEncrypt;
i.privateEncrypt = u.privateEncrypt;
i.publicDecrypt = u.publicDecrypt;
i.privateDecrypt = u.privateDecrypt;
var d = e("randomfill");
i.randomFill = d.randomFill;
i.randomFillSync = d.randomFillSync;
i.createCredentials = function() {
throw new Error([ "sorry, createCredentials is not implemented yet", "we accept pull requests", "https://github.com/crypto-browserify/crypto-browserify" ].join("\n"));
};
i.constants = {
DH_CHECK_P_NOT_SAFE_PRIME: 2,
DH_CHECK_P_NOT_PRIME: 1,
DH_UNABLE_TO_CHECK_GENERATOR: 4,
DH_NOT_SUITABLE_GENERATOR: 8,
NPN_ENABLED: 1,
ALPN_ENABLED: 1,
RSA_PKCS1_PADDING: 1,
RSA_SSLV23_PADDING: 2,
RSA_NO_PADDING: 3,
RSA_PKCS1_OAEP_PADDING: 4,
RSA_X931_PADDING: 5,
RSA_PKCS1_PSS_PADDING: 6,
POINT_CONVERSION_COMPRESSED: 2,
POINT_CONVERSION_UNCOMPRESSED: 4,
POINT_CONVERSION_HYBRID: 6
};
}, {
"browserify-cipher": 36,
"browserify-sign": 43,
"browserify-sign/algos": 40,
"create-ecdh": 51,
"create-hash": 52,
"create-hmac": 54,
"diffie-hellman": 63,
pbkdf2: 113,
"public-encrypt": 120,
randombytes: 126,
randomfill: 127
} ],
57: [ function(e, t, i) {
"use strict";
i.utils = e("./des/utils");
i.Cipher = e("./des/cipher");
i.DES = e("./des/des");
i.CBC = e("./des/cbc");
i.EDE = e("./des/ede");
}, {
"./des/cbc": 58,
"./des/cipher": 59,
"./des/des": 60,
"./des/ede": 61,
"./des/utils": 62
} ],
58: [ function(e, t, i) {
"use strict";
var o = e("minimalistic-assert"), n = e("inherits"), r = {};
function a(e) {
o.equal(e.length, 8, "Invalid IV length");
this.iv = new Array(8);
for (var t = 0; t < this.iv.length; t++) this.iv[t] = e[t];
}
i.instantiate = function(e) {
function t(t) {
e.call(this, t);
this._cbcInit();
}
n(t, e);
for (var i = Object.keys(r), o = 0; o < i.length; o++) {
var a = i[o];
t.prototype[a] = r[a];
}
t.create = function(e) {
return new t(e);
};
return t;
};
r._cbcInit = function() {
var e = new a(this.options.iv);
this._cbcState = e;
};
r._update = function(e, t, i, o) {
var n = this._cbcState, r = this.constructor.super_.prototype, a = n.iv;
if ("encrypt" === this.type) {
for (var s = 0; s < this.blockSize; s++) a[s] ^= e[t + s];
r._update.call(this, a, 0, i, o);
for (s = 0; s < this.blockSize; s++) a[s] = i[o + s];
} else {
r._update.call(this, e, t, i, o);
for (s = 0; s < this.blockSize; s++) i[o + s] ^= a[s];
for (s = 0; s < this.blockSize; s++) a[s] = e[t + s];
}
};
}, {
inherits: 101,
"minimalistic-assert": 105
} ],
59: [ function(e, t, i) {
"use strict";
var o = e("minimalistic-assert");
function n(e) {
this.options = e;
this.type = this.options.type;
this.blockSize = 8;
this._init();
this.buffer = new Array(this.blockSize);
this.bufferOff = 0;
}
t.exports = n;
n.prototype._init = function() {};
n.prototype.update = function(e) {
return 0 === e.length ? [] : "decrypt" === this.type ? this._updateDecrypt(e) : this._updateEncrypt(e);
};
n.prototype._buffer = function(e, t) {
for (var i = Math.min(this.buffer.length - this.bufferOff, e.length - t), o = 0; o < i; o++) this.buffer[this.bufferOff + o] = e[t + o];
this.bufferOff += i;
return i;
};
n.prototype._flushBuffer = function(e, t) {
this._update(this.buffer, 0, e, t);
this.bufferOff = 0;
return this.blockSize;
};
n.prototype._updateEncrypt = function(e) {
var t = 0, i = 0, o = (this.bufferOff + e.length) / this.blockSize | 0, n = new Array(o * this.blockSize);
if (0 !== this.bufferOff) {
t += this._buffer(e, t);
this.bufferOff === this.buffer.length && (i += this._flushBuffer(n, i));
}
for (var r = e.length - (e.length - t) % this.blockSize; t < r; t += this.blockSize) {
this._update(e, t, n, i);
i += this.blockSize;
}
for (;t < e.length; t++, this.bufferOff++) this.buffer[this.bufferOff] = e[t];
return n;
};
n.prototype._updateDecrypt = function(e) {
for (var t = 0, i = 0, o = Math.ceil((this.bufferOff + e.length) / this.blockSize) - 1, n = new Array(o * this.blockSize); o > 0; o--) {
t += this._buffer(e, t);
i += this._flushBuffer(n, i);
}
t += this._buffer(e, t);
return n;
};
n.prototype.final = function(e) {
var t, i;
e && (t = this.update(e));
i = "encrypt" === this.type ? this._finalEncrypt() : this._finalDecrypt();
return t ? t.concat(i) : i;
};
n.prototype._pad = function(e, t) {
if (0 === t) return !1;
for (;t < e.length; ) e[t++] = 0;
return !0;
};
n.prototype._finalEncrypt = function() {
if (!this._pad(this.buffer, this.bufferOff)) return [];
var e = new Array(this.blockSize);
this._update(this.buffer, 0, e, 0);
return e;
};
n.prototype._unpad = function(e) {
return e;
};
n.prototype._finalDecrypt = function() {
o.equal(this.bufferOff, this.blockSize, "Not enough data to decrypt");
var e = new Array(this.blockSize);
this._flushBuffer(e, 0);
return this._unpad(e);
};
}, {
"minimalistic-assert": 105
} ],
60: [ function(e, t, i) {
"use strict";
var o = e("minimalistic-assert"), n = e("inherits"), r = e("../des"), a = r.utils, s = r.Cipher;
function c() {
this.tmp = new Array(2);
this.keys = null;
}
function l(e) {
s.call(this, e);
var t = new c();
this._desState = t;
this.deriveKeys(t, e.key);
}
n(l, s);
t.exports = l;
l.create = function(e) {
return new l(e);
};
var u = [ 1, 1, 2, 2, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 1 ];
l.prototype.deriveKeys = function(e, t) {
e.keys = new Array(32);
o.equal(t.length, this.blockSize, "Invalid key length");
var i = a.readUInt32BE(t, 0), n = a.readUInt32BE(t, 4);
a.pc1(i, n, e.tmp, 0);
i = e.tmp[0];
n = e.tmp[1];
for (var r = 0; r < e.keys.length; r += 2) {
var s = u[r >>> 1];
i = a.r28shl(i, s);
n = a.r28shl(n, s);
a.pc2(i, n, e.keys, r);
}
};
l.prototype._update = function(e, t, i, o) {
var n = this._desState, r = a.readUInt32BE(e, t), s = a.readUInt32BE(e, t + 4);
a.ip(r, s, n.tmp, 0);
r = n.tmp[0];
s = n.tmp[1];
"encrypt" === this.type ? this._encrypt(n, r, s, n.tmp, 0) : this._decrypt(n, r, s, n.tmp, 0);
r = n.tmp[0];
s = n.tmp[1];
a.writeUInt32BE(i, r, o);
a.writeUInt32BE(i, s, o + 4);
};
l.prototype._pad = function(e, t) {
for (var i = e.length - t, o = t; o < e.length; o++) e[o] = i;
return !0;
};
l.prototype._unpad = function(e) {
for (var t = e[e.length - 1], i = e.length - t; i < e.length; i++) o.equal(e[i], t);
return e.slice(0, e.length - t);
};
l.prototype._encrypt = function(e, t, i, o, n) {
for (var r = t, s = i, c = 0; c < e.keys.length; c += 2) {
var l = e.keys[c], u = e.keys[c + 1];
a.expand(s, e.tmp, 0);
l ^= e.tmp[0];
u ^= e.tmp[1];
var d = a.substitute(l, u), f = s;
s = (r ^ a.permute(d)) >>> 0;
r = f;
}
a.rip(s, r, o, n);
};
l.prototype._decrypt = function(e, t, i, o, n) {
for (var r = i, s = t, c = e.keys.length - 2; c >= 0; c -= 2) {
var l = e.keys[c], u = e.keys[c + 1];
a.expand(r, e.tmp, 0);
l ^= e.tmp[0];
u ^= e.tmp[1];
var d = a.substitute(l, u), f = r;
r = (s ^ a.permute(d)) >>> 0;
s = f;
}
a.rip(r, s, o, n);
};
}, {
"../des": 57,
inherits: 101,
"minimalistic-assert": 105
} ],
61: [ function(e, t, i) {
"use strict";
var o = e("minimalistic-assert"), n = e("inherits"), r = e("../des"), a = r.Cipher, s = r.DES;
function c(e, t) {
o.equal(t.length, 24, "Invalid key length");
var i = t.slice(0, 8), n = t.slice(8, 16), r = t.slice(16, 24);
this.ciphers = "encrypt" === e ? [ s.create({
type: "encrypt",
key: i
}), s.create({
type: "decrypt",
key: n
}), s.create({
type: "encrypt",
key: r
}) ] : [ s.create({
type: "decrypt",
key: r
}), s.create({
type: "encrypt",
key: n
}), s.create({
type: "decrypt",
key: i
}) ];
}
function l(e) {
a.call(this, e);
var t = new c(this.type, this.options.key);
this._edeState = t;
}
n(l, a);
t.exports = l;
l.create = function(e) {
return new l(e);
};
l.prototype._update = function(e, t, i, o) {
var n = this._edeState;
n.ciphers[0]._update(e, t, i, o);
n.ciphers[1]._update(i, o, i, o);
n.ciphers[2]._update(i, o, i, o);
};
l.prototype._pad = s.prototype._pad;
l.prototype._unpad = s.prototype._unpad;
}, {
"../des": 57,
inherits: 101,
"minimalistic-assert": 105
} ],
62: [ function(e, t, i) {
"use strict";
i.readUInt32BE = function(e, t) {
return (e[0 + t] << 24 | e[1 + t] << 16 | e[2 + t] << 8 | e[3 + t]) >>> 0;
};
i.writeUInt32BE = function(e, t, i) {
e[0 + i] = t >>> 24;
e[1 + i] = t >>> 16 & 255;
e[2 + i] = t >>> 8 & 255;
e[3 + i] = 255 & t;
};
i.ip = function(e, t, i, o) {
for (var n = 0, r = 0, a = 6; a >= 0; a -= 2) {
for (var s = 0; s <= 24; s += 8) {
n <<= 1;
n |= t >>> s + a & 1;
}
for (s = 0; s <= 24; s += 8) {
n <<= 1;
n |= e >>> s + a & 1;
}
}
for (a = 6; a >= 0; a -= 2) {
for (s = 1; s <= 25; s += 8) {
r <<= 1;
r |= t >>> s + a & 1;
}
for (s = 1; s <= 25; s += 8) {
r <<= 1;
r |= e >>> s + a & 1;
}
}
i[o + 0] = n >>> 0;
i[o + 1] = r >>> 0;
};
i.rip = function(e, t, i, o) {
for (var n = 0, r = 0, a = 0; a < 4; a++) for (var s = 24; s >= 0; s -= 8) {
n <<= 1;
n |= t >>> s + a & 1;
n <<= 1;
n |= e >>> s + a & 1;
}
for (a = 4; a < 8; a++) for (s = 24; s >= 0; s -= 8) {
r <<= 1;
r |= t >>> s + a & 1;
r <<= 1;
r |= e >>> s + a & 1;
}
i[o + 0] = n >>> 0;
i[o + 1] = r >>> 0;
};
i.pc1 = function(e, t, i, o) {
for (var n = 0, r = 0, a = 7; a >= 5; a--) {
for (var s = 0; s <= 24; s += 8) {
n <<= 1;
n |= t >> s + a & 1;
}
for (s = 0; s <= 24; s += 8) {
n <<= 1;
n |= e >> s + a & 1;
}
}
for (s = 0; s <= 24; s += 8) {
n <<= 1;
n |= t >> s + a & 1;
}
for (a = 1; a <= 3; a++) {
for (s = 0; s <= 24; s += 8) {
r <<= 1;
r |= t >> s + a & 1;
}
for (s = 0; s <= 24; s += 8) {
r <<= 1;
r |= e >> s + a & 1;
}
}
for (s = 0; s <= 24; s += 8) {
r <<= 1;
r |= e >> s + a & 1;
}
i[o + 0] = n >>> 0;
i[o + 1] = r >>> 0;
};
i.r28shl = function(e, t) {
return e << t & 268435455 | e >>> 28 - t;
};
var o = [ 14, 11, 17, 4, 27, 23, 25, 0, 13, 22, 7, 18, 5, 9, 16, 24, 2, 20, 12, 21, 1, 8, 15, 26, 15, 4, 25, 19, 9, 1, 26, 16, 5, 11, 23, 8, 12, 7, 17, 0, 22, 3, 10, 14, 6, 20, 27, 24 ];
i.pc2 = function(e, t, i, n) {
for (var r = 0, a = 0, s = o.length >>> 1, c = 0; c < s; c++) {
r <<= 1;
r |= e >>> o[c] & 1;
}
for (c = s; c < o.length; c++) {
a <<= 1;
a |= t >>> o[c] & 1;
}
i[n + 0] = r >>> 0;
i[n + 1] = a >>> 0;
};
i.expand = function(e, t, i) {
var o = 0, n = 0;
o = (1 & e) << 5 | e >>> 27;
for (var r = 23; r >= 15; r -= 4) {
o <<= 6;
o |= e >>> r & 63;
}
for (r = 11; r >= 3; r -= 4) {
n |= e >>> r & 63;
n <<= 6;
}
n |= (31 & e) << 1 | e >>> 31;
t[i + 0] = o >>> 0;
t[i + 1] = n >>> 0;
};
var n = [ 14, 0, 4, 15, 13, 7, 1, 4, 2, 14, 15, 2, 11, 13, 8, 1, 3, 10, 10, 6, 6, 12, 12, 11, 5, 9, 9, 5, 0, 3, 7, 8, 4, 15, 1, 12, 14, 8, 8, 2, 13, 4, 6, 9, 2, 1, 11, 7, 15, 5, 12, 11, 9, 3, 7, 14, 3, 10, 10, 0, 5, 6, 0, 13, 15, 3, 1, 13, 8, 4, 14, 7, 6, 15, 11, 2, 3, 8, 4, 14, 9, 12, 7, 0, 2, 1, 13, 10, 12, 6, 0, 9, 5, 11, 10, 5, 0, 13, 14, 8, 7, 10, 11, 1, 10, 3, 4, 15, 13, 4, 1, 2, 5, 11, 8, 6, 12, 7, 6, 12, 9, 0, 3, 5, 2, 14, 15, 9, 10, 13, 0, 7, 9, 0, 14, 9, 6, 3, 3, 4, 15, 6, 5, 10, 1, 2, 13, 8, 12, 5, 7, 14, 11, 12, 4, 11, 2, 15, 8, 1, 13, 1, 6, 10, 4, 13, 9, 0, 8, 6, 15, 9, 3, 8, 0, 7, 11, 4, 1, 15, 2, 14, 12, 3, 5, 11, 10, 5, 14, 2, 7, 12, 7, 13, 13, 8, 14, 11, 3, 5, 0, 6, 6, 15, 9, 0, 10, 3, 1, 4, 2, 7, 8, 2, 5, 12, 11, 1, 12, 10, 4, 14, 15, 9, 10, 3, 6, 15, 9, 0, 0, 6, 12, 10, 11, 1, 7, 13, 13, 8, 15, 9, 1, 4, 3, 5, 14, 11, 5, 12, 2, 7, 8, 2, 4, 14, 2, 14, 12, 11, 4, 2, 1, 12, 7, 4, 10, 7, 11, 13, 6, 1, 8, 5, 5, 0, 3, 15, 15, 10, 13, 3, 0, 9, 14, 8, 9, 6, 4, 11, 2, 8, 1, 12, 11, 7, 10, 1, 13, 14, 7, 2, 8, 13, 15, 6, 9, 15, 12, 0, 5, 9, 6, 10, 3, 4, 0, 5, 14, 3, 12, 10, 1, 15, 10, 4, 15, 2, 9, 7, 2, 12, 6, 9, 8, 5, 0, 6, 13, 1, 3, 13, 4, 14, 14, 0, 7, 11, 5, 3, 11, 8, 9, 4, 14, 3, 15, 2, 5, 12, 2, 9, 8, 5, 12, 15, 3, 10, 7, 11, 0, 14, 4, 1, 10, 7, 1, 6, 13, 0, 11, 8, 6, 13, 4, 13, 11, 0, 2, 11, 14, 7, 15, 4, 0, 9, 8, 1, 13, 10, 3, 14, 12, 3, 9, 5, 7, 12, 5, 2, 10, 15, 6, 8, 1, 6, 1, 6, 4, 11, 11, 13, 13, 8, 12, 1, 3, 4, 7, 10, 14, 7, 10, 9, 15, 5, 6, 0, 8, 15, 0, 14, 5, 2, 9, 3, 2, 12, 13, 1, 2, 15, 8, 13, 4, 8, 6, 10, 15, 3, 11, 7, 1, 4, 10, 12, 9, 5, 3, 6, 14, 11, 5, 0, 0, 14, 12, 9, 7, 2, 7, 2, 11, 1, 4, 14, 1, 7, 9, 4, 12, 10, 14, 8, 2, 13, 0, 15, 6, 12, 10, 9, 13, 0, 15, 3, 3, 5, 5, 6, 8, 11 ];
i.substitute = function(e, t) {
for (var i = 0, o = 0; o < 4; o++) {
i <<= 4;
i |= n[64 * o + (e >>> 18 - 6 * o & 63)];
}
for (o = 0; o < 4; o++) {
i <<= 4;
i |= n[256 + 64 * o + (t >>> 18 - 6 * o & 63)];
}
return i >>> 0;
};
var r = [ 16, 25, 12, 11, 3, 20, 4, 15, 31, 17, 9, 6, 27, 14, 1, 22, 30, 24, 8, 18, 0, 5, 29, 23, 13, 19, 2, 26, 10, 21, 28, 7 ];
i.permute = function(e) {
for (var t = 0, i = 0; i < r.length; i++) {
t <<= 1;
t |= e >>> r[i] & 1;
}
return t >>> 0;
};
i.padSplit = function(e, t, i) {
for (var o = e.toString(2); o.length < t; ) o = "0" + o;
for (var n = [], r = 0; r < t; r += i) n.push(o.slice(r, r + i));
return n.join(" ");
};
}, {} ],
63: [ function(e, t, i) {
(function(t) {
var o = e("./lib/generatePrime"), n = e("./lib/primes.json"), r = e("./lib/dh");
var a = {
binary: !0,
hex: !0,
base64: !0
};
i.DiffieHellmanGroup = i.createDiffieHellmanGroup = i.getDiffieHellman = function(e) {
var i = new t(n[e].prime, "hex"), o = new t(n[e].gen, "hex");
return new r(i, o);
};
i.createDiffieHellman = i.DiffieHellman = function e(i, n, s, c) {
if (t.isBuffer(n) || void 0 === a[n]) return e(i, "binary", n, s);
n = n || "binary";
c = c || "binary";
s = s || new t([ 2 ]);
t.isBuffer(s) || (s = new t(s, c));
if ("number" == typeof i) return new r(o(i, s), s, !0);
t.isBuffer(i) || (i = new t(i, n));
return new r(i, s, !0);
};
}).call(this, e("buffer").Buffer);
}, {
"./lib/dh": 64,
"./lib/generatePrime": 65,
"./lib/primes.json": 66,
buffer: 47
} ],
64: [ function(e, t, i) {
(function(i) {
var o = e("bn.js"), n = new (e("miller-rabin"))(), r = new o(24), a = new o(11), s = new o(10), c = new o(3), l = new o(7), u = e("./generatePrime"), d = e("randombytes");
t.exports = m;
function f(e, t) {
t = t || "utf8";
i.isBuffer(e) || (e = new i(e, t));
this._pub = new o(e);
return this;
}
function h(e, t) {
t = t || "utf8";
i.isBuffer(e) || (e = new i(e, t));
this._priv = new o(e);
return this;
}
var p = {};
function g(e, t) {
var i = t.toString("hex"), o = [ i, e.toString(16) ].join("_");
if (o in p) return p[o];
var d, f = 0;
if (e.isEven() || !u.simpleSieve || !u.fermatTest(e) || !n.test(e)) {
f += 1;
f += "02" === i || "05" === i ? 8 : 4;
p[o] = f;
return f;
}
n.test(e.shrn(1)) || (f += 2);
switch (i) {
case "02":
e.mod(r).cmp(a) && (f += 8);
break;

case "05":
(d = e.mod(s)).cmp(c) && d.cmp(l) && (f += 8);
break;

default:
f += 4;
}
p[o] = f;
return f;
}
function m(e, t, i) {
this.setGenerator(t);
this.__prime = new o(e);
this._prime = o.mont(this.__prime);
this._primeLen = e.length;
this._pub = void 0;
this._priv = void 0;
this._primeCode = void 0;
if (i) {
this.setPublicKey = f;
this.setPrivateKey = h;
} else this._primeCode = 8;
}
Object.defineProperty(m.prototype, "verifyError", {
enumerable: !0,
get: function() {
"number" != typeof this._primeCode && (this._primeCode = g(this.__prime, this.__gen));
return this._primeCode;
}
});
m.prototype.generateKeys = function() {
this._priv || (this._priv = new o(d(this._primeLen)));
this._pub = this._gen.toRed(this._prime).redPow(this._priv).fromRed();
return this.getPublicKey();
};
m.prototype.computeSecret = function(e) {
var t = (e = (e = new o(e)).toRed(this._prime)).redPow(this._priv).fromRed(), n = new i(t.toArray()), r = this.getPrime();
if (n.length < r.length) {
var a = new i(r.length - n.length);
a.fill(0);
n = i.concat([ a, n ]);
}
return n;
};
m.prototype.getPublicKey = function(e) {
return y(this._pub, e);
};
m.prototype.getPrivateKey = function(e) {
return y(this._priv, e);
};
m.prototype.getPrime = function(e) {
return y(this.__prime, e);
};
m.prototype.getGenerator = function(e) {
return y(this._gen, e);
};
m.prototype.setGenerator = function(e, t) {
t = t || "utf8";
i.isBuffer(e) || (e = new i(e, t));
this.__gen = e;
this._gen = new o(e);
return this;
};
function y(e, t) {
var o = new i(e.toArray());
return t ? o.toString(t) : o;
}
}).call(this, e("buffer").Buffer);
}, {
"./generatePrime": 65,
"bn.js": 16,
buffer: 47,
"miller-rabin": 104,
randombytes: 126
} ],
65: [ function(e, t, i) {
var o = e("randombytes");
t.exports = b;
b.simpleSieve = m;
b.fermatTest = y;
var n = e("bn.js"), r = new n(24), a = new (e("miller-rabin"))(), s = new n(1), c = new n(2), l = new n(5), u = (new n(16), 
new n(8), new n(10)), d = new n(3), f = (new n(7), new n(11)), h = new n(4), p = (new n(12), 
null);
function g() {
if (null !== p) return p;
var e = [];
e[0] = 2;
for (var t = 1, i = 3; i < 1048576; i += 2) {
for (var o = Math.ceil(Math.sqrt(i)), n = 0; n < t && e[n] <= o && i % e[n] != 0; n++) ;
t !== n && e[n] <= o || (e[t++] = i);
}
p = e;
return e;
}
function m(e) {
for (var t = g(), i = 0; i < t.length; i++) if (0 === e.modn(t[i])) return 0 === e.cmpn(t[i]);
return !0;
}
function y(e) {
var t = n.mont(e);
return 0 === c.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1);
}
function b(e, t) {
if (e < 16) return new n(2 === t || 5 === t ? [ 140, 123 ] : [ 140, 39 ]);
t = new n(t);
for (var i, p; ;) {
i = new n(o(Math.ceil(e / 8)));
for (;i.bitLength() > e; ) i.ishrn(1);
i.isEven() && i.iadd(s);
i.testn(1) || i.iadd(c);
if (t.cmp(c)) {
if (!t.cmp(l)) for (;i.mod(u).cmp(d); ) i.iadd(h);
} else for (;i.mod(r).cmp(f); ) i.iadd(h);
if (m(p = i.shrn(1)) && m(i) && y(p) && y(i) && a.test(p) && a.test(i)) return i;
}
}
}, {
"bn.js": 16,
"miller-rabin": 104,
randombytes: 126
} ],
66: [ function(e, t, i) {
t.exports = {
modp1: {
gen: "02",
prime: "ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"
},
modp2: {
gen: "02",
prime: "ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"
},
modp5: {
gen: "02",
prime: "ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"
},
modp14: {
gen: "02",
prime: "ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"
},
modp15: {
gen: "02",
prime: "ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"
},
modp16: {
gen: "02",
prime: "ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"
},
modp17: {
gen: "02",
prime: "ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"
},
modp18: {
gen: "02",
prime: "ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"
}
};
}, {} ],
67: [ function(e, t, i) {
"use strict";
var o = i;
o.version = e("../package.json").version;
o.utils = e("./elliptic/utils");
o.rand = e("brorand");
o.curve = e("./elliptic/curve");
o.curves = e("./elliptic/curves");
o.ec = e("./elliptic/ec");
o.eddsa = e("./elliptic/eddsa");
}, {
"../package.json": 82,
"./elliptic/curve": 70,
"./elliptic/curves": 73,
"./elliptic/ec": 74,
"./elliptic/eddsa": 77,
"./elliptic/utils": 81,
brorand: 17
} ],
68: [ function(e, t, i) {
"use strict";
var o = e("bn.js"), n = e("../utils"), r = n.getNAF, a = n.getJSF, s = n.assert;
function c(e, t) {
this.type = e;
this.p = new o(t.p, 16);
this.red = t.prime ? o.red(t.prime) : o.mont(this.p);
this.zero = new o(0).toRed(this.red);
this.one = new o(1).toRed(this.red);
this.two = new o(2).toRed(this.red);
this.n = t.n && new o(t.n, 16);
this.g = t.g && this.pointFromJSON(t.g, t.gRed);
this._wnafT1 = new Array(4);
this._wnafT2 = new Array(4);
this._wnafT3 = new Array(4);
this._wnafT4 = new Array(4);
var i = this.n && this.p.div(this.n);
if (!i || i.cmpn(100) > 0) this.redN = null; else {
this._maxwellTrick = !0;
this.redN = this.n.toRed(this.red);
}
}
t.exports = c;
c.prototype.point = function() {
throw new Error("Not implemented");
};
c.prototype.validate = function() {
throw new Error("Not implemented");
};
c.prototype._fixedNafMul = function(e, t) {
s(e.precomputed);
var i = e._getDoubles(), o = r(t, 1), n = (1 << i.step + 1) - (i.step % 2 == 0 ? 2 : 1);
n /= 3;
for (var a = [], c = 0; c < o.length; c += i.step) {
var l = 0;
for (t = c + i.step - 1; t >= c; t--) l = (l << 1) + o[t];
a.push(l);
}
for (var u = this.jpoint(null, null, null), d = this.jpoint(null, null, null), f = n; f > 0; f--) {
for (c = 0; c < a.length; c++) {
(l = a[c]) === f ? d = d.mixedAdd(i.points[c]) : l === -f && (d = d.mixedAdd(i.points[c].neg()));
}
u = u.add(d);
}
return u.toP();
};
c.prototype._wnafMul = function(e, t) {
var i = 4, o = e._getNAFPoints(i);
i = o.wnd;
for (var n = o.points, a = r(t, i), c = this.jpoint(null, null, null), l = a.length - 1; l >= 0; l--) {
for (t = 0; l >= 0 && 0 === a[l]; l--) t++;
l >= 0 && t++;
c = c.dblp(t);
if (l < 0) break;
var u = a[l];
s(0 !== u);
c = "affine" === e.type ? u > 0 ? c.mixedAdd(n[u - 1 >> 1]) : c.mixedAdd(n[-u - 1 >> 1].neg()) : u > 0 ? c.add(n[u - 1 >> 1]) : c.add(n[-u - 1 >> 1].neg());
}
return "affine" === e.type ? c.toP() : c;
};
c.prototype._wnafMulAdd = function(e, t, i, o, n) {
for (var s = this._wnafT1, c = this._wnafT2, l = this._wnafT3, u = 0, d = 0; d < o; d++) {
var f = (R = t[d])._getNAFPoints(e);
s[d] = f.wnd;
c[d] = f.points;
}
for (d = o - 1; d >= 1; d -= 2) {
var h = d - 1, p = d;
if (1 === s[h] && 1 === s[p]) {
var g = [ t[h], null, null, t[p] ];
if (0 === t[h].y.cmp(t[p].y)) {
g[1] = t[h].add(t[p]);
g[2] = t[h].toJ().mixedAdd(t[p].neg());
} else if (0 === t[h].y.cmp(t[p].y.redNeg())) {
g[1] = t[h].toJ().mixedAdd(t[p]);
g[2] = t[h].add(t[p].neg());
} else {
g[1] = t[h].toJ().mixedAdd(t[p]);
g[2] = t[h].toJ().mixedAdd(t[p].neg());
}
var m = [ -3, -1, -5, -7, 0, 7, 5, 1, 3 ], y = a(i[h], i[p]);
u = Math.max(y[0].length, u);
l[h] = new Array(u);
l[p] = new Array(u);
for (var b = 0; b < u; b++) {
var _ = 0 | y[0][b], v = 0 | y[1][b];
l[h][b] = m[3 * (_ + 1) + (v + 1)];
l[p][b] = 0;
c[h] = g;
}
} else {
l[h] = r(i[h], s[h]);
l[p] = r(i[p], s[p]);
u = Math.max(l[h].length, u);
u = Math.max(l[p].length, u);
}
}
var S = this.jpoint(null, null, null), C = this._wnafT4;
for (d = u; d >= 0; d--) {
for (var w = 0; d >= 0; ) {
var A = !0;
for (b = 0; b < o; b++) {
C[b] = 0 | l[b][d];
0 !== C[b] && (A = !1);
}
if (!A) break;
w++;
d--;
}
d >= 0 && w++;
S = S.dblp(w);
if (d < 0) break;
for (b = 0; b < o; b++) {
var R, T = C[b];
if (0 !== T) {
T > 0 ? R = c[b][T - 1 >> 1] : T < 0 && (R = c[b][-T - 1 >> 1].neg());
S = "affine" === R.type ? S.mixedAdd(R) : S.add(R);
}
}
}
for (d = 0; d < o; d++) c[d] = null;
return n ? S : S.toP();
};
function l(e, t) {
this.curve = e;
this.type = t;
this.precomputed = null;
}
c.BasePoint = l;
l.prototype.eq = function() {
throw new Error("Not implemented");
};
l.prototype.validate = function() {
return this.curve.validate(this);
};
c.prototype.decodePoint = function(e, t) {
e = n.toArray(e, t);
var i = this.p.byteLength();
if ((4 === e[0] || 6 === e[0] || 7 === e[0]) && e.length - 1 == 2 * i) {
6 === e[0] ? s(e[e.length - 1] % 2 == 0) : 7 === e[0] && s(e[e.length - 1] % 2 == 1);
return this.point(e.slice(1, 1 + i), e.slice(1 + i, 1 + 2 * i));
}
if ((2 === e[0] || 3 === e[0]) && e.length - 1 === i) return this.pointFromX(e.slice(1, 1 + i), 3 === e[0]);
throw new Error("Unknown point format");
};
l.prototype.encodeCompressed = function(e) {
return this.encode(e, !0);
};
l.prototype._encode = function(e) {
var t = this.curve.p.byteLength(), i = this.getX().toArray("be", t);
return e ? [ this.getY().isEven() ? 2 : 3 ].concat(i) : [ 4 ].concat(i, this.getY().toArray("be", t));
};
l.prototype.encode = function(e, t) {
return n.encode(this._encode(t), e);
};
l.prototype.precompute = function(e) {
if (this.precomputed) return this;
var t = {
doubles: null,
naf: null,
beta: null
};
t.naf = this._getNAFPoints(8);
t.doubles = this._getDoubles(4, e);
t.beta = this._getBeta();
this.precomputed = t;
return this;
};
l.prototype._hasDoubles = function(e) {
if (!this.precomputed) return !1;
var t = this.precomputed.doubles;
return !!t && t.points.length >= Math.ceil((e.bitLength() + 1) / t.step);
};
l.prototype._getDoubles = function(e, t) {
if (this.precomputed && this.precomputed.doubles) return this.precomputed.doubles;
for (var i = [ this ], o = this, n = 0; n < t; n += e) {
for (var r = 0; r < e; r++) o = o.dbl();
i.push(o);
}
return {
step: e,
points: i
};
};
l.prototype._getNAFPoints = function(e) {
if (this.precomputed && this.precomputed.naf) return this.precomputed.naf;
for (var t = [ this ], i = (1 << e) - 1, o = 1 === i ? null : this.dbl(), n = 1; n < i; n++) t[n] = t[n - 1].add(o);
return {
wnd: e,
points: t
};
};
l.prototype._getBeta = function() {
return null;
};
l.prototype.dblp = function(e) {
for (var t = this, i = 0; i < e; i++) t = t.dbl();
return t;
};
}, {
"../utils": 81,
"bn.js": 16
} ],
69: [ function(e, t, i) {
"use strict";
var o = e("../utils"), n = e("bn.js"), r = e("inherits"), a = e("./base"), s = o.assert;
function c(e) {
this.twisted = 1 != (0 | e.a);
this.mOneA = this.twisted && -1 == (0 | e.a);
this.extended = this.mOneA;
a.call(this, "edwards", e);
this.a = new n(e.a, 16).umod(this.red.m);
this.a = this.a.toRed(this.red);
this.c = new n(e.c, 16).toRed(this.red);
this.c2 = this.c.redSqr();
this.d = new n(e.d, 16).toRed(this.red);
this.dd = this.d.redAdd(this.d);
s(!this.twisted || 0 === this.c.fromRed().cmpn(1));
this.oneC = 1 == (0 | e.c);
}
r(c, a);
t.exports = c;
c.prototype._mulA = function(e) {
return this.mOneA ? e.redNeg() : this.a.redMul(e);
};
c.prototype._mulC = function(e) {
return this.oneC ? e : this.c.redMul(e);
};
c.prototype.jpoint = function(e, t, i, o) {
return this.point(e, t, i, o);
};
c.prototype.pointFromX = function(e, t) {
(e = new n(e, 16)).red || (e = e.toRed(this.red));
var i = e.redSqr(), o = this.c2.redSub(this.a.redMul(i)), r = this.one.redSub(this.c2.redMul(this.d).redMul(i)), a = o.redMul(r.redInvm()), s = a.redSqrt();
if (0 !== s.redSqr().redSub(a).cmp(this.zero)) throw new Error("invalid point");
var c = s.fromRed().isOdd();
(t && !c || !t && c) && (s = s.redNeg());
return this.point(e, s);
};
c.prototype.pointFromY = function(e, t) {
(e = new n(e, 16)).red || (e = e.toRed(this.red));
var i = e.redSqr(), o = i.redSub(this.c2), r = i.redMul(this.d).redMul(this.c2).redSub(this.a), a = o.redMul(r.redInvm());
if (0 === a.cmp(this.zero)) {
if (t) throw new Error("invalid point");
return this.point(this.zero, e);
}
var s = a.redSqrt();
if (0 !== s.redSqr().redSub(a).cmp(this.zero)) throw new Error("invalid point");
s.fromRed().isOdd() !== t && (s = s.redNeg());
return this.point(s, e);
};
c.prototype.validate = function(e) {
if (e.isInfinity()) return !0;
e.normalize();
var t = e.x.redSqr(), i = e.y.redSqr(), o = t.redMul(this.a).redAdd(i), n = this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(i)));
return 0 === o.cmp(n);
};
function l(e, t, i, o, r) {
a.BasePoint.call(this, e, "projective");
if (null === t && null === i && null === o) {
this.x = this.curve.zero;
this.y = this.curve.one;
this.z = this.curve.one;
this.t = this.curve.zero;
this.zOne = !0;
} else {
this.x = new n(t, 16);
this.y = new n(i, 16);
this.z = o ? new n(o, 16) : this.curve.one;
this.t = r && new n(r, 16);
this.x.red || (this.x = this.x.toRed(this.curve.red));
this.y.red || (this.y = this.y.toRed(this.curve.red));
this.z.red || (this.z = this.z.toRed(this.curve.red));
this.t && !this.t.red && (this.t = this.t.toRed(this.curve.red));
this.zOne = this.z === this.curve.one;
if (this.curve.extended && !this.t) {
this.t = this.x.redMul(this.y);
this.zOne || (this.t = this.t.redMul(this.z.redInvm()));
}
}
}
r(l, a.BasePoint);
c.prototype.pointFromJSON = function(e) {
return l.fromJSON(this, e);
};
c.prototype.point = function(e, t, i, o) {
return new l(this, e, t, i, o);
};
l.fromJSON = function(e, t) {
return new l(e, t[0], t[1], t[2]);
};
l.prototype.inspect = function() {
return this.isInfinity() ? "<EC Point Infinity>" : "<EC Point x: " + this.x.fromRed().toString(16, 2) + " y: " + this.y.fromRed().toString(16, 2) + " z: " + this.z.fromRed().toString(16, 2) + ">";
};
l.prototype.isInfinity = function() {
return 0 === this.x.cmpn(0) && (0 === this.y.cmp(this.z) || this.zOne && 0 === this.y.cmp(this.curve.c));
};
l.prototype._extDbl = function() {
var e = this.x.redSqr(), t = this.y.redSqr(), i = this.z.redSqr();
i = i.redIAdd(i);
var o = this.curve._mulA(e), n = this.x.redAdd(this.y).redSqr().redISub(e).redISub(t), r = o.redAdd(t), a = r.redSub(i), s = o.redSub(t), c = n.redMul(a), l = r.redMul(s), u = n.redMul(s), d = a.redMul(r);
return this.curve.point(c, l, d, u);
};
l.prototype._projDbl = function() {
var e, t, i, o = this.x.redAdd(this.y).redSqr(), n = this.x.redSqr(), r = this.y.redSqr();
if (this.curve.twisted) {
var a = (l = this.curve._mulA(n)).redAdd(r);
if (this.zOne) {
e = o.redSub(n).redSub(r).redMul(a.redSub(this.curve.two));
t = a.redMul(l.redSub(r));
i = a.redSqr().redSub(a).redSub(a);
} else {
var s = this.z.redSqr(), c = a.redSub(s).redISub(s);
e = o.redSub(n).redISub(r).redMul(c);
t = a.redMul(l.redSub(r));
i = a.redMul(c);
}
} else {
var l = n.redAdd(r);
s = this.curve._mulC(this.z).redSqr(), c = l.redSub(s).redSub(s);
e = this.curve._mulC(o.redISub(l)).redMul(c);
t = this.curve._mulC(l).redMul(n.redISub(r));
i = l.redMul(c);
}
return this.curve.point(e, t, i);
};
l.prototype.dbl = function() {
return this.isInfinity() ? this : this.curve.extended ? this._extDbl() : this._projDbl();
};
l.prototype._extAdd = function(e) {
var t = this.y.redSub(this.x).redMul(e.y.redSub(e.x)), i = this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)), o = this.t.redMul(this.curve.dd).redMul(e.t), n = this.z.redMul(e.z.redAdd(e.z)), r = i.redSub(t), a = n.redSub(o), s = n.redAdd(o), c = i.redAdd(t), l = r.redMul(a), u = s.redMul(c), d = r.redMul(c), f = a.redMul(s);
return this.curve.point(l, u, f, d);
};
l.prototype._projAdd = function(e) {
var t, i, o = this.z.redMul(e.z), n = o.redSqr(), r = this.x.redMul(e.x), a = this.y.redMul(e.y), s = this.curve.d.redMul(r).redMul(a), c = n.redSub(s), l = n.redAdd(s), u = this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(r).redISub(a), d = o.redMul(c).redMul(u);
if (this.curve.twisted) {
t = o.redMul(l).redMul(a.redSub(this.curve._mulA(r)));
i = c.redMul(l);
} else {
t = o.redMul(l).redMul(a.redSub(r));
i = this.curve._mulC(c).redMul(l);
}
return this.curve.point(d, t, i);
};
l.prototype.add = function(e) {
return this.isInfinity() ? e : e.isInfinity() ? this : this.curve.extended ? this._extAdd(e) : this._projAdd(e);
};
l.prototype.mul = function(e) {
return this._hasDoubles(e) ? this.curve._fixedNafMul(this, e) : this.curve._wnafMul(this, e);
};
l.prototype.mulAdd = function(e, t, i) {
return this.curve._wnafMulAdd(1, [ this, t ], [ e, i ], 2, !1);
};
l.prototype.jmulAdd = function(e, t, i) {
return this.curve._wnafMulAdd(1, [ this, t ], [ e, i ], 2, !0);
};
l.prototype.normalize = function() {
if (this.zOne) return this;
var e = this.z.redInvm();
this.x = this.x.redMul(e);
this.y = this.y.redMul(e);
this.t && (this.t = this.t.redMul(e));
this.z = this.curve.one;
this.zOne = !0;
return this;
};
l.prototype.neg = function() {
return this.curve.point(this.x.redNeg(), this.y, this.z, this.t && this.t.redNeg());
};
l.prototype.getX = function() {
this.normalize();
return this.x.fromRed();
};
l.prototype.getY = function() {
this.normalize();
return this.y.fromRed();
};
l.prototype.eq = function(e) {
return this === e || 0 === this.getX().cmp(e.getX()) && 0 === this.getY().cmp(e.getY());
};
l.prototype.eqXToP = function(e) {
var t = e.toRed(this.curve.red).redMul(this.z);
if (0 === this.x.cmp(t)) return !0;
for (var i = e.clone(), o = this.curve.redN.redMul(this.z); ;) {
i.iadd(this.curve.n);
if (i.cmp(this.curve.p) >= 0) return !1;
t.redIAdd(o);
if (0 === this.x.cmp(t)) return !0;
}
};
l.prototype.toP = l.prototype.normalize;
l.prototype.mixedAdd = l.prototype.add;
}, {
"../utils": 81,
"./base": 68,
"bn.js": 16,
inherits: 101
} ],
70: [ function(e, t, i) {
"use strict";
var o = i;
o.base = e("./base");
o.short = e("./short");
o.mont = e("./mont");
o.edwards = e("./edwards");
}, {
"./base": 68,
"./edwards": 69,
"./mont": 71,
"./short": 72
} ],
71: [ function(e, t, i) {
"use strict";
var o = e("bn.js"), n = e("inherits"), r = e("./base"), a = e("../utils");
function s(e) {
r.call(this, "mont", e);
this.a = new o(e.a, 16).toRed(this.red);
this.b = new o(e.b, 16).toRed(this.red);
this.i4 = new o(4).toRed(this.red).redInvm();
this.two = new o(2).toRed(this.red);
this.a24 = this.i4.redMul(this.a.redAdd(this.two));
}
n(s, r);
t.exports = s;
s.prototype.validate = function(e) {
var t = e.normalize().x, i = t.redSqr(), o = i.redMul(t).redAdd(i.redMul(this.a)).redAdd(t);
return 0 === o.redSqrt().redSqr().cmp(o);
};
function c(e, t, i) {
r.BasePoint.call(this, e, "projective");
if (null === t && null === i) {
this.x = this.curve.one;
this.z = this.curve.zero;
} else {
this.x = new o(t, 16);
this.z = new o(i, 16);
this.x.red || (this.x = this.x.toRed(this.curve.red));
this.z.red || (this.z = this.z.toRed(this.curve.red));
}
}
n(c, r.BasePoint);
s.prototype.decodePoint = function(e, t) {
return this.point(a.toArray(e, t), 1);
};
s.prototype.point = function(e, t) {
return new c(this, e, t);
};
s.prototype.pointFromJSON = function(e) {
return c.fromJSON(this, e);
};
c.prototype.precompute = function() {};
c.prototype._encode = function() {
return this.getX().toArray("be", this.curve.p.byteLength());
};
c.fromJSON = function(e, t) {
return new c(e, t[0], t[1] || e.one);
};
c.prototype.inspect = function() {
return this.isInfinity() ? "<EC Point Infinity>" : "<EC Point x: " + this.x.fromRed().toString(16, 2) + " z: " + this.z.fromRed().toString(16, 2) + ">";
};
c.prototype.isInfinity = function() {
return 0 === this.z.cmpn(0);
};
c.prototype.dbl = function() {
var e = this.x.redAdd(this.z).redSqr(), t = this.x.redSub(this.z).redSqr(), i = e.redSub(t), o = e.redMul(t), n = i.redMul(t.redAdd(this.curve.a24.redMul(i)));
return this.curve.point(o, n);
};
c.prototype.add = function() {
throw new Error("Not supported on Montgomery curve");
};
c.prototype.diffAdd = function(e, t) {
var i = this.x.redAdd(this.z), o = this.x.redSub(this.z), n = e.x.redAdd(e.z), r = e.x.redSub(e.z).redMul(i), a = n.redMul(o), s = t.z.redMul(r.redAdd(a).redSqr()), c = t.x.redMul(r.redISub(a).redSqr());
return this.curve.point(s, c);
};
c.prototype.mul = function(e) {
for (var t = e.clone(), i = this, o = this.curve.point(null, null), n = []; 0 !== t.cmpn(0); t.iushrn(1)) n.push(t.andln(1));
for (var r = n.length - 1; r >= 0; r--) if (0 === n[r]) {
i = i.diffAdd(o, this);
o = o.dbl();
} else {
o = i.diffAdd(o, this);
i = i.dbl();
}
return o;
};
c.prototype.mulAdd = function() {
throw new Error("Not supported on Montgomery curve");
};
c.prototype.jumlAdd = function() {
throw new Error("Not supported on Montgomery curve");
};
c.prototype.eq = function(e) {
return 0 === this.getX().cmp(e.getX());
};
c.prototype.normalize = function() {
this.x = this.x.redMul(this.z.redInvm());
this.z = this.curve.one;
return this;
};
c.prototype.getX = function() {
this.normalize();
return this.x.fromRed();
};
}, {
"../utils": 81,
"./base": 68,
"bn.js": 16,
inherits: 101
} ],
72: [ function(e, t, i) {
"use strict";
var o = e("../utils"), n = e("bn.js"), r = e("inherits"), a = e("./base"), s = o.assert;
function c(e) {
a.call(this, "short", e);
this.a = new n(e.a, 16).toRed(this.red);
this.b = new n(e.b, 16).toRed(this.red);
this.tinv = this.two.redInvm();
this.zeroA = 0 === this.a.fromRed().cmpn(0);
this.threeA = 0 === this.a.fromRed().sub(this.p).cmpn(-3);
this.endo = this._getEndomorphism(e);
this._endoWnafT1 = new Array(4);
this._endoWnafT2 = new Array(4);
}
r(c, a);
t.exports = c;
c.prototype._getEndomorphism = function(e) {
if (this.zeroA && this.g && this.n && 1 === this.p.modn(3)) {
var t, i;
if (e.beta) t = new n(e.beta, 16).toRed(this.red); else {
var o = this._getEndoRoots(this.p);
t = (t = o[0].cmp(o[1]) < 0 ? o[0] : o[1]).toRed(this.red);
}
if (e.lambda) i = new n(e.lambda, 16); else {
var r = this._getEndoRoots(this.n);
if (0 === this.g.mul(r[0]).x.cmp(this.g.x.redMul(t))) i = r[0]; else {
i = r[1];
s(0 === this.g.mul(i).x.cmp(this.g.x.redMul(t)));
}
}
return {
beta: t,
lambda: i,
basis: e.basis ? e.basis.map(function(e) {
return {
a: new n(e.a, 16),
b: new n(e.b, 16)
};
}) : this._getEndoBasis(i)
};
}
};
c.prototype._getEndoRoots = function(e) {
var t = e === this.p ? this.red : n.mont(e), i = new n(2).toRed(t).redInvm(), o = i.redNeg(), r = new n(3).toRed(t).redNeg().redSqrt().redMul(i);
return [ o.redAdd(r).fromRed(), o.redSub(r).fromRed() ];
};
c.prototype._getEndoBasis = function(e) {
for (var t, i, o, r, a, s, c, l, u, d = this.n.ushrn(Math.floor(this.n.bitLength() / 2)), f = e, h = this.n.clone(), p = new n(1), g = new n(0), m = new n(0), y = new n(1), b = 0; 0 !== f.cmpn(0); ) {
var _ = h.div(f);
l = h.sub(_.mul(f));
u = m.sub(_.mul(p));
var v = y.sub(_.mul(g));
if (!o && l.cmp(d) < 0) {
t = c.neg();
i = p;
o = l.neg();
r = u;
} else if (o && 2 == ++b) break;
c = l;
h = f;
f = l;
m = p;
p = u;
y = g;
g = v;
}
a = l.neg();
s = u;
var S = o.sqr().add(r.sqr());
if (a.sqr().add(s.sqr()).cmp(S) >= 0) {
a = t;
s = i;
}
if (o.negative) {
o = o.neg();
r = r.neg();
}
if (a.negative) {
a = a.neg();
s = s.neg();
}
return [ {
a: o,
b: r
}, {
a: a,
b: s
} ];
};
c.prototype._endoSplit = function(e) {
var t = this.endo.basis, i = t[0], o = t[1], n = o.b.mul(e).divRound(this.n), r = i.b.neg().mul(e).divRound(this.n), a = n.mul(i.a), s = r.mul(o.a), c = n.mul(i.b), l = r.mul(o.b);
return {
k1: e.sub(a).sub(s),
k2: c.add(l).neg()
};
};
c.prototype.pointFromX = function(e, t) {
(e = new n(e, 16)).red || (e = e.toRed(this.red));
var i = e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b), o = i.redSqrt();
if (0 !== o.redSqr().redSub(i).cmp(this.zero)) throw new Error("invalid point");
var r = o.fromRed().isOdd();
(t && !r || !t && r) && (o = o.redNeg());
return this.point(e, o);
};
c.prototype.validate = function(e) {
if (e.inf) return !0;
var t = e.x, i = e.y, o = this.a.redMul(t), n = t.redSqr().redMul(t).redIAdd(o).redIAdd(this.b);
return 0 === i.redSqr().redISub(n).cmpn(0);
};
c.prototype._endoWnafMulAdd = function(e, t, i) {
for (var o = this._endoWnafT1, n = this._endoWnafT2, r = 0; r < e.length; r++) {
var a = this._endoSplit(t[r]), s = e[r], c = s._getBeta();
if (a.k1.negative) {
a.k1.ineg();
s = s.neg(!0);
}
if (a.k2.negative) {
a.k2.ineg();
c = c.neg(!0);
}
o[2 * r] = s;
o[2 * r + 1] = c;
n[2 * r] = a.k1;
n[2 * r + 1] = a.k2;
}
for (var l = this._wnafMulAdd(1, o, n, 2 * r, i), u = 0; u < 2 * r; u++) {
o[u] = null;
n[u] = null;
}
return l;
};
function l(e, t, i, o) {
a.BasePoint.call(this, e, "affine");
if (null === t && null === i) {
this.x = null;
this.y = null;
this.inf = !0;
} else {
this.x = new n(t, 16);
this.y = new n(i, 16);
if (o) {
this.x.forceRed(this.curve.red);
this.y.forceRed(this.curve.red);
}
this.x.red || (this.x = this.x.toRed(this.curve.red));
this.y.red || (this.y = this.y.toRed(this.curve.red));
this.inf = !1;
}
}
r(l, a.BasePoint);
c.prototype.point = function(e, t, i) {
return new l(this, e, t, i);
};
c.prototype.pointFromJSON = function(e, t) {
return l.fromJSON(this, e, t);
};
l.prototype._getBeta = function() {
if (this.curve.endo) {
var e = this.precomputed;
if (e && e.beta) return e.beta;
var t = this.curve.point(this.x.redMul(this.curve.endo.beta), this.y);
if (e) {
var i = this.curve, o = function(e) {
return i.point(e.x.redMul(i.endo.beta), e.y);
};
e.beta = t;
t.precomputed = {
beta: null,
naf: e.naf && {
wnd: e.naf.wnd,
points: e.naf.points.map(o)
},
doubles: e.doubles && {
step: e.doubles.step,
points: e.doubles.points.map(o)
}
};
}
return t;
}
};
l.prototype.toJSON = function() {
return this.precomputed ? [ this.x, this.y, this.precomputed && {
doubles: this.precomputed.doubles && {
step: this.precomputed.doubles.step,
points: this.precomputed.doubles.points.slice(1)
},
naf: this.precomputed.naf && {
wnd: this.precomputed.naf.wnd,
points: this.precomputed.naf.points.slice(1)
}
} ] : [ this.x, this.y ];
};
l.fromJSON = function(e, t, i) {
"string" == typeof t && (t = JSON.parse(t));
var o = e.point(t[0], t[1], i);
if (!t[2]) return o;
function n(t) {
return e.point(t[0], t[1], i);
}
var r = t[2];
o.precomputed = {
beta: null,
doubles: r.doubles && {
step: r.doubles.step,
points: [ o ].concat(r.doubles.points.map(n))
},
naf: r.naf && {
wnd: r.naf.wnd,
points: [ o ].concat(r.naf.points.map(n))
}
};
return o;
};
l.prototype.inspect = function() {
return this.isInfinity() ? "<EC Point Infinity>" : "<EC Point x: " + this.x.fromRed().toString(16, 2) + " y: " + this.y.fromRed().toString(16, 2) + ">";
};
l.prototype.isInfinity = function() {
return this.inf;
};
l.prototype.add = function(e) {
if (this.inf) return e;
if (e.inf) return this;
if (this.eq(e)) return this.dbl();
if (this.neg().eq(e)) return this.curve.point(null, null);
if (0 === this.x.cmp(e.x)) return this.curve.point(null, null);
var t = this.y.redSub(e.y);
0 !== t.cmpn(0) && (t = t.redMul(this.x.redSub(e.x).redInvm()));
var i = t.redSqr().redISub(this.x).redISub(e.x), o = t.redMul(this.x.redSub(i)).redISub(this.y);
return this.curve.point(i, o);
};
l.prototype.dbl = function() {
if (this.inf) return this;
var e = this.y.redAdd(this.y);
if (0 === e.cmpn(0)) return this.curve.point(null, null);
var t = this.curve.a, i = this.x.redSqr(), o = e.redInvm(), n = i.redAdd(i).redIAdd(i).redIAdd(t).redMul(o), r = n.redSqr().redISub(this.x.redAdd(this.x)), a = n.redMul(this.x.redSub(r)).redISub(this.y);
return this.curve.point(r, a);
};
l.prototype.getX = function() {
return this.x.fromRed();
};
l.prototype.getY = function() {
return this.y.fromRed();
};
l.prototype.mul = function(e) {
e = new n(e, 16);
return this.isInfinity() ? this : this._hasDoubles(e) ? this.curve._fixedNafMul(this, e) : this.curve.endo ? this.curve._endoWnafMulAdd([ this ], [ e ]) : this.curve._wnafMul(this, e);
};
l.prototype.mulAdd = function(e, t, i) {
var o = [ this, t ], n = [ e, i ];
return this.curve.endo ? this.curve._endoWnafMulAdd(o, n) : this.curve._wnafMulAdd(1, o, n, 2);
};
l.prototype.jmulAdd = function(e, t, i) {
var o = [ this, t ], n = [ e, i ];
return this.curve.endo ? this.curve._endoWnafMulAdd(o, n, !0) : this.curve._wnafMulAdd(1, o, n, 2, !0);
};
l.prototype.eq = function(e) {
return this === e || this.inf === e.inf && (this.inf || 0 === this.x.cmp(e.x) && 0 === this.y.cmp(e.y));
};
l.prototype.neg = function(e) {
if (this.inf) return this;
var t = this.curve.point(this.x, this.y.redNeg());
if (e && this.precomputed) {
var i = this.precomputed, o = function(e) {
return e.neg();
};
t.precomputed = {
naf: i.naf && {
wnd: i.naf.wnd,
points: i.naf.points.map(o)
},
doubles: i.doubles && {
step: i.doubles.step,
points: i.doubles.points.map(o)
}
};
}
return t;
};
l.prototype.toJ = function() {
return this.inf ? this.curve.jpoint(null, null, null) : this.curve.jpoint(this.x, this.y, this.curve.one);
};
function u(e, t, i, o) {
a.BasePoint.call(this, e, "jacobian");
if (null === t && null === i && null === o) {
this.x = this.curve.one;
this.y = this.curve.one;
this.z = new n(0);
} else {
this.x = new n(t, 16);
this.y = new n(i, 16);
this.z = new n(o, 16);
}
this.x.red || (this.x = this.x.toRed(this.curve.red));
this.y.red || (this.y = this.y.toRed(this.curve.red));
this.z.red || (this.z = this.z.toRed(this.curve.red));
this.zOne = this.z === this.curve.one;
}
r(u, a.BasePoint);
c.prototype.jpoint = function(e, t, i) {
return new u(this, e, t, i);
};
u.prototype.toP = function() {
if (this.isInfinity()) return this.curve.point(null, null);
var e = this.z.redInvm(), t = e.redSqr(), i = this.x.redMul(t), o = this.y.redMul(t).redMul(e);
return this.curve.point(i, o);
};
u.prototype.neg = function() {
return this.curve.jpoint(this.x, this.y.redNeg(), this.z);
};
u.prototype.add = function(e) {
if (this.isInfinity()) return e;
if (e.isInfinity()) return this;
var t = e.z.redSqr(), i = this.z.redSqr(), o = this.x.redMul(t), n = e.x.redMul(i), r = this.y.redMul(t.redMul(e.z)), a = e.y.redMul(i.redMul(this.z)), s = o.redSub(n), c = r.redSub(a);
if (0 === s.cmpn(0)) return 0 !== c.cmpn(0) ? this.curve.jpoint(null, null, null) : this.dbl();
var l = s.redSqr(), u = l.redMul(s), d = o.redMul(l), f = c.redSqr().redIAdd(u).redISub(d).redISub(d), h = c.redMul(d.redISub(f)).redISub(r.redMul(u)), p = this.z.redMul(e.z).redMul(s);
return this.curve.jpoint(f, h, p);
};
u.prototype.mixedAdd = function(e) {
if (this.isInfinity()) return e.toJ();
if (e.isInfinity()) return this;
var t = this.z.redSqr(), i = this.x, o = e.x.redMul(t), n = this.y, r = e.y.redMul(t).redMul(this.z), a = i.redSub(o), s = n.redSub(r);
if (0 === a.cmpn(0)) return 0 !== s.cmpn(0) ? this.curve.jpoint(null, null, null) : this.dbl();
var c = a.redSqr(), l = c.redMul(a), u = i.redMul(c), d = s.redSqr().redIAdd(l).redISub(u).redISub(u), f = s.redMul(u.redISub(d)).redISub(n.redMul(l)), h = this.z.redMul(a);
return this.curve.jpoint(d, f, h);
};
u.prototype.dblp = function(e) {
if (0 === e) return this;
if (this.isInfinity()) return this;
if (!e) return this.dbl();
if (this.curve.zeroA || this.curve.threeA) {
for (var t = this, i = 0; i < e; i++) t = t.dbl();
return t;
}
var o = this.curve.a, n = this.curve.tinv, r = this.x, a = this.y, s = this.z, c = s.redSqr().redSqr(), l = a.redAdd(a);
for (i = 0; i < e; i++) {
var u = r.redSqr(), d = l.redSqr(), f = d.redSqr(), h = u.redAdd(u).redIAdd(u).redIAdd(o.redMul(c)), p = r.redMul(d), g = h.redSqr().redISub(p.redAdd(p)), m = p.redISub(g), y = h.redMul(m);
y = y.redIAdd(y).redISub(f);
var b = l.redMul(s);
i + 1 < e && (c = c.redMul(f));
r = g;
s = b;
l = y;
}
return this.curve.jpoint(r, l.redMul(n), s);
};
u.prototype.dbl = function() {
return this.isInfinity() ? this : this.curve.zeroA ? this._zeroDbl() : this.curve.threeA ? this._threeDbl() : this._dbl();
};
u.prototype._zeroDbl = function() {
var e, t, i;
if (this.zOne) {
var o = this.x.redSqr(), n = this.y.redSqr(), r = n.redSqr(), a = this.x.redAdd(n).redSqr().redISub(o).redISub(r);
a = a.redIAdd(a);
var s = o.redAdd(o).redIAdd(o), c = s.redSqr().redISub(a).redISub(a), l = r.redIAdd(r);
l = (l = l.redIAdd(l)).redIAdd(l);
e = c;
t = s.redMul(a.redISub(c)).redISub(l);
i = this.y.redAdd(this.y);
} else {
var u = this.x.redSqr(), d = this.y.redSqr(), f = d.redSqr(), h = this.x.redAdd(d).redSqr().redISub(u).redISub(f);
h = h.redIAdd(h);
var p = u.redAdd(u).redIAdd(u), g = p.redSqr(), m = f.redIAdd(f);
m = (m = m.redIAdd(m)).redIAdd(m);
e = g.redISub(h).redISub(h);
t = p.redMul(h.redISub(e)).redISub(m);
i = (i = this.y.redMul(this.z)).redIAdd(i);
}
return this.curve.jpoint(e, t, i);
};
u.prototype._threeDbl = function() {
var e, t, i;
if (this.zOne) {
var o = this.x.redSqr(), n = this.y.redSqr(), r = n.redSqr(), a = this.x.redAdd(n).redSqr().redISub(o).redISub(r);
a = a.redIAdd(a);
var s = o.redAdd(o).redIAdd(o).redIAdd(this.curve.a), c = s.redSqr().redISub(a).redISub(a);
e = c;
var l = r.redIAdd(r);
l = (l = l.redIAdd(l)).redIAdd(l);
t = s.redMul(a.redISub(c)).redISub(l);
i = this.y.redAdd(this.y);
} else {
var u = this.z.redSqr(), d = this.y.redSqr(), f = this.x.redMul(d), h = this.x.redSub(u).redMul(this.x.redAdd(u));
h = h.redAdd(h).redIAdd(h);
var p = f.redIAdd(f), g = (p = p.redIAdd(p)).redAdd(p);
e = h.redSqr().redISub(g);
i = this.y.redAdd(this.z).redSqr().redISub(d).redISub(u);
var m = d.redSqr();
m = (m = (m = m.redIAdd(m)).redIAdd(m)).redIAdd(m);
t = h.redMul(p.redISub(e)).redISub(m);
}
return this.curve.jpoint(e, t, i);
};
u.prototype._dbl = function() {
var e = this.curve.a, t = this.x, i = this.y, o = this.z, n = o.redSqr().redSqr(), r = t.redSqr(), a = i.redSqr(), s = r.redAdd(r).redIAdd(r).redIAdd(e.redMul(n)), c = t.redAdd(t), l = (c = c.redIAdd(c)).redMul(a), u = s.redSqr().redISub(l.redAdd(l)), d = l.redISub(u), f = a.redSqr();
f = (f = (f = f.redIAdd(f)).redIAdd(f)).redIAdd(f);
var h = s.redMul(d).redISub(f), p = i.redAdd(i).redMul(o);
return this.curve.jpoint(u, h, p);
};
u.prototype.trpl = function() {
if (!this.curve.zeroA) return this.dbl().add(this);
var e = this.x.redSqr(), t = this.y.redSqr(), i = this.z.redSqr(), o = t.redSqr(), n = e.redAdd(e).redIAdd(e), r = n.redSqr(), a = this.x.redAdd(t).redSqr().redISub(e).redISub(o), s = (a = (a = (a = a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(r)).redSqr(), c = o.redIAdd(o);
c = (c = (c = c.redIAdd(c)).redIAdd(c)).redIAdd(c);
var l = n.redIAdd(a).redSqr().redISub(r).redISub(s).redISub(c), u = t.redMul(l);
u = (u = u.redIAdd(u)).redIAdd(u);
var d = this.x.redMul(s).redISub(u);
d = (d = d.redIAdd(d)).redIAdd(d);
var f = this.y.redMul(l.redMul(c.redISub(l)).redISub(a.redMul(s)));
f = (f = (f = f.redIAdd(f)).redIAdd(f)).redIAdd(f);
var h = this.z.redAdd(a).redSqr().redISub(i).redISub(s);
return this.curve.jpoint(d, f, h);
};
u.prototype.mul = function(e, t) {
e = new n(e, t);
return this.curve._wnafMul(this, e);
};
u.prototype.eq = function(e) {
if ("affine" === e.type) return this.eq(e.toJ());
if (this === e) return !0;
var t = this.z.redSqr(), i = e.z.redSqr();
if (0 !== this.x.redMul(i).redISub(e.x.redMul(t)).cmpn(0)) return !1;
var o = t.redMul(this.z), n = i.redMul(e.z);
return 0 === this.y.redMul(n).redISub(e.y.redMul(o)).cmpn(0);
};
u.prototype.eqXToP = function(e) {
var t = this.z.redSqr(), i = e.toRed(this.curve.red).redMul(t);
if (0 === this.x.cmp(i)) return !0;
for (var o = e.clone(), n = this.curve.redN.redMul(t); ;) {
o.iadd(this.curve.n);
if (o.cmp(this.curve.p) >= 0) return !1;
i.redIAdd(n);
if (0 === this.x.cmp(i)) return !0;
}
};
u.prototype.inspect = function() {
return this.isInfinity() ? "<EC JPoint Infinity>" : "<EC JPoint x: " + this.x.toString(16, 2) + " y: " + this.y.toString(16, 2) + " z: " + this.z.toString(16, 2) + ">";
};
u.prototype.isInfinity = function() {
return 0 === this.z.cmpn(0);
};
}, {
"../utils": 81,
"./base": 68,
"bn.js": 16,
inherits: 101
} ],
73: [ function(e, t, i) {
"use strict";
var o, n = i, r = e("hash.js"), a = e("./curve"), s = e("./utils").assert;
function c(e) {
"short" === e.type ? this.curve = new a.short(e) : "edwards" === e.type ? this.curve = new a.edwards(e) : this.curve = new a.mont(e);
this.g = this.curve.g;
this.n = this.curve.n;
this.hash = e.hash;
s(this.g.validate(), "Invalid curve");
s(this.g.mul(this.n).isInfinity(), "Invalid curve, G*N != O");
}
n.PresetCurve = c;
function l(e, t) {
Object.defineProperty(n, e, {
configurable: !0,
enumerable: !0,
get: function() {
var i = new c(t);
Object.defineProperty(n, e, {
configurable: !0,
enumerable: !0,
value: i
});
return i;
}
});
}
l("p192", {
type: "short",
prime: "p192",
p: "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",
a: "ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",
b: "64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",
n: "ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",
hash: r.sha256,
gRed: !1,
g: [ "188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012", "07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811" ]
});
l("p224", {
type: "short",
prime: "p224",
p: "ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",
a: "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",
b: "b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",
n: "ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",
hash: r.sha256,
gRed: !1,
g: [ "b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21", "bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34" ]
});
l("p256", {
type: "short",
prime: null,
p: "ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",
a: "ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",
b: "5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",
n: "ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",
hash: r.sha256,
gRed: !1,
g: [ "6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296", "4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5" ]
});
l("p384", {
type: "short",
prime: null,
p: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",
a: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",
b: "b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",
n: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",
hash: r.sha384,
gRed: !1,
g: [ "aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7", "3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f" ]
});
l("p521", {
type: "short",
prime: null,
p: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",
a: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",
b: "00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",
n: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",
hash: r.sha512,
gRed: !1,
g: [ "000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66", "00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650" ]
});
l("curve25519", {
type: "mont",
prime: "p25519",
p: "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",
a: "76d06",
b: "1",
n: "1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",
hash: r.sha256,
gRed: !1,
g: [ "9" ]
});
l("ed25519", {
type: "edwards",
prime: "p25519",
p: "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",
a: "-1",
c: "1",
d: "52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",
n: "1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",
hash: r.sha256,
gRed: !1,
g: [ "216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a", "6666666666666666666666666666666666666666666666666666666666666658" ]
});
try {
o = e("./precomputed/secp256k1");
} catch (e) {
o = void 0;
}
l("secp256k1", {
type: "short",
prime: "k256",
p: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",
a: "0",
b: "7",
n: "ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",
h: "1",
hash: r.sha256,
beta: "7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",
lambda: "5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",
basis: [ {
a: "3086d221a7d46bcde86c90e49284eb15",
b: "-e4437ed6010e88286f547fa90abfe4c3"
}, {
a: "114ca50f7a8e2f3f657c1108d9d44cfd8",
b: "3086d221a7d46bcde86c90e49284eb15"
} ],
gRed: !1,
g: [ "79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798", "483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8", o ]
});
}, {
"./curve": 70,
"./precomputed/secp256k1": 80,
"./utils": 81,
"hash.js": 86
} ],
74: [ function(e, t, i) {
"use strict";
var o = e("bn.js"), n = e("hmac-drbg"), r = e("../utils"), a = e("../curves"), s = e("brorand"), c = r.assert, l = e("./key"), u = e("./signature");
function d(e) {
if (!(this instanceof d)) return new d(e);
if ("string" == typeof e) {
c(a.hasOwnProperty(e), "Unknown curve " + e);
e = a[e];
}
e instanceof a.PresetCurve && (e = {
curve: e
});
this.curve = e.curve.curve;
this.n = this.curve.n;
this.nh = this.n.ushrn(1);
this.g = this.curve.g;
this.g = e.curve.g;
this.g.precompute(e.curve.n.bitLength() + 1);
this.hash = e.hash || e.curve.hash;
}
t.exports = d;
d.prototype.keyPair = function(e) {
return new l(this, e);
};
d.prototype.keyFromPrivate = function(e, t) {
return l.fromPrivate(this, e, t);
};
d.prototype.keyFromPublic = function(e, t) {
return l.fromPublic(this, e, t);
};
d.prototype.genKeyPair = function(e) {
e || (e = {});
for (var t = new n({
hash: this.hash,
pers: e.pers,
persEnc: e.persEnc || "utf8",
entropy: e.entropy || s(this.hash.hmacStrength),
entropyEnc: e.entropy && e.entropyEnc || "utf8",
nonce: this.n.toArray()
}), i = this.n.byteLength(), r = this.n.sub(new o(2)); ;) {
var a = new o(t.generate(i));
if (!(a.cmp(r) > 0)) {
a.iaddn(1);
return this.keyFromPrivate(a);
}
}
};
d.prototype._truncateToN = function(e, t) {
var i = 8 * e.byteLength() - this.n.bitLength();
i > 0 && (e = e.ushrn(i));
return !t && e.cmp(this.n) >= 0 ? e.sub(this.n) : e;
};
d.prototype.sign = function(e, t, i, r) {
if ("object" == typeof i) {
r = i;
i = null;
}
r || (r = {});
t = this.keyFromPrivate(t, i);
e = this._truncateToN(new o(e, 16));
for (var a = this.n.byteLength(), s = t.getPrivate().toArray("be", a), c = e.toArray("be", a), l = new n({
hash: this.hash,
entropy: s,
nonce: c,
pers: r.pers,
persEnc: r.persEnc || "utf8"
}), d = this.n.sub(new o(1)), f = 0; ;f++) {
var h = r.k ? r.k(f) : new o(l.generate(this.n.byteLength()));
if (!((h = this._truncateToN(h, !0)).cmpn(1) <= 0 || h.cmp(d) >= 0)) {
var p = this.g.mul(h);
if (!p.isInfinity()) {
var g = p.getX(), m = g.umod(this.n);
if (0 !== m.cmpn(0)) {
var y = h.invm(this.n).mul(m.mul(t.getPrivate()).iadd(e));
if (0 !== (y = y.umod(this.n)).cmpn(0)) {
var b = (p.getY().isOdd() ? 1 : 0) | (0 !== g.cmp(m) ? 2 : 0);
if (r.canonical && y.cmp(this.nh) > 0) {
y = this.n.sub(y);
b ^= 1;
}
return new u({
r: m,
s: y,
recoveryParam: b
});
}
}
}
}
}
};
d.prototype.verify = function(e, t, i, n) {
e = this._truncateToN(new o(e, 16));
i = this.keyFromPublic(i, n);
var r = (t = new u(t, "hex")).r, a = t.s;
if (r.cmpn(1) < 0 || r.cmp(this.n) >= 0) return !1;
if (a.cmpn(1) < 0 || a.cmp(this.n) >= 0) return !1;
var s = a.invm(this.n), c = s.mul(e).umod(this.n), l = s.mul(r).umod(this.n);
if (!this.curve._maxwellTrick) {
var d;
return !(d = this.g.mulAdd(c, i.getPublic(), l)).isInfinity() && 0 === d.getX().umod(this.n).cmp(r);
}
return !(d = this.g.jmulAdd(c, i.getPublic(), l)).isInfinity() && d.eqXToP(r);
};
d.prototype.recoverPubKey = function(e, t, i, n) {
c((3 & i) === i, "The recovery param is more than two bits");
t = new u(t, n);
var r = this.n, a = new o(e), s = t.r, l = t.s, d = 1 & i, f = i >> 1;
if (s.cmp(this.curve.p.umod(this.curve.n)) >= 0 && f) throw new Error("Unable to find sencond key candinate");
s = f ? this.curve.pointFromX(s.add(this.curve.n), d) : this.curve.pointFromX(s, d);
var h = t.r.invm(r), p = r.sub(a).mul(h).umod(r), g = l.mul(h).umod(r);
return this.g.mulAdd(p, s, g);
};
d.prototype.getKeyRecoveryParam = function(e, t, i, o) {
if (null !== (t = new u(t, o)).recoveryParam) return t.recoveryParam;
for (var n = 0; n < 4; n++) {
var r;
try {
r = this.recoverPubKey(e, t, n);
} catch (e) {
continue;
}
if (r.eq(i)) return n;
}
throw new Error("Unable to find valid recovery factor");
};
}, {
"../curves": 73,
"../utils": 81,
"./key": 75,
"./signature": 76,
"bn.js": 16,
brorand: 17,
"hmac-drbg": 98
} ],
75: [ function(e, t, i) {
"use strict";
var o = e("bn.js"), n = e("../utils").assert;
function r(e, t) {
this.ec = e;
this.priv = null;
this.pub = null;
t.priv && this._importPrivate(t.priv, t.privEnc);
t.pub && this._importPublic(t.pub, t.pubEnc);
}
t.exports = r;
r.fromPublic = function(e, t, i) {
return t instanceof r ? t : new r(e, {
pub: t,
pubEnc: i
});
};
r.fromPrivate = function(e, t, i) {
return t instanceof r ? t : new r(e, {
priv: t,
privEnc: i
});
};
r.prototype.validate = function() {
var e = this.getPublic();
return e.isInfinity() ? {
result: !1,
reason: "Invalid public key"
} : e.validate() ? e.mul(this.ec.curve.n).isInfinity() ? {
result: !0,
reason: null
} : {
result: !1,
reason: "Public key * N != O"
} : {
result: !1,
reason: "Public key is not a point"
};
};
r.prototype.getPublic = function(e, t) {
if ("string" == typeof e) {
t = e;
e = null;
}
this.pub || (this.pub = this.ec.g.mul(this.priv));
return t ? this.pub.encode(t, e) : this.pub;
};
r.prototype.getPrivate = function(e) {
return "hex" === e ? this.priv.toString(16, 2) : this.priv;
};
r.prototype._importPrivate = function(e, t) {
this.priv = new o(e, t || 16);
this.priv = this.priv.umod(this.ec.curve.n);
};
r.prototype._importPublic = function(e, t) {
if (e.x || e.y) {
"mont" === this.ec.curve.type ? n(e.x, "Need x coordinate") : "short" !== this.ec.curve.type && "edwards" !== this.ec.curve.type || n(e.x && e.y, "Need both x and y coordinate");
this.pub = this.ec.curve.point(e.x, e.y);
} else this.pub = this.ec.curve.decodePoint(e, t);
};
r.prototype.derive = function(e) {
return e.mul(this.priv).getX();
};
r.prototype.sign = function(e, t, i) {
return this.ec.sign(e, this, t, i);
};
r.prototype.verify = function(e, t) {
return this.ec.verify(e, t, this);
};
r.prototype.inspect = function() {
return "<Key priv: " + (this.priv && this.priv.toString(16, 2)) + " pub: " + (this.pub && this.pub.inspect()) + " >";
};
}, {
"../utils": 81,
"bn.js": 16
} ],
76: [ function(e, t, i) {
"use strict";
var o = e("bn.js"), n = e("../utils"), r = n.assert;
function a(e, t) {
if (e instanceof a) return e;
if (!this._importDER(e, t)) {
r(e.r && e.s, "Signature without r or s");
this.r = new o(e.r, 16);
this.s = new o(e.s, 16);
void 0 === e.recoveryParam ? this.recoveryParam = null : this.recoveryParam = e.recoveryParam;
}
}
t.exports = a;
function s() {
this.place = 0;
}
function c(e, t) {
var i = e[t.place++];
if (!(128 & i)) return i;
for (var o = 15 & i, n = 0, r = 0, a = t.place; r < o; r++, a++) {
n <<= 8;
n |= e[a];
}
t.place = a;
return n;
}
function l(e) {
for (var t = 0, i = e.length - 1; !e[t] && !(128 & e[t + 1]) && t < i; ) t++;
return 0 === t ? e : e.slice(t);
}
a.prototype._importDER = function(e, t) {
e = n.toArray(e, t);
var i = new s();
if (48 !== e[i.place++]) return !1;
if (c(e, i) + i.place !== e.length) return !1;
if (2 !== e[i.place++]) return !1;
var r = c(e, i), a = e.slice(i.place, r + i.place);
i.place += r;
if (2 !== e[i.place++]) return !1;
var l = c(e, i);
if (e.length !== l + i.place) return !1;
var u = e.slice(i.place, l + i.place);
0 === a[0] && 128 & a[1] && (a = a.slice(1));
0 === u[0] && 128 & u[1] && (u = u.slice(1));
this.r = new o(a);
this.s = new o(u);
this.recoveryParam = null;
return !0;
};
function u(e, t) {
if (t < 128) e.push(t); else {
var i = 1 + (Math.log(t) / Math.LN2 >>> 3);
e.push(128 | i);
for (;--i; ) e.push(t >>> (i << 3) & 255);
e.push(t);
}
}
a.prototype.toDER = function(e) {
var t = this.r.toArray(), i = this.s.toArray();
128 & t[0] && (t = [ 0 ].concat(t));
128 & i[0] && (i = [ 0 ].concat(i));
t = l(t);
i = l(i);
for (;!(i[0] || 128 & i[1]); ) i = i.slice(1);
var o = [ 2 ];
u(o, t.length);
(o = o.concat(t)).push(2);
u(o, i.length);
var r = o.concat(i), a = [ 48 ];
u(a, r.length);
a = a.concat(r);
return n.encode(a, e);
};
}, {
"../utils": 81,
"bn.js": 16
} ],
77: [ function(e, t, i) {
"use strict";
var o = e("hash.js"), n = e("../curves"), r = e("../utils"), a = r.assert, s = r.parseBytes, c = e("./key"), l = e("./signature");
function u(e) {
a("ed25519" === e, "only tested with ed25519 so far");
if (!(this instanceof u)) return new u(e);
e = n[e].curve;
this.curve = e;
this.g = e.g;
this.g.precompute(e.n.bitLength() + 1);
this.pointClass = e.point().constructor;
this.encodingLength = Math.ceil(e.n.bitLength() / 8);
this.hash = o.sha512;
}
t.exports = u;
u.prototype.sign = function(e, t) {
e = s(e);
var i = this.keyFromSecret(t), o = this.hashInt(i.messagePrefix(), e), n = this.g.mul(o), r = this.encodePoint(n), a = this.hashInt(r, i.pubBytes(), e).mul(i.priv()), c = o.add(a).umod(this.curve.n);
return this.makeSignature({
R: n,
S: c,
Rencoded: r
});
};
u.prototype.verify = function(e, t, i) {
e = s(e);
t = this.makeSignature(t);
var o = this.keyFromPublic(i), n = this.hashInt(t.Rencoded(), o.pubBytes(), e), r = this.g.mul(t.S());
return t.R().add(o.pub().mul(n)).eq(r);
};
u.prototype.hashInt = function() {
for (var e = this.hash(), t = 0; t < arguments.length; t++) e.update(arguments[t]);
return r.intFromLE(e.digest()).umod(this.curve.n);
};
u.prototype.keyFromPublic = function(e) {
return c.fromPublic(this, e);
};
u.prototype.keyFromSecret = function(e) {
return c.fromSecret(this, e);
};
u.prototype.makeSignature = function(e) {
return e instanceof l ? e : new l(this, e);
};
u.prototype.encodePoint = function(e) {
var t = e.getY().toArray("le", this.encodingLength);
t[this.encodingLength - 1] |= e.getX().isOdd() ? 128 : 0;
return t;
};
u.prototype.decodePoint = function(e) {
var t = (e = r.parseBytes(e)).length - 1, i = e.slice(0, t).concat(-129 & e[t]), o = 0 != (128 & e[t]), n = r.intFromLE(i);
return this.curve.pointFromY(n, o);
};
u.prototype.encodeInt = function(e) {
return e.toArray("le", this.encodingLength);
};
u.prototype.decodeInt = function(e) {
return r.intFromLE(e);
};
u.prototype.isPoint = function(e) {
return e instanceof this.pointClass;
};
}, {
"../curves": 73,
"../utils": 81,
"./key": 78,
"./signature": 79,
"hash.js": 86
} ],
78: [ function(e, t, i) {
"use strict";
var o = e("../utils"), n = o.assert, r = o.parseBytes, a = o.cachedProperty;
function s(e, t) {
this.eddsa = e;
this._secret = r(t.secret);
e.isPoint(t.pub) ? this._pub = t.pub : this._pubBytes = r(t.pub);
}
s.fromPublic = function(e, t) {
return t instanceof s ? t : new s(e, {
pub: t
});
};
s.fromSecret = function(e, t) {
return t instanceof s ? t : new s(e, {
secret: t
});
};
s.prototype.secret = function() {
return this._secret;
};
a(s, "pubBytes", function() {
return this.eddsa.encodePoint(this.pub());
});
a(s, "pub", function() {
return this._pubBytes ? this.eddsa.decodePoint(this._pubBytes) : this.eddsa.g.mul(this.priv());
});
a(s, "privBytes", function() {
var e = this.eddsa, t = this.hash(), i = e.encodingLength - 1, o = t.slice(0, e.encodingLength);
o[0] &= 248;
o[i] &= 127;
o[i] |= 64;
return o;
});
a(s, "priv", function() {
return this.eddsa.decodeInt(this.privBytes());
});
a(s, "hash", function() {
return this.eddsa.hash().update(this.secret()).digest();
});
a(s, "messagePrefix", function() {
return this.hash().slice(this.eddsa.encodingLength);
});
s.prototype.sign = function(e) {
n(this._secret, "KeyPair can only verify");
return this.eddsa.sign(e, this);
};
s.prototype.verify = function(e, t) {
return this.eddsa.verify(e, t, this);
};
s.prototype.getSecret = function(e) {
n(this._secret, "KeyPair is public only");
return o.encode(this.secret(), e);
};
s.prototype.getPublic = function(e) {
return o.encode(this.pubBytes(), e);
};
t.exports = s;
}, {
"../utils": 81
} ],
79: [ function(e, t, i) {
"use strict";
var o = e("bn.js"), n = e("../utils"), r = n.assert, a = n.cachedProperty, s = n.parseBytes;
function c(e, t) {
this.eddsa = e;
"object" != typeof t && (t = s(t));
Array.isArray(t) && (t = {
R: t.slice(0, e.encodingLength),
S: t.slice(e.encodingLength)
});
r(t.R && t.S, "Signature without R or S");
e.isPoint(t.R) && (this._R = t.R);
t.S instanceof o && (this._S = t.S);
this._Rencoded = Array.isArray(t.R) ? t.R : t.Rencoded;
this._Sencoded = Array.isArray(t.S) ? t.S : t.Sencoded;
}
a(c, "S", function() {
return this.eddsa.decodeInt(this.Sencoded());
});
a(c, "R", function() {
return this.eddsa.decodePoint(this.Rencoded());
});
a(c, "Rencoded", function() {
return this.eddsa.encodePoint(this.R());
});
a(c, "Sencoded", function() {
return this.eddsa.encodeInt(this.S());
});
c.prototype.toBytes = function() {
return this.Rencoded().concat(this.Sencoded());
};
c.prototype.toHex = function() {
return n.encode(this.toBytes(), "hex").toUpperCase();
};
t.exports = c;
}, {
"../utils": 81,
"bn.js": 16
} ],
80: [ function(e, t, i) {
t.exports = {
doubles: {
step: 4,
points: [ [ "e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a", "f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821" ], [ "8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508", "11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf" ], [ "175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739", "d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695" ], [ "363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640", "4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9" ], [ "8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c", "4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36" ], [ "723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda", "96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f" ], [ "eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa", "5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999" ], [ "100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0", "cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09" ], [ "e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d", "9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d" ], [ "feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d", "e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088" ], [ "da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1", "9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d" ], [ "53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0", "5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8" ], [ "8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047", "10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a" ], [ "385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862", "283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453" ], [ "6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7", "7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160" ], [ "3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd", "56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0" ], [ "85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83", "7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6" ], [ "948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a", "53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589" ], [ "6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8", "bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17" ], [ "e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d", "4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda" ], [ "e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725", "7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd" ], [ "213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754", "4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2" ], [ "4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c", "17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6" ], [ "fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6", "6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f" ], [ "76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39", "c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01" ], [ "c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891", "893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3" ], [ "d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b", "febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f" ], [ "b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03", "2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7" ], [ "e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d", "eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78" ], [ "a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070", "7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1" ], [ "90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4", "e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150" ], [ "8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da", "662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82" ], [ "e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11", "1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc" ], [ "8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e", "efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b" ], [ "e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41", "2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51" ], [ "b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef", "67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45" ], [ "d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8", "db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120" ], [ "324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d", "648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84" ], [ "4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96", "35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d" ], [ "9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd", "ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d" ], [ "6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5", "9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8" ], [ "a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266", "40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8" ], [ "7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71", "34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac" ], [ "928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac", "c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f" ], [ "85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751", "1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962" ], [ "ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e", "493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907" ], [ "827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241", "c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec" ], [ "eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3", "be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d" ], [ "e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f", "4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414" ], [ "1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19", "aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd" ], [ "146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be", "b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0" ], [ "fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9", "6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811" ], [ "da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2", "8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1" ], [ "a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13", "7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c" ], [ "174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c", "ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73" ], [ "959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba", "2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd" ], [ "d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151", "e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405" ], [ "64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073", "d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589" ], [ "8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458", "38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e" ], [ "13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b", "69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27" ], [ "bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366", "d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1" ], [ "8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa", "40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482" ], [ "8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0", "620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945" ], [ "dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787", "7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573" ], [ "f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e", "ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82" ] ]
},
naf: {
wnd: 7,
points: [ [ "f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9", "388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672" ], [ "2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4", "d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6" ], [ "5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc", "6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da" ], [ "acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe", "cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37" ], [ "774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb", "d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b" ], [ "f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8", "ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81" ], [ "d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e", "581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58" ], [ "defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34", "4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77" ], [ "2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c", "85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a" ], [ "352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5", "321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c" ], [ "2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f", "2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67" ], [ "9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714", "73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402" ], [ "daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729", "a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55" ], [ "c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db", "2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482" ], [ "6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4", "e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82" ], [ "1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5", "b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396" ], [ "605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479", "2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49" ], [ "62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d", "80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf" ], [ "80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f", "1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a" ], [ "7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb", "d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7" ], [ "d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9", "eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933" ], [ "49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963", "758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a" ], [ "77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74", "958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6" ], [ "f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530", "e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37" ], [ "463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b", "5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e" ], [ "f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247", "cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6" ], [ "caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1", "cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476" ], [ "2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120", "4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40" ], [ "7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435", "91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61" ], [ "754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18", "673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683" ], [ "e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8", "59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5" ], [ "186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb", "3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b" ], [ "df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f", "55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417" ], [ "5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143", "efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868" ], [ "290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba", "e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a" ], [ "af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45", "f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6" ], [ "766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a", "744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996" ], [ "59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e", "c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e" ], [ "f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8", "e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d" ], [ "7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c", "30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2" ], [ "948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519", "e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e" ], [ "7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab", "100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437" ], [ "3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca", "ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311" ], [ "d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf", "8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4" ], [ "1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610", "68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575" ], [ "733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4", "f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d" ], [ "15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c", "d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d" ], [ "a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940", "edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629" ], [ "e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980", "a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06" ], [ "311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3", "66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374" ], [ "34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf", "9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee" ], [ "f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63", "4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1" ], [ "d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448", "fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b" ], [ "32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf", "5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661" ], [ "7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5", "8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6" ], [ "ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6", "8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e" ], [ "16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5", "5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d" ], [ "eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99", "f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc" ], [ "78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51", "f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4" ], [ "494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5", "42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c" ], [ "a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5", "204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b" ], [ "c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997", "4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913" ], [ "841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881", "73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154" ], [ "5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5", "39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865" ], [ "36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66", "d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc" ], [ "336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726", "ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224" ], [ "8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede", "6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e" ], [ "1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94", "60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6" ], [ "85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31", "3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511" ], [ "29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51", "b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b" ], [ "a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252", "ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2" ], [ "4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5", "cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c" ], [ "d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b", "6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3" ], [ "ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4", "322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d" ], [ "af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f", "6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700" ], [ "e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889", "2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4" ], [ "591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246", "b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196" ], [ "11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984", "998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4" ], [ "3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a", "b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257" ], [ "cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030", "bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13" ], [ "c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197", "6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096" ], [ "c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593", "c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38" ], [ "a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef", "21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f" ], [ "347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38", "60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448" ], [ "da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a", "49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a" ], [ "c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111", "5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4" ], [ "4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502", "7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437" ], [ "3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea", "be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7" ], [ "cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26", "8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d" ], [ "b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986", "39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a" ], [ "d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e", "62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54" ], [ "48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4", "25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77" ], [ "dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda", "ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517" ], [ "6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859", "cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10" ], [ "e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f", "f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125" ], [ "eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c", "6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e" ], [ "13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942", "fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1" ], [ "ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a", "1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2" ], [ "b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80", "5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423" ], [ "ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d", "438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8" ], [ "8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1", "cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758" ], [ "52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63", "c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375" ], [ "e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352", "6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d" ], [ "7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193", "ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec" ], [ "5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00", "9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0" ], [ "32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58", "ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c" ], [ "e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7", "d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4" ], [ "8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8", "c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f" ], [ "4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e", "67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649" ], [ "3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d", "cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826" ], [ "674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b", "299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5" ], [ "d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f", "f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87" ], [ "30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6", "462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b" ], [ "be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297", "62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc" ], [ "93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a", "7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c" ], [ "b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c", "ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f" ], [ "d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52", "4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a" ], [ "d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb", "bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46" ], [ "463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065", "bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f" ], [ "7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917", "603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03" ], [ "74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9", "cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08" ], [ "30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3", "553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8" ], [ "9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57", "712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373" ], [ "176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66", "ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3" ], [ "75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8", "9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8" ], [ "809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721", "9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1" ], [ "1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180", "4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9" ] ]
}
};
}, {} ],
81: [ function(e, t, i) {
"use strict";
var o = i, n = e("bn.js"), r = e("minimalistic-assert"), a = e("minimalistic-crypto-utils");
o.assert = r;
o.toArray = a.toArray;
o.zero2 = a.zero2;
o.toHex = a.toHex;
o.encode = a.encode;
o.getNAF = function(e, t) {
for (var i = [], o = 1 << t + 1, n = e.clone(); n.cmpn(1) >= 0; ) {
var r;
if (n.isOdd()) {
var a = n.andln(o - 1);
r = a > (o >> 1) - 1 ? (o >> 1) - a : a;
n.isubn(r);
} else r = 0;
i.push(r);
for (var s = 0 !== n.cmpn(0) && 0 === n.andln(o - 1) ? t + 1 : 1, c = 1; c < s; c++) i.push(0);
n.iushrn(s);
}
return i;
};
o.getJSF = function(e, t) {
var i = [ [], [] ];
e = e.clone();
t = t.clone();
for (var o = 0, n = 0; e.cmpn(-o) > 0 || t.cmpn(-n) > 0; ) {
var r, a, s = e.andln(3) + o & 3, c = t.andln(3) + n & 3;
3 === s && (s = -1);
3 === c && (c = -1);
r = 0 == (1 & s) ? 0 : 3 != (l = e.andln(7) + o & 7) && 5 !== l || 2 !== c ? s : -s;
i[0].push(r);
if (0 == (1 & c)) a = 0; else {
var l;
a = 3 != (l = t.andln(7) + n & 7) && 5 !== l || 2 !== s ? c : -c;
}
i[1].push(a);
2 * o === r + 1 && (o = 1 - o);
2 * n === a + 1 && (n = 1 - n);
e.iushrn(1);
t.iushrn(1);
}
return i;
};
o.cachedProperty = function(e, t, i) {
var o = "_" + t;
e.prototype[t] = function() {
return void 0 !== this[o] ? this[o] : this[o] = i.call(this);
};
};
o.parseBytes = function(e) {
return "string" == typeof e ? o.toArray(e, "hex") : e;
};
o.intFromLE = function(e) {
return new n(e, "hex", "le");
};
}, {
"bn.js": 16,
"minimalistic-assert": 105,
"minimalistic-crypto-utils": 106
} ],
82: [ function(e, t, i) {
t.exports = {
_from: "elliptic@^6.0.0",
_id: "elliptic@6.5.1",
_inBundle: !1,
_integrity: "sha512-xvJINNLbTeWQjrl6X+7eQCrIy/YPv5XCpKW6kB5mKvtnGILoLDcySuwomfdzt0BMdLNVnuRNTuzKNHj0bva1Cg==",
_location: "/elliptic",
_phantomChildren: {},
_requested: {
type: "range",
registry: !0,
raw: "elliptic@^6.0.0",
name: "elliptic",
escapedName: "elliptic",
rawSpec: "^6.0.0",
saveSpec: null,
fetchSpec: "^6.0.0"
},
_requiredBy: [ "/browserify-sign", "/create-ecdh" ],
_resolved: "https://registry.npmjs.org/elliptic/-/elliptic-6.5.1.tgz",
_shasum: "c380f5f909bf1b9b4428d028cd18d3b0efd6b52b",
_spec: "elliptic@^6.0.0",
_where: "/Users/nantas/fireball-x/fireball_2.2.0-release/dist/CocosCreator.app/Contents/Resources/app/node_modules/browserify-sign",
author: {
name: "Fedor Indutny",
email: "fedor@indutny.com"
},
bugs: {
url: "https://github.com/indutny/elliptic/issues"
},
bundleDependencies: !1,
dependencies: {
"bn.js": "^4.4.0",
brorand: "^1.0.1",
"hash.js": "^1.0.0",
"hmac-drbg": "^1.0.0",
inherits: "^2.0.1",
"minimalistic-assert": "^1.0.0",
"minimalistic-crypto-utils": "^1.0.0"
},
deprecated: !1,
description: "EC cryptography",
devDependencies: {
brfs: "^1.4.3",
coveralls: "^3.0.4",
grunt: "^1.0.4",
"grunt-browserify": "^5.0.0",
"grunt-cli": "^1.2.0",
"grunt-contrib-connect": "^1.0.0",
"grunt-contrib-copy": "^1.0.0",
"grunt-contrib-uglify": "^1.0.1",
"grunt-mocha-istanbul": "^3.0.1",
"grunt-saucelabs": "^9.0.1",
istanbul: "^0.4.2",
jscs: "^3.0.7",
jshint: "^2.6.0",
mocha: "^6.1.4"
},
files: [ "lib" ],
homepage: "https://github.com/indutny/elliptic",
keywords: [ "EC", "Elliptic", "curve", "Cryptography" ],
license: "MIT",
main: "lib/elliptic.js",
name: "elliptic",
repository: {
type: "git",
url: "git+ssh://git@github.com/indutny/elliptic.git"
},
scripts: {
jscs: "jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",
jshint: "jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",
lint: "npm run jscs && npm run jshint",
test: "npm run lint && npm run unit",
unit: "istanbul test _mocha --reporter=spec test/index.js",
version: "grunt dist && git add dist/"
},
version: "6.5.1"
};
}, {} ],
83: [ function(e, t, i) {
function o() {
this._events = this._events || {};
this._maxListeners = this._maxListeners || void 0;
}
t.exports = o;
o.EventEmitter = o;
o.prototype._events = void 0;
o.prototype._maxListeners = void 0;
o.defaultMaxListeners = 10;
o.prototype.setMaxListeners = function(e) {
if (!r(e) || e < 0 || isNaN(e)) throw TypeError("n must be a positive number");
this._maxListeners = e;
return this;
};
o.prototype.emit = function(e) {
var t, i, o, r, c, l;
this._events || (this._events = {});
if ("error" === e && (!this._events.error || a(this._events.error) && !this._events.error.length)) {
if ((t = arguments[1]) instanceof Error) throw t;
var u = new Error('Uncaught, unspecified "error" event. (' + t + ")");
u.context = t;
throw u;
}
if (s(i = this._events[e])) return !1;
if (n(i)) switch (arguments.length) {
case 1:
i.call(this);
break;

case 2:
i.call(this, arguments[1]);
break;

case 3:
i.call(this, arguments[1], arguments[2]);
break;

default:
r = Array.prototype.slice.call(arguments, 1);
i.apply(this, r);
} else if (a(i)) {
r = Array.prototype.slice.call(arguments, 1);
o = (l = i.slice()).length;
for (c = 0; c < o; c++) l[c].apply(this, r);
}
return !0;
};
o.prototype.addListener = function(e, t) {
var i;
if (!n(t)) throw TypeError("listener must be a function");
this._events || (this._events = {});
this._events.newListener && this.emit("newListener", e, n(t.listener) ? t.listener : t);
this._events[e] ? a(this._events[e]) ? this._events[e].push(t) : this._events[e] = [ this._events[e], t ] : this._events[e] = t;
if (a(this._events[e]) && !this._events[e].warned && (i = s(this._maxListeners) ? o.defaultMaxListeners : this._maxListeners) && i > 0 && this._events[e].length > i) {
this._events[e].warned = !0;
console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.", this._events[e].length);
"function" == typeof console.trace && console.trace();
}
return this;
};
o.prototype.on = o.prototype.addListener;
o.prototype.once = function(e, t) {
if (!n(t)) throw TypeError("listener must be a function");
var i = !1;
function o() {
this.removeListener(e, o);
if (!i) {
i = !0;
t.apply(this, arguments);
}
}
o.listener = t;
this.on(e, o);
return this;
};
o.prototype.removeListener = function(e, t) {
var i, o, r, s;
if (!n(t)) throw TypeError("listener must be a function");
if (!this._events || !this._events[e]) return this;
r = (i = this._events[e]).length;
o = -1;
if (i === t || n(i.listener) && i.listener === t) {
delete this._events[e];
this._events.removeListener && this.emit("removeListener", e, t);
} else if (a(i)) {
for (s = r; s-- > 0; ) if (i[s] === t || i[s].listener && i[s].listener === t) {
o = s;
break;
}
if (o < 0) return this;
if (1 === i.length) {
i.length = 0;
delete this._events[e];
} else i.splice(o, 1);
this._events.removeListener && this.emit("removeListener", e, t);
}
return this;
};
o.prototype.removeAllListeners = function(e) {
var t, i;
if (!this._events) return this;
if (!this._events.removeListener) {
0 === arguments.length ? this._events = {} : this._events[e] && delete this._events[e];
return this;
}
if (0 === arguments.length) {
for (t in this._events) "removeListener" !== t && this.removeAllListeners(t);
this.removeAllListeners("removeListener");
this._events = {};
return this;
}
if (n(i = this._events[e])) this.removeListener(e, i); else if (i) for (;i.length; ) this.removeListener(e, i[i.length - 1]);
delete this._events[e];
return this;
};
o.prototype.listeners = function(e) {
return this._events && this._events[e] ? n(this._events[e]) ? [ this._events[e] ] : this._events[e].slice() : [];
};
o.prototype.listenerCount = function(e) {
if (this._events) {
var t = this._events[e];
if (n(t)) return 1;
if (t) return t.length;
}
return 0;
};
o.listenerCount = function(e, t) {
return e.listenerCount(t);
};
function n(e) {
return "function" == typeof e;
}
function r(e) {
return "number" == typeof e;
}
function a(e) {
return "object" == typeof e && null !== e;
}
function s(e) {
return void 0 === e;
}
}, {} ],
84: [ function(e, t, i) {
var o = e("safe-buffer").Buffer, n = e("md5.js");
t.exports = function(e, t, i, r) {
o.isBuffer(e) || (e = o.from(e, "binary"));
if (t) {
o.isBuffer(t) || (t = o.from(t, "binary"));
if (8 !== t.length) throw new RangeError("salt should be Buffer with 8 byte length");
}
for (var a = i / 8, s = o.alloc(a), c = o.alloc(r || 0), l = o.alloc(0); a > 0 || r > 0; ) {
var u = new n();
u.update(l);
u.update(e);
t && u.update(t);
l = u.digest();
var d = 0;
if (a > 0) {
var f = s.length - a;
d = Math.min(a, l.length);
l.copy(s, f, 0, d);
a -= d;
}
if (d < l.length && r > 0) {
var h = c.length - r, p = Math.min(r, l.length - d);
l.copy(c, h, d, d + p);
r -= p;
}
}
l.fill(0);
return {
key: s,
iv: c
};
};
}, {
"md5.js": 103,
"safe-buffer": 144
} ],
85: [ function(e, t, i) {
"use strict";
var o = e("safe-buffer").Buffer, n = e("stream").Transform;
function r(e, t) {
if (!o.isBuffer(e) && "string" != typeof e) throw new TypeError(t + " must be a string or a buffer");
}
function a(e) {
n.call(this);
this._block = o.allocUnsafe(e);
this._blockSize = e;
this._blockOffset = 0;
this._length = [ 0, 0, 0, 0 ];
this._finalized = !1;
}
e("inherits")(a, n);
a.prototype._transform = function(e, t, i) {
var o = null;
try {
this.update(e, t);
} catch (e) {
o = e;
}
i(o);
};
a.prototype._flush = function(e) {
var t = null;
try {
this.push(this.digest());
} catch (e) {
t = e;
}
e(t);
};
a.prototype.update = function(e, t) {
r(e, "Data");
if (this._finalized) throw new Error("Digest already called");
o.isBuffer(e) || (e = o.from(e, t));
for (var i = this._block, n = 0; this._blockOffset + e.length - n >= this._blockSize; ) {
for (var a = this._blockOffset; a < this._blockSize; ) i[a++] = e[n++];
this._update();
this._blockOffset = 0;
}
for (;n < e.length; ) i[this._blockOffset++] = e[n++];
for (var s = 0, c = 8 * e.length; c > 0; ++s) {
this._length[s] += c;
(c = this._length[s] / 4294967296 | 0) > 0 && (this._length[s] -= 4294967296 * c);
}
return this;
};
a.prototype._update = function() {
throw new Error("_update is not implemented");
};
a.prototype.digest = function(e) {
if (this._finalized) throw new Error("Digest already called");
this._finalized = !0;
var t = this._digest();
void 0 !== e && (t = t.toString(e));
this._block.fill(0);
this._blockOffset = 0;
for (var i = 0; i < 4; ++i) this._length[i] = 0;
return t;
};
a.prototype._digest = function() {
throw new Error("_digest is not implemented");
};
t.exports = a;
}, {
inherits: 101,
"safe-buffer": 144,
stream: 153
} ],
86: [ function(e, t, i) {
var o = i;
o.utils = e("./hash/utils");
o.common = e("./hash/common");
o.sha = e("./hash/sha");
o.ripemd = e("./hash/ripemd");
o.hmac = e("./hash/hmac");
o.sha1 = o.sha.sha1;
o.sha256 = o.sha.sha256;
o.sha224 = o.sha.sha224;
o.sha384 = o.sha.sha384;
o.sha512 = o.sha.sha512;
o.ripemd160 = o.ripemd.ripemd160;
}, {
"./hash/common": 87,
"./hash/hmac": 88,
"./hash/ripemd": 89,
"./hash/sha": 90,
"./hash/utils": 97
} ],
87: [ function(e, t, i) {
"use strict";
var o = e("./utils"), n = e("minimalistic-assert");
function r() {
this.pending = null;
this.pendingTotal = 0;
this.blockSize = this.constructor.blockSize;
this.outSize = this.constructor.outSize;
this.hmacStrength = this.constructor.hmacStrength;
this.padLength = this.constructor.padLength / 8;
this.endian = "big";
this._delta8 = this.blockSize / 8;
this._delta32 = this.blockSize / 32;
}
i.BlockHash = r;
r.prototype.update = function(e, t) {
e = o.toArray(e, t);
this.pending ? this.pending = this.pending.concat(e) : this.pending = e;
this.pendingTotal += e.length;
if (this.pending.length >= this._delta8) {
var i = (e = this.pending).length % this._delta8;
this.pending = e.slice(e.length - i, e.length);
0 === this.pending.length && (this.pending = null);
e = o.join32(e, 0, e.length - i, this.endian);
for (var n = 0; n < e.length; n += this._delta32) this._update(e, n, n + this._delta32);
}
return this;
};
r.prototype.digest = function(e) {
this.update(this._pad());
n(null === this.pending);
return this._digest(e);
};
r.prototype._pad = function() {
var e = this.pendingTotal, t = this._delta8, i = t - (e + this.padLength) % t, o = new Array(i + this.padLength);
o[0] = 128;
for (var n = 1; n < i; n++) o[n] = 0;
e <<= 3;
if ("big" === this.endian) {
for (var r = 8; r < this.padLength; r++) o[n++] = 0;
o[n++] = 0;
o[n++] = 0;
o[n++] = 0;
o[n++] = 0;
o[n++] = e >>> 24 & 255;
o[n++] = e >>> 16 & 255;
o[n++] = e >>> 8 & 255;
o[n++] = 255 & e;
} else {
o[n++] = 255 & e;
o[n++] = e >>> 8 & 255;
o[n++] = e >>> 16 & 255;
o[n++] = e >>> 24 & 255;
o[n++] = 0;
o[n++] = 0;
o[n++] = 0;
o[n++] = 0;
for (r = 8; r < this.padLength; r++) o[n++] = 0;
}
return o;
};
}, {
"./utils": 97,
"minimalistic-assert": 105
} ],
88: [ function(e, t, i) {
"use strict";
var o = e("./utils"), n = e("minimalistic-assert");
function r(e, t, i) {
if (!(this instanceof r)) return new r(e, t, i);
this.Hash = e;
this.blockSize = e.blockSize / 8;
this.outSize = e.outSize / 8;
this.inner = null;
this.outer = null;
this._init(o.toArray(t, i));
}
t.exports = r;
r.prototype._init = function(e) {
e.length > this.blockSize && (e = new this.Hash().update(e).digest());
n(e.length <= this.blockSize);
for (var t = e.length; t < this.blockSize; t++) e.push(0);
for (t = 0; t < e.length; t++) e[t] ^= 54;
this.inner = new this.Hash().update(e);
for (t = 0; t < e.length; t++) e[t] ^= 106;
this.outer = new this.Hash().update(e);
};
r.prototype.update = function(e, t) {
this.inner.update(e, t);
return this;
};
r.prototype.digest = function(e) {
this.outer.update(this.inner.digest());
return this.outer.digest(e);
};
}, {
"./utils": 97,
"minimalistic-assert": 105
} ],
89: [ function(e, t, i) {
"use strict";
var o = e("./utils"), n = e("./common"), r = o.rotl32, a = o.sum32, s = o.sum32_3, c = o.sum32_4, l = n.BlockHash;
function u() {
if (!(this instanceof u)) return new u();
l.call(this);
this.h = [ 1732584193, 4023233417, 2562383102, 271733878, 3285377520 ];
this.endian = "little";
}
o.inherits(u, l);
i.ripemd160 = u;
u.blockSize = 512;
u.outSize = 160;
u.hmacStrength = 192;
u.padLength = 64;
u.prototype._update = function(e, t) {
for (var i = this.h[0], o = this.h[1], n = this.h[2], l = this.h[3], u = this.h[4], b = i, _ = o, v = n, S = l, C = u, w = 0; w < 80; w++) {
var A = a(r(c(i, d(w, o, n, l), e[p[w] + t], f(w)), m[w]), u);
i = u;
u = l;
l = r(n, 10);
n = o;
o = A;
A = a(r(c(b, d(79 - w, _, v, S), e[g[w] + t], h(w)), y[w]), C);
b = C;
C = S;
S = r(v, 10);
v = _;
_ = A;
}
A = s(this.h[1], n, S);
this.h[1] = s(this.h[2], l, C);
this.h[2] = s(this.h[3], u, b);
this.h[3] = s(this.h[4], i, _);
this.h[4] = s(this.h[0], o, v);
this.h[0] = A;
};
u.prototype._digest = function(e) {
return "hex" === e ? o.toHex32(this.h, "little") : o.split32(this.h, "little");
};
function d(e, t, i, o) {
return e <= 15 ? t ^ i ^ o : e <= 31 ? t & i | ~t & o : e <= 47 ? (t | ~i) ^ o : e <= 63 ? t & o | i & ~o : t ^ (i | ~o);
}
function f(e) {
return e <= 15 ? 0 : e <= 31 ? 1518500249 : e <= 47 ? 1859775393 : e <= 63 ? 2400959708 : 2840853838;
}
function h(e) {
return e <= 15 ? 1352829926 : e <= 31 ? 1548603684 : e <= 47 ? 1836072691 : e <= 63 ? 2053994217 : 0;
}
var p = [ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 7, 4, 13, 1, 10, 6, 15, 3, 12, 0, 9, 5, 2, 14, 11, 8, 3, 10, 14, 4, 9, 15, 8, 1, 2, 7, 0, 6, 13, 11, 5, 12, 1, 9, 11, 10, 0, 8, 12, 4, 13, 3, 7, 15, 14, 5, 6, 2, 4, 0, 5, 9, 7, 12, 2, 10, 14, 1, 3, 8, 11, 6, 15, 13 ], g = [ 5, 14, 7, 0, 9, 2, 11, 4, 13, 6, 15, 8, 1, 10, 3, 12, 6, 11, 3, 7, 0, 13, 5, 10, 14, 15, 8, 12, 4, 9, 1, 2, 15, 5, 1, 3, 7, 14, 6, 9, 11, 8, 12, 2, 10, 0, 4, 13, 8, 6, 4, 1, 3, 11, 15, 0, 5, 12, 2, 13, 9, 7, 10, 14, 12, 15, 10, 4, 1, 5, 8, 7, 6, 2, 13, 14, 0, 3, 9, 11 ], m = [ 11, 14, 15, 12, 5, 8, 7, 9, 11, 13, 14, 15, 6, 7, 9, 8, 7, 6, 8, 13, 11, 9, 7, 15, 7, 12, 15, 9, 11, 7, 13, 12, 11, 13, 6, 7, 14, 9, 13, 15, 14, 8, 13, 6, 5, 12, 7, 5, 11, 12, 14, 15, 14, 15, 9, 8, 9, 14, 5, 6, 8, 6, 5, 12, 9, 15, 5, 11, 6, 8, 13, 12, 5, 12, 13, 14, 11, 8, 5, 6 ], y = [ 8, 9, 9, 11, 13, 15, 15, 5, 7, 7, 8, 11, 14, 14, 12, 6, 9, 13, 15, 7, 12, 8, 9, 11, 7, 7, 12, 7, 6, 15, 13, 11, 9, 7, 15, 11, 8, 6, 6, 14, 12, 13, 5, 14, 13, 13, 7, 5, 15, 5, 8, 11, 14, 14, 6, 14, 6, 9, 12, 9, 12, 5, 15, 8, 8, 5, 12, 9, 12, 5, 14, 6, 8, 13, 6, 5, 15, 13, 11, 11 ];
}, {
"./common": 87,
"./utils": 97
} ],
90: [ function(e, t, i) {
"use strict";
i.sha1 = e("./sha/1");
i.sha224 = e("./sha/224");
i.sha256 = e("./sha/256");
i.sha384 = e("./sha/384");
i.sha512 = e("./sha/512");
}, {
"./sha/1": 91,
"./sha/224": 92,
"./sha/256": 93,
"./sha/384": 94,
"./sha/512": 95
} ],
91: [ function(e, t, i) {
"use strict";
var o = e("../utils"), n = e("../common"), r = e("./common"), a = o.rotl32, s = o.sum32, c = o.sum32_5, l = r.ft_1, u = n.BlockHash, d = [ 1518500249, 1859775393, 2400959708, 3395469782 ];
function f() {
if (!(this instanceof f)) return new f();
u.call(this);
this.h = [ 1732584193, 4023233417, 2562383102, 271733878, 3285377520 ];
this.W = new Array(80);
}
o.inherits(f, u);
t.exports = f;
f.blockSize = 512;
f.outSize = 160;
f.hmacStrength = 80;
f.padLength = 64;
f.prototype._update = function(e, t) {
for (var i = this.W, o = 0; o < 16; o++) i[o] = e[t + o];
for (;o < i.length; o++) i[o] = a(i[o - 3] ^ i[o - 8] ^ i[o - 14] ^ i[o - 16], 1);
var n = this.h[0], r = this.h[1], u = this.h[2], f = this.h[3], h = this.h[4];
for (o = 0; o < i.length; o++) {
var p = ~~(o / 20), g = c(a(n, 5), l(p, r, u, f), h, i[o], d[p]);
h = f;
f = u;
u = a(r, 30);
r = n;
n = g;
}
this.h[0] = s(this.h[0], n);
this.h[1] = s(this.h[1], r);
this.h[2] = s(this.h[2], u);
this.h[3] = s(this.h[3], f);
this.h[4] = s(this.h[4], h);
};
f.prototype._digest = function(e) {
return "hex" === e ? o.toHex32(this.h, "big") : o.split32(this.h, "big");
};
}, {
"../common": 87,
"../utils": 97,
"./common": 96
} ],
92: [ function(e, t, i) {
"use strict";
var o = e("../utils"), n = e("./256");
function r() {
if (!(this instanceof r)) return new r();
n.call(this);
this.h = [ 3238371032, 914150663, 812702999, 4144912697, 4290775857, 1750603025, 1694076839, 3204075428 ];
}
o.inherits(r, n);
t.exports = r;
r.blockSize = 512;
r.outSize = 224;
r.hmacStrength = 192;
r.padLength = 64;
r.prototype._digest = function(e) {
return "hex" === e ? o.toHex32(this.h.slice(0, 7), "big") : o.split32(this.h.slice(0, 7), "big");
};
}, {
"../utils": 97,
"./256": 93
} ],
93: [ function(e, t, i) {
"use strict";
var o = e("../utils"), n = e("../common"), r = e("./common"), a = e("minimalistic-assert"), s = o.sum32, c = o.sum32_4, l = o.sum32_5, u = r.ch32, d = r.maj32, f = r.s0_256, h = r.s1_256, p = r.g0_256, g = r.g1_256, m = n.BlockHash, y = [ 1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993, 2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987, 1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774, 264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986, 2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711, 113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291, 1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411, 3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344, 430227734, 506948616, 659060556, 883997877, 958139571, 1322822218, 1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424, 2428436474, 2756734187, 3204031479, 3329325298 ];
function b() {
if (!(this instanceof b)) return new b();
m.call(this);
this.h = [ 1779033703, 3144134277, 1013904242, 2773480762, 1359893119, 2600822924, 528734635, 1541459225 ];
this.k = y;
this.W = new Array(64);
}
o.inherits(b, m);
t.exports = b;
b.blockSize = 512;
b.outSize = 256;
b.hmacStrength = 192;
b.padLength = 64;
b.prototype._update = function(e, t) {
for (var i = this.W, o = 0; o < 16; o++) i[o] = e[t + o];
for (;o < i.length; o++) i[o] = c(g(i[o - 2]), i[o - 7], p(i[o - 15]), i[o - 16]);
var n = this.h[0], r = this.h[1], m = this.h[2], y = this.h[3], b = this.h[4], _ = this.h[5], v = this.h[6], S = this.h[7];
a(this.k.length === i.length);
for (o = 0; o < i.length; o++) {
var C = l(S, h(b), u(b, _, v), this.k[o], i[o]), w = s(f(n), d(n, r, m));
S = v;
v = _;
_ = b;
b = s(y, C);
y = m;
m = r;
r = n;
n = s(C, w);
}
this.h[0] = s(this.h[0], n);
this.h[1] = s(this.h[1], r);
this.h[2] = s(this.h[2], m);
this.h[3] = s(this.h[3], y);
this.h[4] = s(this.h[4], b);
this.h[5] = s(this.h[5], _);
this.h[6] = s(this.h[6], v);
this.h[7] = s(this.h[7], S);
};
b.prototype._digest = function(e) {
return "hex" === e ? o.toHex32(this.h, "big") : o.split32(this.h, "big");
};
}, {
"../common": 87,
"../utils": 97,
"./common": 96,
"minimalistic-assert": 105
} ],
94: [ function(e, t, i) {
"use strict";
var o = e("../utils"), n = e("./512");
function r() {
if (!(this instanceof r)) return new r();
n.call(this);
this.h = [ 3418070365, 3238371032, 1654270250, 914150663, 2438529370, 812702999, 355462360, 4144912697, 1731405415, 4290775857, 2394180231, 1750603025, 3675008525, 1694076839, 1203062813, 3204075428 ];
}
o.inherits(r, n);
t.exports = r;
r.blockSize = 1024;
r.outSize = 384;
r.hmacStrength = 192;
r.padLength = 128;
r.prototype._digest = function(e) {
return "hex" === e ? o.toHex32(this.h.slice(0, 12), "big") : o.split32(this.h.slice(0, 12), "big");
};
}, {
"../utils": 97,
"./512": 95
} ],
95: [ function(e, t, i) {
"use strict";
var o = e("../utils"), n = e("../common"), r = e("minimalistic-assert"), a = o.rotr64_hi, s = o.rotr64_lo, c = o.shr64_hi, l = o.shr64_lo, u = o.sum64, d = o.sum64_hi, f = o.sum64_lo, h = o.sum64_4_hi, p = o.sum64_4_lo, g = o.sum64_5_hi, m = o.sum64_5_lo, y = n.BlockHash, b = [ 1116352408, 3609767458, 1899447441, 602891725, 3049323471, 3964484399, 3921009573, 2173295548, 961987163, 4081628472, 1508970993, 3053834265, 2453635748, 2937671579, 2870763221, 3664609560, 3624381080, 2734883394, 310598401, 1164996542, 607225278, 1323610764, 1426881987, 3590304994, 1925078388, 4068182383, 2162078206, 991336113, 2614888103, 633803317, 3248222580, 3479774868, 3835390401, 2666613458, 4022224774, 944711139, 264347078, 2341262773, 604807628, 2007800933, 770255983, 1495990901, 1249150122, 1856431235, 1555081692, 3175218132, 1996064986, 2198950837, 2554220882, 3999719339, 2821834349, 766784016, 2952996808, 2566594879, 3210313671, 3203337956, 3336571891, 1034457026, 3584528711, 2466948901, 113926993, 3758326383, 338241895, 168717936, 666307205, 1188179964, 773529912, 1546045734, 1294757372, 1522805485, 1396182291, 2643833823, 1695183700, 2343527390, 1986661051, 1014477480, 2177026350, 1206759142, 2456956037, 344077627, 2730485921, 1290863460, 2820302411, 3158454273, 3259730800, 3505952657, 3345764771, 106217008, 3516065817, 3606008344, 3600352804, 1432725776, 4094571909, 1467031594, 275423344, 851169720, 430227734, 3100823752, 506948616, 1363258195, 659060556, 3750685593, 883997877, 3785050280, 958139571, 3318307427, 1322822218, 3812723403, 1537002063, 2003034995, 1747873779, 3602036899, 1955562222, 1575990012, 2024104815, 1125592928, 2227730452, 2716904306, 2361852424, 442776044, 2428436474, 593698344, 2756734187, 3733110249, 3204031479, 2999351573, 3329325298, 3815920427, 3391569614, 3928383900, 3515267271, 566280711, 3940187606, 3454069534, 4118630271, 4000239992, 116418474, 1914138554, 174292421, 2731055270, 289380356, 3203993006, 460393269, 320620315, 685471733, 587496836, 852142971, 1086792851, 1017036298, 365543100, 1126000580, 2618297676, 1288033470, 3409855158, 1501505948, 4234509866, 1607167915, 987167468, 1816402316, 1246189591 ];
function _() {
if (!(this instanceof _)) return new _();
y.call(this);
this.h = [ 1779033703, 4089235720, 3144134277, 2227873595, 1013904242, 4271175723, 2773480762, 1595750129, 1359893119, 2917565137, 2600822924, 725511199, 528734635, 4215389547, 1541459225, 327033209 ];
this.k = b;
this.W = new Array(160);
}
o.inherits(_, y);
t.exports = _;
_.blockSize = 1024;
_.outSize = 512;
_.hmacStrength = 192;
_.padLength = 128;
_.prototype._prepareBlock = function(e, t) {
for (var i = this.W, o = 0; o < 32; o++) i[o] = e[t + o];
for (;o < i.length; o += 2) {
var n = k(i[o - 4], i[o - 3]), r = I(i[o - 4], i[o - 3]), a = i[o - 14], s = i[o - 13], c = M(i[o - 30], i[o - 29]), l = P(i[o - 30], i[o - 29]), u = i[o - 32], d = i[o - 31];
i[o] = h(n, r, a, s, c, l, u, d);
i[o + 1] = p(n, r, a, s, c, l, u, d);
}
};
_.prototype._update = function(e, t) {
this._prepareBlock(e, t);
var i = this.W, o = this.h[0], n = this.h[1], a = this.h[2], s = this.h[3], c = this.h[4], l = this.h[5], h = this.h[6], p = this.h[7], y = this.h[8], b = this.h[9], _ = this.h[10], M = this.h[11], P = this.h[12], k = this.h[13], I = this.h[14], N = this.h[15];
r(this.k.length === i.length);
for (var B = 0; B < i.length; B += 2) {
var L = I, U = N, D = T(y, b), F = E(y, b), O = v(y, b, _, M, P), x = S(y, b, _, M, P, k), G = this.k[B], W = this.k[B + 1], V = i[B], j = i[B + 1], H = g(L, U, D, F, O, x, G, W, V, j), q = m(L, U, D, F, O, x, G, W, V, j);
L = A(o, n);
U = R(o, n);
D = C(o, n, a, s, c);
F = w(o, n, a, s, c, l);
var z = d(L, U, D, F), Y = f(L, U, D, F);
I = P;
N = k;
P = _;
k = M;
_ = y;
M = b;
y = d(h, p, H, q);
b = f(p, p, H, q);
h = c;
p = l;
c = a;
l = s;
a = o;
s = n;
o = d(H, q, z, Y);
n = f(H, q, z, Y);
}
u(this.h, 0, o, n);
u(this.h, 2, a, s);
u(this.h, 4, c, l);
u(this.h, 6, h, p);
u(this.h, 8, y, b);
u(this.h, 10, _, M);
u(this.h, 12, P, k);
u(this.h, 14, I, N);
};
_.prototype._digest = function(e) {
return "hex" === e ? o.toHex32(this.h, "big") : o.split32(this.h, "big");
};
function v(e, t, i, o, n) {
var r = e & i ^ ~e & n;
r < 0 && (r += 4294967296);
return r;
}
function S(e, t, i, o, n, r) {
var a = t & o ^ ~t & r;
a < 0 && (a += 4294967296);
return a;
}
function C(e, t, i, o, n) {
var r = e & i ^ e & n ^ i & n;
r < 0 && (r += 4294967296);
return r;
}
function w(e, t, i, o, n, r) {
var a = t & o ^ t & r ^ o & r;
a < 0 && (a += 4294967296);
return a;
}
function A(e, t) {
var i = a(e, t, 28) ^ a(t, e, 2) ^ a(t, e, 7);
i < 0 && (i += 4294967296);
return i;
}
function R(e, t) {
var i = s(e, t, 28) ^ s(t, e, 2) ^ s(t, e, 7);
i < 0 && (i += 4294967296);
return i;
}
function T(e, t) {
var i = a(e, t, 14) ^ a(e, t, 18) ^ a(t, e, 9);
i < 0 && (i += 4294967296);
return i;
}
function E(e, t) {
var i = s(e, t, 14) ^ s(e, t, 18) ^ s(t, e, 9);
i < 0 && (i += 4294967296);
return i;
}
function M(e, t) {
var i = a(e, t, 1) ^ a(e, t, 8) ^ c(e, t, 7);
i < 0 && (i += 4294967296);
return i;
}
function P(e, t) {
var i = s(e, t, 1) ^ s(e, t, 8) ^ l(e, t, 7);
i < 0 && (i += 4294967296);
return i;
}
function k(e, t) {
var i = a(e, t, 19) ^ a(t, e, 29) ^ c(e, t, 6);
i < 0 && (i += 4294967296);
return i;
}
function I(e, t) {
var i = s(e, t, 19) ^ s(t, e, 29) ^ l(e, t, 6);
i < 0 && (i += 4294967296);
return i;
}
}, {
"../common": 87,
"../utils": 97,
"minimalistic-assert": 105
} ],
96: [ function(e, t, i) {
"use strict";
var o = e("../utils").rotr32;
i.ft_1 = function(e, t, i, o) {
return 0 === e ? n(t, i, o) : 1 === e || 3 === e ? a(t, i, o) : 2 === e ? r(t, i, o) : void 0;
};
function n(e, t, i) {
return e & t ^ ~e & i;
}
i.ch32 = n;
function r(e, t, i) {
return e & t ^ e & i ^ t & i;
}
i.maj32 = r;
function a(e, t, i) {
return e ^ t ^ i;
}
i.p32 = a;
i.s0_256 = function(e) {
return o(e, 2) ^ o(e, 13) ^ o(e, 22);
};
i.s1_256 = function(e) {
return o(e, 6) ^ o(e, 11) ^ o(e, 25);
};
i.g0_256 = function(e) {
return o(e, 7) ^ o(e, 18) ^ e >>> 3;
};
i.g1_256 = function(e) {
return o(e, 17) ^ o(e, 19) ^ e >>> 10;
};
}, {
"../utils": 97
} ],
97: [ function(e, t, i) {
"use strict";
var o = e("minimalistic-assert"), n = e("inherits");
i.inherits = n;
function r(e, t) {
return 55296 == (64512 & e.charCodeAt(t)) && (!(t < 0 || t + 1 >= e.length) && 56320 == (64512 & e.charCodeAt(t + 1)));
}
i.toArray = function(e, t) {
if (Array.isArray(e)) return e.slice();
if (!e) return [];
var i = [];
if ("string" == typeof e) if (t) {
if ("hex" === t) {
(e = e.replace(/[^a-z0-9]+/gi, "")).length % 2 != 0 && (e = "0" + e);
for (n = 0; n < e.length; n += 2) i.push(parseInt(e[n] + e[n + 1], 16));
}
} else for (var o = 0, n = 0; n < e.length; n++) {
var a = e.charCodeAt(n);
if (a < 128) i[o++] = a; else if (a < 2048) {
i[o++] = a >> 6 | 192;
i[o++] = 63 & a | 128;
} else if (r(e, n)) {
a = 65536 + ((1023 & a) << 10) + (1023 & e.charCodeAt(++n));
i[o++] = a >> 18 | 240;
i[o++] = a >> 12 & 63 | 128;
i[o++] = a >> 6 & 63 | 128;
i[o++] = 63 & a | 128;
} else {
i[o++] = a >> 12 | 224;
i[o++] = a >> 6 & 63 | 128;
i[o++] = 63 & a | 128;
}
} else for (n = 0; n < e.length; n++) i[n] = 0 | e[n];
return i;
};
i.toHex = function(e) {
for (var t = "", i = 0; i < e.length; i++) t += s(e[i].toString(16));
return t;
};
function a(e) {
return (e >>> 24 | e >>> 8 & 65280 | e << 8 & 16711680 | (255 & e) << 24) >>> 0;
}
i.htonl = a;
i.toHex32 = function(e, t) {
for (var i = "", o = 0; o < e.length; o++) {
var n = e[o];
"little" === t && (n = a(n));
i += c(n.toString(16));
}
return i;
};
function s(e) {
return 1 === e.length ? "0" + e : e;
}
i.zero2 = s;
function c(e) {
return 7 === e.length ? "0" + e : 6 === e.length ? "00" + e : 5 === e.length ? "000" + e : 4 === e.length ? "0000" + e : 3 === e.length ? "00000" + e : 2 === e.length ? "000000" + e : 1 === e.length ? "0000000" + e : e;
}
i.zero8 = c;
i.join32 = function(e, t, i, n) {
var r = i - t;
o(r % 4 == 0);
for (var a = new Array(r / 4), s = 0, c = t; s < a.length; s++, c += 4) {
var l;
l = "big" === n ? e[c] << 24 | e[c + 1] << 16 | e[c + 2] << 8 | e[c + 3] : e[c + 3] << 24 | e[c + 2] << 16 | e[c + 1] << 8 | e[c];
a[s] = l >>> 0;
}
return a;
};
i.split32 = function(e, t) {
for (var i = new Array(4 * e.length), o = 0, n = 0; o < e.length; o++, n += 4) {
var r = e[o];
if ("big" === t) {
i[n] = r >>> 24;
i[n + 1] = r >>> 16 & 255;
i[n + 2] = r >>> 8 & 255;
i[n + 3] = 255 & r;
} else {
i[n + 3] = r >>> 24;
i[n + 2] = r >>> 16 & 255;
i[n + 1] = r >>> 8 & 255;
i[n] = 255 & r;
}
}
return i;
};
i.rotr32 = function(e, t) {
return e >>> t | e << 32 - t;
};
i.rotl32 = function(e, t) {
return e << t | e >>> 32 - t;
};
i.sum32 = function(e, t) {
return e + t >>> 0;
};
i.sum32_3 = function(e, t, i) {
return e + t + i >>> 0;
};
i.sum32_4 = function(e, t, i, o) {
return e + t + i + o >>> 0;
};
i.sum32_5 = function(e, t, i, o, n) {
return e + t + i + o + n >>> 0;
};
i.sum64 = function(e, t, i, o) {
var n = e[t], r = o + e[t + 1] >>> 0, a = (r < o ? 1 : 0) + i + n;
e[t] = a >>> 0;
e[t + 1] = r;
};
i.sum64_hi = function(e, t, i, o) {
return (t + o >>> 0 < t ? 1 : 0) + e + i >>> 0;
};
i.sum64_lo = function(e, t, i, o) {
return t + o >>> 0;
};
i.sum64_4_hi = function(e, t, i, o, n, r, a, s) {
var c = 0, l = t;
c += (l = l + o >>> 0) < t ? 1 : 0;
c += (l = l + r >>> 0) < r ? 1 : 0;
return e + i + n + a + (c += (l = l + s >>> 0) < s ? 1 : 0) >>> 0;
};
i.sum64_4_lo = function(e, t, i, o, n, r, a, s) {
return t + o + r + s >>> 0;
};
i.sum64_5_hi = function(e, t, i, o, n, r, a, s, c, l) {
var u = 0, d = t;
u += (d = d + o >>> 0) < t ? 1 : 0;
u += (d = d + r >>> 0) < r ? 1 : 0;
u += (d = d + s >>> 0) < s ? 1 : 0;
return e + i + n + a + c + (u += (d = d + l >>> 0) < l ? 1 : 0) >>> 0;
};
i.sum64_5_lo = function(e, t, i, o, n, r, a, s, c, l) {
return t + o + r + s + l >>> 0;
};
i.rotr64_hi = function(e, t, i) {
return (t << 32 - i | e >>> i) >>> 0;
};
i.rotr64_lo = function(e, t, i) {
return (e << 32 - i | t >>> i) >>> 0;
};
i.shr64_hi = function(e, t, i) {
return e >>> i;
};
i.shr64_lo = function(e, t, i) {
return (e << 32 - i | t >>> i) >>> 0;
};
}, {
inherits: 101,
"minimalistic-assert": 105
} ],
98: [ function(e, t, i) {
"use strict";
var o = e("hash.js"), n = e("minimalistic-crypto-utils"), r = e("minimalistic-assert");
function a(e) {
if (!(this instanceof a)) return new a(e);
this.hash = e.hash;
this.predResist = !!e.predResist;
this.outLen = this.hash.outSize;
this.minEntropy = e.minEntropy || this.hash.hmacStrength;
this._reseed = null;
this.reseedInterval = null;
this.K = null;
this.V = null;
var t = n.toArray(e.entropy, e.entropyEnc || "hex"), i = n.toArray(e.nonce, e.nonceEnc || "hex"), o = n.toArray(e.pers, e.persEnc || "hex");
r(t.length >= this.minEntropy / 8, "Not enough entropy. Minimum is: " + this.minEntropy + " bits");
this._init(t, i, o);
}
t.exports = a;
a.prototype._init = function(e, t, i) {
var o = e.concat(t).concat(i);
this.K = new Array(this.outLen / 8);
this.V = new Array(this.outLen / 8);
for (var n = 0; n < this.V.length; n++) {
this.K[n] = 0;
this.V[n] = 1;
}
this._update(o);
this._reseed = 1;
this.reseedInterval = 281474976710656;
};
a.prototype._hmac = function() {
return new o.hmac(this.hash, this.K);
};
a.prototype._update = function(e) {
var t = this._hmac().update(this.V).update([ 0 ]);
e && (t = t.update(e));
this.K = t.digest();
this.V = this._hmac().update(this.V).digest();
if (e) {
this.K = this._hmac().update(this.V).update([ 1 ]).update(e).digest();
this.V = this._hmac().update(this.V).digest();
}
};
a.prototype.reseed = function(e, t, i, o) {
if ("string" != typeof t) {
o = i;
i = t;
t = null;
}
e = n.toArray(e, t);
i = n.toArray(i, o);
r(e.length >= this.minEntropy / 8, "Not enough entropy. Minimum is: " + this.minEntropy + " bits");
this._update(e.concat(i || []));
this._reseed = 1;
};
a.prototype.generate = function(e, t, i, o) {
if (this._reseed > this.reseedInterval) throw new Error("Reseed is required");
if ("string" != typeof t) {
o = i;
i = t;
t = null;
}
if (i) {
i = n.toArray(i, o || "hex");
this._update(i);
}
for (var r = []; r.length < e; ) {
this.V = this._hmac().update(this.V).digest();
r = r.concat(this.V);
}
var a = r.slice(0, e);
this._update(i);
this._reseed++;
return n.encode(a, t);
};
}, {
"hash.js": 86,
"minimalistic-assert": 105,
"minimalistic-crypto-utils": 106
} ],
99: [ function(e, t, i) {
i.read = function(e, t, i, o, n) {
var r, a, s = 8 * n - o - 1, c = (1 << s) - 1, l = c >> 1, u = -7, d = i ? n - 1 : 0, f = i ? -1 : 1, h = e[t + d];
d += f;
r = h & (1 << -u) - 1;
h >>= -u;
u += s;
for (;u > 0; r = 256 * r + e[t + d], d += f, u -= 8) ;
a = r & (1 << -u) - 1;
r >>= -u;
u += o;
for (;u > 0; a = 256 * a + e[t + d], d += f, u -= 8) ;
if (0 === r) r = 1 - l; else {
if (r === c) return a ? NaN : Infinity * (h ? -1 : 1);
a += Math.pow(2, o);
r -= l;
}
return (h ? -1 : 1) * a * Math.pow(2, r - o);
};
i.write = function(e, t, i, o, n, r) {
var a, s, c, l = 8 * r - n - 1, u = (1 << l) - 1, d = u >> 1, f = 23 === n ? Math.pow(2, -24) - Math.pow(2, -77) : 0, h = o ? 0 : r - 1, p = o ? 1 : -1, g = t < 0 || 0 === t && 1 / t < 0 ? 1 : 0;
t = Math.abs(t);
if (isNaN(t) || Infinity === t) {
s = isNaN(t) ? 1 : 0;
a = u;
} else {
a = Math.floor(Math.log(t) / Math.LN2);
if (t * (c = Math.pow(2, -a)) < 1) {
a--;
c *= 2;
}
if ((t += a + d >= 1 ? f / c : f * Math.pow(2, 1 - d)) * c >= 2) {
a++;
c /= 2;
}
if (a + d >= u) {
s = 0;
a = u;
} else if (a + d >= 1) {
s = (t * c - 1) * Math.pow(2, n);
a += d;
} else {
s = t * Math.pow(2, d - 1) * Math.pow(2, n);
a = 0;
}
}
for (;n >= 8; e[i + h] = 255 & s, h += p, s /= 256, n -= 8) ;
a = a << n | s;
l += n;
for (;l > 0; e[i + h] = 255 & a, h += p, a /= 256, l -= 8) ;
e[i + h - p] |= 128 * g;
};
}, {} ],
100: [ function(e, t, i) {
var o = [].indexOf;
t.exports = function(e, t) {
if (o) return e.indexOf(t);
for (var i = 0; i < e.length; ++i) if (e[i] === t) return i;
return -1;
};
}, {} ],
101: [ function(e, t, i) {
"function" == typeof Object.create ? t.exports = function(e, t) {
if (t) {
e.super_ = t;
e.prototype = Object.create(t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
});
}
} : t.exports = function(e, t) {
if (t) {
e.super_ = t;
var i = function() {};
i.prototype = t.prototype;
e.prototype = new i();
e.prototype.constructor = e;
}
};
}, {} ],
102: [ function(e, t, i) {
t.exports = function(e) {
return null != e && (o(e) || n(e) || !!e._isBuffer);
};
function o(e) {
return !!e.constructor && "function" == typeof e.constructor.isBuffer && e.constructor.isBuffer(e);
}
function n(e) {
return "function" == typeof e.readFloatLE && "function" == typeof e.slice && o(e.slice(0, 0));
}
}, {} ],
103: [ function(e, t, i) {
"use strict";
var o = e("inherits"), n = e("hash-base"), r = e("safe-buffer").Buffer, a = new Array(16);
function s() {
n.call(this, 64);
this._a = 1732584193;
this._b = 4023233417;
this._c = 2562383102;
this._d = 271733878;
}
o(s, n);
s.prototype._update = function() {
for (var e = a, t = 0; t < 16; ++t) e[t] = this._block.readInt32LE(4 * t);
var i = this._a, o = this._b, n = this._c, r = this._d;
o = f(o = f(o = f(o = f(o = d(o = d(o = d(o = d(o = u(o = u(o = u(o = u(o = l(o = l(o = l(o = l(o, n = l(n, r = l(r, i = l(i, o, n, r, e[0], 3614090360, 7), o, n, e[1], 3905402710, 12), i, o, e[2], 606105819, 17), r, i, e[3], 3250441966, 22), n = l(n, r = l(r, i = l(i, o, n, r, e[4], 4118548399, 7), o, n, e[5], 1200080426, 12), i, o, e[6], 2821735955, 17), r, i, e[7], 4249261313, 22), n = l(n, r = l(r, i = l(i, o, n, r, e[8], 1770035416, 7), o, n, e[9], 2336552879, 12), i, o, e[10], 4294925233, 17), r, i, e[11], 2304563134, 22), n = l(n, r = l(r, i = l(i, o, n, r, e[12], 1804603682, 7), o, n, e[13], 4254626195, 12), i, o, e[14], 2792965006, 17), r, i, e[15], 1236535329, 22), n = u(n, r = u(r, i = u(i, o, n, r, e[1], 4129170786, 5), o, n, e[6], 3225465664, 9), i, o, e[11], 643717713, 14), r, i, e[0], 3921069994, 20), n = u(n, r = u(r, i = u(i, o, n, r, e[5], 3593408605, 5), o, n, e[10], 38016083, 9), i, o, e[15], 3634488961, 14), r, i, e[4], 3889429448, 20), n = u(n, r = u(r, i = u(i, o, n, r, e[9], 568446438, 5), o, n, e[14], 3275163606, 9), i, o, e[3], 4107603335, 14), r, i, e[8], 1163531501, 20), n = u(n, r = u(r, i = u(i, o, n, r, e[13], 2850285829, 5), o, n, e[2], 4243563512, 9), i, o, e[7], 1735328473, 14), r, i, e[12], 2368359562, 20), n = d(n, r = d(r, i = d(i, o, n, r, e[5], 4294588738, 4), o, n, e[8], 2272392833, 11), i, o, e[11], 1839030562, 16), r, i, e[14], 4259657740, 23), n = d(n, r = d(r, i = d(i, o, n, r, e[1], 2763975236, 4), o, n, e[4], 1272893353, 11), i, o, e[7], 4139469664, 16), r, i, e[10], 3200236656, 23), n = d(n, r = d(r, i = d(i, o, n, r, e[13], 681279174, 4), o, n, e[0], 3936430074, 11), i, o, e[3], 3572445317, 16), r, i, e[6], 76029189, 23), n = d(n, r = d(r, i = d(i, o, n, r, e[9], 3654602809, 4), o, n, e[12], 3873151461, 11), i, o, e[15], 530742520, 16), r, i, e[2], 3299628645, 23), n = f(n, r = f(r, i = f(i, o, n, r, e[0], 4096336452, 6), o, n, e[7], 1126891415, 10), i, o, e[14], 2878612391, 15), r, i, e[5], 4237533241, 21), n = f(n, r = f(r, i = f(i, o, n, r, e[12], 1700485571, 6), o, n, e[3], 2399980690, 10), i, o, e[10], 4293915773, 15), r, i, e[1], 2240044497, 21), n = f(n, r = f(r, i = f(i, o, n, r, e[8], 1873313359, 6), o, n, e[15], 4264355552, 10), i, o, e[6], 2734768916, 15), r, i, e[13], 1309151649, 21), n = f(n, r = f(r, i = f(i, o, n, r, e[4], 4149444226, 6), o, n, e[11], 3174756917, 10), i, o, e[2], 718787259, 15), r, i, e[9], 3951481745, 21);
this._a = this._a + i | 0;
this._b = this._b + o | 0;
this._c = this._c + n | 0;
this._d = this._d + r | 0;
};
s.prototype._digest = function() {
this._block[this._blockOffset++] = 128;
if (this._blockOffset > 56) {
this._block.fill(0, this._blockOffset, 64);
this._update();
this._blockOffset = 0;
}
this._block.fill(0, this._blockOffset, 56);
this._block.writeUInt32LE(this._length[0], 56);
this._block.writeUInt32LE(this._length[1], 60);
this._update();
var e = r.allocUnsafe(16);
e.writeInt32LE(this._a, 0);
e.writeInt32LE(this._b, 4);
e.writeInt32LE(this._c, 8);
e.writeInt32LE(this._d, 12);
return e;
};
function c(e, t) {
return e << t | e >>> 32 - t;
}
function l(e, t, i, o, n, r, a) {
return c(e + (t & i | ~t & o) + n + r | 0, a) + t | 0;
}
function u(e, t, i, o, n, r, a) {
return c(e + (t & o | i & ~o) + n + r | 0, a) + t | 0;
}
function d(e, t, i, o, n, r, a) {
return c(e + (t ^ i ^ o) + n + r | 0, a) + t | 0;
}
function f(e, t, i, o, n, r, a) {
return c(e + (i ^ (t | ~o)) + n + r | 0, a) + t | 0;
}
t.exports = s;
}, {
"hash-base": 85,
inherits: 101,
"safe-buffer": 144
} ],
104: [ function(e, t, i) {
var o = e("bn.js"), n = e("brorand");
function r(e) {
this.rand = e || new n.Rand();
}
t.exports = r;
r.create = function(e) {
return new r(e);
};
r.prototype._randbelow = function(e) {
var t = e.bitLength(), i = Math.ceil(t / 8);
do {
var n = new o(this.rand.generate(i));
} while (n.cmp(e) >= 0);
return n;
};
r.prototype._randrange = function(e, t) {
var i = t.sub(e);
return e.add(this._randbelow(i));
};
r.prototype.test = function(e, t, i) {
var n = e.bitLength(), r = o.mont(e), a = new o(1).toRed(r);
t || (t = Math.max(1, n / 48 | 0));
for (var s = e.subn(1), c = 0; !s.testn(c); c++) ;
for (var l = e.shrn(c), u = s.toRed(r); t > 0; t--) {
var d = this._randrange(new o(2), s);
i && i(d);
var f = d.toRed(r).redPow(l);
if (0 !== f.cmp(a) && 0 !== f.cmp(u)) {
for (var h = 1; h < c; h++) {
if (0 === (f = f.redSqr()).cmp(a)) return !1;
if (0 === f.cmp(u)) break;
}
if (h === c) return !1;
}
}
return !0;
};
r.prototype.getDivisor = function(e, t) {
var i = e.bitLength(), n = o.mont(e), r = new o(1).toRed(n);
t || (t = Math.max(1, i / 48 | 0));
for (var a = e.subn(1), s = 0; !a.testn(s); s++) ;
for (var c = e.shrn(s), l = a.toRed(n); t > 0; t--) {
var u = this._randrange(new o(2), a), d = e.gcd(u);
if (0 !== d.cmpn(1)) return d;
var f = u.toRed(n).redPow(c);
if (0 !== f.cmp(r) && 0 !== f.cmp(l)) {
for (var h = 1; h < s; h++) {
if (0 === (f = f.redSqr()).cmp(r)) return f.fromRed().subn(1).gcd(e);
if (0 === f.cmp(l)) break;
}
if (h === s) return (f = f.redSqr()).fromRed().subn(1).gcd(e);
}
}
return !1;
};
}, {
"bn.js": 16,
brorand: 17
} ],
105: [ function(e, t, i) {
t.exports = o;
function o(e, t) {
if (!e) throw new Error(t || "Assertion failed");
}
o.equal = function(e, t, i) {
if (e != t) throw new Error(i || "Assertion failed: " + e + " != " + t);
};
}, {} ],
106: [ function(e, t, i) {
"use strict";
var o = i;
o.toArray = function(e, t) {
if (Array.isArray(e)) return e.slice();
if (!e) return [];
var i = [];
if ("string" != typeof e) {
for (var o = 0; o < e.length; o++) i[o] = 0 | e[o];
return i;
}
if ("hex" === t) {
(e = e.replace(/[^a-z0-9]+/gi, "")).length % 2 != 0 && (e = "0" + e);
for (o = 0; o < e.length; o += 2) i.push(parseInt(e[o] + e[o + 1], 16));
} else for (o = 0; o < e.length; o++) {
var n = e.charCodeAt(o), r = n >> 8, a = 255 & n;
r ? i.push(r, a) : i.push(a);
}
return i;
};
function n(e) {
return 1 === e.length ? "0" + e : e;
}
o.zero2 = n;
function r(e) {
for (var t = "", i = 0; i < e.length; i++) t += n(e[i].toString(16));
return t;
}
o.toHex = r;
o.encode = function(e, t) {
return "hex" === t ? r(e) : e;
};
}, {} ],
107: [ function(e, t, i) {
t.exports = {
"2.16.840.1.101.3.4.1.1": "aes-128-ecb",
"2.16.840.1.101.3.4.1.2": "aes-128-cbc",
"2.16.840.1.101.3.4.1.3": "aes-128-ofb",
"2.16.840.1.101.3.4.1.4": "aes-128-cfb",
"2.16.840.1.101.3.4.1.21": "aes-192-ecb",
"2.16.840.1.101.3.4.1.22": "aes-192-cbc",
"2.16.840.1.101.3.4.1.23": "aes-192-ofb",
"2.16.840.1.101.3.4.1.24": "aes-192-cfb",
"2.16.840.1.101.3.4.1.41": "aes-256-ecb",
"2.16.840.1.101.3.4.1.42": "aes-256-cbc",
"2.16.840.1.101.3.4.1.43": "aes-256-ofb",
"2.16.840.1.101.3.4.1.44": "aes-256-cfb"
};
}, {} ],
108: [ function(e, t, i) {
"use strict";
var o = e("asn1.js");
i.certificate = e("./certificate");
var n = o.define("RSAPrivateKey", function() {
this.seq().obj(this.key("version").int(), this.key("modulus").int(), this.key("publicExponent").int(), this.key("privateExponent").int(), this.key("prime1").int(), this.key("prime2").int(), this.key("exponent1").int(), this.key("exponent2").int(), this.key("coefficient").int());
});
i.RSAPrivateKey = n;
var r = o.define("RSAPublicKey", function() {
this.seq().obj(this.key("modulus").int(), this.key("publicExponent").int());
});
i.RSAPublicKey = r;
var a = o.define("SubjectPublicKeyInfo", function() {
this.seq().obj(this.key("algorithm").use(s), this.key("subjectPublicKey").bitstr());
});
i.PublicKey = a;
var s = o.define("AlgorithmIdentifier", function() {
this.seq().obj(this.key("algorithm").objid(), this.key("none").null_().optional(), this.key("curve").objid().optional(), this.key("params").seq().obj(this.key("p").int(), this.key("q").int(), this.key("g").int()).optional());
}), c = o.define("PrivateKeyInfo", function() {
this.seq().obj(this.key("version").int(), this.key("algorithm").use(s), this.key("subjectPrivateKey").octstr());
});
i.PrivateKey = c;
var l = o.define("EncryptedPrivateKeyInfo", function() {
this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(), this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(), this.key("kdeparams").seq().obj(this.key("salt").octstr(), this.key("iters").int())), this.key("cipher").seq().obj(this.key("algo").objid(), this.key("iv").octstr()))), this.key("subjectPrivateKey").octstr());
});
i.EncryptedPrivateKey = l;
var u = o.define("DSAPrivateKey", function() {
this.seq().obj(this.key("version").int(), this.key("p").int(), this.key("q").int(), this.key("g").int(), this.key("pub_key").int(), this.key("priv_key").int());
});
i.DSAPrivateKey = u;
i.DSAparam = o.define("DSAparam", function() {
this.int();
});
var d = o.define("ECPrivateKey", function() {
this.seq().obj(this.key("version").int(), this.key("privateKey").octstr(), this.key("parameters").optional().explicit(0).use(f), this.key("publicKey").optional().explicit(1).bitstr());
});
i.ECPrivateKey = d;
var f = o.define("ECParameters", function() {
this.choice({
namedCurve: this.objid()
});
});
i.signature = o.define("signature", function() {
this.seq().obj(this.key("r").int(), this.key("s").int());
});
}, {
"./certificate": 109,
"asn1.js": 1
} ],
109: [ function(e, t, i) {
"use strict";
var o = e("asn1.js"), n = o.define("Time", function() {
this.choice({
utcTime: this.utctime(),
generalTime: this.gentime()
});
}), r = o.define("AttributeTypeValue", function() {
this.seq().obj(this.key("type").objid(), this.key("value").any());
}), a = o.define("AlgorithmIdentifier", function() {
this.seq().obj(this.key("algorithm").objid(), this.key("parameters").optional(), this.key("curve").objid().optional());
}), s = o.define("SubjectPublicKeyInfo", function() {
this.seq().obj(this.key("algorithm").use(a), this.key("subjectPublicKey").bitstr());
}), c = o.define("RelativeDistinguishedName", function() {
this.setof(r);
}), l = o.define("RDNSequence", function() {
this.seqof(c);
}), u = o.define("Name", function() {
this.choice({
rdnSequence: this.use(l)
});
}), d = o.define("Validity", function() {
this.seq().obj(this.key("notBefore").use(n), this.key("notAfter").use(n));
}), f = o.define("Extension", function() {
this.seq().obj(this.key("extnID").objid(), this.key("critical").bool().def(!1), this.key("extnValue").octstr());
}), h = o.define("TBSCertificate", function() {
this.seq().obj(this.key("version").explicit(0).int().optional(), this.key("serialNumber").int(), this.key("signature").use(a), this.key("issuer").use(u), this.key("validity").use(d), this.key("subject").use(u), this.key("subjectPublicKeyInfo").use(s), this.key("issuerUniqueID").implicit(1).bitstr().optional(), this.key("subjectUniqueID").implicit(2).bitstr().optional(), this.key("extensions").explicit(3).seqof(f).optional());
}), p = o.define("X509Certificate", function() {
this.seq().obj(this.key("tbsCertificate").use(h), this.key("signatureAlgorithm").use(a), this.key("signatureValue").bitstr());
});
t.exports = p;
}, {
"asn1.js": 1
} ],
110: [ function(e, t, i) {
var o = /Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r\+\/\=]+)[\n\r]+/m, n = /^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m, r = /^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r\+\/\=]+)-----END \1-----$/m, a = e("evp_bytestokey"), s = e("browserify-aes"), c = e("safe-buffer").Buffer;
t.exports = function(e, t) {
var i, l = e.toString(), u = l.match(o);
if (u) {
var d = "aes" + u[1], f = c.from(u[2], "hex"), h = c.from(u[3].replace(/[\r\n]/g, ""), "base64"), p = a(t, f.slice(0, 8), parseInt(u[1], 10)).key, g = [], m = s.createDecipheriv(d, p, f);
g.push(m.update(h));
g.push(m.final());
i = c.concat(g);
} else {
var y = l.match(r);
i = new c(y[2].replace(/[\r\n]/g, ""), "base64");
}
return {
tag: l.match(n)[1],
data: i
};
};
}, {
"browserify-aes": 21,
evp_bytestokey: 84,
"safe-buffer": 144
} ],
111: [ function(e, t, i) {
var o = e("./asn1"), n = e("./aesid.json"), r = e("./fixProc"), a = e("browserify-aes"), s = e("pbkdf2"), c = e("safe-buffer").Buffer;
t.exports = l;
function l(e) {
var t;
if ("object" == typeof e && !c.isBuffer(e)) {
t = e.passphrase;
e = e.key;
}
"string" == typeof e && (e = c.from(e));
var i, n, a = r(e, t), s = a.tag, l = a.data;
switch (s) {
case "CERTIFICATE":
n = o.certificate.decode(l, "der").tbsCertificate.subjectPublicKeyInfo;

case "PUBLIC KEY":
n || (n = o.PublicKey.decode(l, "der"));
switch (i = n.algorithm.algorithm.join(".")) {
case "1.2.840.113549.1.1.1":
return o.RSAPublicKey.decode(n.subjectPublicKey.data, "der");

case "1.2.840.10045.2.1":
n.subjectPrivateKey = n.subjectPublicKey;
return {
type: "ec",
data: n
};

case "1.2.840.10040.4.1":
n.algorithm.params.pub_key = o.DSAparam.decode(n.subjectPublicKey.data, "der");
return {
type: "dsa",
data: n.algorithm.params
};

default:
throw new Error("unknown key id " + i);
}
throw new Error("unknown key type " + s);

case "ENCRYPTED PRIVATE KEY":
l = u(l = o.EncryptedPrivateKey.decode(l, "der"), t);

case "PRIVATE KEY":
switch (i = (n = o.PrivateKey.decode(l, "der")).algorithm.algorithm.join(".")) {
case "1.2.840.113549.1.1.1":
return o.RSAPrivateKey.decode(n.subjectPrivateKey, "der");

case "1.2.840.10045.2.1":
return {
curve: n.algorithm.curve,
privateKey: o.ECPrivateKey.decode(n.subjectPrivateKey, "der").privateKey
};

case "1.2.840.10040.4.1":
n.algorithm.params.priv_key = o.DSAparam.decode(n.subjectPrivateKey, "der");
return {
type: "dsa",
params: n.algorithm.params
};

default:
throw new Error("unknown key id " + i);
}
throw new Error("unknown key type " + s);

case "RSA PUBLIC KEY":
return o.RSAPublicKey.decode(l, "der");

case "RSA PRIVATE KEY":
return o.RSAPrivateKey.decode(l, "der");

case "DSA PRIVATE KEY":
return {
type: "dsa",
params: o.DSAPrivateKey.decode(l, "der")
};

case "EC PRIVATE KEY":
return {
curve: (l = o.ECPrivateKey.decode(l, "der")).parameters.value,
privateKey: l.privateKey
};

default:
throw new Error("unknown key type " + s);
}
}
l.signature = o.signature;
function u(e, t) {
var i = e.algorithm.decrypt.kde.kdeparams.salt, o = parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(), 10), r = n[e.algorithm.decrypt.cipher.algo.join(".")], l = e.algorithm.decrypt.cipher.iv, u = e.subjectPrivateKey, d = parseInt(r.split("-")[1], 10) / 8, f = s.pbkdf2Sync(t, i, o, d, "sha1"), h = a.createDecipheriv(r, f, l), p = [];
p.push(h.update(u));
p.push(h.final());
return c.concat(p);
}
}, {
"./aesid.json": 107,
"./asn1": 108,
"./fixProc": 110,
"browserify-aes": 21,
pbkdf2: 113,
"safe-buffer": 144
} ],
112: [ function(e, t, i) {
(function(e) {
function t(e, t) {
for (var i = 0, o = e.length - 1; o >= 0; o--) {
var n = e[o];
if ("." === n) e.splice(o, 1); else if (".." === n) {
e.splice(o, 1);
i++;
} else if (i) {
e.splice(o, 1);
i--;
}
}
if (t) for (;i--; i) e.unshift("..");
return e;
}
i.resolve = function() {
for (var i = "", o = !1, r = arguments.length - 1; r >= -1 && !o; r--) {
var a = r >= 0 ? arguments[r] : e.cwd();
if ("string" != typeof a) throw new TypeError("Arguments to path.resolve must be strings");
if (a) {
i = a + "/" + i;
o = "/" === a.charAt(0);
}
}
i = t(n(i.split("/"), function(e) {
return !!e;
}), !o).join("/");
return (o ? "/" : "") + i || ".";
};
i.normalize = function(e) {
var o = i.isAbsolute(e), a = "/" === r(e, -1);
(e = t(n(e.split("/"), function(e) {
return !!e;
}), !o).join("/")) || o || (e = ".");
e && a && (e += "/");
return (o ? "/" : "") + e;
};
i.isAbsolute = function(e) {
return "/" === e.charAt(0);
};
i.join = function() {
var e = Array.prototype.slice.call(arguments, 0);
return i.normalize(n(e, function(e, t) {
if ("string" != typeof e) throw new TypeError("Arguments to path.join must be strings");
return e;
}).join("/"));
};
i.relative = function(e, t) {
e = i.resolve(e).substr(1);
t = i.resolve(t).substr(1);
function o(e) {
for (var t = 0; t < e.length && "" === e[t]; t++) ;
for (var i = e.length - 1; i >= 0 && "" === e[i]; i--) ;
return t > i ? [] : e.slice(t, i - t + 1);
}
for (var n = o(e.split("/")), r = o(t.split("/")), a = Math.min(n.length, r.length), s = a, c = 0; c < a; c++) if (n[c] !== r[c]) {
s = c;
break;
}
var l = [];
for (c = s; c < n.length; c++) l.push("..");
return (l = l.concat(r.slice(s))).join("/");
};
i.sep = "/";
i.delimiter = ":";
i.dirname = function(e) {
"string" != typeof e && (e += "");
if (0 === e.length) return ".";
for (var t = e.charCodeAt(0), i = 47 === t, o = -1, n = !0, r = e.length - 1; r >= 1; --r) if (47 === (t = e.charCodeAt(r))) {
if (!n) {
o = r;
break;
}
} else n = !1;
return -1 === o ? i ? "/" : "." : i && 1 === o ? "/" : e.slice(0, o);
};
function o(e) {
"string" != typeof e && (e += "");
var t, i = 0, o = -1, n = !0;
for (t = e.length - 1; t >= 0; --t) if (47 === e.charCodeAt(t)) {
if (!n) {
i = t + 1;
break;
}
} else if (-1 === o) {
n = !1;
o = t + 1;
}
return -1 === o ? "" : e.slice(i, o);
}
i.basename = function(e, t) {
var i = o(e);
t && i.substr(-1 * t.length) === t && (i = i.substr(0, i.length - t.length));
return i;
};
i.extname = function(e) {
"string" != typeof e && (e += "");
for (var t = -1, i = 0, o = -1, n = !0, r = 0, a = e.length - 1; a >= 0; --a) {
var s = e.charCodeAt(a);
if (47 !== s) {
if (-1 === o) {
n = !1;
o = a + 1;
}
46 === s ? -1 === t ? t = a : 1 !== r && (r = 1) : -1 !== t && (r = -1);
} else if (!n) {
i = a + 1;
break;
}
}
return -1 === t || -1 === o || 0 === r || 1 === r && t === o - 1 && t === i + 1 ? "" : e.slice(t, o);
};
function n(e, t) {
if (e.filter) return e.filter(t);
for (var i = [], o = 0; o < e.length; o++) t(e[o], o, e) && i.push(e[o]);
return i;
}
var r = "b" === "ab".substr(-1) ? function(e, t, i) {
return e.substr(t, i);
} : function(e, t, i) {
t < 0 && (t = e.length + t);
return e.substr(t, i);
};
}).call(this, e("_process"));
}, {
_process: 119
} ],
113: [ function(e, t, i) {
i.pbkdf2 = e("./lib/async");
i.pbkdf2Sync = e("./lib/sync");
}, {
"./lib/async": 114,
"./lib/sync": 117
} ],
114: [ function(e, t, i) {
(function(i, o) {
var n, r = e("./precondition"), a = e("./default-encoding"), s = e("./sync"), c = e("safe-buffer").Buffer, l = o.crypto && o.crypto.subtle, u = {
sha: "SHA-1",
"sha-1": "SHA-1",
sha1: "SHA-1",
sha256: "SHA-256",
"sha-256": "SHA-256",
sha384: "SHA-384",
"sha-384": "SHA-384",
"sha-512": "SHA-512",
sha512: "SHA-512"
}, d = [];
function f(e) {
if (o.process && !o.process.browser) return Promise.resolve(!1);
if (!l || !l.importKey || !l.deriveBits) return Promise.resolve(!1);
if (void 0 !== d[e]) return d[e];
var t = h(n = n || c.alloc(8), n, 10, 128, e).then(function() {
return !0;
}).catch(function() {
return !1;
});
d[e] = t;
return t;
}
function h(e, t, i, o, n) {
return l.importKey("raw", e, {
name: "PBKDF2"
}, !1, [ "deriveBits" ]).then(function(e) {
return l.deriveBits({
name: "PBKDF2",
salt: t,
iterations: i,
hash: {
name: n
}
}, e, o << 3);
}).then(function(e) {
return c.from(e);
});
}
function p(e, t) {
e.then(function(e) {
i.nextTick(function() {
t(null, e);
});
}, function(e) {
i.nextTick(function() {
t(e);
});
});
}
t.exports = function(e, t, n, l, d, g) {
if ("function" == typeof d) {
g = d;
d = void 0;
}
var m = u[(d = d || "sha1").toLowerCase()];
if (!m || "function" != typeof o.Promise) return i.nextTick(function() {
var i;
try {
i = s(e, t, n, l, d);
} catch (e) {
return g(e);
}
g(null, i);
});
r(e, t, n, l);
if ("function" != typeof g) throw new Error("No callback provided to pbkdf2");
c.isBuffer(e) || (e = c.from(e, a));
c.isBuffer(t) || (t = c.from(t, a));
p(f(m).then(function(i) {
return i ? h(e, t, n, l, m) : s(e, t, n, l, d);
}), g);
};
}).call(this, e("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {});
}, {
"./default-encoding": 115,
"./precondition": 116,
"./sync": 117,
_process: 119,
"safe-buffer": 144
} ],
115: [ function(e, t, i) {
(function(e) {
var i;
if (e.browser) i = "utf-8"; else {
i = parseInt(e.version.split(".")[0].slice(1), 10) >= 6 ? "utf-8" : "binary";
}
t.exports = i;
}).call(this, e("_process"));
}, {
_process: 119
} ],
116: [ function(e, t, i) {
(function(e) {
var i = Math.pow(2, 30) - 1;
function o(t, i) {
if ("string" != typeof t && !e.isBuffer(t)) throw new TypeError(i + " must be a buffer or string");
}
t.exports = function(e, t, n, r) {
o(e, "Password");
o(t, "Salt");
if ("number" != typeof n) throw new TypeError("Iterations not a number");
if (n < 0) throw new TypeError("Bad iterations");
if ("number" != typeof r) throw new TypeError("Key length not a number");
if (r < 0 || r > i || r != r) throw new TypeError("Bad key length");
};
}).call(this, {
isBuffer: e("../../is-buffer/index.js")
});
}, {
"../../is-buffer/index.js": 102
} ],
117: [ function(e, t, i) {
var o = e("create-hash/md5"), n = e("ripemd160"), r = e("sha.js"), a = e("./precondition"), s = e("./default-encoding"), c = e("safe-buffer").Buffer, l = c.alloc(128), u = {
md5: 16,
sha1: 20,
sha224: 28,
sha256: 32,
sha384: 48,
sha512: 64,
rmd160: 20,
ripemd160: 20
};
function d(e, t, i) {
var o = f(e), n = "sha512" === e || "sha384" === e ? 128 : 64;
t.length > n ? t = o(t) : t.length < n && (t = c.concat([ t, l ], n));
for (var r = c.allocUnsafe(n + u[e]), a = c.allocUnsafe(n + u[e]), s = 0; s < n; s++) {
r[s] = 54 ^ t[s];
a[s] = 92 ^ t[s];
}
var d = c.allocUnsafe(n + i + 4);
r.copy(d, 0, 0, n);
this.ipad1 = d;
this.ipad2 = r;
this.opad = a;
this.alg = e;
this.blocksize = n;
this.hash = o;
this.size = u[e];
}
d.prototype.run = function(e, t) {
e.copy(t, this.blocksize);
this.hash(t).copy(this.opad, this.blocksize);
return this.hash(this.opad);
};
function f(e) {
return "rmd160" === e || "ripemd160" === e ? function(e) {
return new n().update(e).digest();
} : "md5" === e ? o : function(t) {
return r(e).update(t).digest();
};
}
t.exports = function(e, t, i, o, n) {
a(e, t, i, o);
c.isBuffer(e) || (e = c.from(e, s));
c.isBuffer(t) || (t = c.from(t, s));
var r = new d(n = n || "sha1", e, t.length), l = c.allocUnsafe(o), f = c.allocUnsafe(t.length + 4);
t.copy(f, 0, 0, t.length);
for (var h = 0, p = u[n], g = Math.ceil(o / p), m = 1; m <= g; m++) {
f.writeUInt32BE(m, t.length);
for (var y = r.run(f, r.ipad1), b = y, _ = 1; _ < i; _++) {
b = r.run(b, r.ipad2);
for (var v = 0; v < p; v++) y[v] ^= b[v];
}
y.copy(l, h);
h += p;
}
return l;
};
}, {
"./default-encoding": 115,
"./precondition": 116,
"create-hash/md5": 53,
ripemd160: 143,
"safe-buffer": 144,
"sha.js": 146
} ],
118: [ function(e, t, i) {
(function(e) {
"use strict";
"undefined" == typeof e || !e.version || 0 === e.version.indexOf("v0.") || 0 === e.version.indexOf("v1.") && 0 !== e.version.indexOf("v1.8.") ? t.exports = {
nextTick: function(t, i, o, n) {
if ("function" != typeof t) throw new TypeError('"callback" argument must be a function');
var r, a, s = arguments.length;
switch (s) {
case 0:
case 1:
return e.nextTick(t);

case 2:
return e.nextTick(function() {
t.call(null, i);
});

case 3:
return e.nextTick(function() {
t.call(null, i, o);
});

case 4:
return e.nextTick(function() {
t.call(null, i, o, n);
});

default:
r = new Array(s - 1);
a = 0;
for (;a < r.length; ) r[a++] = arguments[a];
return e.nextTick(function() {
t.apply(null, r);
});
}
}
} : t.exports = e;
}).call(this, e("_process"));
}, {
_process: 119
} ],
119: [ function(e, t, i) {
var o, n, r = t.exports = {};
function a() {
throw new Error("setTimeout has not been defined");
}
function s() {
throw new Error("clearTimeout has not been defined");
}
(function() {
try {
o = "function" == typeof setTimeout ? setTimeout : a;
} catch (e) {
o = a;
}
try {
n = "function" == typeof clearTimeout ? clearTimeout : s;
} catch (e) {
n = s;
}
})();
function c(e) {
if (o === setTimeout) return setTimeout(e, 0);
if ((o === a || !o) && setTimeout) {
o = setTimeout;
return setTimeout(e, 0);
}
try {
return o(e, 0);
} catch (t) {
try {
return o.call(null, e, 0);
} catch (t) {
return o.call(this, e, 0);
}
}
}
function l(e) {
if (n === clearTimeout) return clearTimeout(e);
if ((n === s || !n) && clearTimeout) {
n = clearTimeout;
return clearTimeout(e);
}
try {
return n(e);
} catch (t) {
try {
return n.call(null, e);
} catch (t) {
return n.call(this, e);
}
}
}
var u, d = [], f = !1, h = -1;
function p() {
if (f && u) {
f = !1;
u.length ? d = u.concat(d) : h = -1;
d.length && g();
}
}
function g() {
if (!f) {
var e = c(p);
f = !0;
for (var t = d.length; t; ) {
u = d;
d = [];
for (;++h < t; ) u && u[h].run();
h = -1;
t = d.length;
}
u = null;
f = !1;
l(e);
}
}
r.nextTick = function(e) {
var t = new Array(arguments.length - 1);
if (arguments.length > 1) for (var i = 1; i < arguments.length; i++) t[i - 1] = arguments[i];
d.push(new m(e, t));
1 !== d.length || f || c(g);
};
function m(e, t) {
this.fun = e;
this.array = t;
}
m.prototype.run = function() {
this.fun.apply(null, this.array);
};
r.title = "browser";
r.browser = !0;
r.env = {};
r.argv = [];
r.version = "";
r.versions = {};
function y() {}
r.on = y;
r.addListener = y;
r.once = y;
r.off = y;
r.removeListener = y;
r.removeAllListeners = y;
r.emit = y;
r.prependListener = y;
r.prependOnceListener = y;
r.listeners = function(e) {
return [];
};
r.binding = function(e) {
throw new Error("process.binding is not supported");
};
r.cwd = function() {
return "/";
};
r.chdir = function(e) {
throw new Error("process.chdir is not supported");
};
r.umask = function() {
return 0;
};
}, {} ],
120: [ function(e, t, i) {
i.publicEncrypt = e("./publicEncrypt");
i.privateDecrypt = e("./privateDecrypt");
i.privateEncrypt = function(e, t) {
return i.publicEncrypt(e, t, !0);
};
i.publicDecrypt = function(e, t) {
return i.privateDecrypt(e, t, !0);
};
}, {
"./privateDecrypt": 122,
"./publicEncrypt": 123
} ],
121: [ function(e, t, i) {
var o = e("create-hash"), n = e("safe-buffer").Buffer;
t.exports = function(e, t) {
for (var i, a = n.alloc(0), s = 0; a.length < t; ) {
i = r(s++);
a = n.concat([ a, o("sha1").update(e).update(i).digest() ]);
}
return a.slice(0, t);
};
function r(e) {
var t = n.allocUnsafe(4);
t.writeUInt32BE(e, 0);
return t;
}
}, {
"create-hash": 52,
"safe-buffer": 144
} ],
122: [ function(e, t, i) {
var o = e("parse-asn1"), n = e("./mgf"), r = e("./xor"), a = e("bn.js"), s = e("browserify-rsa"), c = e("create-hash"), l = e("./withPublic"), u = e("safe-buffer").Buffer;
t.exports = function(e, t, i) {
var n;
n = e.padding ? e.padding : i ? 1 : 4;
var r, c = o(e), h = c.modulus.byteLength();
if (t.length > h || new a(t).cmp(c.modulus) >= 0) throw new Error("decryption error");
r = i ? l(new a(t), c) : s(t, c);
var p = u.alloc(h - r.length);
r = u.concat([ p, r ], h);
if (4 === n) return d(c, r);
if (1 === n) return f(c, r, i);
if (3 === n) return r;
throw new Error("unknown padding");
};
function d(e, t) {
var i = e.modulus.byteLength(), o = c("sha1").update(u.alloc(0)).digest(), a = o.length;
if (0 !== t[0]) throw new Error("decryption error");
var s = t.slice(1, a + 1), l = t.slice(a + 1), d = r(s, n(l, a)), f = r(l, n(d, i - a - 1));
if (h(o, f.slice(0, a))) throw new Error("decryption error");
for (var p = a; 0 === f[p]; ) p++;
if (1 !== f[p++]) throw new Error("decryption error");
return f.slice(p);
}
function f(e, t, i) {
for (var o = t.slice(0, 2), n = 2, r = 0; 0 !== t[n++]; ) if (n >= t.length) {
r++;
break;
}
var a = t.slice(2, n - 1);
("0002" !== o.toString("hex") && !i || "0001" !== o.toString("hex") && i) && r++;
a.length < 8 && r++;
if (r) throw new Error("decryption error");
return t.slice(n);
}
function h(e, t) {
e = u.from(e);
t = u.from(t);
var i = 0, o = e.length;
if (e.length !== t.length) {
i++;
o = Math.min(e.length, t.length);
}
for (var n = -1; ++n < o; ) i += e[n] ^ t[n];
return i;
}
}, {
"./mgf": 121,
"./withPublic": 124,
"./xor": 125,
"bn.js": 16,
"browserify-rsa": 39,
"create-hash": 52,
"parse-asn1": 111,
"safe-buffer": 144
} ],
123: [ function(e, t, i) {
var o = e("parse-asn1"), n = e("randombytes"), r = e("create-hash"), a = e("./mgf"), s = e("./xor"), c = e("bn.js"), l = e("./withPublic"), u = e("browserify-rsa"), d = e("safe-buffer").Buffer;
t.exports = function(e, t, i) {
var n;
n = e.padding ? e.padding : i ? 1 : 4;
var r, a = o(e);
if (4 === n) r = f(a, t); else if (1 === n) r = h(a, t, i); else {
if (3 !== n) throw new Error("unknown padding");
if ((r = new c(t)).cmp(a.modulus) >= 0) throw new Error("data too long for modulus");
}
return i ? u(r, a) : l(r, a);
};
function f(e, t) {
var i = e.modulus.byteLength(), o = t.length, l = r("sha1").update(d.alloc(0)).digest(), u = l.length, f = 2 * u;
if (o > i - f - 2) throw new Error("message too long");
var h = d.alloc(i - o - f - 2), p = i - u - 1, g = n(u), m = s(d.concat([ l, h, d.alloc(1, 1), t ], p), a(g, p)), y = s(g, a(m, u));
return new c(d.concat([ d.alloc(1), y, m ], i));
}
function h(e, t, i) {
var o, n = t.length, r = e.modulus.byteLength();
if (n > r - 11) throw new Error("message too long");
o = i ? d.alloc(r - n - 3, 255) : p(r - n - 3);
return new c(d.concat([ d.from([ 0, i ? 1 : 2 ]), o, d.alloc(1), t ], r));
}
function p(e) {
for (var t, i = d.allocUnsafe(e), o = 0, r = n(2 * e), a = 0; o < e; ) {
if (a === r.length) {
r = n(2 * e);
a = 0;
}
(t = r[a++]) && (i[o++] = t);
}
return i;
}
}, {
"./mgf": 121,
"./withPublic": 124,
"./xor": 125,
"bn.js": 16,
"browserify-rsa": 39,
"create-hash": 52,
"parse-asn1": 111,
randombytes: 126,
"safe-buffer": 144
} ],
124: [ function(e, t, i) {
var o = e("bn.js"), n = e("safe-buffer").Buffer;
t.exports = function(e, t) {
return n.from(e.toRed(o.mont(t.modulus)).redPow(new o(t.publicExponent)).fromRed().toArray());
};
}, {
"bn.js": 16,
"safe-buffer": 144
} ],
125: [ function(e, t, i) {
t.exports = function(e, t) {
for (var i = e.length, o = -1; ++o < i; ) e[o] ^= t[o];
return e;
};
}, {} ],
126: [ function(e, t, i) {
(function(i, o) {
"use strict";
var n = 65536, r = 4294967295;
var a = e("safe-buffer").Buffer, s = o.crypto || o.msCrypto;
s && s.getRandomValues ? t.exports = function(e, t) {
if (e > r) throw new RangeError("requested too many random bytes");
var o = a.allocUnsafe(e);
if (e > 0) if (e > n) for (var c = 0; c < e; c += n) s.getRandomValues(o.slice(c, c + n)); else s.getRandomValues(o);
if ("function" == typeof t) return i.nextTick(function() {
t(null, o);
});
return o;
} : t.exports = function() {
throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11");
};
}).call(this, e("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {});
}, {
_process: 119,
"safe-buffer": 144
} ],
127: [ function(e, t, i) {
(function(t, o) {
"use strict";
function n() {
throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11");
}
var r = e("safe-buffer"), a = e("randombytes"), s = r.Buffer, c = r.kMaxLength, l = o.crypto || o.msCrypto, u = Math.pow(2, 32) - 1;
function d(e, t) {
if ("number" != typeof e || e != e) throw new TypeError("offset must be a number");
if (e > u || e < 0) throw new TypeError("offset must be a uint32");
if (e > c || e > t) throw new RangeError("offset out of range");
}
function f(e, t, i) {
if ("number" != typeof e || e != e) throw new TypeError("size must be a number");
if (e > u || e < 0) throw new TypeError("size must be a uint32");
if (e + t > i || e > c) throw new RangeError("buffer too small");
}
if (l && l.getRandomValues || !t.browser) {
i.randomFill = function(e, t, i, n) {
if (!(s.isBuffer(e) || e instanceof o.Uint8Array)) throw new TypeError('"buf" argument must be a Buffer or Uint8Array');
if ("function" == typeof t) {
n = t;
t = 0;
i = e.length;
} else if ("function" == typeof i) {
n = i;
i = e.length - t;
} else if ("function" != typeof n) throw new TypeError('"cb" argument must be a function');
d(t, e.length);
f(i, t, e.length);
return h(e, t, i, n);
};
i.randomFillSync = function(e, t, i) {
"undefined" == typeof t && (t = 0);
if (!(s.isBuffer(e) || e instanceof o.Uint8Array)) throw new TypeError('"buf" argument must be a Buffer or Uint8Array');
d(t, e.length);
void 0 === i && (i = e.length - t);
f(i, t, e.length);
return h(e, t, i);
};
} else {
i.randomFill = n;
i.randomFillSync = n;
}
function h(e, i, o, n) {
if (t.browser) {
var r = e.buffer, s = new Uint8Array(r, i, o);
l.getRandomValues(s);
if (n) {
t.nextTick(function() {
n(null, e);
});
return;
}
return e;
}
if (!n) {
a(o).copy(e, i);
return e;
}
a(o, function(t, o) {
if (t) return n(t);
o.copy(e, i);
n(null, e);
});
}
}).call(this, e("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {});
}, {
_process: 119,
randombytes: 126,
"safe-buffer": 144
} ],
128: [ function(e, t, i) {
t.exports = e("./lib/_stream_duplex.js");
}, {
"./lib/_stream_duplex.js": 129
} ],
129: [ function(e, t, i) {
"use strict";
var o = e("process-nextick-args"), n = Object.keys || function(e) {
var t = [];
for (var i in e) t.push(i);
return t;
};
t.exports = d;
var r = e("core-util-is");
r.inherits = e("inherits");
var a = e("./_stream_readable"), s = e("./_stream_writable");
r.inherits(d, a);
for (var c = n(s.prototype), l = 0; l < c.length; l++) {
var u = c[l];
d.prototype[u] || (d.prototype[u] = s.prototype[u]);
}
function d(e) {
if (!(this instanceof d)) return new d(e);
a.call(this, e);
s.call(this, e);
e && !1 === e.readable && (this.readable = !1);
e && !1 === e.writable && (this.writable = !1);
this.allowHalfOpen = !0;
e && !1 === e.allowHalfOpen && (this.allowHalfOpen = !1);
this.once("end", f);
}
Object.defineProperty(d.prototype, "writableHighWaterMark", {
enumerable: !1,
get: function() {
return this._writableState.highWaterMark;
}
});
function f() {
this.allowHalfOpen || this._writableState.ended || o.nextTick(h, this);
}
function h(e) {
e.end();
}
Object.defineProperty(d.prototype, "destroyed", {
get: function() {
return void 0 !== this._readableState && void 0 !== this._writableState && (this._readableState.destroyed && this._writableState.destroyed);
},
set: function(e) {
if (void 0 !== this._readableState && void 0 !== this._writableState) {
this._readableState.destroyed = e;
this._writableState.destroyed = e;
}
}
});
d.prototype._destroy = function(e, t) {
this.push(null);
this.end();
o.nextTick(t, e);
};
}, {
"./_stream_readable": 131,
"./_stream_writable": 133,
"core-util-is": 50,
inherits: 101,
"process-nextick-args": 118
} ],
130: [ function(e, t, i) {
"use strict";
t.exports = r;
var o = e("./_stream_transform"), n = e("core-util-is");
n.inherits = e("inherits");
n.inherits(r, o);
function r(e) {
if (!(this instanceof r)) return new r(e);
o.call(this, e);
}
r.prototype._transform = function(e, t, i) {
i(null, e);
};
}, {
"./_stream_transform": 132,
"core-util-is": 50,
inherits: 101
} ],
131: [ function(e, t, i) {
(function(i, o) {
"use strict";
var n = e("process-nextick-args");
t.exports = C;
var r, a = e("isarray");
C.ReadableState = S;
e("events").EventEmitter;
var s = function(e, t) {
return e.listeners(t).length;
}, c = e("./internal/streams/stream"), l = e("safe-buffer").Buffer, u = o.Uint8Array || function() {};
function d(e) {
return l.from(e);
}
function f(e) {
return l.isBuffer(e) || e instanceof u;
}
var h = e("core-util-is");
h.inherits = e("inherits");
var p = e("util"), g = void 0;
g = p && p.debuglog ? p.debuglog("stream") : function() {};
var m, y = e("./internal/streams/BufferList"), b = e("./internal/streams/destroy");
h.inherits(C, c);
var _ = [ "error", "close", "destroy", "pause", "resume" ];
function v(e, t, i) {
if ("function" == typeof e.prependListener) return e.prependListener(t, i);
e._events && e._events[t] ? a(e._events[t]) ? e._events[t].unshift(i) : e._events[t] = [ i, e._events[t] ] : e.on(t, i);
}
function S(t, i) {
r = r || e("./_stream_duplex");
t = t || {};
var o = i instanceof r;
this.objectMode = !!t.objectMode;
o && (this.objectMode = this.objectMode || !!t.readableObjectMode);
var n = t.highWaterMark, a = t.readableHighWaterMark, s = this.objectMode ? 16 : 16384;
this.highWaterMark = n || 0 === n ? n : o && (a || 0 === a) ? a : s;
this.highWaterMark = Math.floor(this.highWaterMark);
this.buffer = new y();
this.length = 0;
this.pipes = null;
this.pipesCount = 0;
this.flowing = null;
this.ended = !1;
this.endEmitted = !1;
this.reading = !1;
this.sync = !0;
this.needReadable = !1;
this.emittedReadable = !1;
this.readableListening = !1;
this.resumeScheduled = !1;
this.destroyed = !1;
this.defaultEncoding = t.defaultEncoding || "utf8";
this.awaitDrain = 0;
this.readingMore = !1;
this.decoder = null;
this.encoding = null;
if (t.encoding) {
m || (m = e("string_decoder/").StringDecoder);
this.decoder = new m(t.encoding);
this.encoding = t.encoding;
}
}
function C(t) {
r = r || e("./_stream_duplex");
if (!(this instanceof C)) return new C(t);
this._readableState = new S(t, this);
this.readable = !0;
if (t) {
"function" == typeof t.read && (this._read = t.read);
"function" == typeof t.destroy && (this._destroy = t.destroy);
}
c.call(this);
}
Object.defineProperty(C.prototype, "destroyed", {
get: function() {
return void 0 !== this._readableState && this._readableState.destroyed;
},
set: function(e) {
this._readableState && (this._readableState.destroyed = e);
}
});
C.prototype.destroy = b.destroy;
C.prototype._undestroy = b.undestroy;
C.prototype._destroy = function(e, t) {
this.push(null);
t(e);
};
C.prototype.push = function(e, t) {
var i, o = this._readableState;
if (o.objectMode) i = !0; else if ("string" == typeof e) {
if ((t = t || o.defaultEncoding) !== o.encoding) {
e = l.from(e, t);
t = "";
}
i = !0;
}
return w(this, e, t, !1, i);
};
C.prototype.unshift = function(e) {
return w(this, e, null, !0, !1);
};
function w(e, t, i, o, n) {
var r = e._readableState;
if (null === t) {
r.reading = !1;
k(e, r);
} else {
var a;
n || (a = R(r, t));
if (a) e.emit("error", a); else if (r.objectMode || t && t.length > 0) {
"string" == typeof t || r.objectMode || Object.getPrototypeOf(t) === l.prototype || (t = d(t));
if (o) r.endEmitted ? e.emit("error", new Error("stream.unshift() after end event")) : A(e, r, t, !0); else if (r.ended) e.emit("error", new Error("stream.push() after EOF")); else {
r.reading = !1;
if (r.decoder && !i) {
t = r.decoder.write(t);
r.objectMode || 0 !== t.length ? A(e, r, t, !1) : B(e, r);
} else A(e, r, t, !1);
}
} else o || (r.reading = !1);
}
return T(r);
}
function A(e, t, i, o) {
if (t.flowing && 0 === t.length && !t.sync) {
e.emit("data", i);
e.read(0);
} else {
t.length += t.objectMode ? 1 : i.length;
o ? t.buffer.unshift(i) : t.buffer.push(i);
t.needReadable && I(e);
}
B(e, t);
}
function R(e, t) {
var i;
f(t) || "string" == typeof t || void 0 === t || e.objectMode || (i = new TypeError("Invalid non-string/buffer chunk"));
return i;
}
function T(e) {
return !e.ended && (e.needReadable || e.length < e.highWaterMark || 0 === e.length);
}
C.prototype.isPaused = function() {
return !1 === this._readableState.flowing;
};
C.prototype.setEncoding = function(t) {
m || (m = e("string_decoder/").StringDecoder);
this._readableState.decoder = new m(t);
this._readableState.encoding = t;
return this;
};
var E = 8388608;
function M(e) {
if (e >= E) e = E; else {
e--;
e |= e >>> 1;
e |= e >>> 2;
e |= e >>> 4;
e |= e >>> 8;
e |= e >>> 16;
e++;
}
return e;
}
function P(e, t) {
if (e <= 0 || 0 === t.length && t.ended) return 0;
if (t.objectMode) return 1;
if (e != e) return t.flowing && t.length ? t.buffer.head.data.length : t.length;
e > t.highWaterMark && (t.highWaterMark = M(e));
if (e <= t.length) return e;
if (!t.ended) {
t.needReadable = !0;
return 0;
}
return t.length;
}
C.prototype.read = function(e) {
g("read", e);
e = parseInt(e, 10);
var t = this._readableState, i = e;
0 !== e && (t.emittedReadable = !1);
if (0 === e && t.needReadable && (t.length >= t.highWaterMark || t.ended)) {
g("read: emitReadable", t.length, t.ended);
0 === t.length && t.ended ? H(this) : I(this);
return null;
}
if (0 === (e = P(e, t)) && t.ended) {
0 === t.length && H(this);
return null;
}
var o, n = t.needReadable;
g("need readable", n);
(0 === t.length || t.length - e < t.highWaterMark) && g("length less than watermark", n = !0);
if (t.ended || t.reading) g("reading or ended", n = !1); else if (n) {
g("do read");
t.reading = !0;
t.sync = !0;
0 === t.length && (t.needReadable = !0);
this._read(t.highWaterMark);
t.sync = !1;
t.reading || (e = P(i, t));
}
if (null === (o = e > 0 ? G(e, t) : null)) {
t.needReadable = !0;
e = 0;
} else t.length -= e;
if (0 === t.length) {
t.ended || (t.needReadable = !0);
i !== e && t.ended && H(this);
}
null !== o && this.emit("data", o);
return o;
};
function k(e, t) {
if (!t.ended) {
if (t.decoder) {
var i = t.decoder.end();
if (i && i.length) {
t.buffer.push(i);
t.length += t.objectMode ? 1 : i.length;
}
}
t.ended = !0;
I(e);
}
}
function I(e) {
var t = e._readableState;
t.needReadable = !1;
if (!t.emittedReadable) {
g("emitReadable", t.flowing);
t.emittedReadable = !0;
t.sync ? n.nextTick(N, e) : N(e);
}
}
function N(e) {
g("emit readable");
e.emit("readable");
x(e);
}
function B(e, t) {
if (!t.readingMore) {
t.readingMore = !0;
n.nextTick(L, e, t);
}
}
function L(e, t) {
for (var i = t.length; !t.reading && !t.flowing && !t.ended && t.length < t.highWaterMark; ) {
g("maybeReadMore read 0");
e.read(0);
if (i === t.length) break;
i = t.length;
}
t.readingMore = !1;
}
C.prototype._read = function(e) {
this.emit("error", new Error("_read() is not implemented"));
};
C.prototype.pipe = function(e, t) {
var o = this, r = this._readableState;
switch (r.pipesCount) {
case 0:
r.pipes = e;
break;

case 1:
r.pipes = [ r.pipes, e ];
break;

default:
r.pipes.push(e);
}
r.pipesCount += 1;
g("pipe count=%d opts=%j", r.pipesCount, t);
var a = (!t || !1 !== t.end) && e !== i.stdout && e !== i.stderr ? l : _;
r.endEmitted ? n.nextTick(a) : o.once("end", a);
e.on("unpipe", c);
function c(e, t) {
g("onunpipe");
if (e === o && t && !1 === t.hasUnpiped) {
t.hasUnpiped = !0;
f();
}
}
function l() {
g("onend");
e.end();
}
var u = U(o);
e.on("drain", u);
var d = !1;
function f() {
g("cleanup");
e.removeListener("close", y);
e.removeListener("finish", b);
e.removeListener("drain", u);
e.removeListener("error", m);
e.removeListener("unpipe", c);
o.removeListener("end", l);
o.removeListener("end", _);
o.removeListener("data", p);
d = !0;
!r.awaitDrain || e._writableState && !e._writableState.needDrain || u();
}
var h = !1;
o.on("data", p);
function p(t) {
g("ondata");
h = !1;
if (!1 === e.write(t) && !h) {
if ((1 === r.pipesCount && r.pipes === e || r.pipesCount > 1 && -1 !== z(r.pipes, e)) && !d) {
g("false write response, pause", o._readableState.awaitDrain);
o._readableState.awaitDrain++;
h = !0;
}
o.pause();
}
}
function m(t) {
g("onerror", t);
_();
e.removeListener("error", m);
0 === s(e, "error") && e.emit("error", t);
}
v(e, "error", m);
function y() {
e.removeListener("finish", b);
_();
}
e.once("close", y);
function b() {
g("onfinish");
e.removeListener("close", y);
_();
}
e.once("finish", b);
function _() {
g("unpipe");
o.unpipe(e);
}
e.emit("pipe", o);
if (!r.flowing) {
g("pipe resume");
o.resume();
}
return e;
};
function U(e) {
return function() {
var t = e._readableState;
g("pipeOnDrain", t.awaitDrain);
t.awaitDrain && t.awaitDrain--;
if (0 === t.awaitDrain && s(e, "data")) {
t.flowing = !0;
x(e);
}
};
}
C.prototype.unpipe = function(e) {
var t = this._readableState, i = {
hasUnpiped: !1
};
if (0 === t.pipesCount) return this;
if (1 === t.pipesCount) {
if (e && e !== t.pipes) return this;
e || (e = t.pipes);
t.pipes = null;
t.pipesCount = 0;
t.flowing = !1;
e && e.emit("unpipe", this, i);
return this;
}
if (!e) {
var o = t.pipes, n = t.pipesCount;
t.pipes = null;
t.pipesCount = 0;
t.flowing = !1;
for (var r = 0; r < n; r++) o[r].emit("unpipe", this, i);
return this;
}
var a = z(t.pipes, e);
if (-1 === a) return this;
t.pipes.splice(a, 1);
t.pipesCount -= 1;
1 === t.pipesCount && (t.pipes = t.pipes[0]);
e.emit("unpipe", this, i);
return this;
};
C.prototype.on = function(e, t) {
var i = c.prototype.on.call(this, e, t);
if ("data" === e) !1 !== this._readableState.flowing && this.resume(); else if ("readable" === e) {
var o = this._readableState;
if (!o.endEmitted && !o.readableListening) {
o.readableListening = o.needReadable = !0;
o.emittedReadable = !1;
o.reading ? o.length && I(this) : n.nextTick(D, this);
}
}
return i;
};
C.prototype.addListener = C.prototype.on;
function D(e) {
g("readable nexttick read 0");
e.read(0);
}
C.prototype.resume = function() {
var e = this._readableState;
if (!e.flowing) {
g("resume");
e.flowing = !0;
F(this, e);
}
return this;
};
function F(e, t) {
if (!t.resumeScheduled) {
t.resumeScheduled = !0;
n.nextTick(O, e, t);
}
}
function O(e, t) {
if (!t.reading) {
g("resume read 0");
e.read(0);
}
t.resumeScheduled = !1;
t.awaitDrain = 0;
e.emit("resume");
x(e);
t.flowing && !t.reading && e.read(0);
}
C.prototype.pause = function() {
g("call pause flowing=%j", this._readableState.flowing);
if (!1 !== this._readableState.flowing) {
g("pause");
this._readableState.flowing = !1;
this.emit("pause");
}
return this;
};
function x(e) {
var t = e._readableState;
g("flow", t.flowing);
for (;t.flowing && null !== e.read(); ) ;
}
C.prototype.wrap = function(e) {
var t = this, i = this._readableState, o = !1;
e.on("end", function() {
g("wrapped end");
if (i.decoder && !i.ended) {
var e = i.decoder.end();
e && e.length && t.push(e);
}
t.push(null);
});
e.on("data", function(n) {
g("wrapped data");
i.decoder && (n = i.decoder.write(n));
if ((!i.objectMode || null !== n && void 0 !== n) && (i.objectMode || n && n.length)) {
if (!t.push(n)) {
o = !0;
e.pause();
}
}
});
for (var n in e) void 0 === this[n] && "function" == typeof e[n] && (this[n] = function(t) {
return function() {
return e[t].apply(e, arguments);
};
}(n));
for (var r = 0; r < _.length; r++) e.on(_[r], this.emit.bind(this, _[r]));
this._read = function(t) {
g("wrapped _read", t);
if (o) {
o = !1;
e.resume();
}
};
return this;
};
Object.defineProperty(C.prototype, "readableHighWaterMark", {
enumerable: !1,
get: function() {
return this._readableState.highWaterMark;
}
});
C._fromList = G;
function G(e, t) {
if (0 === t.length) return null;
var i;
if (t.objectMode) i = t.buffer.shift(); else if (!e || e >= t.length) {
i = t.decoder ? t.buffer.join("") : 1 === t.buffer.length ? t.buffer.head.data : t.buffer.concat(t.length);
t.buffer.clear();
} else i = W(e, t.buffer, t.decoder);
return i;
}
function W(e, t, i) {
var o;
if (e < t.head.data.length) {
o = t.head.data.slice(0, e);
t.head.data = t.head.data.slice(e);
} else o = e === t.head.data.length ? t.shift() : i ? V(e, t) : j(e, t);
return o;
}
function V(e, t) {
var i = t.head, o = 1, n = i.data;
e -= n.length;
for (;i = i.next; ) {
var r = i.data, a = e > r.length ? r.length : e;
a === r.length ? n += r : n += r.slice(0, e);
if (0 === (e -= a)) {
if (a === r.length) {
++o;
i.next ? t.head = i.next : t.head = t.tail = null;
} else {
t.head = i;
i.data = r.slice(a);
}
break;
}
++o;
}
t.length -= o;
return n;
}
function j(e, t) {
var i = l.allocUnsafe(e), o = t.head, n = 1;
o.data.copy(i);
e -= o.data.length;
for (;o = o.next; ) {
var r = o.data, a = e > r.length ? r.length : e;
r.copy(i, i.length - e, 0, a);
if (0 === (e -= a)) {
if (a === r.length) {
++n;
o.next ? t.head = o.next : t.head = t.tail = null;
} else {
t.head = o;
o.data = r.slice(a);
}
break;
}
++n;
}
t.length -= n;
return i;
}
function H(e) {
var t = e._readableState;
if (t.length > 0) throw new Error('"endReadable()" called on non-empty stream');
if (!t.endEmitted) {
t.ended = !0;
n.nextTick(q, t, e);
}
}
function q(e, t) {
if (!e.endEmitted && 0 === e.length) {
e.endEmitted = !0;
t.readable = !1;
t.emit("end");
}
}
function z(e, t) {
for (var i = 0, o = e.length; i < o; i++) if (e[i] === t) return i;
return -1;
}
}).call(this, e("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {});
}, {
"./_stream_duplex": 129,
"./internal/streams/BufferList": 134,
"./internal/streams/destroy": 135,
"./internal/streams/stream": 136,
_process: 119,
"core-util-is": 50,
events: 83,
inherits: 101,
isarray: 137,
"process-nextick-args": 118,
"safe-buffer": 144,
"string_decoder/": 138,
util: 18
} ],
132: [ function(e, t, i) {
"use strict";
t.exports = a;
var o = e("./_stream_duplex"), n = e("core-util-is");
n.inherits = e("inherits");
n.inherits(a, o);
function r(e, t) {
var i = this._transformState;
i.transforming = !1;
var o = i.writecb;
if (!o) return this.emit("error", new Error("write callback called multiple times"));
i.writechunk = null;
i.writecb = null;
null != t && this.push(t);
o(e);
var n = this._readableState;
n.reading = !1;
(n.needReadable || n.length < n.highWaterMark) && this._read(n.highWaterMark);
}
function a(e) {
if (!(this instanceof a)) return new a(e);
o.call(this, e);
this._transformState = {
afterTransform: r.bind(this),
needTransform: !1,
transforming: !1,
writecb: null,
writechunk: null,
writeencoding: null
};
this._readableState.needReadable = !0;
this._readableState.sync = !1;
if (e) {
"function" == typeof e.transform && (this._transform = e.transform);
"function" == typeof e.flush && (this._flush = e.flush);
}
this.on("prefinish", s);
}
function s() {
var e = this;
"function" == typeof this._flush ? this._flush(function(t, i) {
c(e, t, i);
}) : c(this, null, null);
}
a.prototype.push = function(e, t) {
this._transformState.needTransform = !1;
return o.prototype.push.call(this, e, t);
};
a.prototype._transform = function(e, t, i) {
throw new Error("_transform() is not implemented");
};
a.prototype._write = function(e, t, i) {
var o = this._transformState;
o.writecb = i;
o.writechunk = e;
o.writeencoding = t;
if (!o.transforming) {
var n = this._readableState;
(o.needTransform || n.needReadable || n.length < n.highWaterMark) && this._read(n.highWaterMark);
}
};
a.prototype._read = function(e) {
var t = this._transformState;
if (null !== t.writechunk && t.writecb && !t.transforming) {
t.transforming = !0;
this._transform(t.writechunk, t.writeencoding, t.afterTransform);
} else t.needTransform = !0;
};
a.prototype._destroy = function(e, t) {
var i = this;
o.prototype._destroy.call(this, e, function(e) {
t(e);
i.emit("close");
});
};
function c(e, t, i) {
if (t) return e.emit("error", t);
null != i && e.push(i);
if (e._writableState.length) throw new Error("Calling transform done when ws.length != 0");
if (e._transformState.transforming) throw new Error("Calling transform done when still transforming");
return e.push(null);
}
}, {
"./_stream_duplex": 129,
"core-util-is": 50,
inherits: 101
} ],
133: [ function(e, t, i) {
(function(i, o) {
"use strict";
var n = e("process-nextick-args");
t.exports = _;
function r(e) {
var t = this;
this.next = null;
this.entry = null;
this.finish = function() {
D(t, e);
};
}
var a, s = !i.browser && [ "v0.10", "v0.9." ].indexOf(i.version.slice(0, 5)) > -1 ? setImmediate : n.nextTick;
_.WritableState = b;
var c = e("core-util-is");
c.inherits = e("inherits");
var l = {
deprecate: e("util-deprecate")
}, u = e("./internal/streams/stream"), d = e("safe-buffer").Buffer, f = o.Uint8Array || function() {};
function h(e) {
return d.from(e);
}
function p(e) {
return d.isBuffer(e) || e instanceof f;
}
var g, m = e("./internal/streams/destroy");
c.inherits(_, u);
function y() {}
function b(t, i) {
a = a || e("./_stream_duplex");
t = t || {};
var o = i instanceof a;
this.objectMode = !!t.objectMode;
o && (this.objectMode = this.objectMode || !!t.writableObjectMode);
var n = t.highWaterMark, s = t.writableHighWaterMark, c = this.objectMode ? 16 : 16384;
this.highWaterMark = n || 0 === n ? n : o && (s || 0 === s) ? s : c;
this.highWaterMark = Math.floor(this.highWaterMark);
this.finalCalled = !1;
this.needDrain = !1;
this.ending = !1;
this.ended = !1;
this.finished = !1;
this.destroyed = !1;
var l = !1 === t.decodeStrings;
this.decodeStrings = !l;
this.defaultEncoding = t.defaultEncoding || "utf8";
this.length = 0;
this.writing = !1;
this.corked = 0;
this.sync = !0;
this.bufferProcessing = !1;
this.onwrite = function(e) {
E(i, e);
};
this.writecb = null;
this.writelen = 0;
this.bufferedRequest = null;
this.lastBufferedRequest = null;
this.pendingcb = 0;
this.prefinished = !1;
this.errorEmitted = !1;
this.bufferedRequestCount = 0;
this.corkedRequestsFree = new r(this);
}
b.prototype.getBuffer = function() {
for (var e = this.bufferedRequest, t = []; e; ) {
t.push(e);
e = e.next;
}
return t;
};
(function() {
try {
Object.defineProperty(b.prototype, "buffer", {
get: l.deprecate(function() {
return this.getBuffer();
}, "_writableState.buffer is deprecated. Use _writableState.getBuffer instead.", "DEP0003")
});
} catch (e) {}
})();
if ("function" == typeof Symbol && Symbol.hasInstance && "function" == typeof Function.prototype[Symbol.hasInstance]) {
g = Function.prototype[Symbol.hasInstance];
Object.defineProperty(_, Symbol.hasInstance, {
value: function(e) {
return !!g.call(this, e) || this === _ && (e && e._writableState instanceof b);
}
});
} else g = function(e) {
return e instanceof this;
};
function _(t) {
a = a || e("./_stream_duplex");
if (!(g.call(_, this) || this instanceof a)) return new _(t);
this._writableState = new b(t, this);
this.writable = !0;
if (t) {
"function" == typeof t.write && (this._write = t.write);
"function" == typeof t.writev && (this._writev = t.writev);
"function" == typeof t.destroy && (this._destroy = t.destroy);
"function" == typeof t.final && (this._final = t.final);
}
u.call(this);
}
_.prototype.pipe = function() {
this.emit("error", new Error("Cannot pipe, not readable"));
};
function v(e, t) {
var i = new Error("write after end");
e.emit("error", i);
n.nextTick(t, i);
}
function S(e, t, i, o) {
var r = !0, a = !1;
null === i ? a = new TypeError("May not write null values to stream") : "string" == typeof i || void 0 === i || t.objectMode || (a = new TypeError("Invalid non-string/buffer chunk"));
if (a) {
e.emit("error", a);
n.nextTick(o, a);
r = !1;
}
return r;
}
_.prototype.write = function(e, t, i) {
var o = this._writableState, n = !1, r = !o.objectMode && p(e);
r && !d.isBuffer(e) && (e = h(e));
if ("function" == typeof t) {
i = t;
t = null;
}
r ? t = "buffer" : t || (t = o.defaultEncoding);
"function" != typeof i && (i = y);
if (o.ended) v(this, i); else if (r || S(this, o, e, i)) {
o.pendingcb++;
n = w(this, o, r, e, t, i);
}
return n;
};
_.prototype.cork = function() {
this._writableState.corked++;
};
_.prototype.uncork = function() {
var e = this._writableState;
if (e.corked) {
e.corked--;
e.writing || e.corked || e.finished || e.bufferProcessing || !e.bufferedRequest || k(this, e);
}
};
_.prototype.setDefaultEncoding = function(e) {
"string" == typeof e && (e = e.toLowerCase());
if (!([ "hex", "utf8", "utf-8", "ascii", "binary", "base64", "ucs2", "ucs-2", "utf16le", "utf-16le", "raw" ].indexOf((e + "").toLowerCase()) > -1)) throw new TypeError("Unknown encoding: " + e);
this._writableState.defaultEncoding = e;
return this;
};
function C(e, t, i) {
e.objectMode || !1 === e.decodeStrings || "string" != typeof t || (t = d.from(t, i));
return t;
}
Object.defineProperty(_.prototype, "writableHighWaterMark", {
enumerable: !1,
get: function() {
return this._writableState.highWaterMark;
}
});
function w(e, t, i, o, n, r) {
if (!i) {
var a = C(t, o, n);
if (o !== a) {
i = !0;
n = "buffer";
o = a;
}
}
var s = t.objectMode ? 1 : o.length;
t.length += s;
var c = t.length < t.highWaterMark;
c || (t.needDrain = !0);
if (t.writing || t.corked) {
var l = t.lastBufferedRequest;
t.lastBufferedRequest = {
chunk: o,
encoding: n,
isBuf: i,
callback: r,
next: null
};
l ? l.next = t.lastBufferedRequest : t.bufferedRequest = t.lastBufferedRequest;
t.bufferedRequestCount += 1;
} else A(e, t, !1, s, o, n, r);
return c;
}
function A(e, t, i, o, n, r, a) {
t.writelen = o;
t.writecb = a;
t.writing = !0;
t.sync = !0;
i ? e._writev(n, t.onwrite) : e._write(n, r, t.onwrite);
t.sync = !1;
}
function R(e, t, i, o, r) {
--t.pendingcb;
if (i) {
n.nextTick(r, o);
n.nextTick(L, e, t);
e._writableState.errorEmitted = !0;
e.emit("error", o);
} else {
r(o);
e._writableState.errorEmitted = !0;
e.emit("error", o);
L(e, t);
}
}
function T(e) {
e.writing = !1;
e.writecb = null;
e.length -= e.writelen;
e.writelen = 0;
}
function E(e, t) {
var i = e._writableState, o = i.sync, n = i.writecb;
T(i);
if (t) R(e, i, o, t, n); else {
var r = I(i);
r || i.corked || i.bufferProcessing || !i.bufferedRequest || k(e, i);
o ? s(M, e, i, r, n) : M(e, i, r, n);
}
}
function M(e, t, i, o) {
i || P(e, t);
t.pendingcb--;
o();
L(e, t);
}
function P(e, t) {
if (0 === t.length && t.needDrain) {
t.needDrain = !1;
e.emit("drain");
}
}
function k(e, t) {
t.bufferProcessing = !0;
var i = t.bufferedRequest;
if (e._writev && i && i.next) {
var o = t.bufferedRequestCount, n = new Array(o), a = t.corkedRequestsFree;
a.entry = i;
for (var s = 0, c = !0; i; ) {
n[s] = i;
i.isBuf || (c = !1);
i = i.next;
s += 1;
}
n.allBuffers = c;
A(e, t, !0, t.length, n, "", a.finish);
t.pendingcb++;
t.lastBufferedRequest = null;
if (a.next) {
t.corkedRequestsFree = a.next;
a.next = null;
} else t.corkedRequestsFree = new r(t);
t.bufferedRequestCount = 0;
} else {
for (;i; ) {
var l = i.chunk, u = i.encoding, d = i.callback;
A(e, t, !1, t.objectMode ? 1 : l.length, l, u, d);
i = i.next;
t.bufferedRequestCount--;
if (t.writing) break;
}
null === i && (t.lastBufferedRequest = null);
}
t.bufferedRequest = i;
t.bufferProcessing = !1;
}
_.prototype._write = function(e, t, i) {
i(new Error("_write() is not implemented"));
};
_.prototype._writev = null;
_.prototype.end = function(e, t, i) {
var o = this._writableState;
if ("function" == typeof e) {
i = e;
e = null;
t = null;
} else if ("function" == typeof t) {
i = t;
t = null;
}
null !== e && void 0 !== e && this.write(e, t);
if (o.corked) {
o.corked = 1;
this.uncork();
}
o.ending || o.finished || U(this, o, i);
};
function I(e) {
return e.ending && 0 === e.length && null === e.bufferedRequest && !e.finished && !e.writing;
}
function N(e, t) {
e._final(function(i) {
t.pendingcb--;
i && e.emit("error", i);
t.prefinished = !0;
e.emit("prefinish");
L(e, t);
});
}
function B(e, t) {
if (!t.prefinished && !t.finalCalled) if ("function" == typeof e._final) {
t.pendingcb++;
t.finalCalled = !0;
n.nextTick(N, e, t);
} else {
t.prefinished = !0;
e.emit("prefinish");
}
}
function L(e, t) {
var i = I(t);
if (i) {
B(e, t);
if (0 === t.pendingcb) {
t.finished = !0;
e.emit("finish");
}
}
return i;
}
function U(e, t, i) {
t.ending = !0;
L(e, t);
i && (t.finished ? n.nextTick(i) : e.once("finish", i));
t.ended = !0;
e.writable = !1;
}
function D(e, t, i) {
var o = e.entry;
e.entry = null;
for (;o; ) {
var n = o.callback;
t.pendingcb--;
n(i);
o = o.next;
}
t.corkedRequestsFree ? t.corkedRequestsFree.next = e : t.corkedRequestsFree = e;
}
Object.defineProperty(_.prototype, "destroyed", {
get: function() {
return void 0 !== this._writableState && this._writableState.destroyed;
},
set: function(e) {
this._writableState && (this._writableState.destroyed = e);
}
});
_.prototype.destroy = m.destroy;
_.prototype._undestroy = m.undestroy;
_.prototype._destroy = function(e, t) {
this.end();
t(e);
};
}).call(this, e("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {});
}, {
"./_stream_duplex": 129,
"./internal/streams/destroy": 135,
"./internal/streams/stream": 136,
_process: 119,
"core-util-is": 50,
inherits: 101,
"process-nextick-args": 118,
"safe-buffer": 144,
"util-deprecate": 155
} ],
134: [ function(e, t, i) {
"use strict";
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var n = e("safe-buffer").Buffer, r = e("util");
function a(e, t, i) {
e.copy(t, i);
}
t.exports = function() {
function e() {
o(this, e);
this.head = null;
this.tail = null;
this.length = 0;
}
e.prototype.push = function(e) {
var t = {
data: e,
next: null
};
this.length > 0 ? this.tail.next = t : this.head = t;
this.tail = t;
++this.length;
};
e.prototype.unshift = function(e) {
var t = {
data: e,
next: this.head
};
0 === this.length && (this.tail = t);
this.head = t;
++this.length;
};
e.prototype.shift = function() {
if (0 !== this.length) {
var e = this.head.data;
1 === this.length ? this.head = this.tail = null : this.head = this.head.next;
--this.length;
return e;
}
};
e.prototype.clear = function() {
this.head = this.tail = null;
this.length = 0;
};
e.prototype.join = function(e) {
if (0 === this.length) return "";
for (var t = this.head, i = "" + t.data; t = t.next; ) i += e + t.data;
return i;
};
e.prototype.concat = function(e) {
if (0 === this.length) return n.alloc(0);
if (1 === this.length) return this.head.data;
for (var t = n.allocUnsafe(e >>> 0), i = this.head, o = 0; i; ) {
a(i.data, t, o);
o += i.data.length;
i = i.next;
}
return t;
};
return e;
}();
r && r.inspect && r.inspect.custom && (t.exports.prototype[r.inspect.custom] = function() {
var e = r.inspect({
length: this.length
});
return this.constructor.name + " " + e;
});
}, {
"safe-buffer": 144,
util: 18
} ],
135: [ function(e, t, i) {
"use strict";
var o = e("process-nextick-args");
function n(e, t) {
e.emit("error", t);
}
t.exports = {
destroy: function(e, t) {
var i = this, r = this._readableState && this._readableState.destroyed, a = this._writableState && this._writableState.destroyed;
if (r || a) {
t ? t(e) : !e || this._writableState && this._writableState.errorEmitted || o.nextTick(n, this, e);
return this;
}
this._readableState && (this._readableState.destroyed = !0);
this._writableState && (this._writableState.destroyed = !0);
this._destroy(e || null, function(e) {
if (!t && e) {
o.nextTick(n, i, e);
i._writableState && (i._writableState.errorEmitted = !0);
} else t && t(e);
});
return this;
},
undestroy: function() {
if (this._readableState) {
this._readableState.destroyed = !1;
this._readableState.reading = !1;
this._readableState.ended = !1;
this._readableState.endEmitted = !1;
}
if (this._writableState) {
this._writableState.destroyed = !1;
this._writableState.ended = !1;
this._writableState.ending = !1;
this._writableState.finished = !1;
this._writableState.errorEmitted = !1;
}
}
};
}, {
"process-nextick-args": 118
} ],
136: [ function(e, t, i) {
t.exports = e("events").EventEmitter;
}, {
events: 83
} ],
137: [ function(e, t, i) {
arguments[4][48][0].apply(i, arguments);
}, {
dup: 48
} ],
138: [ function(e, t, i) {
"use strict";
var o = e("safe-buffer").Buffer, n = o.isEncoding || function(e) {
switch ((e = "" + e) && e.toLowerCase()) {
case "hex":
case "utf8":
case "utf-8":
case "ascii":
case "binary":
case "base64":
case "ucs2":
case "ucs-2":
case "utf16le":
case "utf-16le":
case "raw":
return !0;

default:
return !1;
}
};
function r(e) {
if (!e) return "utf8";
for (var t; ;) switch (e) {
case "utf8":
case "utf-8":
return "utf8";

case "ucs2":
case "ucs-2":
case "utf16le":
case "utf-16le":
return "utf16le";

case "latin1":
case "binary":
return "latin1";

case "base64":
case "ascii":
case "hex":
return e;

default:
if (t) return;
e = ("" + e).toLowerCase();
t = !0;
}
}
function a(e) {
var t = r(e);
if ("string" != typeof t && (o.isEncoding === n || !n(e))) throw new Error("Unknown encoding: " + e);
return t || e;
}
i.StringDecoder = s;
function s(e) {
this.encoding = a(e);
var t;
switch (this.encoding) {
case "utf16le":
this.text = f;
this.end = h;
t = 4;
break;

case "utf8":
this.fillLast = d;
t = 4;
break;

case "base64":
this.text = p;
this.end = g;
t = 3;
break;

default:
this.write = m;
this.end = y;
return;
}
this.lastNeed = 0;
this.lastTotal = 0;
this.lastChar = o.allocUnsafe(t);
}
s.prototype.write = function(e) {
if (0 === e.length) return "";
var t, i;
if (this.lastNeed) {
if (void 0 === (t = this.fillLast(e))) return "";
i = this.lastNeed;
this.lastNeed = 0;
} else i = 0;
return i < e.length ? t ? t + this.text(e, i) : this.text(e, i) : t || "";
};
s.prototype.end = function(e) {
var t = e && e.length ? this.write(e) : "";
return this.lastNeed ? t + "�" : t;
};
s.prototype.text = function(e, t) {
var i = l(this, e, t);
if (!this.lastNeed) return e.toString("utf8", t);
this.lastTotal = i;
var o = e.length - (i - this.lastNeed);
e.copy(this.lastChar, 0, o);
return e.toString("utf8", t, o);
};
s.prototype.fillLast = function(e) {
if (this.lastNeed <= e.length) {
e.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed);
return this.lastChar.toString(this.encoding, 0, this.lastTotal);
}
e.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, e.length);
this.lastNeed -= e.length;
};
function c(e) {
return e <= 127 ? 0 : e >> 5 == 6 ? 2 : e >> 4 == 14 ? 3 : e >> 3 == 30 ? 4 : e >> 6 == 2 ? -1 : -2;
}
function l(e, t, i) {
var o = t.length - 1;
if (o < i) return 0;
var n = c(t[o]);
if (n >= 0) {
n > 0 && (e.lastNeed = n - 1);
return n;
}
if (--o < i || -2 === n) return 0;
if ((n = c(t[o])) >= 0) {
n > 0 && (e.lastNeed = n - 2);
return n;
}
if (--o < i || -2 === n) return 0;
if ((n = c(t[o])) >= 0) {
n > 0 && (2 === n ? n = 0 : e.lastNeed = n - 3);
return n;
}
return 0;
}
function u(e, t, i) {
if (128 != (192 & t[0])) {
e.lastNeed = 0;
return "�";
}
if (e.lastNeed > 1 && t.length > 1) {
if (128 != (192 & t[1])) {
e.lastNeed = 1;
return "�";
}
if (e.lastNeed > 2 && t.length > 2 && 128 != (192 & t[2])) {
e.lastNeed = 2;
return "�";
}
}
}
function d(e) {
var t = this.lastTotal - this.lastNeed, i = u(this, e);
if (void 0 !== i) return i;
if (this.lastNeed <= e.length) {
e.copy(this.lastChar, t, 0, this.lastNeed);
return this.lastChar.toString(this.encoding, 0, this.lastTotal);
}
e.copy(this.lastChar, t, 0, e.length);
this.lastNeed -= e.length;
}
function f(e, t) {
if ((e.length - t) % 2 == 0) {
var i = e.toString("utf16le", t);
if (i) {
var o = i.charCodeAt(i.length - 1);
if (o >= 55296 && o <= 56319) {
this.lastNeed = 2;
this.lastTotal = 4;
this.lastChar[0] = e[e.length - 2];
this.lastChar[1] = e[e.length - 1];
return i.slice(0, -1);
}
}
return i;
}
this.lastNeed = 1;
this.lastTotal = 2;
this.lastChar[0] = e[e.length - 1];
return e.toString("utf16le", t, e.length - 1);
}
function h(e) {
var t = e && e.length ? this.write(e) : "";
if (this.lastNeed) {
var i = this.lastTotal - this.lastNeed;
return t + this.lastChar.toString("utf16le", 0, i);
}
return t;
}
function p(e, t) {
var i = (e.length - t) % 3;
if (0 === i) return e.toString("base64", t);
this.lastNeed = 3 - i;
this.lastTotal = 3;
if (1 === i) this.lastChar[0] = e[e.length - 1]; else {
this.lastChar[0] = e[e.length - 2];
this.lastChar[1] = e[e.length - 1];
}
return e.toString("base64", t, e.length - i);
}
function g(e) {
var t = e && e.length ? this.write(e) : "";
return this.lastNeed ? t + this.lastChar.toString("base64", 0, 3 - this.lastNeed) : t;
}
function m(e) {
return e.toString(this.encoding);
}
function y(e) {
return e && e.length ? this.write(e) : "";
}
}, {
"safe-buffer": 144
} ],
139: [ function(e, t, i) {
t.exports = e("./readable").PassThrough;
}, {
"./readable": 140
} ],
140: [ function(e, t, i) {
(i = t.exports = e("./lib/_stream_readable.js")).Stream = i;
i.Readable = i;
i.Writable = e("./lib/_stream_writable.js");
i.Duplex = e("./lib/_stream_duplex.js");
i.Transform = e("./lib/_stream_transform.js");
i.PassThrough = e("./lib/_stream_passthrough.js");
}, {
"./lib/_stream_duplex.js": 129,
"./lib/_stream_passthrough.js": 130,
"./lib/_stream_readable.js": 131,
"./lib/_stream_transform.js": 132,
"./lib/_stream_writable.js": 133
} ],
141: [ function(e, t, i) {
t.exports = e("./readable").Transform;
}, {
"./readable": 140
} ],
142: [ function(e, t, i) {
t.exports = e("./lib/_stream_writable.js");
}, {
"./lib/_stream_writable.js": 133
} ],
143: [ function(e, t, i) {
"use strict";
var o = e("buffer").Buffer, n = e("inherits"), r = e("hash-base"), a = new Array(16), s = [ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 7, 4, 13, 1, 10, 6, 15, 3, 12, 0, 9, 5, 2, 14, 11, 8, 3, 10, 14, 4, 9, 15, 8, 1, 2, 7, 0, 6, 13, 11, 5, 12, 1, 9, 11, 10, 0, 8, 12, 4, 13, 3, 7, 15, 14, 5, 6, 2, 4, 0, 5, 9, 7, 12, 2, 10, 14, 1, 3, 8, 11, 6, 15, 13 ], c = [ 5, 14, 7, 0, 9, 2, 11, 4, 13, 6, 15, 8, 1, 10, 3, 12, 6, 11, 3, 7, 0, 13, 5, 10, 14, 15, 8, 12, 4, 9, 1, 2, 15, 5, 1, 3, 7, 14, 6, 9, 11, 8, 12, 2, 10, 0, 4, 13, 8, 6, 4, 1, 3, 11, 15, 0, 5, 12, 2, 13, 9, 7, 10, 14, 12, 15, 10, 4, 1, 5, 8, 7, 6, 2, 13, 14, 0, 3, 9, 11 ], l = [ 11, 14, 15, 12, 5, 8, 7, 9, 11, 13, 14, 15, 6, 7, 9, 8, 7, 6, 8, 13, 11, 9, 7, 15, 7, 12, 15, 9, 11, 7, 13, 12, 11, 13, 6, 7, 14, 9, 13, 15, 14, 8, 13, 6, 5, 12, 7, 5, 11, 12, 14, 15, 14, 15, 9, 8, 9, 14, 5, 6, 8, 6, 5, 12, 9, 15, 5, 11, 6, 8, 13, 12, 5, 12, 13, 14, 11, 8, 5, 6 ], u = [ 8, 9, 9, 11, 13, 15, 15, 5, 7, 7, 8, 11, 14, 14, 12, 6, 9, 13, 15, 7, 12, 8, 9, 11, 7, 7, 12, 7, 6, 15, 13, 11, 9, 7, 15, 11, 8, 6, 6, 14, 12, 13, 5, 14, 13, 13, 7, 5, 15, 5, 8, 11, 14, 14, 6, 14, 6, 9, 12, 9, 12, 5, 15, 8, 8, 5, 12, 9, 12, 5, 14, 6, 8, 13, 6, 5, 15, 13, 11, 11 ], d = [ 0, 1518500249, 1859775393, 2400959708, 2840853838 ], f = [ 1352829926, 1548603684, 1836072691, 2053994217, 0 ];
function h() {
r.call(this, 64);
this._a = 1732584193;
this._b = 4023233417;
this._c = 2562383102;
this._d = 271733878;
this._e = 3285377520;
}
n(h, r);
h.prototype._update = function() {
for (var e = a, t = 0; t < 16; ++t) e[t] = this._block.readInt32LE(4 * t);
for (var i = 0 | this._a, o = 0 | this._b, n = 0 | this._c, r = 0 | this._d, h = 0 | this._e, v = 0 | this._a, S = 0 | this._b, C = 0 | this._c, w = 0 | this._d, A = 0 | this._e, R = 0; R < 80; R += 1) {
var T, E;
if (R < 16) {
T = g(i, o, n, r, h, e[s[R]], d[0], l[R]);
E = _(v, S, C, w, A, e[c[R]], f[0], u[R]);
} else if (R < 32) {
T = m(i, o, n, r, h, e[s[R]], d[1], l[R]);
E = b(v, S, C, w, A, e[c[R]], f[1], u[R]);
} else if (R < 48) {
T = y(i, o, n, r, h, e[s[R]], d[2], l[R]);
E = y(v, S, C, w, A, e[c[R]], f[2], u[R]);
} else if (R < 64) {
T = b(i, o, n, r, h, e[s[R]], d[3], l[R]);
E = m(v, S, C, w, A, e[c[R]], f[3], u[R]);
} else {
T = _(i, o, n, r, h, e[s[R]], d[4], l[R]);
E = g(v, S, C, w, A, e[c[R]], f[4], u[R]);
}
i = h;
h = r;
r = p(n, 10);
n = o;
o = T;
v = A;
A = w;
w = p(C, 10);
C = S;
S = E;
}
var M = this._b + n + w | 0;
this._b = this._c + r + A | 0;
this._c = this._d + h + v | 0;
this._d = this._e + i + S | 0;
this._e = this._a + o + C | 0;
this._a = M;
};
h.prototype._digest = function() {
this._block[this._blockOffset++] = 128;
if (this._blockOffset > 56) {
this._block.fill(0, this._blockOffset, 64);
this._update();
this._blockOffset = 0;
}
this._block.fill(0, this._blockOffset, 56);
this._block.writeUInt32LE(this._length[0], 56);
this._block.writeUInt32LE(this._length[1], 60);
this._update();
var e = o.alloc ? o.alloc(20) : new o(20);
e.writeInt32LE(this._a, 0);
e.writeInt32LE(this._b, 4);
e.writeInt32LE(this._c, 8);
e.writeInt32LE(this._d, 12);
e.writeInt32LE(this._e, 16);
return e;
};
function p(e, t) {
return e << t | e >>> 32 - t;
}
function g(e, t, i, o, n, r, a, s) {
return p(e + (t ^ i ^ o) + r + a | 0, s) + n | 0;
}
function m(e, t, i, o, n, r, a, s) {
return p(e + (t & i | ~t & o) + r + a | 0, s) + n | 0;
}
function y(e, t, i, o, n, r, a, s) {
return p(e + ((t | ~i) ^ o) + r + a | 0, s) + n | 0;
}
function b(e, t, i, o, n, r, a, s) {
return p(e + (t & o | i & ~o) + r + a | 0, s) + n | 0;
}
function _(e, t, i, o, n, r, a, s) {
return p(e + (t ^ (i | ~o)) + r + a | 0, s) + n | 0;
}
t.exports = h;
}, {
buffer: 47,
"hash-base": 85,
inherits: 101
} ],
144: [ function(e, t, i) {
var o = e("buffer"), n = o.Buffer;
function r(e, t) {
for (var i in e) t[i] = e[i];
}
if (n.from && n.alloc && n.allocUnsafe && n.allocUnsafeSlow) t.exports = o; else {
r(o, i);
i.Buffer = a;
}
function a(e, t, i) {
return n(e, t, i);
}
r(n, a);
a.from = function(e, t, i) {
if ("number" == typeof e) throw new TypeError("Argument must not be a number");
return n(e, t, i);
};
a.alloc = function(e, t, i) {
if ("number" != typeof e) throw new TypeError("Argument must be a number");
var o = n(e);
void 0 !== t ? "string" == typeof i ? o.fill(t, i) : o.fill(t) : o.fill(0);
return o;
};
a.allocUnsafe = function(e) {
if ("number" != typeof e) throw new TypeError("Argument must be a number");
return n(e);
};
a.allocUnsafeSlow = function(e) {
if ("number" != typeof e) throw new TypeError("Argument must be a number");
return o.SlowBuffer(e);
};
}, {
buffer: 47
} ],
145: [ function(e, t, i) {
var o = e("safe-buffer").Buffer;
function n(e, t) {
this._block = o.alloc(e);
this._finalSize = t;
this._blockSize = e;
this._len = 0;
}
n.prototype.update = function(e, t) {
if ("string" == typeof e) {
t = t || "utf8";
e = o.from(e, t);
}
for (var i = this._block, n = this._blockSize, r = e.length, a = this._len, s = 0; s < r; ) {
for (var c = a % n, l = Math.min(r - s, n - c), u = 0; u < l; u++) i[c + u] = e[s + u];
s += l;
(a += l) % n == 0 && this._update(i);
}
this._len += r;
return this;
};
n.prototype.digest = function(e) {
var t = this._len % this._blockSize;
this._block[t] = 128;
this._block.fill(0, t + 1);
if (t >= this._finalSize) {
this._update(this._block);
this._block.fill(0);
}
var i = 8 * this._len;
if (i <= 4294967295) this._block.writeUInt32BE(i, this._blockSize - 4); else {
var o = (4294967295 & i) >>> 0, n = (i - o) / 4294967296;
this._block.writeUInt32BE(n, this._blockSize - 8);
this._block.writeUInt32BE(o, this._blockSize - 4);
}
this._update(this._block);
var r = this._hash();
return e ? r.toString(e) : r;
};
n.prototype._update = function() {
throw new Error("_update must be implemented by subclass");
};
t.exports = n;
}, {
"safe-buffer": 144
} ],
146: [ function(e, t, i) {
(i = t.exports = function(e) {
e = e.toLowerCase();
var t = i[e];
if (!t) throw new Error(e + " is not supported (we accept pull requests)");
return new t();
}).sha = e("./sha");
i.sha1 = e("./sha1");
i.sha224 = e("./sha224");
i.sha256 = e("./sha256");
i.sha384 = e("./sha384");
i.sha512 = e("./sha512");
}, {
"./sha": 147,
"./sha1": 148,
"./sha224": 149,
"./sha256": 150,
"./sha384": 151,
"./sha512": 152
} ],
147: [ function(e, t, i) {
var o = e("inherits"), n = e("./hash"), r = e("safe-buffer").Buffer, a = [ 1518500249, 1859775393, -1894007588, -899497514 ], s = new Array(80);
function c() {
this.init();
this._w = s;
n.call(this, 64, 56);
}
o(c, n);
c.prototype.init = function() {
this._a = 1732584193;
this._b = 4023233417;
this._c = 2562383102;
this._d = 271733878;
this._e = 3285377520;
return this;
};
function l(e) {
return e << 5 | e >>> 27;
}
function u(e) {
return e << 30 | e >>> 2;
}
function d(e, t, i, o) {
return 0 === e ? t & i | ~t & o : 2 === e ? t & i | t & o | i & o : t ^ i ^ o;
}
c.prototype._update = function(e) {
for (var t = this._w, i = 0 | this._a, o = 0 | this._b, n = 0 | this._c, r = 0 | this._d, s = 0 | this._e, c = 0; c < 16; ++c) t[c] = e.readInt32BE(4 * c);
for (;c < 80; ++c) t[c] = t[c - 3] ^ t[c - 8] ^ t[c - 14] ^ t[c - 16];
for (var f = 0; f < 80; ++f) {
var h = ~~(f / 20), p = l(i) + d(h, o, n, r) + s + t[f] + a[h] | 0;
s = r;
r = n;
n = u(o);
o = i;
i = p;
}
this._a = i + this._a | 0;
this._b = o + this._b | 0;
this._c = n + this._c | 0;
this._d = r + this._d | 0;
this._e = s + this._e | 0;
};
c.prototype._hash = function() {
var e = r.allocUnsafe(20);
e.writeInt32BE(0 | this._a, 0);
e.writeInt32BE(0 | this._b, 4);
e.writeInt32BE(0 | this._c, 8);
e.writeInt32BE(0 | this._d, 12);
e.writeInt32BE(0 | this._e, 16);
return e;
};
t.exports = c;
}, {
"./hash": 145,
inherits: 101,
"safe-buffer": 144
} ],
148: [ function(e, t, i) {
var o = e("inherits"), n = e("./hash"), r = e("safe-buffer").Buffer, a = [ 1518500249, 1859775393, -1894007588, -899497514 ], s = new Array(80);
function c() {
this.init();
this._w = s;
n.call(this, 64, 56);
}
o(c, n);
c.prototype.init = function() {
this._a = 1732584193;
this._b = 4023233417;
this._c = 2562383102;
this._d = 271733878;
this._e = 3285377520;
return this;
};
function l(e) {
return e << 1 | e >>> 31;
}
function u(e) {
return e << 5 | e >>> 27;
}
function d(e) {
return e << 30 | e >>> 2;
}
function f(e, t, i, o) {
return 0 === e ? t & i | ~t & o : 2 === e ? t & i | t & o | i & o : t ^ i ^ o;
}
c.prototype._update = function(e) {
for (var t = this._w, i = 0 | this._a, o = 0 | this._b, n = 0 | this._c, r = 0 | this._d, s = 0 | this._e, c = 0; c < 16; ++c) t[c] = e.readInt32BE(4 * c);
for (;c < 80; ++c) t[c] = l(t[c - 3] ^ t[c - 8] ^ t[c - 14] ^ t[c - 16]);
for (var h = 0; h < 80; ++h) {
var p = ~~(h / 20), g = u(i) + f(p, o, n, r) + s + t[h] + a[p] | 0;
s = r;
r = n;
n = d(o);
o = i;
i = g;
}
this._a = i + this._a | 0;
this._b = o + this._b | 0;
this._c = n + this._c | 0;
this._d = r + this._d | 0;
this._e = s + this._e | 0;
};
c.prototype._hash = function() {
var e = r.allocUnsafe(20);
e.writeInt32BE(0 | this._a, 0);
e.writeInt32BE(0 | this._b, 4);
e.writeInt32BE(0 | this._c, 8);
e.writeInt32BE(0 | this._d, 12);
e.writeInt32BE(0 | this._e, 16);
return e;
};
t.exports = c;
}, {
"./hash": 145,
inherits: 101,
"safe-buffer": 144
} ],
149: [ function(e, t, i) {
var o = e("inherits"), n = e("./sha256"), r = e("./hash"), a = e("safe-buffer").Buffer, s = new Array(64);
function c() {
this.init();
this._w = s;
r.call(this, 64, 56);
}
o(c, n);
c.prototype.init = function() {
this._a = 3238371032;
this._b = 914150663;
this._c = 812702999;
this._d = 4144912697;
this._e = 4290775857;
this._f = 1750603025;
this._g = 1694076839;
this._h = 3204075428;
return this;
};
c.prototype._hash = function() {
var e = a.allocUnsafe(28);
e.writeInt32BE(this._a, 0);
e.writeInt32BE(this._b, 4);
e.writeInt32BE(this._c, 8);
e.writeInt32BE(this._d, 12);
e.writeInt32BE(this._e, 16);
e.writeInt32BE(this._f, 20);
e.writeInt32BE(this._g, 24);
return e;
};
t.exports = c;
}, {
"./hash": 145,
"./sha256": 150,
inherits: 101,
"safe-buffer": 144
} ],
150: [ function(e, t, i) {
var o = e("inherits"), n = e("./hash"), r = e("safe-buffer").Buffer, a = [ 1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993, 2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987, 1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774, 264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986, 2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711, 113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291, 1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411, 3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344, 430227734, 506948616, 659060556, 883997877, 958139571, 1322822218, 1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424, 2428436474, 2756734187, 3204031479, 3329325298 ], s = new Array(64);
function c() {
this.init();
this._w = s;
n.call(this, 64, 56);
}
o(c, n);
c.prototype.init = function() {
this._a = 1779033703;
this._b = 3144134277;
this._c = 1013904242;
this._d = 2773480762;
this._e = 1359893119;
this._f = 2600822924;
this._g = 528734635;
this._h = 1541459225;
return this;
};
function l(e, t, i) {
return i ^ e & (t ^ i);
}
function u(e, t, i) {
return e & t | i & (e | t);
}
function d(e) {
return (e >>> 2 | e << 30) ^ (e >>> 13 | e << 19) ^ (e >>> 22 | e << 10);
}
function f(e) {
return (e >>> 6 | e << 26) ^ (e >>> 11 | e << 21) ^ (e >>> 25 | e << 7);
}
function h(e) {
return (e >>> 7 | e << 25) ^ (e >>> 18 | e << 14) ^ e >>> 3;
}
function p(e) {
return (e >>> 17 | e << 15) ^ (e >>> 19 | e << 13) ^ e >>> 10;
}
c.prototype._update = function(e) {
for (var t = this._w, i = 0 | this._a, o = 0 | this._b, n = 0 | this._c, r = 0 | this._d, s = 0 | this._e, c = 0 | this._f, g = 0 | this._g, m = 0 | this._h, y = 0; y < 16; ++y) t[y] = e.readInt32BE(4 * y);
for (;y < 64; ++y) t[y] = p(t[y - 2]) + t[y - 7] + h(t[y - 15]) + t[y - 16] | 0;
for (var b = 0; b < 64; ++b) {
var _ = m + f(s) + l(s, c, g) + a[b] + t[b] | 0, v = d(i) + u(i, o, n) | 0;
m = g;
g = c;
c = s;
s = r + _ | 0;
r = n;
n = o;
o = i;
i = _ + v | 0;
}
this._a = i + this._a | 0;
this._b = o + this._b | 0;
this._c = n + this._c | 0;
this._d = r + this._d | 0;
this._e = s + this._e | 0;
this._f = c + this._f | 0;
this._g = g + this._g | 0;
this._h = m + this._h | 0;
};
c.prototype._hash = function() {
var e = r.allocUnsafe(32);
e.writeInt32BE(this._a, 0);
e.writeInt32BE(this._b, 4);
e.writeInt32BE(this._c, 8);
e.writeInt32BE(this._d, 12);
e.writeInt32BE(this._e, 16);
e.writeInt32BE(this._f, 20);
e.writeInt32BE(this._g, 24);
e.writeInt32BE(this._h, 28);
return e;
};
t.exports = c;
}, {
"./hash": 145,
inherits: 101,
"safe-buffer": 144
} ],
151: [ function(e, t, i) {
var o = e("inherits"), n = e("./sha512"), r = e("./hash"), a = e("safe-buffer").Buffer, s = new Array(160);
function c() {
this.init();
this._w = s;
r.call(this, 128, 112);
}
o(c, n);
c.prototype.init = function() {
this._ah = 3418070365;
this._bh = 1654270250;
this._ch = 2438529370;
this._dh = 355462360;
this._eh = 1731405415;
this._fh = 2394180231;
this._gh = 3675008525;
this._hh = 1203062813;
this._al = 3238371032;
this._bl = 914150663;
this._cl = 812702999;
this._dl = 4144912697;
this._el = 4290775857;
this._fl = 1750603025;
this._gl = 1694076839;
this._hl = 3204075428;
return this;
};
c.prototype._hash = function() {
var e = a.allocUnsafe(48);
function t(t, i, o) {
e.writeInt32BE(t, o);
e.writeInt32BE(i, o + 4);
}
t(this._ah, this._al, 0);
t(this._bh, this._bl, 8);
t(this._ch, this._cl, 16);
t(this._dh, this._dl, 24);
t(this._eh, this._el, 32);
t(this._fh, this._fl, 40);
return e;
};
t.exports = c;
}, {
"./hash": 145,
"./sha512": 152,
inherits: 101,
"safe-buffer": 144
} ],
152: [ function(e, t, i) {
var o = e("inherits"), n = e("./hash"), r = e("safe-buffer").Buffer, a = [ 1116352408, 3609767458, 1899447441, 602891725, 3049323471, 3964484399, 3921009573, 2173295548, 961987163, 4081628472, 1508970993, 3053834265, 2453635748, 2937671579, 2870763221, 3664609560, 3624381080, 2734883394, 310598401, 1164996542, 607225278, 1323610764, 1426881987, 3590304994, 1925078388, 4068182383, 2162078206, 991336113, 2614888103, 633803317, 3248222580, 3479774868, 3835390401, 2666613458, 4022224774, 944711139, 264347078, 2341262773, 604807628, 2007800933, 770255983, 1495990901, 1249150122, 1856431235, 1555081692, 3175218132, 1996064986, 2198950837, 2554220882, 3999719339, 2821834349, 766784016, 2952996808, 2566594879, 3210313671, 3203337956, 3336571891, 1034457026, 3584528711, 2466948901, 113926993, 3758326383, 338241895, 168717936, 666307205, 1188179964, 773529912, 1546045734, 1294757372, 1522805485, 1396182291, 2643833823, 1695183700, 2343527390, 1986661051, 1014477480, 2177026350, 1206759142, 2456956037, 344077627, 2730485921, 1290863460, 2820302411, 3158454273, 3259730800, 3505952657, 3345764771, 106217008, 3516065817, 3606008344, 3600352804, 1432725776, 4094571909, 1467031594, 275423344, 851169720, 430227734, 3100823752, 506948616, 1363258195, 659060556, 3750685593, 883997877, 3785050280, 958139571, 3318307427, 1322822218, 3812723403, 1537002063, 2003034995, 1747873779, 3602036899, 1955562222, 1575990012, 2024104815, 1125592928, 2227730452, 2716904306, 2361852424, 442776044, 2428436474, 593698344, 2756734187, 3733110249, 3204031479, 2999351573, 3329325298, 3815920427, 3391569614, 3928383900, 3515267271, 566280711, 3940187606, 3454069534, 4118630271, 4000239992, 116418474, 1914138554, 174292421, 2731055270, 289380356, 3203993006, 460393269, 320620315, 685471733, 587496836, 852142971, 1086792851, 1017036298, 365543100, 1126000580, 2618297676, 1288033470, 3409855158, 1501505948, 4234509866, 1607167915, 987167468, 1816402316, 1246189591 ], s = new Array(160);
function c() {
this.init();
this._w = s;
n.call(this, 128, 112);
}
o(c, n);
c.prototype.init = function() {
this._ah = 1779033703;
this._bh = 3144134277;
this._ch = 1013904242;
this._dh = 2773480762;
this._eh = 1359893119;
this._fh = 2600822924;
this._gh = 528734635;
this._hh = 1541459225;
this._al = 4089235720;
this._bl = 2227873595;
this._cl = 4271175723;
this._dl = 1595750129;
this._el = 2917565137;
this._fl = 725511199;
this._gl = 4215389547;
this._hl = 327033209;
return this;
};
function l(e, t, i) {
return i ^ e & (t ^ i);
}
function u(e, t, i) {
return e & t | i & (e | t);
}
function d(e, t) {
return (e >>> 28 | t << 4) ^ (t >>> 2 | e << 30) ^ (t >>> 7 | e << 25);
}
function f(e, t) {
return (e >>> 14 | t << 18) ^ (e >>> 18 | t << 14) ^ (t >>> 9 | e << 23);
}
function h(e, t) {
return (e >>> 1 | t << 31) ^ (e >>> 8 | t << 24) ^ e >>> 7;
}
function p(e, t) {
return (e >>> 1 | t << 31) ^ (e >>> 8 | t << 24) ^ (e >>> 7 | t << 25);
}
function g(e, t) {
return (e >>> 19 | t << 13) ^ (t >>> 29 | e << 3) ^ e >>> 6;
}
function m(e, t) {
return (e >>> 19 | t << 13) ^ (t >>> 29 | e << 3) ^ (e >>> 6 | t << 26);
}
function y(e, t) {
return e >>> 0 < t >>> 0 ? 1 : 0;
}
c.prototype._update = function(e) {
for (var t = this._w, i = 0 | this._ah, o = 0 | this._bh, n = 0 | this._ch, r = 0 | this._dh, s = 0 | this._eh, c = 0 | this._fh, b = 0 | this._gh, _ = 0 | this._hh, v = 0 | this._al, S = 0 | this._bl, C = 0 | this._cl, w = 0 | this._dl, A = 0 | this._el, R = 0 | this._fl, T = 0 | this._gl, E = 0 | this._hl, M = 0; M < 32; M += 2) {
t[M] = e.readInt32BE(4 * M);
t[M + 1] = e.readInt32BE(4 * M + 4);
}
for (;M < 160; M += 2) {
var P = t[M - 30], k = t[M - 30 + 1], I = h(P, k), N = p(k, P), B = g(P = t[M - 4], k = t[M - 4 + 1]), L = m(k, P), U = t[M - 14], D = t[M - 14 + 1], F = t[M - 32], O = t[M - 32 + 1], x = N + D | 0, G = I + U + y(x, N) | 0;
G = (G = G + B + y(x = x + L | 0, L) | 0) + F + y(x = x + O | 0, O) | 0;
t[M] = G;
t[M + 1] = x;
}
for (var W = 0; W < 160; W += 2) {
G = t[W];
x = t[W + 1];
var V = u(i, o, n), j = u(v, S, C), H = d(i, v), q = d(v, i), z = f(s, A), Y = f(A, s), K = a[W], X = a[W + 1], J = l(s, c, b), Q = l(A, R, T), Z = E + Y | 0, $ = _ + z + y(Z, E) | 0;
$ = ($ = ($ = $ + J + y(Z = Z + Q | 0, Q) | 0) + K + y(Z = Z + X | 0, X) | 0) + G + y(Z = Z + x | 0, x) | 0;
var ee = q + j | 0, te = H + V + y(ee, q) | 0;
_ = b;
E = T;
b = c;
T = R;
c = s;
R = A;
s = r + $ + y(A = w + Z | 0, w) | 0;
r = n;
w = C;
n = o;
C = S;
o = i;
S = v;
i = $ + te + y(v = Z + ee | 0, Z) | 0;
}
this._al = this._al + v | 0;
this._bl = this._bl + S | 0;
this._cl = this._cl + C | 0;
this._dl = this._dl + w | 0;
this._el = this._el + A | 0;
this._fl = this._fl + R | 0;
this._gl = this._gl + T | 0;
this._hl = this._hl + E | 0;
this._ah = this._ah + i + y(this._al, v) | 0;
this._bh = this._bh + o + y(this._bl, S) | 0;
this._ch = this._ch + n + y(this._cl, C) | 0;
this._dh = this._dh + r + y(this._dl, w) | 0;
this._eh = this._eh + s + y(this._el, A) | 0;
this._fh = this._fh + c + y(this._fl, R) | 0;
this._gh = this._gh + b + y(this._gl, T) | 0;
this._hh = this._hh + _ + y(this._hl, E) | 0;
};
c.prototype._hash = function() {
var e = r.allocUnsafe(64);
function t(t, i, o) {
e.writeInt32BE(t, o);
e.writeInt32BE(i, o + 4);
}
t(this._ah, this._al, 0);
t(this._bh, this._bl, 8);
t(this._ch, this._cl, 16);
t(this._dh, this._dl, 24);
t(this._eh, this._el, 32);
t(this._fh, this._fl, 40);
t(this._gh, this._gl, 48);
t(this._hh, this._hl, 56);
return e;
};
t.exports = c;
}, {
"./hash": 145,
inherits: 101,
"safe-buffer": 144
} ],
153: [ function(e, t, i) {
t.exports = n;
var o = e("events").EventEmitter;
e("inherits")(n, o);
n.Readable = e("readable-stream/readable.js");
n.Writable = e("readable-stream/writable.js");
n.Duplex = e("readable-stream/duplex.js");
n.Transform = e("readable-stream/transform.js");
n.PassThrough = e("readable-stream/passthrough.js");
n.Stream = n;
function n() {
o.call(this);
}
n.prototype.pipe = function(e, t) {
var i = this;
function n(t) {
e.writable && !1 === e.write(t) && i.pause && i.pause();
}
i.on("data", n);
function r() {
i.readable && i.resume && i.resume();
}
e.on("drain", r);
if (!(e._isStdio || t && !1 === t.end)) {
i.on("end", s);
i.on("close", c);
}
var a = !1;
function s() {
if (!a) {
a = !0;
e.end();
}
}
function c() {
if (!a) {
a = !0;
"function" == typeof e.destroy && e.destroy();
}
}
function l(e) {
u();
if (0 === o.listenerCount(this, "error")) throw e;
}
i.on("error", l);
e.on("error", l);
function u() {
i.removeListener("data", n);
e.removeListener("drain", r);
i.removeListener("end", s);
i.removeListener("close", c);
i.removeListener("error", l);
e.removeListener("error", l);
i.removeListener("end", u);
i.removeListener("close", u);
e.removeListener("close", u);
}
i.on("end", u);
i.on("close", u);
e.on("close", u);
e.emit("pipe", i);
return e;
};
}, {
events: 83,
inherits: 101,
"readable-stream/duplex.js": 128,
"readable-stream/passthrough.js": 139,
"readable-stream/readable.js": 140,
"readable-stream/transform.js": 141,
"readable-stream/writable.js": 142
} ],
154: [ function(e, t, i) {
var o = e("buffer").Buffer, n = o.isEncoding || function(e) {
switch (e && e.toLowerCase()) {
case "hex":
case "utf8":
case "utf-8":
case "ascii":
case "binary":
case "base64":
case "ucs2":
case "ucs-2":
case "utf16le":
case "utf-16le":
case "raw":
return !0;

default:
return !1;
}
};
function r(e) {
if (e && !n(e)) throw new Error("Unknown encoding: " + e);
}
var a = i.StringDecoder = function(e) {
this.encoding = (e || "utf8").toLowerCase().replace(/[-_]/, "");
r(e);
switch (this.encoding) {
case "utf8":
this.surrogateSize = 3;
break;

case "ucs2":
case "utf16le":
this.surrogateSize = 2;
this.detectIncompleteChar = c;
break;

case "base64":
this.surrogateSize = 3;
this.detectIncompleteChar = l;
break;

default:
this.write = s;
return;
}
this.charBuffer = new o(6);
this.charReceived = 0;
this.charLength = 0;
};
a.prototype.write = function(e) {
for (var t = ""; this.charLength; ) {
var i = e.length >= this.charLength - this.charReceived ? this.charLength - this.charReceived : e.length;
e.copy(this.charBuffer, this.charReceived, 0, i);
this.charReceived += i;
if (this.charReceived < this.charLength) return "";
e = e.slice(i, e.length);
if (!((n = (t = this.charBuffer.slice(0, this.charLength).toString(this.encoding)).charCodeAt(t.length - 1)) >= 55296 && n <= 56319)) {
this.charReceived = this.charLength = 0;
if (0 === e.length) return t;
break;
}
this.charLength += this.surrogateSize;
t = "";
}
this.detectIncompleteChar(e);
var o = e.length;
if (this.charLength) {
e.copy(this.charBuffer, 0, e.length - this.charReceived, o);
o -= this.charReceived;
}
var n;
o = (t += e.toString(this.encoding, 0, o)).length - 1;
if ((n = t.charCodeAt(o)) >= 55296 && n <= 56319) {
var r = this.surrogateSize;
this.charLength += r;
this.charReceived += r;
this.charBuffer.copy(this.charBuffer, r, 0, r);
e.copy(this.charBuffer, 0, 0, r);
return t.substring(0, o);
}
return t;
};
a.prototype.detectIncompleteChar = function(e) {
for (var t = e.length >= 3 ? 3 : e.length; t > 0; t--) {
var i = e[e.length - t];
if (1 == t && i >> 5 == 6) {
this.charLength = 2;
break;
}
if (t <= 2 && i >> 4 == 14) {
this.charLength = 3;
break;
}
if (t <= 3 && i >> 3 == 30) {
this.charLength = 4;
break;
}
}
this.charReceived = t;
};
a.prototype.end = function(e) {
var t = "";
e && e.length && (t = this.write(e));
if (this.charReceived) {
var i = this.charReceived, o = this.charBuffer, n = this.encoding;
t += o.slice(0, i).toString(n);
}
return t;
};
function s(e) {
return e.toString(this.encoding);
}
function c(e) {
this.charReceived = e.length % 2;
this.charLength = this.charReceived ? 2 : 0;
}
function l(e) {
this.charReceived = e.length % 3;
this.charLength = this.charReceived ? 3 : 0;
}
}, {
buffer: 47
} ],
155: [ function(e, t, i) {
(function(e) {
t.exports = function(e, t) {
if (i("noDeprecation")) return e;
var o = !1;
return function() {
if (!o) {
if (i("throwDeprecation")) throw new Error(t);
i("traceDeprecation") ? console.trace(t) : console.warn(t);
o = !0;
}
return e.apply(this, arguments);
};
};
function i(t) {
try {
if (!e.localStorage) return !1;
} catch (e) {
return !1;
}
var i = e.localStorage[t];
return null != i && "true" === String(i).toLowerCase();
}
}).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {});
}, {} ],
156: [ function(require, module, exports) {
var indexOf = require("indexof"), Object_keys = function(e) {
if (Object.keys) return Object.keys(e);
var t = [];
for (var i in e) t.push(i);
return t;
}, forEach = function(e, t) {
if (e.forEach) return e.forEach(t);
for (var i = 0; i < e.length; i++) t(e[i], i, e);
}, defineProp = function() {
try {
Object.defineProperty({}, "_", {});
return function(e, t, i) {
Object.defineProperty(e, t, {
writable: !0,
enumerable: !1,
configurable: !0,
value: i
});
};
} catch (e) {
return function(e, t, i) {
e[t] = i;
};
}
}(), globals = [ "Array", "Boolean", "Date", "Error", "EvalError", "Function", "Infinity", "JSON", "Math", "NaN", "Number", "Object", "RangeError", "ReferenceError", "RegExp", "String", "SyntaxError", "TypeError", "URIError", "decodeURI", "decodeURIComponent", "encodeURI", "encodeURIComponent", "escape", "eval", "isFinite", "isNaN", "parseFloat", "parseInt", "undefined", "unescape" ];
function Context() {}
Context.prototype = {};
var Script = exports.Script = function(e) {
if (!(this instanceof Script)) return new Script(e);
this.code = e;
};
Script.prototype.runInContext = function(e) {
if (!(e instanceof Context)) throw new TypeError("needs a 'context' argument.");
var t = document.createElement("iframe");
t.style || (t.style = {});
t.style.display = "none";
document.body.appendChild(t);
var i = t.contentWindow, o = i.eval, n = i.execScript;
if (!o && n) {
n.call(i, "null");
o = i.eval;
}
forEach(Object_keys(e), function(t) {
i[t] = e[t];
});
forEach(globals, function(t) {
e[t] && (i[t] = e[t]);
});
var r = Object_keys(i), a = o.call(i, this.code);
forEach(Object_keys(i), function(t) {
(t in e || -1 === indexOf(r, t)) && (e[t] = i[t]);
});
forEach(globals, function(t) {
t in e || defineProp(e, t, i[t]);
});
document.body.removeChild(t);
return a;
};
Script.prototype.runInThisContext = function() {
return eval(this.code);
};
Script.prototype.runInNewContext = function(e) {
var t = Script.createContext(e), i = this.runInContext(t);
forEach(Object_keys(t), function(i) {
e[i] = t[i];
});
return i;
};
forEach(Object_keys(Script.prototype), function(e) {
exports[e] = Script[e] = function(t) {
var i = Script(t);
return i[e].apply(i, [].slice.call(arguments, 1));
};
});
exports.createScript = function(e) {
return exports.Script(e);
};
exports.createContext = Script.createContext = function(e) {
var t = new Context();
"object" == typeof e && forEach(Object_keys(e), function(i) {
t[i] = e[i];
});
return t;
};
}, {
indexof: 100
} ],
157: [ function(require, module, exports) {
(function(global, Buffer) {
var $jscomp = $jscomp || {};
$jscomp.scope = {};
$jscomp.findInternal = function(e, t, i) {
e instanceof String && (e = String(e));
for (var o = e.length, n = 0; n < o; n++) {
var r = e[n];
if (t.call(i, r, n, e)) return {
i: n,
v: r
};
}
return {
i: -1,
v: void 0
};
};
$jscomp.ASSUME_ES5 = !1;
$jscomp.ASSUME_NO_NATIVE_MAP = !1;
$jscomp.ASSUME_NO_NATIVE_SET = !1;
$jscomp.SIMPLE_FROUND_POLYFILL = !1;
$jscomp.defineProperty = $jscomp.ASSUME_ES5 || "function" == typeof Object.defineProperties ? Object.defineProperty : function(e, t, i) {
e != Array.prototype && e != Object.prototype && (e[t] = i.value);
};
$jscomp.getGlobal = function(e) {
return "undefined" != typeof window && window === e ? e : "undefined" != typeof global && null != global ? global : e;
};
$jscomp.global = $jscomp.getGlobal(this);
$jscomp.polyfill = function(e, t, i, o) {
if (t) {
i = $jscomp.global;
e = e.split(".");
for (o = 0; o < e.length - 1; o++) {
var n = e[o];
n in i || (i[n] = {});
i = i[n];
}
(t = t(o = i[e = e[e.length - 1]])) != o && null != t && $jscomp.defineProperty(i, e, {
configurable: !0,
writable: !0,
value: t
});
}
};
$jscomp.polyfill("Array.prototype.findIndex", function(e) {
return e || function(e, t) {
return $jscomp.findInternal(this, e, t).i;
};
}, "es6", "es3");
$jscomp.checkStringArgs = function(e, t, i) {
if (null == e) throw new TypeError("The 'this' value for String.prototype." + i + " must not be null or undefined");
if (t instanceof RegExp) throw new TypeError("First argument to String.prototype." + i + " must not be a regular expression");
return e + "";
};
$jscomp.polyfill("String.prototype.endsWith", function(e) {
return e || function(e, t) {
var i = $jscomp.checkStringArgs(this, e, "endsWith");
e += "";
void 0 === t && (t = i.length);
t = Math.max(0, Math.min(0 | t, i.length));
for (var o = e.length; 0 < o && 0 < t; ) if (i[--t] != e[--o]) return !1;
return 0 >= o;
};
}, "es6", "es3");
$jscomp.polyfill("Array.prototype.find", function(e) {
return e || function(e, t) {
return $jscomp.findInternal(this, e, t).v;
};
}, "es6", "es3");
$jscomp.polyfill("String.prototype.startsWith", function(e) {
return e || function(e, t) {
var i = $jscomp.checkStringArgs(this, e, "startsWith");
e += "";
var o = i.length, n = e.length;
t = Math.max(0, Math.min(0 | t, i.length));
for (var r = 0; r < n && t < o; ) if (i[t++] != e[r++]) return !1;
return r >= n;
};
}, "es6", "es3");
$jscomp.polyfill("String.prototype.repeat", function(e) {
return e || function(e) {
var t = $jscomp.checkStringArgs(this, null, "repeat");
if (0 > e || 1342177279 < e) throw new RangeError("Invalid count value");
e |= 0;
for (var i = ""; e; ) (1 & e && (i += t), e >>>= 1) && (t += t);
return i;
};
}, "es6", "es3");
var COMPILED = !0, goog = goog || {};
goog.global = this || self;
goog.isDef = function(e) {
return void 0 !== e;
};
goog.isString = function(e) {
return "string" == typeof e;
};
goog.isBoolean = function(e) {
return "boolean" == typeof e;
};
goog.isNumber = function(e) {
return "number" == typeof e;
};
goog.exportPath_ = function(e, t, i) {
e = e.split(".");
i = i || goog.global;
e[0] in i || "undefined" == typeof i.execScript || i.execScript("var " + e[0]);
for (var o; e.length && (o = e.shift()); ) !e.length && goog.isDef(t) ? i[o] = t : i = i[o] && i[o] !== Object.prototype[o] ? i[o] : i[o] = {};
};
goog.define = function(e, t) {
if (!COMPILED) {
var i = goog.global.CLOSURE_UNCOMPILED_DEFINES, o = goog.global.CLOSURE_DEFINES;
i && void 0 === i.nodeType && Object.prototype.hasOwnProperty.call(i, e) ? t = i[e] : o && void 0 === o.nodeType && Object.prototype.hasOwnProperty.call(o, e) && (t = o[e]);
}
return t;
};
goog.FEATURESET_YEAR = 2012;
goog.DEBUG = !0;
goog.LOCALE = "en";
goog.TRUSTED_SITE = !0;
goog.STRICT_MODE_COMPATIBLE = !1;
goog.DISALLOW_TEST_ONLY_CODE = COMPILED && !goog.DEBUG;
goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING = !1;
goog.provide = function(e) {
if (goog.isInModuleLoader_()) throw Error("goog.provide cannot be used within a module.");
if (!COMPILED && goog.isProvided_(e)) throw Error('Namespace "' + e + '" already declared.');
goog.constructNamespace_(e);
};
goog.constructNamespace_ = function(e, t) {
if (!COMPILED) {
delete goog.implicitNamespaces_[e];
for (var i = e; (i = i.substring(0, i.lastIndexOf("."))) && !goog.getObjectByName(i); ) goog.implicitNamespaces_[i] = !0;
}
goog.exportPath_(e, t);
};
goog.getScriptNonce = function(e) {
if (e && e != goog.global) return goog.getScriptNonce_(e.document);
null === goog.cspNonce_ && (goog.cspNonce_ = goog.getScriptNonce_(goog.global.document));
return goog.cspNonce_;
};
goog.NONCE_PATTERN_ = /^[\w+/_-]+[=]{0,2}$/;
goog.cspNonce_ = null;
goog.getScriptNonce_ = function(e) {
return (e = e.querySelector && e.querySelector("script[nonce]")) && (e = e.nonce || e.getAttribute("nonce")) && goog.NONCE_PATTERN_.test(e) ? e : "";
};
goog.VALID_MODULE_RE_ = /^[a-zA-Z_$][a-zA-Z0-9._$]*$/;
goog.module = function(e) {
if (!goog.isString(e) || !e || -1 == e.search(goog.VALID_MODULE_RE_)) throw Error("Invalid module identifier");
if (!goog.isInGoogModuleLoader_()) throw Error("Module " + e + " has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");
if (goog.moduleLoaderState_.moduleName) throw Error("goog.module may only be called once per module.");
goog.moduleLoaderState_.moduleName = e;
if (!COMPILED) {
if (goog.isProvided_(e)) throw Error('Namespace "' + e + '" already declared.');
delete goog.implicitNamespaces_[e];
}
};
goog.module.get = function(e) {
return goog.module.getInternal_(e);
};
goog.module.getInternal_ = function(e) {
if (!COMPILED) {
if (e in goog.loadedModules_) return goog.loadedModules_[e].exports;
if (!goog.implicitNamespaces_[e]) return null != (e = goog.getObjectByName(e)) ? e : null;
}
return null;
};
goog.ModuleType = {
ES6: "es6",
GOOG: "goog"
};
goog.moduleLoaderState_ = null;
goog.isInModuleLoader_ = function() {
return goog.isInGoogModuleLoader_() || goog.isInEs6ModuleLoader_();
};
goog.isInGoogModuleLoader_ = function() {
return !!goog.moduleLoaderState_ && goog.moduleLoaderState_.type == goog.ModuleType.GOOG;
};
goog.isInEs6ModuleLoader_ = function() {
if (goog.moduleLoaderState_ && goog.moduleLoaderState_.type == goog.ModuleType.ES6) return !0;
var e = goog.global.$jscomp;
return !!e && ("function" == typeof e.getCurrentModulePath && !!e.getCurrentModulePath());
};
goog.module.declareLegacyNamespace = function() {
if (!COMPILED && !goog.isInGoogModuleLoader_()) throw Error("goog.module.declareLegacyNamespace must be called from within a goog.module");
if (!COMPILED && !goog.moduleLoaderState_.moduleName) throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");
goog.moduleLoaderState_.declareLegacyNamespace = !0;
};
goog.declareModuleId = function(e) {
if (!COMPILED) {
if (!goog.isInEs6ModuleLoader_()) throw Error("goog.declareModuleId may only be called from within an ES6 module");
if (goog.moduleLoaderState_ && goog.moduleLoaderState_.moduleName) throw Error("goog.declareModuleId may only be called once per module.");
if (e in goog.loadedModules_) throw Error('Module with namespace "' + e + '" already exists.');
}
if (goog.moduleLoaderState_) goog.moduleLoaderState_.moduleName = e; else {
var t = goog.global.$jscomp;
if (!t || "function" != typeof t.getCurrentModulePath) throw Error('Module with namespace "' + e + '" has been loaded incorrectly.');
t = t.require(t.getCurrentModulePath());
goog.loadedModules_[e] = {
exports: t,
type: goog.ModuleType.ES6,
moduleId: e
};
}
};
goog.setTestOnly = function(e) {
if (goog.DISALLOW_TEST_ONLY_CODE) throw e = e || "", Error("Importing test-only code into non-debug environment" + (e ? ": " + e : "."));
};
goog.forwardDeclare = function(e) {};
COMPILED || (goog.isProvided_ = function(e) {
return e in goog.loadedModules_ || !goog.implicitNamespaces_[e] && goog.isDefAndNotNull(goog.getObjectByName(e));
}, goog.implicitNamespaces_ = {
"goog.module": !0
});
goog.getObjectByName = function(e, t) {
e = e.split(".");
t = t || goog.global;
for (var i = 0; i < e.length; i++) if (t = t[e[i]], !goog.isDefAndNotNull(t)) return null;
return t;
};
goog.globalize = function(e, t) {
t = t || goog.global;
for (var i in e) t[i] = e[i];
};
goog.addDependency = function(e, t, i, o) {
!COMPILED && goog.DEPENDENCIES_ENABLED && goog.debugLoader_.addDependency(e, t, i, o);
};
goog.ENABLE_DEBUG_LOADER = !0;
goog.logToConsole_ = function(e) {
goog.global.console && goog.global.console.error(e);
};
goog.require = function(e) {
if (!COMPILED) {
goog.ENABLE_DEBUG_LOADER && goog.debugLoader_.requested(e);
if (goog.isProvided_(e)) {
if (goog.isInModuleLoader_()) return goog.module.getInternal_(e);
} else if (goog.ENABLE_DEBUG_LOADER) {
var t = goog.moduleLoaderState_;
goog.moduleLoaderState_ = null;
try {
goog.debugLoader_.load_(e);
} finally {
goog.moduleLoaderState_ = t;
}
}
return null;
}
};
goog.requireType = function(e) {
return {};
};
goog.basePath = "";
goog.nullFunction = function() {};
goog.abstractMethod = function() {
throw Error("unimplemented abstract method");
};
goog.addSingletonGetter = function(e) {
e.instance_ = void 0;
e.getInstance = function() {
if (e.instance_) return e.instance_;
goog.DEBUG && (goog.instantiatedSingletons_[goog.instantiatedSingletons_.length] = e);
return e.instance_ = new e();
};
};
goog.instantiatedSingletons_ = [];
goog.LOAD_MODULE_USING_EVAL = !0;
goog.SEAL_MODULE_EXPORTS = goog.DEBUG;
goog.loadedModules_ = {};
goog.DEPENDENCIES_ENABLED = !COMPILED && goog.ENABLE_DEBUG_LOADER;
goog.TRANSPILE = "detect";
goog.ASSUME_ES_MODULES_TRANSPILED = !1;
goog.TRANSPILE_TO_LANGUAGE = "";
goog.TRANSPILER = "transpile.js";
goog.hasBadLetScoping = null;
goog.useSafari10Workaround = function() {
if (null == goog.hasBadLetScoping) {
try {
var a = !eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";');
} catch (e) {
a = !1;
}
goog.hasBadLetScoping = a;
}
return goog.hasBadLetScoping;
};
goog.workaroundSafari10EvalBug = function(e) {
return "(function(){" + e + "\n;})();\n";
};
goog.loadModule = function(e) {
var t = goog.moduleLoaderState_;
try {
goog.moduleLoaderState_ = {
moduleName: "",
declareLegacyNamespace: !1,
type: goog.ModuleType.GOOG
};
if (goog.isFunction(e)) var i = e.call(void 0, {}); else {
if (!goog.isString(e)) throw Error("Invalid module definition");
goog.useSafari10Workaround() && (e = goog.workaroundSafari10EvalBug(e)), i = goog.loadModuleFromSource_.call(void 0, e);
}
var o = goog.moduleLoaderState_.moduleName;
if (!goog.isString(o) || !o) throw Error('Invalid module name "' + o + '"');
goog.moduleLoaderState_.declareLegacyNamespace ? goog.constructNamespace_(o, i) : goog.SEAL_MODULE_EXPORTS && Object.seal && "object" == typeof i && null != i && Object.seal(i), 
goog.loadedModules_[o] = {
exports: i,
type: goog.ModuleType.GOOG,
moduleId: goog.moduleLoaderState_.moduleName
};
} finally {
goog.moduleLoaderState_ = t;
}
};
goog.loadModuleFromSource_ = function(a) {
eval(a);
return {};
};
goog.normalizePath_ = function(e) {
e = e.split("/");
for (var t = 0; t < e.length; ) "." == e[t] ? e.splice(t, 1) : t && ".." == e[t] && e[t - 1] && ".." != e[t - 1] ? e.splice(--t, 2) : t++;
return e.join("/");
};
goog.loadFileSync_ = function(e) {
if (goog.global.CLOSURE_LOAD_FILE_SYNC) return goog.global.CLOSURE_LOAD_FILE_SYNC(e);
try {
var t = new goog.global.XMLHttpRequest();
t.open("get", e, !1);
t.send();
return 0 == t.status || 200 == t.status ? t.responseText : null;
} catch (e) {
return null;
}
};
goog.transpile_ = function(e, t, i) {
var o = goog.global.$jscomp;
o || (goog.global.$jscomp = o = {});
var n = o.transpile;
if (!n) {
var r = goog.basePath + goog.TRANSPILER, a = goog.loadFileSync_(r);
if (a) {
(function() {
(0, eval)(a + "\n//# sourceURL=" + r);
}).call(goog.global);
if (goog.global.$gwtExport && goog.global.$gwtExport.$jscomp && !goog.global.$gwtExport.$jscomp.transpile) throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: ' + JSON.stringify(goog.global.$gwtExport));
goog.global.$jscomp.transpile = goog.global.$gwtExport.$jscomp.transpile;
n = (o = goog.global.$jscomp).transpile;
}
}
n || (n = o.transpile = function(e, t) {
goog.logToConsole_(t + " requires transpilation but no transpiler was found.");
return e;
});
return n(e, t, i);
};
goog.typeOf = function(e) {
var t = typeof e;
if ("object" == t) {
if (!e) return "null";
if (e instanceof Array) return "array";
if (e instanceof Object) return t;
var i = Object.prototype.toString.call(e);
if ("[object Window]" == i) return "object";
if ("[object Array]" == i || "number" == typeof e.length && "undefined" != typeof e.splice && "undefined" != typeof e.propertyIsEnumerable && !e.propertyIsEnumerable("splice")) return "array";
if ("[object Function]" == i || "undefined" != typeof e.call && "undefined" != typeof e.propertyIsEnumerable && !e.propertyIsEnumerable("call")) return "function";
} else if ("function" == t && "undefined" == typeof e.call) return "object";
return t;
};
goog.isNull = function(e) {
return null === e;
};
goog.isDefAndNotNull = function(e) {
return null != e;
};
goog.isArray = function(e) {
return "array" == goog.typeOf(e);
};
goog.isArrayLike = function(e) {
var t = goog.typeOf(e);
return "array" == t || "object" == t && "number" == typeof e.length;
};
goog.isDateLike = function(e) {
return goog.isObject(e) && "function" == typeof e.getFullYear;
};
goog.isFunction = function(e) {
return "function" == goog.typeOf(e);
};
goog.isObject = function(e) {
var t = typeof e;
return "object" == t && null != e || "function" == t;
};
goog.getUid = function(e) {
return e[goog.UID_PROPERTY_] || (e[goog.UID_PROPERTY_] = ++goog.uidCounter_);
};
goog.hasUid = function(e) {
return !!e[goog.UID_PROPERTY_];
};
goog.removeUid = function(e) {
null !== e && "removeAttribute" in e && e.removeAttribute(goog.UID_PROPERTY_);
try {
delete e[goog.UID_PROPERTY_];
} catch (e) {}
};
goog.UID_PROPERTY_ = "closure_uid_" + (1e9 * Math.random() >>> 0);
goog.uidCounter_ = 0;
goog.getHashCode = goog.getUid;
goog.removeHashCode = goog.removeUid;
goog.cloneObject = function(e) {
var t = goog.typeOf(e);
if ("object" == t || "array" == t) {
if ("function" == typeof e.clone) return e.clone();
t = "array" == t ? [] : {};
for (var i in e) t[i] = goog.cloneObject(e[i]);
return t;
}
return e;
};
goog.bindNative_ = function(e, t, i) {
return e.call.apply(e.bind, arguments);
};
goog.bindJs_ = function(e, t, i) {
if (!e) throw Error();
if (2 < arguments.length) {
var o = Array.prototype.slice.call(arguments, 2);
return function() {
var i = Array.prototype.slice.call(arguments);
Array.prototype.unshift.apply(i, o);
return e.apply(t, i);
};
}
return function() {
return e.apply(t, arguments);
};
};
goog.bind = function(e, t, i) {
Function.prototype.bind && -1 != Function.prototype.bind.toString().indexOf("native code") ? goog.bind = goog.bindNative_ : goog.bind = goog.bindJs_;
return goog.bind.apply(null, arguments);
};
goog.partial = function(e, t) {
var i = Array.prototype.slice.call(arguments, 1);
return function() {
var t = i.slice();
t.push.apply(t, arguments);
return e.apply(this, t);
};
};
goog.mixin = function(e, t) {
for (var i in t) e[i] = t[i];
};
goog.now = goog.TRUSTED_SITE && Date.now || function() {
return +new Date();
};
goog.globalEval = function(e) {
if (goog.global.execScript) goog.global.execScript(e, "JavaScript"); else {
if (!goog.global.eval) throw Error("goog.globalEval not available");
if (null == goog.evalWorksForGlobals_) {
try {
goog.global.eval("var _evalTest_ = 1;");
} catch (e) {}
if ("undefined" != typeof goog.global._evalTest_) {
try {
delete goog.global._evalTest_;
} catch (e) {}
goog.evalWorksForGlobals_ = !0;
} else goog.evalWorksForGlobals_ = !1;
}
if (goog.evalWorksForGlobals_) goog.global.eval(e); else {
var t = goog.global.document, i = t.createElement("SCRIPT");
i.type = "text/javascript";
i.defer = !1;
i.appendChild(t.createTextNode(e));
t.head.appendChild(i);
t.head.removeChild(i);
}
}
};
goog.evalWorksForGlobals_ = null;
goog.getCssName = function(e, t) {
if ("." == String(e).charAt(0)) throw Error('className passed in goog.getCssName must not start with ".". You passed: ' + e);
var i = function(e) {
return goog.cssNameMapping_[e] || e;
}, o = function(e) {
e = e.split("-");
for (var t = [], o = 0; o < e.length; o++) t.push(i(e[o]));
return t.join("-");
};
o = goog.cssNameMapping_ ? "BY_WHOLE" == goog.cssNameMappingStyle_ ? i : o : function(e) {
return e;
};
e = t ? e + "-" + o(t) : o(e);
return goog.global.CLOSURE_CSS_NAME_MAP_FN ? goog.global.CLOSURE_CSS_NAME_MAP_FN(e) : e;
};
goog.setCssNameMapping = function(e, t) {
goog.cssNameMapping_ = e;
goog.cssNameMappingStyle_ = t;
};
!COMPILED && goog.global.CLOSURE_CSS_NAME_MAPPING && (goog.cssNameMapping_ = goog.global.CLOSURE_CSS_NAME_MAPPING);
goog.getMsg = function(e, t, i) {
i && i.html && (e = e.replace(/</g, "&lt;"));
t && (e = e.replace(/\{\$([^}]+)}/g, function(e, i) {
return null != t && i in t ? t[i] : e;
}));
return e;
};
goog.getMsgWithFallback = function(e, t) {
return e;
};
goog.exportSymbol = function(e, t, i) {
goog.exportPath_(e, t, i);
};
goog.exportProperty = function(e, t, i) {
e[t] = i;
};
goog.inherits = function(e, t) {
function i() {}
i.prototype = t.prototype;
e.superClass_ = t.prototype;
e.prototype = new i();
e.prototype.constructor = e;
e.base = function(e, i, o) {
for (var n = Array(arguments.length - 2), r = 2; r < arguments.length; r++) n[r - 2] = arguments[r];
return t.prototype[i].apply(e, n);
};
};
goog.base = function(e, t, i) {
var o = arguments.callee.caller;
if (goog.STRICT_MODE_COMPATIBLE || goog.DEBUG && !o) throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");
if ("undefined" != typeof o.superClass_) {
for (var n = Array(arguments.length - 1), r = 1; r < arguments.length; r++) n[r - 1] = arguments[r];
return o.superClass_.constructor.apply(e, n);
}
if ("string" != typeof t && "symbol" != typeof t) throw Error("method names provided to goog.base must be a string or a symbol");
n = Array(arguments.length - 2);
for (r = 2; r < arguments.length; r++) n[r - 2] = arguments[r];
r = !1;
for (var a = e.constructor.prototype; a; a = Object.getPrototypeOf(a)) if (a[t] === o) r = !0; else if (r) return a[t].apply(e, n);
if (e[t] === o) return e.constructor.prototype[t].apply(e, n);
throw Error("goog.base called from a method of one name to a method of a different name");
};
goog.scope = function(e) {
if (goog.isInModuleLoader_()) throw Error("goog.scope is not supported within a module.");
e.call(goog.global);
};
COMPILED || (goog.global.COMPILED = COMPILED);
goog.defineClass = function(e, t) {
var i = t.constructor, o = t.statics;
i && i != Object.prototype.constructor || (i = function() {
throw Error("cannot instantiate an interface (no constructor defined).");
});
i = goog.defineClass.createSealingConstructor_(i, e);
e && goog.inherits(i, e);
delete t.constructor;
delete t.statics;
goog.defineClass.applyProperties_(i.prototype, t);
null != o && (o instanceof Function ? o(i) : goog.defineClass.applyProperties_(i, o));
return i;
};
goog.defineClass.SEAL_CLASS_INSTANCES = goog.DEBUG;
goog.defineClass.createSealingConstructor_ = function(e, t) {
if (!goog.defineClass.SEAL_CLASS_INSTANCES) return e;
var i = !goog.defineClass.isUnsealable_(t), o = function() {
var t = e.apply(this, arguments) || this;
t[goog.UID_PROPERTY_] = t[goog.UID_PROPERTY_];
this.constructor === o && i && Object.seal instanceof Function && Object.seal(t);
return t;
};
return o;
};
goog.defineClass.isUnsealable_ = function(e) {
return e && e.prototype && e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_];
};
goog.defineClass.OBJECT_PROTOTYPE_FIELDS_ = "constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
goog.defineClass.applyProperties_ = function(e, t) {
for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
for (var o = 0; o < goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length; o++) i = goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[o], 
Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
};
goog.tagUnsealableClass = function(e) {
!COMPILED && goog.defineClass.SEAL_CLASS_INSTANCES && (e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_] = !0);
};
goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_ = "goog_defineClass_legacy_unsealable";
!COMPILED && goog.DEPENDENCIES_ENABLED && (goog.inHtmlDocument_ = function() {
var e = goog.global.document;
return null != e && "write" in e;
}, goog.isDocumentLoading_ = function() {
var e = goog.global.document;
return e.attachEvent ? "complete" != e.readyState : "loading" == e.readyState;
}, goog.findBasePath_ = function() {
if (goog.isDef(goog.global.CLOSURE_BASE_PATH) && goog.isString(goog.global.CLOSURE_BASE_PATH)) goog.basePath = goog.global.CLOSURE_BASE_PATH; else if (goog.inHtmlDocument_()) {
var e = goog.global.document, t = e.currentScript;
for (t = (e = t ? [ t ] : e.getElementsByTagName("SCRIPT")).length - 1; 0 <= t; --t) {
var i = e[t].src, o = i.lastIndexOf("?");
o = -1 == o ? i.length : o;
if ("base.js" == i.substr(o - 7, 7)) {
goog.basePath = i.substr(0, o - 7);
break;
}
}
}
}, goog.findBasePath_(), goog.Transpiler = function() {
this.requiresTranspilation_ = null;
this.transpilationTarget_ = goog.TRANSPILE_TO_LANGUAGE;
}, goog.Transpiler.prototype.createRequiresTranspilation_ = function() {
function a(t, i) {
e ? d[t] = !0 : i() ? (c = t, d[t] = !1) : e = d[t] = !0;
}
function b(a) {
try {
return !!eval(a);
} catch (e) {
return !1;
}
}
var c = "es3", d = {
es3: !1
}, e = !1, f = goog.global.navigator && goog.global.navigator.userAgent ? goog.global.navigator.userAgent : "";
a("es5", function() {
return b("[1,].length==1");
});
a("es6", function() {
return !f.match(/Edge\/(\d+)(\.\d)*/i) && b('(()=>{"use strict";class X{constructor(){if(new.target!=String)throw 1;this.x=42}}let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof String))throw 1;for(const a of[2,3]){if(a==2)continue;function f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()==3}})()');
});
a("es7", function() {
return b("2 ** 2 == 4");
});
a("es8", function() {
return b("async () => 1, true");
});
a("es9", function() {
return b("({...rest} = {}), true");
});
a("es_next", function() {
return !1;
});
return {
target: c,
map: d
};
}, goog.Transpiler.prototype.needsTranspile = function(e, t) {
if ("always" == goog.TRANSPILE) return !0;
if ("never" == goog.TRANSPILE) return !1;
if (!this.requiresTranspilation_) {
var i = this.createRequiresTranspilation_();
this.requiresTranspilation_ = i.map;
this.transpilationTarget_ = this.transpilationTarget_ || i.target;
}
if (e in this.requiresTranspilation_) return !!this.requiresTranspilation_[e] || !(!goog.inHtmlDocument_() || "es6" != t || "noModule" in goog.global.document.createElement("script"));
throw Error("Unknown language mode: " + e);
}, goog.Transpiler.prototype.transpile = function(e, t) {
return goog.transpile_(e, t, this.transpilationTarget_);
}, goog.transpiler_ = new goog.Transpiler(), goog.protectScriptTag_ = function(e) {
return e.replace(/<\/(SCRIPT)/gi, "\\x3c/$1");
}, goog.DebugLoader_ = function() {
this.dependencies_ = {};
this.idToPath_ = {};
this.written_ = {};
this.loadingDeps_ = [];
this.depsToLoad_ = [];
this.paused_ = !1;
this.factory_ = new goog.DependencyFactory(goog.transpiler_);
this.deferredCallbacks_ = {};
this.deferredQueue_ = [];
}, goog.DebugLoader_.prototype.bootstrap = function(e, t) {
function i() {
o && (goog.global.setTimeout(o, 0), o = null);
}
var o = t;
if (e.length) {
t = [];
for (var n = 0; n < e.length; n++) {
var r = this.getPathFromDeps_(e[n]);
if (!r) throw Error("Unregonized namespace: " + e[n]);
t.push(this.dependencies_[r]);
}
r = goog.require;
var a = 0;
for (n = 0; n < e.length; n++) r(e[n]), t[n].onLoad(function() {
++a == e.length && i();
});
} else i();
}, goog.DebugLoader_.prototype.loadClosureDeps = function() {
this.depsToLoad_.push(this.factory_.createDependency(goog.normalizePath_(goog.basePath + "deps.js"), "deps.js", [], [], {}, !1));
this.loadDeps_();
}, goog.DebugLoader_.prototype.requested = function(e, t) {
(e = this.getPathFromDeps_(e)) && (t || this.areDepsLoaded_(this.dependencies_[e].requires)) && (t = this.deferredCallbacks_[e]) && (delete this.deferredCallbacks_[e], 
t());
}, goog.DebugLoader_.prototype.setDependencyFactory = function(e) {
this.factory_ = e;
}, goog.DebugLoader_.prototype.load_ = function(e) {
if (!this.getPathFromDeps_(e)) throw e = "goog.require could not find: " + e, goog.logToConsole_(e), 
Error(e);
var t = this, i = [], o = function(e) {
var n = t.getPathFromDeps_(e);
if (!n) throw Error("Bad dependency path or symbol: " + e);
if (!t.written_[n]) {
t.written_[n] = !0;
e = t.dependencies_[n];
for (n = 0; n < e.requires.length; n++) goog.isProvided_(e.requires[n]) || o(e.requires[n]);
i.push(e);
}
};
o(e);
e = !!this.depsToLoad_.length;
this.depsToLoad_ = this.depsToLoad_.concat(i);
this.paused_ || e || this.loadDeps_();
}, goog.DebugLoader_.prototype.loadDeps_ = function() {
for (var e = this, t = this.paused_; this.depsToLoad_.length && !t; ) (function() {
var i = !1, o = e.depsToLoad_.shift(), n = !1;
e.loading_(o);
var r = {
pause: function() {
if (i) throw Error("Cannot call pause after the call to load.");
t = !0;
},
resume: function() {
i ? e.resume_() : t = !1;
},
loaded: function() {
if (n) throw Error("Double call to loaded.");
n = !0;
e.loaded_(o);
},
pending: function() {
for (var t = [], i = 0; i < e.loadingDeps_.length; i++) t.push(e.loadingDeps_[i]);
return t;
},
setModuleState: function(e) {
goog.moduleLoaderState_ = {
type: e,
moduleName: "",
declareLegacyNamespace: !1
};
},
registerEs6ModuleExports: function(e, t, i) {
i && (goog.loadedModules_[i] = {
exports: t,
type: goog.ModuleType.ES6,
moduleId: i || ""
});
},
registerGoogModuleExports: function(e, t) {
goog.loadedModules_[e] = {
exports: t,
type: goog.ModuleType.GOOG,
moduleId: e
};
},
clearModuleState: function() {
goog.moduleLoaderState_ = null;
},
defer: function(t) {
if (i) throw Error("Cannot register with defer after the call to load.");
e.defer_(o, t);
},
areDepsLoaded: function() {
return e.areDepsLoaded_(o.requires);
}
};
try {
o.load(r);
} finally {
i = !0;
}
})();
t && this.pause_();
}, goog.DebugLoader_.prototype.pause_ = function() {
this.paused_ = !0;
}, goog.DebugLoader_.prototype.resume_ = function() {
this.paused_ && (this.paused_ = !1, this.loadDeps_());
}, goog.DebugLoader_.prototype.loading_ = function(e) {
this.loadingDeps_.push(e);
}, goog.DebugLoader_.prototype.loaded_ = function(e) {
for (var t = 0; t < this.loadingDeps_.length; t++) if (this.loadingDeps_[t] == e) {
this.loadingDeps_.splice(t, 1);
break;
}
for (t = 0; t < this.deferredQueue_.length; t++) if (this.deferredQueue_[t] == e.path) {
this.deferredQueue_.splice(t, 1);
break;
}
if (this.loadingDeps_.length == this.deferredQueue_.length && !this.depsToLoad_.length) for (;this.deferredQueue_.length; ) this.requested(this.deferredQueue_.shift(), !0);
e.loaded();
}, goog.DebugLoader_.prototype.areDepsLoaded_ = function(e) {
for (var t = 0; t < e.length; t++) {
var i = this.getPathFromDeps_(e[t]);
if (!i || !(i in this.deferredCallbacks_ || goog.isProvided_(e[t]))) return !1;
}
return !0;
}, goog.DebugLoader_.prototype.getPathFromDeps_ = function(e) {
return e in this.idToPath_ ? this.idToPath_[e] : e in this.dependencies_ ? e : null;
}, goog.DebugLoader_.prototype.defer_ = function(e, t) {
this.deferredCallbacks_[e.path] = t;
this.deferredQueue_.push(e.path);
}, goog.LoadController = function() {}, goog.LoadController.prototype.pause = function() {}, 
goog.LoadController.prototype.resume = function() {}, goog.LoadController.prototype.loaded = function() {}, 
goog.LoadController.prototype.pending = function() {}, goog.LoadController.prototype.registerEs6ModuleExports = function(e, t, i) {}, 
goog.LoadController.prototype.setModuleState = function(e) {}, goog.LoadController.prototype.clearModuleState = function() {}, 
goog.LoadController.prototype.defer = function(e) {}, goog.LoadController.prototype.areDepsLoaded = function() {}, 
goog.Dependency = function(e, t, i, o, n) {
this.path = e;
this.relativePath = t;
this.provides = i;
this.requires = o;
this.loadFlags = n;
this.loaded_ = !1;
this.loadCallbacks_ = [];
}, goog.Dependency.prototype.getPathName = function() {
var e = this.path, t = e.indexOf("://");
0 <= t && (0 <= (t = (e = e.substring(t + 3)).indexOf("/")) && (e = e.substring(t + 1)));
return e;
}, goog.Dependency.prototype.onLoad = function(e) {
this.loaded_ ? e() : this.loadCallbacks_.push(e);
}, goog.Dependency.prototype.loaded = function() {
this.loaded_ = !0;
var e = this.loadCallbacks_;
this.loadCallbacks_ = [];
for (var t = 0; t < e.length; t++) e[t]();
}, goog.Dependency.defer_ = !1, goog.Dependency.callbackMap_ = {}, goog.Dependency.registerCallback_ = function(e) {
var t = Math.random().toString(32);
goog.Dependency.callbackMap_[t] = e;
return t;
}, goog.Dependency.unregisterCallback_ = function(e) {
delete goog.Dependency.callbackMap_[e];
}, goog.Dependency.callback_ = function(e, t) {
if (!(e in goog.Dependency.callbackMap_)) throw Error("Callback key " + e + " does not exist (was base.js loaded more than once?).");
for (var i = goog.Dependency.callbackMap_[e], o = [], n = 1; n < arguments.length; n++) o.push(arguments[n]);
i.apply(void 0, o);
}, goog.Dependency.prototype.load = function(e) {
if (goog.global.CLOSURE_IMPORT_SCRIPT) goog.global.CLOSURE_IMPORT_SCRIPT(this.path) ? e.loaded() : e.pause(); else if (goog.inHtmlDocument_()) {
var t = goog.global.document;
if ("complete" == t.readyState && !goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING) {
if (/\bdeps.js$/.test(this.path)) {
e.loaded();
return;
}
throw Error('Cannot write "' + this.path + '" after document load');
}
if (!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING && goog.isDocumentLoading_()) {
var i = goog.Dependency.registerCallback_(function(t) {
goog.DebugLoader_.IS_OLD_IE_ && "complete" != t.readyState || (goog.Dependency.unregisterCallback_(i), 
e.loaded());
}), o = !goog.DebugLoader_.IS_OLD_IE_ && goog.getScriptNonce() ? ' nonce="' + goog.getScriptNonce() + '"' : "";
o = '<script src="' + this.path + '" ' + (goog.DebugLoader_.IS_OLD_IE_ ? "onreadystatechange" : "onload") + "=\"goog.Dependency.callback_('" + i + '\', this)" type="text/javascript" ' + (goog.Dependency.defer_ ? "defer" : "") + o + "><\/script>";
t.write(goog.TRUSTED_TYPES_POLICY_ ? goog.TRUSTED_TYPES_POLICY_.createHTML(o) : o);
} else {
var n = t.createElement("script");
n.defer = goog.Dependency.defer_;
n.async = !1;
n.type = "text/javascript";
(o = goog.getScriptNonce()) && n.setAttribute("nonce", o);
goog.DebugLoader_.IS_OLD_IE_ ? (e.pause(), n.onreadystatechange = function() {
"loaded" != n.readyState && "complete" != n.readyState || (e.loaded(), e.resume());
}) : n.onload = function() {
n.onload = null;
e.loaded();
};
n.src = goog.TRUSTED_TYPES_POLICY_ ? goog.TRUSTED_TYPES_POLICY_.createScriptURL(this.path) : this.path;
t.head.appendChild(n);
}
} else goog.logToConsole_("Cannot use default debug loader outside of HTML documents."), 
"deps.js" == this.relativePath ? (goog.logToConsole_("Consider setting CLOSURE_IMPORT_SCRIPT before loading base.js, or setting CLOSURE_NO_DEPS to true."), 
e.loaded()) : e.pause();
}, goog.Es6ModuleDependency = function(e, t, i, o, n) {
goog.Dependency.call(this, e, t, i, o, n);
}, goog.inherits(goog.Es6ModuleDependency, goog.Dependency), goog.Es6ModuleDependency.prototype.load = function(e) {
if (goog.global.CLOSURE_IMPORT_SCRIPT) goog.global.CLOSURE_IMPORT_SCRIPT(this.path) ? e.loaded() : e.pause(); else if (goog.inHtmlDocument_()) {
var t = goog.global.document, i = this;
if (goog.isDocumentLoading_()) {
var o = function(e, i) {
e = i ? '<script type="module" crossorigin>' + i + "<\/script>" : '<script type="module" crossorigin src="' + e + '"><\/script>';
t.write(goog.TRUSTED_TYPES_POLICY_ ? goog.TRUSTED_TYPES_POLICY_.createHTML(e) : e);
};
goog.Dependency.defer_ = !0;
} else o = function(e, i) {
var o = t.createElement("script");
o.defer = !0;
o.async = !1;
o.type = "module";
o.setAttribute("crossorigin", !0);
var n = goog.getScriptNonce();
n && o.setAttribute("nonce", n);
i ? o.textContent = goog.TRUSTED_TYPES_POLICY_ ? goog.TRUSTED_TYPES_POLICY_.createScript(i) : i : o.src = goog.TRUSTED_TYPES_POLICY_ ? goog.TRUSTED_TYPES_POLICY_.createScriptURL(e) : e;
t.head.appendChild(o);
};
var n = goog.Dependency.registerCallback_(function() {
goog.Dependency.unregisterCallback_(n);
e.setModuleState(goog.ModuleType.ES6);
});
o(void 0, 'goog.Dependency.callback_("' + n + '")');
o(this.path, void 0);
var r = goog.Dependency.registerCallback_(function(t) {
goog.Dependency.unregisterCallback_(r);
e.registerEs6ModuleExports(i.path, t, goog.moduleLoaderState_.moduleName);
});
o(void 0, 'import * as m from "' + this.path + '"; goog.Dependency.callback_("' + r + '", m)');
var a = goog.Dependency.registerCallback_(function() {
goog.Dependency.unregisterCallback_(a);
e.clearModuleState();
e.loaded();
});
o(void 0, 'goog.Dependency.callback_("' + a + '")');
} else goog.logToConsole_("Cannot use default debug loader outside of HTML documents."), 
e.pause();
}, goog.TransformedDependency = function(e, t, i, o, n) {
goog.Dependency.call(this, e, t, i, o, n);
this.contents_ = null;
this.lazyFetch_ = !(goog.inHtmlDocument_() && "noModule" in goog.global.document.createElement("script"));
}, goog.inherits(goog.TransformedDependency, goog.Dependency), goog.TransformedDependency.prototype.load = function(e) {
function t() {
o.contents_ = goog.loadFileSync_(o.path);
o.contents_ && (o.contents_ = o.transform(o.contents_), o.contents_ && (o.contents_ += "\n//# sourceURL=" + o.path));
}
function i() {
o.lazyFetch_ && t();
if (o.contents_) {
n && e.setModuleState(goog.ModuleType.ES6);
try {
var i = o.contents_;
o.contents_ = null;
goog.globalEval(i);
if (n) var r = goog.moduleLoaderState_.moduleName;
} finally {
n && e.clearModuleState();
}
n && goog.global.$jscomp.require.ensure([ o.getPathName() ], function() {
e.registerEs6ModuleExports(o.path, goog.global.$jscomp.require(o.getPathName()), r);
});
e.loaded();
}
}
var o = this;
if (goog.global.CLOSURE_IMPORT_SCRIPT) t(), this.contents_ && goog.global.CLOSURE_IMPORT_SCRIPT("", this.contents_) ? (this.contents_ = null, 
e.loaded()) : e.pause(); else {
var n = this.loadFlags.module == goog.ModuleType.ES6;
this.lazyFetch_ || t();
var r = 1 < e.pending().length, a = r && goog.DebugLoader_.IS_OLD_IE_;
r = goog.Dependency.defer_ && (r || goog.isDocumentLoading_());
if (a || r) e.defer(function() {
i();
}); else {
var s = goog.global.document;
a = goog.inHtmlDocument_() && "ActiveXObject" in goog.global;
if (n && goog.inHtmlDocument_() && goog.isDocumentLoading_() && !a) {
goog.Dependency.defer_ = !0;
e.pause();
var c = s.onreadystatechange;
s.onreadystatechange = function() {
"interactive" == s.readyState && (s.onreadystatechange = c, i(), e.resume());
goog.isFunction(c) && c.apply(void 0, arguments);
};
} else !goog.DebugLoader_.IS_OLD_IE_ && goog.inHtmlDocument_() && goog.isDocumentLoading_() ? function() {
var e = goog.global.document, t = goog.Dependency.registerCallback_(function() {
goog.Dependency.unregisterCallback_(t);
i();
}), o = '<script type="text/javascript">' + goog.protectScriptTag_('goog.Dependency.callback_("' + t + '");') + "<\/script>";
e.write(goog.TRUSTED_TYPES_POLICY_ ? goog.TRUSTED_TYPES_POLICY_.createHTML(o) : o);
}() : i();
}
}
}, goog.TransformedDependency.prototype.transform = function(e) {}, goog.TranspiledDependency = function(e, t, i, o, n, r) {
goog.TransformedDependency.call(this, e, t, i, o, n);
this.transpiler = r;
}, goog.inherits(goog.TranspiledDependency, goog.TransformedDependency), goog.TranspiledDependency.prototype.transform = function(e) {
return this.transpiler.transpile(e, this.getPathName());
}, goog.PreTranspiledEs6ModuleDependency = function(e, t, i, o, n) {
goog.TransformedDependency.call(this, e, t, i, o, n);
}, goog.inherits(goog.PreTranspiledEs6ModuleDependency, goog.TransformedDependency), 
goog.PreTranspiledEs6ModuleDependency.prototype.transform = function(e) {
return e;
}, goog.GoogModuleDependency = function(e, t, i, o, n, r, a) {
goog.TransformedDependency.call(this, e, t, i, o, n);
this.needsTranspile_ = r;
this.transpiler_ = a;
}, goog.inherits(goog.GoogModuleDependency, goog.TransformedDependency), goog.GoogModuleDependency.prototype.transform = function(e) {
this.needsTranspile_ && (e = this.transpiler_.transpile(e, this.getPathName()));
return goog.LOAD_MODULE_USING_EVAL && goog.isDef(goog.global.JSON) ? "goog.loadModule(" + goog.global.JSON.stringify(e + "\n//# sourceURL=" + this.path + "\n") + ");" : 'goog.loadModule(function(exports) {"use strict";' + e + "\n;return exports});\n//# sourceURL=" + this.path + "\n";
}, goog.DebugLoader_.IS_OLD_IE_ = !(goog.global.atob || !goog.global.document || !goog.global.document.all), 
goog.DebugLoader_.prototype.addDependency = function(e, t, i, o) {
t = t || [];
e = e.replace(/\\/g, "/");
var n = goog.normalizePath_(goog.basePath + e);
o && "boolean" != typeof o || (o = o ? {
module: goog.ModuleType.GOOG
} : {});
i = this.factory_.createDependency(n, e, t, i, o, goog.transpiler_.needsTranspile(o.lang || "es3", o.module));
this.dependencies_[n] = i;
for (i = 0; i < t.length; i++) this.idToPath_[t[i]] = n;
this.idToPath_[e] = n;
}, goog.DependencyFactory = function(e) {
this.transpiler = e;
}, goog.DependencyFactory.prototype.createDependency = function(e, t, i, o, n, r) {
return n.module == goog.ModuleType.GOOG ? new goog.GoogModuleDependency(e, t, i, o, n, r, this.transpiler) : r ? new goog.TranspiledDependency(e, t, i, o, n, this.transpiler) : n.module == goog.ModuleType.ES6 ? "never" == goog.TRANSPILE && goog.ASSUME_ES_MODULES_TRANSPILED ? new goog.PreTranspiledEs6ModuleDependency(e, t, i, o, n) : new goog.Es6ModuleDependency(e, t, i, o, n) : new goog.Dependency(e, t, i, o, n);
}, goog.debugLoader_ = new goog.DebugLoader_(), goog.loadClosureDeps = function() {
goog.debugLoader_.loadClosureDeps();
}, goog.setDependencyFactory = function(e) {
goog.debugLoader_.setDependencyFactory(e);
}, goog.global.CLOSURE_NO_DEPS || goog.debugLoader_.loadClosureDeps(), goog.bootstrap = function(e, t) {
goog.debugLoader_.bootstrap(e, t);
});
goog.TRUSTED_TYPES_POLICY_NAME = "";
goog.identity_ = function(e) {
return e;
};
goog.createTrustedTypesPolicy = function(e) {
var t = null;
if ("undefined" == typeof TrustedTypes || !TrustedTypes.createPolicy) return t;
try {
t = TrustedTypes.createPolicy(e, {
createHTML: goog.identity_,
createScript: goog.identity_,
createScriptURL: goog.identity_,
createURL: goog.identity_
});
} catch (e) {
goog.logToConsole_(e.message);
}
return t;
};
goog.TRUSTED_TYPES_POLICY_ = goog.TRUSTED_TYPES_POLICY_NAME ? goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME + "#base") : null;
var jspb = {
BinaryConstants: {},
ConstBinaryMessage: function() {},
BinaryMessage: function() {}
};
jspb.BinaryConstants.FieldType = {
INVALID: -1,
DOUBLE: 1,
FLOAT: 2,
INT64: 3,
UINT64: 4,
INT32: 5,
FIXED64: 6,
FIXED32: 7,
BOOL: 8,
STRING: 9,
GROUP: 10,
MESSAGE: 11,
BYTES: 12,
UINT32: 13,
ENUM: 14,
SFIXED32: 15,
SFIXED64: 16,
SINT32: 17,
SINT64: 18,
FHASH64: 30,
VHASH64: 31
};
jspb.BinaryConstants.WireType = {
INVALID: -1,
VARINT: 0,
FIXED64: 1,
DELIMITED: 2,
START_GROUP: 3,
END_GROUP: 4,
FIXED32: 5
};
jspb.BinaryConstants.FieldTypeToWireType = function(e) {
var t = jspb.BinaryConstants.FieldType, i = jspb.BinaryConstants.WireType;
switch (e) {
case t.INT32:
case t.INT64:
case t.UINT32:
case t.UINT64:
case t.SINT32:
case t.SINT64:
case t.BOOL:
case t.ENUM:
case t.VHASH64:
return i.VARINT;

case t.DOUBLE:
case t.FIXED64:
case t.SFIXED64:
case t.FHASH64:
return i.FIXED64;

case t.STRING:
case t.MESSAGE:
case t.BYTES:
return i.DELIMITED;

case t.FLOAT:
case t.FIXED32:
case t.SFIXED32:
return i.FIXED32;

default:
return i.INVALID;
}
};
jspb.BinaryConstants.INVALID_FIELD_NUMBER = -1;
jspb.BinaryConstants.FLOAT32_EPS = 1.401298464324817e-45;
jspb.BinaryConstants.FLOAT32_MIN = 1.1754943508222875e-38;
jspb.BinaryConstants.FLOAT32_MAX = 3.4028234663852886e38;
jspb.BinaryConstants.FLOAT64_EPS = 5e-324;
jspb.BinaryConstants.FLOAT64_MIN = 2.2250738585072014e-308;
jspb.BinaryConstants.FLOAT64_MAX = 1.7976931348623157e308;
jspb.BinaryConstants.TWO_TO_20 = 1048576;
jspb.BinaryConstants.TWO_TO_23 = 8388608;
jspb.BinaryConstants.TWO_TO_31 = 2147483648;
jspb.BinaryConstants.TWO_TO_32 = 4294967296;
jspb.BinaryConstants.TWO_TO_52 = 4503599627370496;
jspb.BinaryConstants.TWO_TO_63 = 0x8000000000000000;
jspb.BinaryConstants.TWO_TO_64 = 0x10000000000000000;
jspb.BinaryConstants.ZERO_HASH = "\0\0\0\0\0\0\0\0";
goog.dom = {};
goog.dom.NodeType = {
ELEMENT: 1,
ATTRIBUTE: 2,
TEXT: 3,
CDATA_SECTION: 4,
ENTITY_REFERENCE: 5,
ENTITY: 6,
PROCESSING_INSTRUCTION: 7,
COMMENT: 8,
DOCUMENT: 9,
DOCUMENT_TYPE: 10,
DOCUMENT_FRAGMENT: 11,
NOTATION: 12
};
goog.debug = {};
goog.debug.Error = function(e) {
if (Error.captureStackTrace) Error.captureStackTrace(this, goog.debug.Error); else {
var t = Error().stack;
t && (this.stack = t);
}
e && (this.message = String(e));
this.reportErrorToServer = !0;
};
goog.inherits(goog.debug.Error, Error);
goog.debug.Error.prototype.name = "CustomError";
goog.asserts = {};
goog.asserts.ENABLE_ASSERTS = goog.DEBUG;
goog.asserts.AssertionError = function(e, t) {
goog.debug.Error.call(this, goog.asserts.subs_(e, t));
this.messagePattern = e;
};
goog.inherits(goog.asserts.AssertionError, goog.debug.Error);
goog.asserts.AssertionError.prototype.name = "AssertionError";
goog.asserts.DEFAULT_ERROR_HANDLER = function(e) {
throw e;
};
goog.asserts.errorHandler_ = goog.asserts.DEFAULT_ERROR_HANDLER;
goog.asserts.subs_ = function(e, t) {
for (var i = "", o = (e = e.split("%s")).length - 1, n = 0; n < o; n++) i += e[n] + (n < t.length ? t[n] : "%s");
return i + e[o];
};
goog.asserts.doAssertFailure_ = function(e, t, i, o) {
var n = "Assertion failed";
if (i) {
n += ": " + i;
var r = o;
} else e && (n += ": " + e, r = t);
e = new goog.asserts.AssertionError("" + n, r || []);
goog.asserts.errorHandler_(e);
};
goog.asserts.setErrorHandler = function(e) {
goog.asserts.ENABLE_ASSERTS && (goog.asserts.errorHandler_ = e);
};
goog.asserts.assert = function(e, t, i) {
goog.asserts.ENABLE_ASSERTS && !e && goog.asserts.doAssertFailure_("", null, t, Array.prototype.slice.call(arguments, 2));
return e;
};
goog.asserts.assertExists = function(e, t, i) {
goog.asserts.ENABLE_ASSERTS && null == e && goog.asserts.doAssertFailure_("Expected to exist: %s.", [ e ], t, Array.prototype.slice.call(arguments, 2));
return e;
};
goog.asserts.fail = function(e, t) {
goog.asserts.ENABLE_ASSERTS && goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure" + (e ? ": " + e : ""), Array.prototype.slice.call(arguments, 1)));
};
goog.asserts.assertNumber = function(e, t, i) {
goog.asserts.ENABLE_ASSERTS && !goog.isNumber(e) && goog.asserts.doAssertFailure_("Expected number but got %s: %s.", [ goog.typeOf(e), e ], t, Array.prototype.slice.call(arguments, 2));
return e;
};
goog.asserts.assertString = function(e, t, i) {
goog.asserts.ENABLE_ASSERTS && !goog.isString(e) && goog.asserts.doAssertFailure_("Expected string but got %s: %s.", [ goog.typeOf(e), e ], t, Array.prototype.slice.call(arguments, 2));
return e;
};
goog.asserts.assertFunction = function(e, t, i) {
goog.asserts.ENABLE_ASSERTS && !goog.isFunction(e) && goog.asserts.doAssertFailure_("Expected function but got %s: %s.", [ goog.typeOf(e), e ], t, Array.prototype.slice.call(arguments, 2));
return e;
};
goog.asserts.assertObject = function(e, t, i) {
goog.asserts.ENABLE_ASSERTS && !goog.isObject(e) && goog.asserts.doAssertFailure_("Expected object but got %s: %s.", [ goog.typeOf(e), e ], t, Array.prototype.slice.call(arguments, 2));
return e;
};
goog.asserts.assertArray = function(e, t, i) {
goog.asserts.ENABLE_ASSERTS && !goog.isArray(e) && goog.asserts.doAssertFailure_("Expected array but got %s: %s.", [ goog.typeOf(e), e ], t, Array.prototype.slice.call(arguments, 2));
return e;
};
goog.asserts.assertBoolean = function(e, t, i) {
goog.asserts.ENABLE_ASSERTS && !goog.isBoolean(e) && goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.", [ goog.typeOf(e), e ], t, Array.prototype.slice.call(arguments, 2));
return e;
};
goog.asserts.assertElement = function(e, t, i) {
!goog.asserts.ENABLE_ASSERTS || goog.isObject(e) && e.nodeType == goog.dom.NodeType.ELEMENT || goog.asserts.doAssertFailure_("Expected Element but got %s: %s.", [ goog.typeOf(e), e ], t, Array.prototype.slice.call(arguments, 2));
return e;
};
goog.asserts.assertInstanceof = function(e, t, i, o) {
!goog.asserts.ENABLE_ASSERTS || e instanceof t || goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.", [ goog.asserts.getType_(t), goog.asserts.getType_(e) ], i, Array.prototype.slice.call(arguments, 3));
return e;
};
goog.asserts.assertFinite = function(e, t, i) {
!goog.asserts.ENABLE_ASSERTS || "number" == typeof e && isFinite(e) || goog.asserts.doAssertFailure_("Expected %s to be a finite number but it is not.", [ e ], t, Array.prototype.slice.call(arguments, 2));
return e;
};
goog.asserts.assertObjectPrototypeIsIntact = function() {
for (var e in Object.prototype) goog.asserts.fail(e + " should not be enumerable in Object.prototype.");
};
goog.asserts.getType_ = function(e) {
return e instanceof Function ? e.displayName || e.name || "unknown type name" : e instanceof Object ? e.constructor.displayName || e.constructor.name || Object.prototype.toString.call(e) : null === e ? "null" : typeof e;
};
goog.array = {};
goog.NATIVE_ARRAY_PROTOTYPES = goog.TRUSTED_SITE;
goog.array.ASSUME_NATIVE_FUNCTIONS = 2012 < goog.FEATURESET_YEAR;
goog.array.peek = function(e) {
return e[e.length - 1];
};
goog.array.last = goog.array.peek;
goog.array.indexOf = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || Array.prototype.indexOf) ? function(e, t, i) {
goog.asserts.assert(null != e.length);
return Array.prototype.indexOf.call(e, t, i);
} : function(e, t, i) {
i = null == i ? 0 : 0 > i ? Math.max(0, e.length + i) : i;
if (goog.isString(e)) return goog.isString(t) && 1 == t.length ? e.indexOf(t, i) : -1;
for (;i < e.length; i++) if (i in e && e[i] === t) return i;
return -1;
};
goog.array.lastIndexOf = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || Array.prototype.lastIndexOf) ? function(e, t, i) {
goog.asserts.assert(null != e.length);
return Array.prototype.lastIndexOf.call(e, t, null == i ? e.length - 1 : i);
} : function(e, t, i) {
0 > (i = null == i ? e.length - 1 : i) && (i = Math.max(0, e.length + i));
if (goog.isString(e)) return goog.isString(t) && 1 == t.length ? e.lastIndexOf(t, i) : -1;
for (;0 <= i; i--) if (i in e && e[i] === t) return i;
return -1;
};
goog.array.forEach = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || Array.prototype.forEach) ? function(e, t, i) {
goog.asserts.assert(null != e.length);
Array.prototype.forEach.call(e, t, i);
} : function(e, t, i) {
for (var o = e.length, n = goog.isString(e) ? e.split("") : e, r = 0; r < o; r++) r in n && t.call(i, n[r], r, e);
};
goog.array.forEachRight = function(e, t, i) {
var o = e.length, n = goog.isString(e) ? e.split("") : e;
for (--o; 0 <= o; --o) o in n && t.call(i, n[o], o, e);
};
goog.array.filter = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || Array.prototype.filter) ? function(e, t, i) {
goog.asserts.assert(null != e.length);
return Array.prototype.filter.call(e, t, i);
} : function(e, t, i) {
for (var o = e.length, n = [], r = 0, a = goog.isString(e) ? e.split("") : e, s = 0; s < o; s++) if (s in a) {
var c = a[s];
t.call(i, c, s, e) && (n[r++] = c);
}
return n;
};
goog.array.map = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || Array.prototype.map) ? function(e, t, i) {
goog.asserts.assert(null != e.length);
return Array.prototype.map.call(e, t, i);
} : function(e, t, i) {
for (var o = e.length, n = Array(o), r = goog.isString(e) ? e.split("") : e, a = 0; a < o; a++) a in r && (n[a] = t.call(i, r[a], a, e));
return n;
};
goog.array.reduce = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || Array.prototype.reduce) ? function(e, t, i, o) {
goog.asserts.assert(null != e.length);
o && (t = goog.bind(t, o));
return Array.prototype.reduce.call(e, t, i);
} : function(e, t, i, o) {
var n = i;
goog.array.forEach(e, function(i, r) {
n = t.call(o, n, i, r, e);
});
return n;
};
goog.array.reduceRight = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || Array.prototype.reduceRight) ? function(e, t, i, o) {
goog.asserts.assert(null != e.length);
goog.asserts.assert(null != t);
o && (t = goog.bind(t, o));
return Array.prototype.reduceRight.call(e, t, i);
} : function(e, t, i, o) {
var n = i;
goog.array.forEachRight(e, function(i, r) {
n = t.call(o, n, i, r, e);
});
return n;
};
goog.array.some = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || Array.prototype.some) ? function(e, t, i) {
goog.asserts.assert(null != e.length);
return Array.prototype.some.call(e, t, i);
} : function(e, t, i) {
for (var o = e.length, n = goog.isString(e) ? e.split("") : e, r = 0; r < o; r++) if (r in n && t.call(i, n[r], r, e)) return !0;
return !1;
};
goog.array.every = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || Array.prototype.every) ? function(e, t, i) {
goog.asserts.assert(null != e.length);
return Array.prototype.every.call(e, t, i);
} : function(e, t, i) {
for (var o = e.length, n = goog.isString(e) ? e.split("") : e, r = 0; r < o; r++) if (r in n && !t.call(i, n[r], r, e)) return !1;
return !0;
};
goog.array.count = function(e, t, i) {
var o = 0;
goog.array.forEach(e, function(e, n, r) {
t.call(i, e, n, r) && ++o;
}, i);
return o;
};
goog.array.find = function(e, t, i) {
return 0 > (t = goog.array.findIndex(e, t, i)) ? null : goog.isString(e) ? e.charAt(t) : e[t];
};
goog.array.findIndex = function(e, t, i) {
for (var o = e.length, n = goog.isString(e) ? e.split("") : e, r = 0; r < o; r++) if (r in n && t.call(i, n[r], r, e)) return r;
return -1;
};
goog.array.findRight = function(e, t, i) {
return 0 > (t = goog.array.findIndexRight(e, t, i)) ? null : goog.isString(e) ? e.charAt(t) : e[t];
};
goog.array.findIndexRight = function(e, t, i) {
var o = e.length, n = goog.isString(e) ? e.split("") : e;
for (--o; 0 <= o; o--) if (o in n && t.call(i, n[o], o, e)) return o;
return -1;
};
goog.array.contains = function(e, t) {
return 0 <= goog.array.indexOf(e, t);
};
goog.array.isEmpty = function(e) {
return 0 == e.length;
};
goog.array.clear = function(e) {
if (!goog.isArray(e)) for (var t = e.length - 1; 0 <= t; t--) delete e[t];
e.length = 0;
};
goog.array.insert = function(e, t) {
goog.array.contains(e, t) || e.push(t);
};
goog.array.insertAt = function(e, t, i) {
goog.array.splice(e, i, 0, t);
};
goog.array.insertArrayAt = function(e, t, i) {
goog.partial(goog.array.splice, e, i, 0).apply(null, t);
};
goog.array.insertBefore = function(e, t, i) {
var o;
2 == arguments.length || 0 > (o = goog.array.indexOf(e, i)) ? e.push(t) : goog.array.insertAt(e, t, o);
};
goog.array.remove = function(e, t) {
var i;
(i = 0 <= (t = goog.array.indexOf(e, t))) && goog.array.removeAt(e, t);
return i;
};
goog.array.removeLast = function(e, t) {
return 0 <= (t = goog.array.lastIndexOf(e, t)) && (goog.array.removeAt(e, t), !0);
};
goog.array.removeAt = function(e, t) {
goog.asserts.assert(null != e.length);
return 1 == Array.prototype.splice.call(e, t, 1).length;
};
goog.array.removeIf = function(e, t, i) {
return 0 <= (t = goog.array.findIndex(e, t, i)) && (goog.array.removeAt(e, t), !0);
};
goog.array.removeAllIf = function(e, t, i) {
var o = 0;
goog.array.forEachRight(e, function(n, r) {
t.call(i, n, r, e) && goog.array.removeAt(e, r) && o++;
});
return o;
};
goog.array.concat = function(e) {
return Array.prototype.concat.apply([], arguments);
};
goog.array.join = function(e) {
return Array.prototype.concat.apply([], arguments);
};
goog.array.toArray = function(e) {
var t = e.length;
if (0 < t) {
for (var i = Array(t), o = 0; o < t; o++) i[o] = e[o];
return i;
}
return [];
};
goog.array.clone = goog.array.toArray;
goog.array.extend = function(e, t) {
for (var i = 1; i < arguments.length; i++) {
var o = arguments[i];
if (goog.isArrayLike(o)) {
var n = e.length || 0, r = o.length || 0;
e.length = n + r;
for (var a = 0; a < r; a++) e[n + a] = o[a];
} else e.push(o);
}
};
goog.array.splice = function(e, t, i, o) {
goog.asserts.assert(null != e.length);
return Array.prototype.splice.apply(e, goog.array.slice(arguments, 1));
};
goog.array.slice = function(e, t, i) {
goog.asserts.assert(null != e.length);
return 2 >= arguments.length ? Array.prototype.slice.call(e, t) : Array.prototype.slice.call(e, t, i);
};
goog.array.removeDuplicates = function(e, t, i) {
t = t || e;
var o = function(e) {
return goog.isObject(e) ? "o" + goog.getUid(e) : (typeof e).charAt(0) + e;
};
i = i || o;
o = {};
for (var n = 0, r = 0; r < e.length; ) {
var a = e[r++], s = i(a);
Object.prototype.hasOwnProperty.call(o, s) || (o[s] = !0, t[n++] = a);
}
t.length = n;
};
goog.array.binarySearch = function(e, t, i) {
return goog.array.binarySearch_(e, i || goog.array.defaultCompare, !1, t);
};
goog.array.binarySelect = function(e, t, i) {
return goog.array.binarySearch_(e, t, !0, void 0, i);
};
goog.array.binarySearch_ = function(e, t, i, o, n) {
for (var r, a = 0, s = e.length; a < s; ) {
var c = a + s >> 1, l = i ? t.call(n, e[c], c, e) : t(o, e[c]);
0 < l ? a = c + 1 : (s = c, r = !l);
}
return r ? a : ~a;
};
goog.array.sort = function(e, t) {
e.sort(t || goog.array.defaultCompare);
};
goog.array.stableSort = function(e, t) {
for (var i = Array(e.length), o = 0; o < e.length; o++) i[o] = {
index: o,
value: e[o]
};
var n = t || goog.array.defaultCompare;
goog.array.sort(i, function(e, t) {
return n(e.value, t.value) || e.index - t.index;
});
for (o = 0; o < e.length; o++) e[o] = i[o].value;
};
goog.array.sortByKey = function(e, t, i) {
var o = i || goog.array.defaultCompare;
goog.array.sort(e, function(e, i) {
return o(t(e), t(i));
});
};
goog.array.sortObjectsByKey = function(e, t, i) {
goog.array.sortByKey(e, function(e) {
return e[t];
}, i);
};
goog.array.isSorted = function(e, t, i) {
t = t || goog.array.defaultCompare;
for (var o = 1; o < e.length; o++) {
var n = t(e[o - 1], e[o]);
if (0 < n || 0 == n && i) return !1;
}
return !0;
};
goog.array.equals = function(e, t, i) {
if (!goog.isArrayLike(e) || !goog.isArrayLike(t) || e.length != t.length) return !1;
var o = e.length;
i = i || goog.array.defaultCompareEquality;
for (var n = 0; n < o; n++) if (!i(e[n], t[n])) return !1;
return !0;
};
goog.array.compare3 = function(e, t, i) {
i = i || goog.array.defaultCompare;
for (var o = Math.min(e.length, t.length), n = 0; n < o; n++) {
var r = i(e[n], t[n]);
if (0 != r) return r;
}
return goog.array.defaultCompare(e.length, t.length);
};
goog.array.defaultCompare = function(e, t) {
return e > t ? 1 : e < t ? -1 : 0;
};
goog.array.inverseDefaultCompare = function(e, t) {
return -goog.array.defaultCompare(e, t);
};
goog.array.defaultCompareEquality = function(e, t) {
return e === t;
};
goog.array.binaryInsert = function(e, t, i) {
return 0 > (i = goog.array.binarySearch(e, t, i)) && (goog.array.insertAt(e, t, -(i + 1)), 
!0);
};
goog.array.binaryRemove = function(e, t, i) {
return 0 <= (t = goog.array.binarySearch(e, t, i)) && goog.array.removeAt(e, t);
};
goog.array.bucket = function(e, t, i) {
for (var o = {}, n = 0; n < e.length; n++) {
var r = e[n], a = t.call(i, r, n, e);
goog.isDef(a) && (o[a] || (o[a] = [])).push(r);
}
return o;
};
goog.array.toObject = function(e, t, i) {
var o = {};
goog.array.forEach(e, function(n, r) {
o[t.call(i, n, r, e)] = n;
});
return o;
};
goog.array.range = function(e, t, i) {
var o = [], n = 0, r = e;
i = i || 1;
void 0 !== t && (n = e, r = t);
if (0 > i * (r - n)) return [];
if (0 < i) for (e = n; e < r; e += i) o.push(e); else for (e = n; e > r; e += i) o.push(e);
return o;
};
goog.array.repeat = function(e, t) {
for (var i = [], o = 0; o < t; o++) i[o] = e;
return i;
};
goog.array.flatten = function(e) {
for (var t = [], i = 0; i < arguments.length; i++) {
var o = arguments[i];
if (goog.isArray(o)) for (var n = 0; n < o.length; n += 8192) {
var r = goog.array.slice(o, n, n + 8192);
r = goog.array.flatten.apply(null, r);
for (var a = 0; a < r.length; a++) t.push(r[a]);
} else t.push(o);
}
return t;
};
goog.array.rotate = function(e, t) {
goog.asserts.assert(null != e.length);
e.length && (0 < (t %= e.length) ? Array.prototype.unshift.apply(e, e.splice(-t, t)) : 0 > t && Array.prototype.push.apply(e, e.splice(0, -t)));
return e;
};
goog.array.moveItem = function(e, t, i) {
goog.asserts.assert(0 <= t && t < e.length);
goog.asserts.assert(0 <= i && i < e.length);
t = Array.prototype.splice.call(e, t, 1);
Array.prototype.splice.call(e, i, 0, t[0]);
};
goog.array.zip = function(e) {
if (!arguments.length) return [];
for (var t = [], i = arguments[0].length, o = 1; o < arguments.length; o++) arguments[o].length < i && (i = arguments[o].length);
for (o = 0; o < i; o++) {
for (var n = [], r = 0; r < arguments.length; r++) n.push(arguments[r][o]);
t.push(n);
}
return t;
};
goog.array.shuffle = function(e, t) {
t = t || Math.random;
for (var i = e.length - 1; 0 < i; i--) {
var o = Math.floor(t() * (i + 1)), n = e[i];
e[i] = e[o];
e[o] = n;
}
};
goog.array.copyByIndex = function(e, t) {
var i = [];
goog.array.forEach(t, function(t) {
i.push(e[t]);
});
return i;
};
goog.array.concatMap = function(e, t, i) {
return goog.array.concat.apply([], goog.array.map(e, t, i));
};
goog.crypt = {};
goog.crypt.stringToByteArray = function(e) {
for (var t = [], i = 0, o = 0; o < e.length; o++) {
var n = e.charCodeAt(o);
255 < n && (t[i++] = 255 & n, n >>= 8);
t[i++] = n;
}
return t;
};
goog.crypt.byteArrayToString = function(e) {
if (8192 >= e.length) return String.fromCharCode.apply(null, e);
for (var t = "", i = 0; i < e.length; i += 8192) {
var o = goog.array.slice(e, i, i + 8192);
t += String.fromCharCode.apply(null, o);
}
return t;
};
goog.crypt.byteArrayToHex = function(e, t) {
return goog.array.map(e, function(e) {
return 1 < (e = e.toString(16)).length ? e : "0" + e;
}).join(t || "");
};
goog.crypt.hexToByteArray = function(e) {
goog.asserts.assert(0 == e.length % 2, "Key string length must be multiple of 2");
for (var t = [], i = 0; i < e.length; i += 2) t.push(parseInt(e.substring(i, i + 2), 16));
return t;
};
goog.crypt.stringToUtf8ByteArray = function(e) {
for (var t = [], i = 0, o = 0; o < e.length; o++) {
var n = e.charCodeAt(o);
128 > n ? t[i++] = n : (2048 > n ? t[i++] = n >> 6 | 192 : (55296 == (64512 & n) && o + 1 < e.length && 56320 == (64512 & e.charCodeAt(o + 1)) ? (n = 65536 + ((1023 & n) << 10) + (1023 & e.charCodeAt(++o)), 
t[i++] = n >> 18 | 240, t[i++] = n >> 12 & 63 | 128) : t[i++] = n >> 12 | 224, t[i++] = n >> 6 & 63 | 128), 
t[i++] = 63 & n | 128);
}
return t;
};
goog.crypt.utf8ByteArrayToString = function(e) {
for (var t = [], i = 0, o = 0; i < e.length; ) {
var n = e[i++];
if (128 > n) t[o++] = String.fromCharCode(n); else if (191 < n && 224 > n) {
var r = e[i++];
t[o++] = String.fromCharCode((31 & n) << 6 | 63 & r);
} else if (239 < n && 365 > n) {
r = e[i++];
var a = e[i++];
n = ((7 & n) << 18 | (63 & r) << 12 | (63 & a) << 6 | 63 & e[i++]) - 65536;
t[o++] = String.fromCharCode(55296 + (n >> 10));
t[o++] = String.fromCharCode(56320 + (1023 & n));
} else r = e[i++], a = e[i++], t[o++] = String.fromCharCode((15 & n) << 12 | (63 & r) << 6 | 63 & a);
}
return t.join("");
};
goog.crypt.xorByteArray = function(e, t) {
goog.asserts.assert(e.length == t.length, "XOR array lengths must match");
for (var i = [], o = 0; o < e.length; o++) i.push(e[o] ^ t[o]);
return i;
};
goog.string = {};
goog.string.internal = {};
goog.string.internal.startsWith = function(e, t) {
return 0 == e.lastIndexOf(t, 0);
};
goog.string.internal.endsWith = function(e, t) {
var i = e.length - t.length;
return 0 <= i && e.indexOf(t, i) == i;
};
goog.string.internal.caseInsensitiveStartsWith = function(e, t) {
return 0 == goog.string.internal.caseInsensitiveCompare(t, e.substr(0, t.length));
};
goog.string.internal.caseInsensitiveEndsWith = function(e, t) {
return 0 == goog.string.internal.caseInsensitiveCompare(t, e.substr(e.length - t.length, t.length));
};
goog.string.internal.caseInsensitiveEquals = function(e, t) {
return e.toLowerCase() == t.toLowerCase();
};
goog.string.internal.isEmptyOrWhitespace = function(e) {
return /^[\s\xa0]*$/.test(e);
};
goog.string.internal.trim = goog.TRUSTED_SITE && String.prototype.trim ? function(e) {
return e.trim();
} : function(e) {
return /^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1];
};
goog.string.internal.caseInsensitiveCompare = function(e, t) {
return (e = String(e).toLowerCase()) < (t = String(t).toLowerCase()) ? -1 : e == t ? 0 : 1;
};
goog.string.internal.newLineToBr = function(e, t) {
return e.replace(/(\r\n|\r|\n)/g, t ? "<br />" : "<br>");
};
goog.string.internal.htmlEscape = function(e, t) {
if (t) e = e.replace(goog.string.internal.AMP_RE_, "&amp;").replace(goog.string.internal.LT_RE_, "&lt;").replace(goog.string.internal.GT_RE_, "&gt;").replace(goog.string.internal.QUOT_RE_, "&quot;").replace(goog.string.internal.SINGLE_QUOTE_RE_, "&#39;").replace(goog.string.internal.NULL_RE_, "&#0;"); else {
if (!goog.string.internal.ALL_RE_.test(e)) return e;
-1 != e.indexOf("&") && (e = e.replace(goog.string.internal.AMP_RE_, "&amp;"));
-1 != e.indexOf("<") && (e = e.replace(goog.string.internal.LT_RE_, "&lt;"));
-1 != e.indexOf(">") && (e = e.replace(goog.string.internal.GT_RE_, "&gt;"));
-1 != e.indexOf('"') && (e = e.replace(goog.string.internal.QUOT_RE_, "&quot;"));
-1 != e.indexOf("'") && (e = e.replace(goog.string.internal.SINGLE_QUOTE_RE_, "&#39;"));
-1 != e.indexOf("\0") && (e = e.replace(goog.string.internal.NULL_RE_, "&#0;"));
}
return e;
};
goog.string.internal.AMP_RE_ = /&/g;
goog.string.internal.LT_RE_ = /</g;
goog.string.internal.GT_RE_ = />/g;
goog.string.internal.QUOT_RE_ = /"/g;
goog.string.internal.SINGLE_QUOTE_RE_ = /'/g;
goog.string.internal.NULL_RE_ = /\x00/g;
goog.string.internal.ALL_RE_ = /[\x00&<>"']/;
goog.string.internal.whitespaceEscape = function(e, t) {
return goog.string.internal.newLineToBr(e.replace(/  /g, " &#160;"), t);
};
goog.string.internal.contains = function(e, t) {
return -1 != e.indexOf(t);
};
goog.string.internal.caseInsensitiveContains = function(e, t) {
return goog.string.internal.contains(e.toLowerCase(), t.toLowerCase());
};
goog.string.internal.compareVersions = function(e, t) {
var i = 0;
e = goog.string.internal.trim(String(e)).split(".");
t = goog.string.internal.trim(String(t)).split(".");
for (var o = Math.max(e.length, t.length), n = 0; 0 == i && n < o; n++) {
var r = e[n] || "", a = t[n] || "";
do {
r = /(\d*)(\D*)(.*)/.exec(r) || [ "", "", "", "" ];
a = /(\d*)(\D*)(.*)/.exec(a) || [ "", "", "", "" ];
if (0 == r[0].length && 0 == a[0].length) break;
i = 0 == r[1].length ? 0 : parseInt(r[1], 10);
var s = 0 == a[1].length ? 0 : parseInt(a[1], 10);
i = goog.string.internal.compareElements_(i, s) || goog.string.internal.compareElements_(0 == r[2].length, 0 == a[2].length) || goog.string.internal.compareElements_(r[2], a[2]);
r = r[3];
a = a[3];
} while (0 == i);
}
return i;
};
goog.string.internal.compareElements_ = function(e, t) {
return e < t ? -1 : e > t ? 1 : 0;
};
goog.string.TypedString = function() {};
goog.string.Const = function(e, t) {
this.stringConstValueWithSecurityContract__googStringSecurityPrivate_ = e === goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_ && t || "";
this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_ = goog.string.Const.TYPE_MARKER_;
};
goog.string.Const.prototype.implementsGoogStringTypedString = !0;
goog.string.Const.prototype.getTypedStringValue = function() {
return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_;
};
goog.string.Const.prototype.toString = function() {
return "Const{" + this.stringConstValueWithSecurityContract__googStringSecurityPrivate_ + "}";
};
goog.string.Const.unwrap = function(e) {
if (e instanceof goog.string.Const && e.constructor === goog.string.Const && e.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_ === goog.string.Const.TYPE_MARKER_) return e.stringConstValueWithSecurityContract__googStringSecurityPrivate_;
goog.asserts.fail("expected object of type Const, got '" + e + "'");
return "type_error:Const";
};
goog.string.Const.from = function(e) {
return new goog.string.Const(goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_, e);
};
goog.string.Const.TYPE_MARKER_ = {};
goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_ = {};
goog.string.Const.EMPTY = goog.string.Const.from("");
goog.fs = {};
goog.fs.url = {};
goog.fs.url.createObjectUrl = function(e) {
return goog.fs.url.getUrlObject_().createObjectURL(e);
};
goog.fs.url.revokeObjectUrl = function(e) {
goog.fs.url.getUrlObject_().revokeObjectURL(e);
};
goog.fs.url.getUrlObject_ = function() {
var e = goog.fs.url.findUrlObject_();
if (null != e) return e;
throw Error("This browser doesn't seem to support blob URLs");
};
goog.fs.url.findUrlObject_ = function() {
return goog.isDef(goog.global.URL) && goog.isDef(goog.global.URL.createObjectURL) ? goog.global.URL : goog.isDef(goog.global.webkitURL) && goog.isDef(goog.global.webkitURL.createObjectURL) ? goog.global.webkitURL : goog.isDef(goog.global.createObjectURL) ? goog.global : null;
};
goog.fs.url.browserSupportsObjectUrls = function() {
return null != goog.fs.url.findUrlObject_();
};
goog.html = {};
goog.html.trustedtypes = {};
goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY = goog.TRUSTED_TYPES_POLICY_NAME ? goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME + "#html") : null;
goog.i18n = {};
goog.i18n.bidi = {};
goog.i18n.bidi.FORCE_RTL = !1;
goog.i18n.bidi.IS_RTL = goog.i18n.bidi.FORCE_RTL || ("ar" == goog.LOCALE.substring(0, 2).toLowerCase() || "fa" == goog.LOCALE.substring(0, 2).toLowerCase() || "he" == goog.LOCALE.substring(0, 2).toLowerCase() || "iw" == goog.LOCALE.substring(0, 2).toLowerCase() || "ps" == goog.LOCALE.substring(0, 2).toLowerCase() || "sd" == goog.LOCALE.substring(0, 2).toLowerCase() || "ug" == goog.LOCALE.substring(0, 2).toLowerCase() || "ur" == goog.LOCALE.substring(0, 2).toLowerCase() || "yi" == goog.LOCALE.substring(0, 2).toLowerCase()) && (2 == goog.LOCALE.length || "-" == goog.LOCALE.substring(2, 3) || "_" == goog.LOCALE.substring(2, 3)) || 3 <= goog.LOCALE.length && "ckb" == goog.LOCALE.substring(0, 3).toLowerCase() && (3 == goog.LOCALE.length || "-" == goog.LOCALE.substring(3, 4) || "_" == goog.LOCALE.substring(3, 4)) || 7 <= goog.LOCALE.length && ("-" == goog.LOCALE.substring(2, 3) || "_" == goog.LOCALE.substring(2, 3)) && ("adlm" == goog.LOCALE.substring(3, 7).toLowerCase() || "arab" == goog.LOCALE.substring(3, 7).toLowerCase() || "hebr" == goog.LOCALE.substring(3, 7).toLowerCase() || "nkoo" == goog.LOCALE.substring(3, 7).toLowerCase() || "rohg" == goog.LOCALE.substring(3, 7).toLowerCase() || "thaa" == goog.LOCALE.substring(3, 7).toLowerCase()) || 8 <= goog.LOCALE.length && ("-" == goog.LOCALE.substring(3, 4) || "_" == goog.LOCALE.substring(3, 4)) && ("adlm" == goog.LOCALE.substring(4, 8).toLowerCase() || "arab" == goog.LOCALE.substring(4, 8).toLowerCase() || "hebr" == goog.LOCALE.substring(4, 8).toLowerCase() || "nkoo" == goog.LOCALE.substring(4, 8).toLowerCase() || "rohg" == goog.LOCALE.substring(4, 8).toLowerCase() || "thaa" == goog.LOCALE.substring(4, 8).toLowerCase());
goog.i18n.bidi.Format = {
LRE: "‪",
RLE: "‫",
PDF: "‬",
LRM: "‎",
RLM: "‏"
};
goog.i18n.bidi.Dir = {
LTR: 1,
RTL: -1,
NEUTRAL: 0
};
goog.i18n.bidi.RIGHT = "right";
goog.i18n.bidi.LEFT = "left";
goog.i18n.bidi.I18N_RIGHT = goog.i18n.bidi.IS_RTL ? goog.i18n.bidi.LEFT : goog.i18n.bidi.RIGHT;
goog.i18n.bidi.I18N_LEFT = goog.i18n.bidi.IS_RTL ? goog.i18n.bidi.RIGHT : goog.i18n.bidi.LEFT;
goog.i18n.bidi.toDir = function(e, t) {
return "number" == typeof e ? 0 < e ? goog.i18n.bidi.Dir.LTR : 0 > e ? goog.i18n.bidi.Dir.RTL : t ? null : goog.i18n.bidi.Dir.NEUTRAL : null == e ? null : e ? goog.i18n.bidi.Dir.RTL : goog.i18n.bidi.Dir.LTR;
};
goog.i18n.bidi.ltrChars_ = "A-Za-zÀ-ÖØ-öø-ʸ̀-֐ऀ-῿‎Ⰰ-\ud801\ud804-\ud839\ud83c-\udbff豈-﬜︀-﹯﻽-￿";
goog.i18n.bidi.rtlChars_ = "֑-ۯۺ-ࣿ‏\ud802-\ud803\ud83a-\ud83bיִ-﷿ﹰ-ﻼ";
goog.i18n.bidi.htmlSkipReg_ = /<[^>]*>|&[^;]+;/g;
goog.i18n.bidi.stripHtmlIfNeeded_ = function(e, t) {
return t ? e.replace(goog.i18n.bidi.htmlSkipReg_, "") : e;
};
goog.i18n.bidi.rtlCharReg_ = new RegExp("[" + goog.i18n.bidi.rtlChars_ + "]");
goog.i18n.bidi.ltrCharReg_ = new RegExp("[" + goog.i18n.bidi.ltrChars_ + "]");
goog.i18n.bidi.hasAnyRtl = function(e, t) {
return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e, t));
};
goog.i18n.bidi.hasRtlChar = goog.i18n.bidi.hasAnyRtl;
goog.i18n.bidi.hasAnyLtr = function(e, t) {
return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e, t));
};
goog.i18n.bidi.ltrRe_ = new RegExp("^[" + goog.i18n.bidi.ltrChars_ + "]");
goog.i18n.bidi.rtlRe_ = new RegExp("^[" + goog.i18n.bidi.rtlChars_ + "]");
goog.i18n.bidi.isRtlChar = function(e) {
return goog.i18n.bidi.rtlRe_.test(e);
};
goog.i18n.bidi.isLtrChar = function(e) {
return goog.i18n.bidi.ltrRe_.test(e);
};
goog.i18n.bidi.isNeutralChar = function(e) {
return !goog.i18n.bidi.isLtrChar(e) && !goog.i18n.bidi.isRtlChar(e);
};
goog.i18n.bidi.ltrDirCheckRe_ = new RegExp("^[^" + goog.i18n.bidi.rtlChars_ + "]*[" + goog.i18n.bidi.ltrChars_ + "]");
goog.i18n.bidi.rtlDirCheckRe_ = new RegExp("^[^" + goog.i18n.bidi.ltrChars_ + "]*[" + goog.i18n.bidi.rtlChars_ + "]");
goog.i18n.bidi.startsWithRtl = function(e, t) {
return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e, t));
};
goog.i18n.bidi.isRtlText = goog.i18n.bidi.startsWithRtl;
goog.i18n.bidi.startsWithLtr = function(e, t) {
return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e, t));
};
goog.i18n.bidi.isLtrText = goog.i18n.bidi.startsWithLtr;
goog.i18n.bidi.isRequiredLtrRe_ = /^http:\/\/.*/;
goog.i18n.bidi.isNeutralText = function(e, t) {
e = goog.i18n.bidi.stripHtmlIfNeeded_(e, t);
return goog.i18n.bidi.isRequiredLtrRe_.test(e) || !goog.i18n.bidi.hasAnyLtr(e) && !goog.i18n.bidi.hasAnyRtl(e);
};
goog.i18n.bidi.ltrExitDirCheckRe_ = new RegExp("[" + goog.i18n.bidi.ltrChars_ + "][^" + goog.i18n.bidi.rtlChars_ + "]*$");
goog.i18n.bidi.rtlExitDirCheckRe_ = new RegExp("[" + goog.i18n.bidi.rtlChars_ + "][^" + goog.i18n.bidi.ltrChars_ + "]*$");
goog.i18n.bidi.endsWithLtr = function(e, t) {
return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e, t));
};
goog.i18n.bidi.isLtrExitText = goog.i18n.bidi.endsWithLtr;
goog.i18n.bidi.endsWithRtl = function(e, t) {
return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e, t));
};
goog.i18n.bidi.isRtlExitText = goog.i18n.bidi.endsWithRtl;
goog.i18n.bidi.rtlLocalesRe_ = /^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;
goog.i18n.bidi.isRtlLanguage = function(e) {
return goog.i18n.bidi.rtlLocalesRe_.test(e);
};
goog.i18n.bidi.bracketGuardTextRe_ = /(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g;
goog.i18n.bidi.guardBracketInText = function(e, t) {
t = (void 0 === t ? goog.i18n.bidi.hasAnyRtl(e) : t) ? goog.i18n.bidi.Format.RLM : goog.i18n.bidi.Format.LRM;
return e.replace(goog.i18n.bidi.bracketGuardTextRe_, t + "$&" + t);
};
goog.i18n.bidi.enforceRtlInHtml = function(e) {
return "<" == e.charAt(0) ? e.replace(/<\w+/, "$& dir=rtl") : "\n<span dir=rtl>" + e + "</span>";
};
goog.i18n.bidi.enforceRtlInText = function(e) {
return goog.i18n.bidi.Format.RLE + e + goog.i18n.bidi.Format.PDF;
};
goog.i18n.bidi.enforceLtrInHtml = function(e) {
return "<" == e.charAt(0) ? e.replace(/<\w+/, "$& dir=ltr") : "\n<span dir=ltr>" + e + "</span>";
};
goog.i18n.bidi.enforceLtrInText = function(e) {
return goog.i18n.bidi.Format.LRE + e + goog.i18n.bidi.Format.PDF;
};
goog.i18n.bidi.dimensionsRe_ = /:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g;
goog.i18n.bidi.leftRe_ = /left/gi;
goog.i18n.bidi.rightRe_ = /right/gi;
goog.i18n.bidi.tempRe_ = /%%%%/g;
goog.i18n.bidi.mirrorCSS = function(e) {
return e.replace(goog.i18n.bidi.dimensionsRe_, ":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_, "%%%%").replace(goog.i18n.bidi.rightRe_, goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_, goog.i18n.bidi.RIGHT);
};
goog.i18n.bidi.doubleQuoteSubstituteRe_ = /([\u0591-\u05f2])"/g;
goog.i18n.bidi.singleQuoteSubstituteRe_ = /([\u0591-\u05f2])'/g;
goog.i18n.bidi.normalizeHebrewQuote = function(e) {
return e.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_, "$1״").replace(goog.i18n.bidi.singleQuoteSubstituteRe_, "$1׳");
};
goog.i18n.bidi.wordSeparatorRe_ = /\s+/;
goog.i18n.bidi.hasNumeralsRe_ = /[\d\u06f0-\u06f9]/;
goog.i18n.bidi.rtlDetectionThreshold_ = .4;
goog.i18n.bidi.estimateDirection = function(e, t) {
var i = 0, o = 0, n = !1;
e = goog.i18n.bidi.stripHtmlIfNeeded_(e, t).split(goog.i18n.bidi.wordSeparatorRe_);
for (t = 0; t < e.length; t++) {
var r = e[t];
goog.i18n.bidi.startsWithRtl(r) ? (i++, o++) : goog.i18n.bidi.isRequiredLtrRe_.test(r) ? n = !0 : goog.i18n.bidi.hasAnyLtr(r) ? o++ : goog.i18n.bidi.hasNumeralsRe_.test(r) && (n = !0);
}
return 0 == o ? n ? goog.i18n.bidi.Dir.LTR : goog.i18n.bidi.Dir.NEUTRAL : i / o > goog.i18n.bidi.rtlDetectionThreshold_ ? goog.i18n.bidi.Dir.RTL : goog.i18n.bidi.Dir.LTR;
};
goog.i18n.bidi.detectRtlDirectionality = function(e, t) {
return goog.i18n.bidi.estimateDirection(e, t) == goog.i18n.bidi.Dir.RTL;
};
goog.i18n.bidi.setElementDirAndAlign = function(e, t) {
e && (t = goog.i18n.bidi.toDir(t)) && (e.style.textAlign = t == goog.i18n.bidi.Dir.RTL ? goog.i18n.bidi.RIGHT : goog.i18n.bidi.LEFT, 
e.dir = t == goog.i18n.bidi.Dir.RTL ? "rtl" : "ltr");
};
goog.i18n.bidi.setElementDirByTextDirectionality = function(e, t) {
switch (goog.i18n.bidi.estimateDirection(t)) {
case goog.i18n.bidi.Dir.LTR:
e.dir = "ltr";
break;

case goog.i18n.bidi.Dir.RTL:
e.dir = "rtl";
break;

default:
e.removeAttribute("dir");
}
};
goog.i18n.bidi.DirectionalString = function() {};
goog.html.TrustedResourceUrl = function() {
this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_ = "";
this.trustedURL_ = null;
this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_;
};
goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString = !0;
goog.html.TrustedResourceUrl.prototype.getTypedStringValue = function() {
return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_.toString();
};
goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString = !0;
goog.html.TrustedResourceUrl.prototype.getDirection = function() {
return goog.i18n.bidi.Dir.LTR;
};
goog.html.TrustedResourceUrl.prototype.cloneWithParams = function(e, t) {
var i = goog.html.TrustedResourceUrl.unwrap(this), o = (i = goog.html.TrustedResourceUrl.URL_PARAM_PARSER_.exec(i))[3] || "";
return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(i[1] + goog.html.TrustedResourceUrl.stringifyParams_("?", i[2] || "", e) + goog.html.TrustedResourceUrl.stringifyParams_("#", o, t));
};
goog.DEBUG && (goog.html.TrustedResourceUrl.prototype.toString = function() {
return "TrustedResourceUrl{" + this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_ + "}";
});
goog.html.TrustedResourceUrl.unwrap = function(e) {
return goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(e).toString();
};
goog.html.TrustedResourceUrl.unwrapTrustedScriptURL = function(e) {
if (e instanceof goog.html.TrustedResourceUrl && e.constructor === goog.html.TrustedResourceUrl && e.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ === goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_) return e.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_;
goog.asserts.fail("expected object of type TrustedResourceUrl, got '" + e + "' of type " + goog.typeOf(e));
return "type_error:TrustedResourceUrl";
};
goog.html.TrustedResourceUrl.unwrapTrustedURL = function(e) {
return e.trustedURL_ ? e.trustedURL_ : goog.html.TrustedResourceUrl.unwrap(e);
};
goog.html.TrustedResourceUrl.format = function(e, t) {
var i = goog.string.Const.unwrap(e);
if (!goog.html.TrustedResourceUrl.BASE_URL_.test(i)) throw Error("Invalid TrustedResourceUrl format: " + i);
e = i.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_, function(e, o) {
if (!Object.prototype.hasOwnProperty.call(t, o)) throw Error('Found marker, "' + o + '", in format string, "' + i + '", but no valid label mapping found in args: ' + JSON.stringify(t));
return (e = t[o]) instanceof goog.string.Const ? goog.string.Const.unwrap(e) : encodeURIComponent(String(e));
});
return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(e);
};
goog.html.TrustedResourceUrl.FORMAT_MARKER_ = /%{(\w+)}/g;
goog.html.TrustedResourceUrl.BASE_URL_ = /^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i;
goog.html.TrustedResourceUrl.URL_PARAM_PARSER_ = /^([^?#]*)(\?[^#]*)?(#[\s\S]*)?/;
goog.html.TrustedResourceUrl.formatWithParams = function(e, t, i, o) {
return goog.html.TrustedResourceUrl.format(e, t).cloneWithParams(i, o);
};
goog.html.TrustedResourceUrl.fromConstant = function(e) {
return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e));
};
goog.html.TrustedResourceUrl.fromConstants = function(e) {
for (var t = "", i = 0; i < e.length; i++) t += goog.string.Const.unwrap(e[i]);
return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t);
};
goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = {};
goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse = function(e) {
var t = new goog.html.TrustedResourceUrl();
t.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_ = goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY ? goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScriptURL(e) : e;
goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY && (t.trustedURL_ = goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createURL(e));
return t;
};
goog.html.TrustedResourceUrl.stringifyParams_ = function(e, t, i) {
if (null == i) return t;
if (goog.isString(i)) return i ? e + encodeURIComponent(i) : "";
for (var o in i) {
var n = i[o];
n = goog.isArray(n) ? n : [ n ];
for (var r = 0; r < n.length; r++) {
var a = n[r];
null != a && (t || (t = e), t += (t.length > e.length ? "&" : "") + encodeURIComponent(o) + "=" + encodeURIComponent(String(a)));
}
}
return t;
};
goog.html.SafeUrl = function() {
this.privateDoNotAccessOrElseSafeUrlWrappedValue_ = "";
this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_;
};
goog.html.SafeUrl.INNOCUOUS_STRING = "about:invalid#zClosurez";
goog.html.SafeUrl.prototype.implementsGoogStringTypedString = !0;
goog.html.SafeUrl.prototype.getTypedStringValue = function() {
return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString();
};
goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString = !0;
goog.html.SafeUrl.prototype.getDirection = function() {
return goog.i18n.bidi.Dir.LTR;
};
goog.DEBUG && (goog.html.SafeUrl.prototype.toString = function() {
return "SafeUrl{" + this.privateDoNotAccessOrElseSafeUrlWrappedValue_ + "}";
});
goog.html.SafeUrl.unwrap = function(e) {
return goog.html.SafeUrl.unwrapTrustedURL(e).toString();
};
goog.html.SafeUrl.unwrapTrustedURL = function(e) {
if (e instanceof goog.html.SafeUrl && e.constructor === goog.html.SafeUrl && e.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ === goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_) return e.privateDoNotAccessOrElseSafeUrlWrappedValue_;
goog.asserts.fail("expected object of type SafeUrl, got '" + e + "' of type " + goog.typeOf(e));
return "type_error:SafeUrl";
};
goog.html.SafeUrl.fromConstant = function(e) {
return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e));
};
goog.html.SAFE_MIME_TYPE_PATTERN_ = /^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-wav|wav|webm)|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime))(?:;\w+=(?:\w+|"[\w;=]+"))*$/i;
goog.html.SafeUrl.isSafeMimeType = function(e) {
return goog.html.SAFE_MIME_TYPE_PATTERN_.test(e);
};
goog.html.SafeUrl.fromBlob = function(e) {
e = goog.html.SAFE_MIME_TYPE_PATTERN_.test(e.type) ? goog.fs.url.createObjectUrl(e) : goog.html.SafeUrl.INNOCUOUS_STRING;
return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e);
};
goog.html.DATA_URL_PATTERN_ = /^data:([^,]*);base64,[a-z0-9+\/]+=*$/i;
goog.html.SafeUrl.fromDataUrl = function(e) {
var t = (e = e.replace(/(%0A|%0D)/g, "")).match(goog.html.DATA_URL_PATTERN_);
t = t && goog.html.SAFE_MIME_TYPE_PATTERN_.test(t[1]);
return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t ? e : goog.html.SafeUrl.INNOCUOUS_STRING);
};
goog.html.SafeUrl.fromTelUrl = function(e) {
goog.string.internal.caseInsensitiveStartsWith(e, "tel:") || (e = goog.html.SafeUrl.INNOCUOUS_STRING);
return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e);
};
goog.html.SIP_URL_PATTERN_ = /^sip[s]?:[+a-z0-9_.!$%&'*\/=^`{|}~-]+@([a-z0-9-]+\.)+[a-z0-9]{2,63}$/i;
goog.html.SafeUrl.fromSipUrl = function(e) {
goog.html.SIP_URL_PATTERN_.test(decodeURIComponent(e)) || (e = goog.html.SafeUrl.INNOCUOUS_STRING);
return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e);
};
goog.html.SafeUrl.fromFacebookMessengerUrl = function(e) {
goog.string.internal.caseInsensitiveStartsWith(e, "fb-messenger://share") || (e = goog.html.SafeUrl.INNOCUOUS_STRING);
return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e);
};
goog.html.SafeUrl.fromWhatsAppUrl = function(e) {
goog.string.internal.caseInsensitiveStartsWith(e, "whatsapp://send") || (e = goog.html.SafeUrl.INNOCUOUS_STRING);
return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e);
};
goog.html.SafeUrl.fromSmsUrl = function(e) {
goog.string.internal.caseInsensitiveStartsWith(e, "sms:") && goog.html.SafeUrl.isSmsUrlBodyValid_(e) || (e = goog.html.SafeUrl.INNOCUOUS_STRING);
return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e);
};
goog.html.SafeUrl.isSmsUrlBodyValid_ = function(e) {
var t = e.indexOf("#");
0 < t && (e = e.substring(0, t));
if (!(t = e.match(/[?&]body=/gi))) return !0;
if (1 < t.length) return !1;
if (!(e = e.match(/[?&]body=([^&]*)/)[1])) return !0;
try {
decodeURIComponent(e);
} catch (e) {
return !1;
}
return /^(?:[a-z0-9\-_.~]|%[0-9a-f]{2})+$/i.test(e);
};
goog.html.SafeUrl.fromSshUrl = function(e) {
goog.string.internal.caseInsensitiveStartsWith(e, "ssh://") || (e = goog.html.SafeUrl.INNOCUOUS_STRING);
return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e);
};
goog.html.SafeUrl.sanitizeChromeExtensionUrl = function(e, t) {
return goog.html.SafeUrl.sanitizeExtensionUrl_(/^chrome-extension:\/\/([^\/]+)\//, e, t);
};
goog.html.SafeUrl.sanitizeFirefoxExtensionUrl = function(e, t) {
return goog.html.SafeUrl.sanitizeExtensionUrl_(/^moz-extension:\/\/([^\/]+)\//, e, t);
};
goog.html.SafeUrl.sanitizeEdgeExtensionUrl = function(e, t) {
return goog.html.SafeUrl.sanitizeExtensionUrl_(/^ms-browser-extension:\/\/([^\/]+)\//, e, t);
};
goog.html.SafeUrl.sanitizeExtensionUrl_ = function(e, t, i) {
(e = e.exec(t)) ? (e = e[1], -1 == (i instanceof goog.string.Const ? [ goog.string.Const.unwrap(i) ] : i.map(function(e) {
return goog.string.Const.unwrap(e);
})).indexOf(e) && (t = goog.html.SafeUrl.INNOCUOUS_STRING)) : t = goog.html.SafeUrl.INNOCUOUS_STRING;
return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t);
};
goog.html.SafeUrl.fromTrustedResourceUrl = function(e) {
return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.TrustedResourceUrl.unwrap(e));
};
goog.html.SAFE_URL_PATTERN_ = /^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;
goog.html.SafeUrl.SAFE_URL_PATTERN = goog.html.SAFE_URL_PATTERN_;
goog.html.SafeUrl.sanitize = function(e) {
if (e instanceof goog.html.SafeUrl) return e;
e = "object" == typeof e && e.implementsGoogStringTypedString ? e.getTypedStringValue() : String(e);
goog.html.SAFE_URL_PATTERN_.test(e) || (e = goog.html.SafeUrl.INNOCUOUS_STRING);
return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e);
};
goog.html.SafeUrl.sanitizeAssertUnchanged = function(e, t) {
if (e instanceof goog.html.SafeUrl) return e;
e = "object" == typeof e && e.implementsGoogStringTypedString ? e.getTypedStringValue() : String(e);
if (t && /^data:/i.test(e) && (t = goog.html.SafeUrl.fromDataUrl(e)).getTypedStringValue() == e) return t;
goog.asserts.assert(goog.html.SAFE_URL_PATTERN_.test(e), "%s does not match the safe URL pattern", e) || (e = goog.html.SafeUrl.INNOCUOUS_STRING);
return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e);
};
goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = {};
goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse = function(e) {
var t = new goog.html.SafeUrl();
t.privateDoNotAccessOrElseSafeUrlWrappedValue_ = goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY ? goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createURL(e) : e;
return t;
};
goog.html.SafeUrl.ABOUT_BLANK = goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse("about:blank");
goog.html.SafeStyle = function() {
this.privateDoNotAccessOrElseSafeStyleWrappedValue_ = "";
this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_;
};
goog.html.SafeStyle.prototype.implementsGoogStringTypedString = !0;
goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = {};
goog.html.SafeStyle.fromConstant = function(e) {
if (0 === (e = goog.string.Const.unwrap(e)).length) return goog.html.SafeStyle.EMPTY;
goog.asserts.assert(goog.string.internal.endsWith(e, ";"), "Last character of style string is not ';': " + e);
goog.asserts.assert(goog.string.internal.contains(e, ":"), "Style string must contain at least one ':', to specify a \"name: value\" pair: " + e);
return goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(e);
};
goog.html.SafeStyle.prototype.getTypedStringValue = function() {
return this.privateDoNotAccessOrElseSafeStyleWrappedValue_;
};
goog.DEBUG && (goog.html.SafeStyle.prototype.toString = function() {
return "SafeStyle{" + this.privateDoNotAccessOrElseSafeStyleWrappedValue_ + "}";
});
goog.html.SafeStyle.unwrap = function(e) {
if (e instanceof goog.html.SafeStyle && e.constructor === goog.html.SafeStyle && e.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ === goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_) return e.privateDoNotAccessOrElseSafeStyleWrappedValue_;
goog.asserts.fail("expected object of type SafeStyle, got '" + e + "' of type " + goog.typeOf(e));
return "type_error:SafeStyle";
};
goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse = function(e) {
return new goog.html.SafeStyle().initSecurityPrivateDoNotAccessOrElse_(e);
};
goog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_ = function(e) {
this.privateDoNotAccessOrElseSafeStyleWrappedValue_ = e;
return this;
};
goog.html.SafeStyle.EMPTY = goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse("");
goog.html.SafeStyle.INNOCUOUS_STRING = "zClosurez";
goog.html.SafeStyle.create = function(e) {
var t, i = "";
for (t in e) {
if (!/^[-_a-zA-Z0-9]+$/.test(t)) throw Error("Name allows only [-_a-zA-Z0-9], got: " + t);
var o = e[t];
null != o && (i += t + ":" + (o = goog.isArray(o) ? goog.array.map(o, goog.html.SafeStyle.sanitizePropertyValue_).join(" ") : goog.html.SafeStyle.sanitizePropertyValue_(o)) + ";");
}
return i ? goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(i) : goog.html.SafeStyle.EMPTY;
};
goog.html.SafeStyle.sanitizePropertyValue_ = function(e) {
if (e instanceof goog.html.SafeUrl) return 'url("' + goog.html.SafeUrl.unwrap(e).replace(/</g, "%3c").replace(/[\\"]/g, "\\$&") + '")';
e = e instanceof goog.string.Const ? goog.string.Const.unwrap(e) : goog.html.SafeStyle.sanitizePropertyValueString_(String(e));
if (/[{;}]/.test(e)) throw new goog.asserts.AssertionError("Value does not allow [{;}], got: %s.", [ e ]);
return e;
};
goog.html.SafeStyle.sanitizePropertyValueString_ = function(e) {
var t = e.replace(goog.html.SafeStyle.FUNCTIONS_RE_, "$1").replace(goog.html.SafeStyle.FUNCTIONS_RE_, "$1").replace(goog.html.SafeStyle.URL_RE_, "url");
return goog.html.SafeStyle.VALUE_RE_.test(t) ? goog.html.SafeStyle.COMMENT_RE_.test(e) ? (goog.asserts.fail("String value disallows comments, got: " + e), 
goog.html.SafeStyle.INNOCUOUS_STRING) : goog.html.SafeStyle.hasBalancedQuotes_(e) ? goog.html.SafeStyle.hasBalancedSquareBrackets_(e) ? goog.html.SafeStyle.sanitizeUrl_(e) : (goog.asserts.fail("String value requires balanced square brackets and one identifier per pair of brackets, got: " + e), 
goog.html.SafeStyle.INNOCUOUS_STRING) : (goog.asserts.fail("String value requires balanced quotes, got: " + e), 
goog.html.SafeStyle.INNOCUOUS_STRING) : (goog.asserts.fail("String value allows only " + goog.html.SafeStyle.VALUE_ALLOWED_CHARS_ + " and simple functions, got: " + e), 
goog.html.SafeStyle.INNOCUOUS_STRING);
};
goog.html.SafeStyle.hasBalancedQuotes_ = function(e) {
for (var t = !0, i = !0, o = 0; o < e.length; o++) {
var n = e.charAt(o);
"'" == n && i ? t = !t : '"' == n && t && (i = !i);
}
return t && i;
};
goog.html.SafeStyle.hasBalancedSquareBrackets_ = function(e) {
for (var t = !0, i = /^[-_a-zA-Z0-9]$/, o = 0; o < e.length; o++) {
var n = e.charAt(o);
if ("]" == n) {
if (t) return !1;
t = !0;
} else if ("[" == n) {
if (!t) return !1;
t = !1;
} else if (!t && !i.test(n)) return !1;
}
return t;
};
goog.html.SafeStyle.VALUE_ALLOWED_CHARS_ = "[-,.\"'%_!# a-zA-Z0-9\\[\\]]";
goog.html.SafeStyle.VALUE_RE_ = new RegExp("^" + goog.html.SafeStyle.VALUE_ALLOWED_CHARS_ + "+$");
goog.html.SafeStyle.URL_RE_ = /\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g;
goog.html.SafeStyle.FUNCTIONS_RE_ = /\b(hsl|hsla|rgb|rgba|matrix|calc|minmax|fit-content|repeat|(rotate|scale|translate)(X|Y|Z|3d)?)\([-+*/0-9a-z.%\[\], ]+\)/g;
goog.html.SafeStyle.COMMENT_RE_ = /\/\*/;
goog.html.SafeStyle.sanitizeUrl_ = function(e) {
return e.replace(goog.html.SafeStyle.URL_RE_, function(e, t, i, o) {
var n = "";
i = i.replace(/^(['"])(.*)\1$/, function(e, t, i) {
n = t;
return i;
});
e = goog.html.SafeUrl.sanitize(i).getTypedStringValue();
return t + n + e + n + o;
});
};
goog.html.SafeStyle.concat = function(e) {
var t = "", i = function(e) {
goog.isArray(e) ? goog.array.forEach(e, i) : t += goog.html.SafeStyle.unwrap(e);
};
goog.array.forEach(arguments, i);
return t ? goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t) : goog.html.SafeStyle.EMPTY;
};
goog.html.SafeScript = function() {
this.privateDoNotAccessOrElseSafeScriptWrappedValue_ = "";
this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_;
};
goog.html.SafeScript.prototype.implementsGoogStringTypedString = !0;
goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = {};
goog.html.SafeScript.fromConstant = function(e) {
return 0 === (e = goog.string.Const.unwrap(e)).length ? goog.html.SafeScript.EMPTY : goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(e);
};
goog.html.SafeScript.fromConstantAndArgs = function(e, t) {
for (var i = [], o = 1; o < arguments.length; o++) i.push(goog.html.SafeScript.stringify_(arguments[o]));
return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse("(" + goog.string.Const.unwrap(e) + ")(" + i.join(", ") + ");");
};
goog.html.SafeScript.fromJson = function(e) {
return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(goog.html.SafeScript.stringify_(e));
};
goog.html.SafeScript.prototype.getTypedStringValue = function() {
return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString();
};
goog.DEBUG && (goog.html.SafeScript.prototype.toString = function() {
return "SafeScript{" + this.privateDoNotAccessOrElseSafeScriptWrappedValue_ + "}";
});
goog.html.SafeScript.unwrap = function(e) {
return goog.html.SafeScript.unwrapTrustedScript(e).toString();
};
goog.html.SafeScript.unwrapTrustedScript = function(e) {
if (e instanceof goog.html.SafeScript && e.constructor === goog.html.SafeScript && e.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ === goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_) return e.privateDoNotAccessOrElseSafeScriptWrappedValue_;
goog.asserts.fail("expected object of type SafeScript, got '" + e + "' of type " + goog.typeOf(e));
return "type_error:SafeScript";
};
goog.html.SafeScript.stringify_ = function(e) {
return JSON.stringify(e).replace(/</g, "\\x3c");
};
goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse = function(e) {
return new goog.html.SafeScript().initSecurityPrivateDoNotAccessOrElse_(e);
};
goog.html.SafeScript.prototype.initSecurityPrivateDoNotAccessOrElse_ = function(e) {
this.privateDoNotAccessOrElseSafeScriptWrappedValue_ = goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY ? goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScript(e) : e;
return this;
};
goog.html.SafeScript.EMPTY = goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse("");
goog.object = {};
goog.object.is = function(e, t) {
return e === t ? 0 !== e || 1 / e == 1 / t : e != e && t != t;
};
goog.object.forEach = function(e, t, i) {
for (var o in e) t.call(i, e[o], o, e);
};
goog.object.filter = function(e, t, i) {
var o, n = {};
for (o in e) t.call(i, e[o], o, e) && (n[o] = e[o]);
return n;
};
goog.object.map = function(e, t, i) {
var o, n = {};
for (o in e) n[o] = t.call(i, e[o], o, e);
return n;
};
goog.object.some = function(e, t, i) {
for (var o in e) if (t.call(i, e[o], o, e)) return !0;
return !1;
};
goog.object.every = function(e, t, i) {
for (var o in e) if (!t.call(i, e[o], o, e)) return !1;
return !0;
};
goog.object.getCount = function(e) {
var t, i = 0;
for (t in e) i++;
return i;
};
goog.object.getAnyKey = function(e) {
for (var t in e) return t;
};
goog.object.getAnyValue = function(e) {
for (var t in e) return e[t];
};
goog.object.contains = function(e, t) {
return goog.object.containsValue(e, t);
};
goog.object.getValues = function(e) {
var t, i = [], o = 0;
for (t in e) i[o++] = e[t];
return i;
};
goog.object.getKeys = function(e) {
var t, i = [], o = 0;
for (t in e) i[o++] = t;
return i;
};
goog.object.getValueByKeys = function(e, t) {
var i = goog.isArrayLike(t), o = i ? t : arguments;
for (i = i ? 0 : 1; i < o.length; i++) {
if (null == e) return;
e = e[o[i]];
}
return e;
};
goog.object.containsKey = function(e, t) {
return null !== e && t in e;
};
goog.object.containsValue = function(e, t) {
for (var i in e) if (e[i] == t) return !0;
return !1;
};
goog.object.findKey = function(e, t, i) {
for (var o in e) if (t.call(i, e[o], o, e)) return o;
};
goog.object.findValue = function(e, t, i) {
return (t = goog.object.findKey(e, t, i)) && e[t];
};
goog.object.isEmpty = function(e) {
for (var t in e) return !1;
return !0;
};
goog.object.clear = function(e) {
for (var t in e) delete e[t];
};
goog.object.remove = function(e, t) {
var i;
(i = t in e) && delete e[t];
return i;
};
goog.object.add = function(e, t, i) {
if (null !== e && t in e) throw Error('The object already contains the key "' + t + '"');
goog.object.set(e, t, i);
};
goog.object.get = function(e, t, i) {
return null !== e && t in e ? e[t] : i;
};
goog.object.set = function(e, t, i) {
e[t] = i;
};
goog.object.setIfUndefined = function(e, t, i) {
return t in e ? e[t] : e[t] = i;
};
goog.object.setWithReturnValueIfNotSet = function(e, t, i) {
if (t in e) return e[t];
i = i();
return e[t] = i;
};
goog.object.equals = function(e, t) {
for (var i in e) if (!(i in t) || e[i] !== t[i]) return !1;
for (var o in t) if (!(o in e)) return !1;
return !0;
};
goog.object.clone = function(e) {
var t, i = {};
for (t in e) i[t] = e[t];
return i;
};
goog.object.unsafeClone = function(e) {
var t = goog.typeOf(e);
if ("object" == t || "array" == t) {
if (goog.isFunction(e.clone)) return e.clone();
t = "array" == t ? [] : {};
for (var i in e) t[i] = goog.object.unsafeClone(e[i]);
return t;
}
return e;
};
goog.object.transpose = function(e) {
var t, i = {};
for (t in e) i[e[t]] = t;
return i;
};
goog.object.PROTOTYPE_FIELDS_ = "constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
goog.object.extend = function(e, t) {
for (var i, o, n = 1; n < arguments.length; n++) {
o = arguments[n];
for (i in o) e[i] = o[i];
for (var r = 0; r < goog.object.PROTOTYPE_FIELDS_.length; r++) i = goog.object.PROTOTYPE_FIELDS_[r], 
Object.prototype.hasOwnProperty.call(o, i) && (e[i] = o[i]);
}
};
goog.object.create = function(e) {
var t = arguments.length;
if (1 == t && goog.isArray(arguments[0])) return goog.object.create.apply(null, arguments[0]);
if (t % 2) throw Error("Uneven number of arguments");
for (var i = {}, o = 0; o < t; o += 2) i[arguments[o]] = arguments[o + 1];
return i;
};
goog.object.createSet = function(e) {
var t = arguments.length;
if (1 == t && goog.isArray(arguments[0])) return goog.object.createSet.apply(null, arguments[0]);
for (var i = {}, o = 0; o < t; o++) i[arguments[o]] = !0;
return i;
};
goog.object.createImmutableView = function(e) {
var t = e;
Object.isFrozen && !Object.isFrozen(e) && (t = Object.create(e), Object.freeze(t));
return t;
};
goog.object.isImmutableView = function(e) {
return !!Object.isFrozen && Object.isFrozen(e);
};
goog.object.getAllPropertyNames = function(e, t, i) {
if (!e) return [];
if (!Object.getOwnPropertyNames || !Object.getPrototypeOf) return goog.object.getKeys(e);
for (var o = {}; e && (e !== Object.prototype || t) && (e !== Function.prototype || i); ) {
for (var n = Object.getOwnPropertyNames(e), r = 0; r < n.length; r++) o[n[r]] = !0;
e = Object.getPrototypeOf(e);
}
return goog.object.getKeys(o);
};
goog.object.getSuperClass = function(e) {
return (e = Object.getPrototypeOf(e.prototype)) && e.constructor;
};
goog.html.SafeStyleSheet = function() {
this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_ = "";
this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_;
};
goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString = !0;
goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = {};
goog.html.SafeStyleSheet.createRule = function(e, t) {
if (goog.string.internal.contains(e, "<")) throw Error("Selector does not allow '<', got: " + e);
var i = e.replace(/('|")((?!\1)[^\r\n\f\\]|\\[\s\S])*\1/g, "");
if (!/^[-_a-zA-Z0-9#.:* ,>+~[\]()=^$|]+$/.test(i)) throw Error("Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|] and strings, got: " + e);
if (!goog.html.SafeStyleSheet.hasBalancedBrackets_(i)) throw Error("() and [] in selector must be balanced, got: " + e);
t instanceof goog.html.SafeStyle || (t = goog.html.SafeStyle.create(t));
e = e + "{" + goog.html.SafeStyle.unwrap(t).replace(/</g, "\\3C ") + "}";
return goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e);
};
goog.html.SafeStyleSheet.hasBalancedBrackets_ = function(e) {
for (var t = {
"(": ")",
"[": "]"
}, i = [], o = 0; o < e.length; o++) {
var n = e[o];
if (t[n]) i.push(t[n]); else if (goog.object.contains(t, n) && i.pop() != n) return !1;
}
return 0 == i.length;
};
goog.html.SafeStyleSheet.concat = function(e) {
var t = "", i = function(e) {
goog.isArray(e) ? goog.array.forEach(e, i) : t += goog.html.SafeStyleSheet.unwrap(e);
};
goog.array.forEach(arguments, i);
return goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t);
};
goog.html.SafeStyleSheet.fromConstant = function(e) {
if (0 === (e = goog.string.Const.unwrap(e)).length) return goog.html.SafeStyleSheet.EMPTY;
goog.asserts.assert(!goog.string.internal.contains(e, "<"), "Forbidden '<' character in style sheet string: " + e);
return goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e);
};
goog.html.SafeStyleSheet.prototype.getTypedStringValue = function() {
return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_;
};
goog.DEBUG && (goog.html.SafeStyleSheet.prototype.toString = function() {
return "SafeStyleSheet{" + this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_ + "}";
});
goog.html.SafeStyleSheet.unwrap = function(e) {
if (e instanceof goog.html.SafeStyleSheet && e.constructor === goog.html.SafeStyleSheet && e.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ === goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_) return e.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_;
goog.asserts.fail("expected object of type SafeStyleSheet, got '" + e + "' of type " + goog.typeOf(e));
return "type_error:SafeStyleSheet";
};
goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse = function(e) {
return new goog.html.SafeStyleSheet().initSecurityPrivateDoNotAccessOrElse_(e);
};
goog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_ = function(e) {
this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_ = e;
return this;
};
goog.html.SafeStyleSheet.EMPTY = goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse("");
goog.dom.tags = {};
goog.dom.tags.VOID_TAGS_ = {
area: !0,
base: !0,
br: !0,
col: !0,
command: !0,
embed: !0,
hr: !0,
img: !0,
input: !0,
keygen: !0,
link: !0,
meta: !0,
param: !0,
source: !0,
track: !0,
wbr: !0
};
goog.dom.tags.isVoidTag = function(e) {
return !0 === goog.dom.tags.VOID_TAGS_[e];
};
goog.dom.HtmlElement = function() {};
goog.dom.TagName = function(e) {
this.tagName_ = e;
};
goog.dom.TagName.prototype.toString = function() {
return this.tagName_;
};
goog.dom.TagName.A = new goog.dom.TagName("A");
goog.dom.TagName.ABBR = new goog.dom.TagName("ABBR");
goog.dom.TagName.ACRONYM = new goog.dom.TagName("ACRONYM");
goog.dom.TagName.ADDRESS = new goog.dom.TagName("ADDRESS");
goog.dom.TagName.APPLET = new goog.dom.TagName("APPLET");
goog.dom.TagName.AREA = new goog.dom.TagName("AREA");
goog.dom.TagName.ARTICLE = new goog.dom.TagName("ARTICLE");
goog.dom.TagName.ASIDE = new goog.dom.TagName("ASIDE");
goog.dom.TagName.AUDIO = new goog.dom.TagName("AUDIO");
goog.dom.TagName.B = new goog.dom.TagName("B");
goog.dom.TagName.BASE = new goog.dom.TagName("BASE");
goog.dom.TagName.BASEFONT = new goog.dom.TagName("BASEFONT");
goog.dom.TagName.BDI = new goog.dom.TagName("BDI");
goog.dom.TagName.BDO = new goog.dom.TagName("BDO");
goog.dom.TagName.BIG = new goog.dom.TagName("BIG");
goog.dom.TagName.BLOCKQUOTE = new goog.dom.TagName("BLOCKQUOTE");
goog.dom.TagName.BODY = new goog.dom.TagName("BODY");
goog.dom.TagName.BR = new goog.dom.TagName("BR");
goog.dom.TagName.BUTTON = new goog.dom.TagName("BUTTON");
goog.dom.TagName.CANVAS = new goog.dom.TagName("CANVAS");
goog.dom.TagName.CAPTION = new goog.dom.TagName("CAPTION");
goog.dom.TagName.CENTER = new goog.dom.TagName("CENTER");
goog.dom.TagName.CITE = new goog.dom.TagName("CITE");
goog.dom.TagName.CODE = new goog.dom.TagName("CODE");
goog.dom.TagName.COL = new goog.dom.TagName("COL");
goog.dom.TagName.COLGROUP = new goog.dom.TagName("COLGROUP");
goog.dom.TagName.COMMAND = new goog.dom.TagName("COMMAND");
goog.dom.TagName.DATA = new goog.dom.TagName("DATA");
goog.dom.TagName.DATALIST = new goog.dom.TagName("DATALIST");
goog.dom.TagName.DD = new goog.dom.TagName("DD");
goog.dom.TagName.DEL = new goog.dom.TagName("DEL");
goog.dom.TagName.DETAILS = new goog.dom.TagName("DETAILS");
goog.dom.TagName.DFN = new goog.dom.TagName("DFN");
goog.dom.TagName.DIALOG = new goog.dom.TagName("DIALOG");
goog.dom.TagName.DIR = new goog.dom.TagName("DIR");
goog.dom.TagName.DIV = new goog.dom.TagName("DIV");
goog.dom.TagName.DL = new goog.dom.TagName("DL");
goog.dom.TagName.DT = new goog.dom.TagName("DT");
goog.dom.TagName.EM = new goog.dom.TagName("EM");
goog.dom.TagName.EMBED = new goog.dom.TagName("EMBED");
goog.dom.TagName.FIELDSET = new goog.dom.TagName("FIELDSET");
goog.dom.TagName.FIGCAPTION = new goog.dom.TagName("FIGCAPTION");
goog.dom.TagName.FIGURE = new goog.dom.TagName("FIGURE");
goog.dom.TagName.FONT = new goog.dom.TagName("FONT");
goog.dom.TagName.FOOTER = new goog.dom.TagName("FOOTER");
goog.dom.TagName.FORM = new goog.dom.TagName("FORM");
goog.dom.TagName.FRAME = new goog.dom.TagName("FRAME");
goog.dom.TagName.FRAMESET = new goog.dom.TagName("FRAMESET");
goog.dom.TagName.H1 = new goog.dom.TagName("H1");
goog.dom.TagName.H2 = new goog.dom.TagName("H2");
goog.dom.TagName.H3 = new goog.dom.TagName("H3");
goog.dom.TagName.H4 = new goog.dom.TagName("H4");
goog.dom.TagName.H5 = new goog.dom.TagName("H5");
goog.dom.TagName.H6 = new goog.dom.TagName("H6");
goog.dom.TagName.HEAD = new goog.dom.TagName("HEAD");
goog.dom.TagName.HEADER = new goog.dom.TagName("HEADER");
goog.dom.TagName.HGROUP = new goog.dom.TagName("HGROUP");
goog.dom.TagName.HR = new goog.dom.TagName("HR");
goog.dom.TagName.HTML = new goog.dom.TagName("HTML");
goog.dom.TagName.I = new goog.dom.TagName("I");
goog.dom.TagName.IFRAME = new goog.dom.TagName("IFRAME");
goog.dom.TagName.IMG = new goog.dom.TagName("IMG");
goog.dom.TagName.INPUT = new goog.dom.TagName("INPUT");
goog.dom.TagName.INS = new goog.dom.TagName("INS");
goog.dom.TagName.ISINDEX = new goog.dom.TagName("ISINDEX");
goog.dom.TagName.KBD = new goog.dom.TagName("KBD");
goog.dom.TagName.KEYGEN = new goog.dom.TagName("KEYGEN");
goog.dom.TagName.LABEL = new goog.dom.TagName("LABEL");
goog.dom.TagName.LEGEND = new goog.dom.TagName("LEGEND");
goog.dom.TagName.LI = new goog.dom.TagName("LI");
goog.dom.TagName.LINK = new goog.dom.TagName("LINK");
goog.dom.TagName.MAIN = new goog.dom.TagName("MAIN");
goog.dom.TagName.MAP = new goog.dom.TagName("MAP");
goog.dom.TagName.MARK = new goog.dom.TagName("MARK");
goog.dom.TagName.MATH = new goog.dom.TagName("MATH");
goog.dom.TagName.MENU = new goog.dom.TagName("MENU");
goog.dom.TagName.MENUITEM = new goog.dom.TagName("MENUITEM");
goog.dom.TagName.META = new goog.dom.TagName("META");
goog.dom.TagName.METER = new goog.dom.TagName("METER");
goog.dom.TagName.NAV = new goog.dom.TagName("NAV");
goog.dom.TagName.NOFRAMES = new goog.dom.TagName("NOFRAMES");
goog.dom.TagName.NOSCRIPT = new goog.dom.TagName("NOSCRIPT");
goog.dom.TagName.OBJECT = new goog.dom.TagName("OBJECT");
goog.dom.TagName.OL = new goog.dom.TagName("OL");
goog.dom.TagName.OPTGROUP = new goog.dom.TagName("OPTGROUP");
goog.dom.TagName.OPTION = new goog.dom.TagName("OPTION");
goog.dom.TagName.OUTPUT = new goog.dom.TagName("OUTPUT");
goog.dom.TagName.P = new goog.dom.TagName("P");
goog.dom.TagName.PARAM = new goog.dom.TagName("PARAM");
goog.dom.TagName.PICTURE = new goog.dom.TagName("PICTURE");
goog.dom.TagName.PRE = new goog.dom.TagName("PRE");
goog.dom.TagName.PROGRESS = new goog.dom.TagName("PROGRESS");
goog.dom.TagName.Q = new goog.dom.TagName("Q");
goog.dom.TagName.RP = new goog.dom.TagName("RP");
goog.dom.TagName.RT = new goog.dom.TagName("RT");
goog.dom.TagName.RTC = new goog.dom.TagName("RTC");
goog.dom.TagName.RUBY = new goog.dom.TagName("RUBY");
goog.dom.TagName.S = new goog.dom.TagName("S");
goog.dom.TagName.SAMP = new goog.dom.TagName("SAMP");
goog.dom.TagName.SCRIPT = new goog.dom.TagName("SCRIPT");
goog.dom.TagName.SECTION = new goog.dom.TagName("SECTION");
goog.dom.TagName.SELECT = new goog.dom.TagName("SELECT");
goog.dom.TagName.SMALL = new goog.dom.TagName("SMALL");
goog.dom.TagName.SOURCE = new goog.dom.TagName("SOURCE");
goog.dom.TagName.SPAN = new goog.dom.TagName("SPAN");
goog.dom.TagName.STRIKE = new goog.dom.TagName("STRIKE");
goog.dom.TagName.STRONG = new goog.dom.TagName("STRONG");
goog.dom.TagName.STYLE = new goog.dom.TagName("STYLE");
goog.dom.TagName.SUB = new goog.dom.TagName("SUB");
goog.dom.TagName.SUMMARY = new goog.dom.TagName("SUMMARY");
goog.dom.TagName.SUP = new goog.dom.TagName("SUP");
goog.dom.TagName.SVG = new goog.dom.TagName("SVG");
goog.dom.TagName.TABLE = new goog.dom.TagName("TABLE");
goog.dom.TagName.TBODY = new goog.dom.TagName("TBODY");
goog.dom.TagName.TD = new goog.dom.TagName("TD");
goog.dom.TagName.TEMPLATE = new goog.dom.TagName("TEMPLATE");
goog.dom.TagName.TEXTAREA = new goog.dom.TagName("TEXTAREA");
goog.dom.TagName.TFOOT = new goog.dom.TagName("TFOOT");
goog.dom.TagName.TH = new goog.dom.TagName("TH");
goog.dom.TagName.THEAD = new goog.dom.TagName("THEAD");
goog.dom.TagName.TIME = new goog.dom.TagName("TIME");
goog.dom.TagName.TITLE = new goog.dom.TagName("TITLE");
goog.dom.TagName.TR = new goog.dom.TagName("TR");
goog.dom.TagName.TRACK = new goog.dom.TagName("TRACK");
goog.dom.TagName.TT = new goog.dom.TagName("TT");
goog.dom.TagName.U = new goog.dom.TagName("U");
goog.dom.TagName.UL = new goog.dom.TagName("UL");
goog.dom.TagName.VAR = new goog.dom.TagName("VAR");
goog.dom.TagName.VIDEO = new goog.dom.TagName("VIDEO");
goog.dom.TagName.WBR = new goog.dom.TagName("WBR");
goog.labs = {};
goog.labs.userAgent = {};
goog.labs.userAgent.util = {};
goog.labs.userAgent.util.getNativeUserAgentString_ = function() {
var e = goog.labs.userAgent.util.getNavigator_();
return e && (e = e.userAgent) ? e : "";
};
goog.labs.userAgent.util.getNavigator_ = function() {
return goog.global.navigator;
};
goog.labs.userAgent.util.userAgent_ = goog.labs.userAgent.util.getNativeUserAgentString_();
goog.labs.userAgent.util.setUserAgent = function(e) {
goog.labs.userAgent.util.userAgent_ = e || goog.labs.userAgent.util.getNativeUserAgentString_();
};
goog.labs.userAgent.util.getUserAgent = function() {
return goog.labs.userAgent.util.userAgent_;
};
goog.labs.userAgent.util.matchUserAgent = function(e) {
var t = goog.labs.userAgent.util.getUserAgent();
return goog.string.internal.contains(t, e);
};
goog.labs.userAgent.util.matchUserAgentIgnoreCase = function(e) {
var t = goog.labs.userAgent.util.getUserAgent();
return goog.string.internal.caseInsensitiveContains(t, e);
};
goog.labs.userAgent.util.extractVersionTuples = function(e) {
for (var t, i = /(\w[\w ]+)\/([^\s]+)\s*(?:\((.*?)\))?/g, o = []; t = i.exec(e); ) o.push([ t[1], t[2], t[3] || void 0 ]);
return o;
};
goog.labs.userAgent.browser = {};
goog.labs.userAgent.browser.matchOpera_ = function() {
return goog.labs.userAgent.util.matchUserAgent("Opera");
};
goog.labs.userAgent.browser.matchIE_ = function() {
return goog.labs.userAgent.util.matchUserAgent("Trident") || goog.labs.userAgent.util.matchUserAgent("MSIE");
};
goog.labs.userAgent.browser.matchEdgeHtml_ = function() {
return goog.labs.userAgent.util.matchUserAgent("Edge");
};
goog.labs.userAgent.browser.matchEdgeChromium_ = function() {
return goog.labs.userAgent.util.matchUserAgent("Edg/");
};
goog.labs.userAgent.browser.matchOperaChromium_ = function() {
return goog.labs.userAgent.util.matchUserAgent("OPR");
};
goog.labs.userAgent.browser.matchFirefox_ = function() {
return goog.labs.userAgent.util.matchUserAgent("Firefox") || goog.labs.userAgent.util.matchUserAgent("FxiOS");
};
goog.labs.userAgent.browser.matchSafari_ = function() {
return goog.labs.userAgent.util.matchUserAgent("Safari") && !(goog.labs.userAgent.browser.matchChrome_() || goog.labs.userAgent.browser.matchCoast_() || goog.labs.userAgent.browser.matchOpera_() || goog.labs.userAgent.browser.matchEdgeHtml_() || goog.labs.userAgent.browser.matchEdgeChromium_() || goog.labs.userAgent.browser.matchOperaChromium_() || goog.labs.userAgent.browser.matchFirefox_() || goog.labs.userAgent.browser.isSilk() || goog.labs.userAgent.util.matchUserAgent("Android"));
};
goog.labs.userAgent.browser.matchCoast_ = function() {
return goog.labs.userAgent.util.matchUserAgent("Coast");
};
goog.labs.userAgent.browser.matchIosWebview_ = function() {
return (goog.labs.userAgent.util.matchUserAgent("iPad") || goog.labs.userAgent.util.matchUserAgent("iPhone")) && !goog.labs.userAgent.browser.matchSafari_() && !goog.labs.userAgent.browser.matchChrome_() && !goog.labs.userAgent.browser.matchCoast_() && !goog.labs.userAgent.browser.matchFirefox_() && goog.labs.userAgent.util.matchUserAgent("AppleWebKit");
};
goog.labs.userAgent.browser.matchChrome_ = function() {
return (goog.labs.userAgent.util.matchUserAgent("Chrome") || goog.labs.userAgent.util.matchUserAgent("CriOS")) && !goog.labs.userAgent.browser.matchEdgeHtml_();
};
goog.labs.userAgent.browser.matchAndroidBrowser_ = function() {
return goog.labs.userAgent.util.matchUserAgent("Android") && !(goog.labs.userAgent.browser.isChrome() || goog.labs.userAgent.browser.isFirefox() || goog.labs.userAgent.browser.isOpera() || goog.labs.userAgent.browser.isSilk());
};
goog.labs.userAgent.browser.isOpera = goog.labs.userAgent.browser.matchOpera_;
goog.labs.userAgent.browser.isIE = goog.labs.userAgent.browser.matchIE_;
goog.labs.userAgent.browser.isEdge = goog.labs.userAgent.browser.matchEdgeHtml_;
goog.labs.userAgent.browser.isEdgeChromium = goog.labs.userAgent.browser.matchEdgeChromium_;
goog.labs.userAgent.browser.isOperaChromium = goog.labs.userAgent.browser.matchOperaChromium_;
goog.labs.userAgent.browser.isFirefox = goog.labs.userAgent.browser.matchFirefox_;
goog.labs.userAgent.browser.isSafari = goog.labs.userAgent.browser.matchSafari_;
goog.labs.userAgent.browser.isCoast = goog.labs.userAgent.browser.matchCoast_;
goog.labs.userAgent.browser.isIosWebview = goog.labs.userAgent.browser.matchIosWebview_;
goog.labs.userAgent.browser.isChrome = goog.labs.userAgent.browser.matchChrome_;
goog.labs.userAgent.browser.isAndroidBrowser = goog.labs.userAgent.browser.matchAndroidBrowser_;
goog.labs.userAgent.browser.isSilk = function() {
return goog.labs.userAgent.util.matchUserAgent("Silk");
};
goog.labs.userAgent.browser.getVersion = function() {
function e(e) {
e = goog.array.find(e, o);
return i[e] || "";
}
var t = goog.labs.userAgent.util.getUserAgent();
if (goog.labs.userAgent.browser.isIE()) return goog.labs.userAgent.browser.getIEVersion_(t);
t = goog.labs.userAgent.util.extractVersionTuples(t);
var i = {};
goog.array.forEach(t, function(e) {
i[e[0]] = e[1];
});
var o = goog.partial(goog.object.containsKey, i);
return goog.labs.userAgent.browser.isOpera() ? e([ "Version", "Opera" ]) : goog.labs.userAgent.browser.isEdge() ? e([ "Edge" ]) : goog.labs.userAgent.browser.isEdgeChromium() ? e([ "Edg" ]) : goog.labs.userAgent.browser.isChrome() ? e([ "Chrome", "CriOS" ]) : (t = t[2]) && t[1] || "";
};
goog.labs.userAgent.browser.isVersionOrHigher = function(e) {
return 0 <= goog.string.internal.compareVersions(goog.labs.userAgent.browser.getVersion(), e);
};
goog.labs.userAgent.browser.getIEVersion_ = function(e) {
var t = /rv: *([\d\.]*)/.exec(e);
if (t && t[1]) return t[1];
t = "";
var i = /MSIE +([\d\.]+)/.exec(e);
if (i && i[1]) if (e = /Trident\/(\d.\d)/.exec(e), "7.0" == i[1]) if (e && e[1]) switch (e[1]) {
case "4.0":
t = "8.0";
break;

case "5.0":
t = "9.0";
break;

case "6.0":
t = "10.0";
break;

case "7.0":
t = "11.0";
} else t = "7.0"; else t = i[1];
return t;
};
goog.html.SafeHtml = function() {
this.privateDoNotAccessOrElseSafeHtmlWrappedValue_ = "";
this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_;
this.dir_ = null;
};
goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString = !0;
goog.html.SafeHtml.prototype.getDirection = function() {
return this.dir_;
};
goog.html.SafeHtml.prototype.implementsGoogStringTypedString = !0;
goog.html.SafeHtml.prototype.getTypedStringValue = function() {
return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString();
};
goog.DEBUG && (goog.html.SafeHtml.prototype.toString = function() {
return "SafeHtml{" + this.privateDoNotAccessOrElseSafeHtmlWrappedValue_ + "}";
});
goog.html.SafeHtml.unwrap = function(e) {
return goog.html.SafeHtml.unwrapTrustedHTML(e).toString();
};
goog.html.SafeHtml.unwrapTrustedHTML = function(e) {
if (e instanceof goog.html.SafeHtml && e.constructor === goog.html.SafeHtml && e.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ === goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_) return e.privateDoNotAccessOrElseSafeHtmlWrappedValue_;
goog.asserts.fail("expected object of type SafeHtml, got '" + e + "' of type " + goog.typeOf(e));
return "type_error:SafeHtml";
};
goog.html.SafeHtml.htmlEscape = function(e) {
if (e instanceof goog.html.SafeHtml) return e;
var t = "object" == typeof e, i = null;
t && e.implementsGoogI18nBidiDirectionalString && (i = e.getDirection());
e = t && e.implementsGoogStringTypedString ? e.getTypedStringValue() : String(e);
return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.htmlEscape(e), i);
};
goog.html.SafeHtml.htmlEscapePreservingNewlines = function(e) {
if (e instanceof goog.html.SafeHtml) return e;
e = goog.html.SafeHtml.htmlEscape(e);
return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.newLineToBr(goog.html.SafeHtml.unwrap(e)), e.getDirection());
};
goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces = function(e) {
if (e instanceof goog.html.SafeHtml) return e;
e = goog.html.SafeHtml.htmlEscape(e);
return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.whitespaceEscape(goog.html.SafeHtml.unwrap(e)), e.getDirection());
};
goog.html.SafeHtml.from = goog.html.SafeHtml.htmlEscape;
goog.html.SafeHtml.VALID_NAMES_IN_TAG_ = /^[a-zA-Z0-9-]+$/;
goog.html.SafeHtml.URL_ATTRIBUTES_ = {
action: !0,
cite: !0,
data: !0,
formaction: !0,
href: !0,
manifest: !0,
poster: !0,
src: !0
};
goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_ = {
APPLET: !0,
BASE: !0,
EMBED: !0,
IFRAME: !0,
LINK: !0,
MATH: !0,
META: !0,
OBJECT: !0,
SCRIPT: !0,
STYLE: !0,
SVG: !0,
TEMPLATE: !0
};
goog.html.SafeHtml.create = function(e, t, i) {
goog.html.SafeHtml.verifyTagName(String(e));
return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(e), t, i);
};
goog.html.SafeHtml.verifyTagName = function(e) {
if (!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(e)) throw Error("Invalid tag name <" + e + ">.");
if (e.toUpperCase() in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_) throw Error("Tag name <" + e + "> is not allowed for SafeHtml.");
};
goog.html.SafeHtml.createIframe = function(e, t, i, o) {
e && goog.html.TrustedResourceUrl.unwrap(e);
var n = {};
n.src = e || null;
n.srcdoc = t && goog.html.SafeHtml.unwrap(t);
e = goog.html.SafeHtml.combineAttributes(n, {
sandbox: ""
}, i);
return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe", e, o);
};
goog.html.SafeHtml.createSandboxIframe = function(e, t, i, o) {
if (!goog.html.SafeHtml.canUseSandboxIframe()) throw Error("The browser does not support sandboxed iframes.");
var n = {};
n.src = e ? goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(e)) : null;
n.srcdoc = t || null;
n.sandbox = "";
e = goog.html.SafeHtml.combineAttributes(n, {}, i);
return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe", e, o);
};
goog.html.SafeHtml.canUseSandboxIframe = function() {
return goog.global.HTMLIFrameElement && "sandbox" in goog.global.HTMLIFrameElement.prototype;
};
goog.html.SafeHtml.createScriptSrc = function(e, t) {
goog.html.TrustedResourceUrl.unwrap(e);
e = goog.html.SafeHtml.combineAttributes({
src: e
}, {}, t);
return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script", e);
};
goog.html.SafeHtml.createScript = function(e, t) {
for (var i in t) {
var o = i.toLowerCase();
if ("language" == o || "src" == o || "text" == o || "type" == o) throw Error('Cannot set "' + o + '" attribute');
}
i = "";
e = goog.array.concat(e);
for (o = 0; o < e.length; o++) i += goog.html.SafeScript.unwrap(e[o]);
e = goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(i, goog.i18n.bidi.Dir.NEUTRAL);
return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script", t, e);
};
goog.html.SafeHtml.createStyle = function(e, t) {
t = goog.html.SafeHtml.combineAttributes({
type: "text/css"
}, {}, t);
var i = "";
e = goog.array.concat(e);
for (var o = 0; o < e.length; o++) i += goog.html.SafeStyleSheet.unwrap(e[o]);
e = goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(i, goog.i18n.bidi.Dir.NEUTRAL);
return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style", t, e);
};
goog.html.SafeHtml.createMetaRefresh = function(e, t) {
e = goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(e));
(goog.labs.userAgent.browser.isIE() || goog.labs.userAgent.browser.isEdge()) && goog.string.internal.contains(e, ";") && (e = "'" + e.replace(/'/g, "%27") + "'");
return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("meta", {
"http-equiv": "refresh",
content: (t || 0) + "; url=" + e
});
};
goog.html.SafeHtml.getAttrNameAndValue_ = function(e, t, i) {
if (i instanceof goog.string.Const) i = goog.string.Const.unwrap(i); else if ("style" == t.toLowerCase()) i = goog.html.SafeHtml.getStyleValue_(i); else {
if (/^on/i.test(t)) throw Error('Attribute "' + t + '" requires goog.string.Const value, "' + i + '" given.');
if (t.toLowerCase() in goog.html.SafeHtml.URL_ATTRIBUTES_) if (i instanceof goog.html.TrustedResourceUrl) i = goog.html.TrustedResourceUrl.unwrap(i); else if (i instanceof goog.html.SafeUrl) i = goog.html.SafeUrl.unwrap(i); else {
if (!goog.isString(i)) throw Error('Attribute "' + t + '" on tag "' + e + '" requires goog.html.SafeUrl, goog.string.Const, or string, value "' + i + '" given.');
i = goog.html.SafeUrl.sanitize(i).getTypedStringValue();
}
}
i.implementsGoogStringTypedString && (i = i.getTypedStringValue());
goog.asserts.assert(goog.isString(i) || goog.isNumber(i), "String or number value expected, got " + typeof i + " with value: " + i);
return t + '="' + goog.string.internal.htmlEscape(String(i)) + '"';
};
goog.html.SafeHtml.getStyleValue_ = function(e) {
if (!goog.isObject(e)) throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, ' + typeof e + " given: " + e);
e instanceof goog.html.SafeStyle || (e = goog.html.SafeStyle.create(e));
return goog.html.SafeStyle.unwrap(e);
};
goog.html.SafeHtml.createWithDir = function(e, t, i, o) {
(t = goog.html.SafeHtml.create(t, i, o)).dir_ = e;
return t;
};
goog.html.SafeHtml.join = function(e, t) {
var i = (e = goog.html.SafeHtml.htmlEscape(e)).getDirection(), o = [], n = function(e) {
goog.isArray(e) ? goog.array.forEach(e, n) : (e = goog.html.SafeHtml.htmlEscape(e), 
o.push(goog.html.SafeHtml.unwrap(e)), e = e.getDirection(), i == goog.i18n.bidi.Dir.NEUTRAL ? i = e : e != goog.i18n.bidi.Dir.NEUTRAL && i != e && (i = null));
};
goog.array.forEach(t, n);
return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(o.join(goog.html.SafeHtml.unwrap(e)), i);
};
goog.html.SafeHtml.concat = function(e) {
return goog.html.SafeHtml.join(goog.html.SafeHtml.EMPTY, Array.prototype.slice.call(arguments));
};
goog.html.SafeHtml.concatWithDir = function(e, t) {
var i = goog.html.SafeHtml.concat(goog.array.slice(arguments, 1));
i.dir_ = e;
return i;
};
goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = {};
goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse = function(e, t) {
return new goog.html.SafeHtml().initSecurityPrivateDoNotAccessOrElse_(e, t);
};
goog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_ = function(e, t) {
this.privateDoNotAccessOrElseSafeHtmlWrappedValue_ = goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY ? goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createHTML(e) : e;
this.dir_ = t;
return this;
};
goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse = function(e, t, i) {
var o = null, n = "<" + e + goog.html.SafeHtml.stringifyAttributes(e, t);
goog.isDefAndNotNull(i) ? goog.isArray(i) || (i = [ i ]) : i = [];
goog.dom.tags.isVoidTag(e.toLowerCase()) ? (goog.asserts.assert(!i.length, "Void tag <" + e + "> does not allow content."), 
n += ">") : (o = goog.html.SafeHtml.concat(i), n += ">" + goog.html.SafeHtml.unwrap(o) + "</" + e + ">", 
o = o.getDirection());
(e = t && t.dir) && (o = /^(ltr|rtl|auto)$/i.test(e) ? goog.i18n.bidi.Dir.NEUTRAL : null);
return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(n, o);
};
goog.html.SafeHtml.stringifyAttributes = function(e, t) {
var i = "";
if (t) for (var o in t) {
if (!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(o)) throw Error('Invalid attribute name "' + o + '".');
var n = t[o];
goog.isDefAndNotNull(n) && (i += " " + goog.html.SafeHtml.getAttrNameAndValue_(e, o, n));
}
return i;
};
goog.html.SafeHtml.combineAttributes = function(e, t, i) {
var o, n = {};
for (o in e) goog.asserts.assert(o.toLowerCase() == o, "Must be lower case"), n[o] = e[o];
for (o in t) goog.asserts.assert(o.toLowerCase() == o, "Must be lower case"), n[o] = t[o];
for (o in i) {
var r = o.toLowerCase();
if (r in e) throw Error('Cannot override "' + r + '" attribute, got "' + o + '" with value "' + i[o] + '"');
r in t && delete n[r];
n[o] = i[o];
}
return n;
};
goog.html.SafeHtml.DOCTYPE_HTML = goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!DOCTYPE html>", goog.i18n.bidi.Dir.NEUTRAL);
goog.html.SafeHtml.EMPTY = goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("", goog.i18n.bidi.Dir.NEUTRAL);
goog.html.SafeHtml.BR = goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<br>", goog.i18n.bidi.Dir.NEUTRAL);
goog.html.uncheckedconversions = {};
goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract = function(e, t, i) {
goog.asserts.assertString(goog.string.Const.unwrap(e), "must provide justification");
goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)), "must provide non-empty justification");
return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(t, i || null);
};
goog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract = function(e, t) {
goog.asserts.assertString(goog.string.Const.unwrap(e), "must provide justification");
goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)), "must provide non-empty justification");
return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(t);
};
goog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract = function(e, t) {
goog.asserts.assertString(goog.string.Const.unwrap(e), "must provide justification");
goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)), "must provide non-empty justification");
return goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t);
};
goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract = function(e, t) {
goog.asserts.assertString(goog.string.Const.unwrap(e), "must provide justification");
goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)), "must provide non-empty justification");
return goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t);
};
goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract = function(e, t) {
goog.asserts.assertString(goog.string.Const.unwrap(e), "must provide justification");
goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)), "must provide non-empty justification");
return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t);
};
goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract = function(e, t) {
goog.asserts.assertString(goog.string.Const.unwrap(e), "must provide justification");
goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)), "must provide non-empty justification");
return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t);
};
goog.dom.asserts = {};
goog.dom.asserts.assertIsLocation = function(e) {
if (goog.asserts.ENABLE_ASSERTS) {
var t = goog.dom.asserts.getWindow_(e);
t && (!e || !(e instanceof t.Location) && e instanceof t.Element) && goog.asserts.fail("Argument is not a Location (or a non-Element mock); got: %s", goog.dom.asserts.debugStringForType_(e));
}
return e;
};
goog.dom.asserts.assertIsElementType_ = function(e, t) {
if (goog.asserts.ENABLE_ASSERTS) {
var i = goog.dom.asserts.getWindow_(e);
i && "undefined" != typeof i[t] && (e && (e instanceof i[t] || !(e instanceof i.Location || e instanceof i.Element)) || goog.asserts.fail("Argument is not a %s (or a non-Element, non-Location mock); got: %s", t, goog.dom.asserts.debugStringForType_(e)));
}
return e;
};
goog.dom.asserts.assertIsHTMLAnchorElement = function(e) {
return goog.dom.asserts.assertIsElementType_(e, "HTMLAnchorElement");
};
goog.dom.asserts.assertIsHTMLButtonElement = function(e) {
return goog.dom.asserts.assertIsElementType_(e, "HTMLButtonElement");
};
goog.dom.asserts.assertIsHTMLLinkElement = function(e) {
return goog.dom.asserts.assertIsElementType_(e, "HTMLLinkElement");
};
goog.dom.asserts.assertIsHTMLImageElement = function(e) {
return goog.dom.asserts.assertIsElementType_(e, "HTMLImageElement");
};
goog.dom.asserts.assertIsHTMLAudioElement = function(e) {
return goog.dom.asserts.assertIsElementType_(e, "HTMLAudioElement");
};
goog.dom.asserts.assertIsHTMLVideoElement = function(e) {
return goog.dom.asserts.assertIsElementType_(e, "HTMLVideoElement");
};
goog.dom.asserts.assertIsHTMLInputElement = function(e) {
return goog.dom.asserts.assertIsElementType_(e, "HTMLInputElement");
};
goog.dom.asserts.assertIsHTMLTextAreaElement = function(e) {
return goog.dom.asserts.assertIsElementType_(e, "HTMLTextAreaElement");
};
goog.dom.asserts.assertIsHTMLCanvasElement = function(e) {
return goog.dom.asserts.assertIsElementType_(e, "HTMLCanvasElement");
};
goog.dom.asserts.assertIsHTMLEmbedElement = function(e) {
return goog.dom.asserts.assertIsElementType_(e, "HTMLEmbedElement");
};
goog.dom.asserts.assertIsHTMLFormElement = function(e) {
return goog.dom.asserts.assertIsElementType_(e, "HTMLFormElement");
};
goog.dom.asserts.assertIsHTMLFrameElement = function(e) {
return goog.dom.asserts.assertIsElementType_(e, "HTMLFrameElement");
};
goog.dom.asserts.assertIsHTMLIFrameElement = function(e) {
return goog.dom.asserts.assertIsElementType_(e, "HTMLIFrameElement");
};
goog.dom.asserts.assertIsHTMLObjectElement = function(e) {
return goog.dom.asserts.assertIsElementType_(e, "HTMLObjectElement");
};
goog.dom.asserts.assertIsHTMLScriptElement = function(e) {
return goog.dom.asserts.assertIsElementType_(e, "HTMLScriptElement");
};
goog.dom.asserts.debugStringForType_ = function(e) {
if (!goog.isObject(e)) return void 0 === e ? "undefined" : null === e ? "null" : typeof e;
try {
return e.constructor.displayName || e.constructor.name || Object.prototype.toString.call(e);
} catch (e) {
return "<object could not be stringified>";
}
};
goog.dom.asserts.getWindow_ = function(e) {
try {
var t = e && e.ownerDocument, i = t && (t.defaultView || t.parentWindow);
if ((i = i || goog.global).Element && i.Location) return i;
} catch (e) {}
return null;
};
goog.functions = {};
goog.functions.constant = function(e) {
return function() {
return e;
};
};
goog.functions.FALSE = function() {
return !1;
};
goog.functions.TRUE = function() {
return !0;
};
goog.functions.NULL = function() {
return null;
};
goog.functions.identity = function(e, t) {
return e;
};
goog.functions.error = function(e) {
return function() {
throw Error(e);
};
};
goog.functions.fail = function(e) {
return function() {
throw e;
};
};
goog.functions.lock = function(e, t) {
t = t || 0;
return function() {
return e.apply(this, Array.prototype.slice.call(arguments, 0, t));
};
};
goog.functions.nth = function(e) {
return function() {
return arguments[e];
};
};
goog.functions.partialRight = function(e, t) {
var i = Array.prototype.slice.call(arguments, 1);
return function() {
var t = Array.prototype.slice.call(arguments);
t.push.apply(t, i);
return e.apply(this, t);
};
};
goog.functions.withReturnValue = function(e, t) {
return goog.functions.sequence(e, goog.functions.constant(t));
};
goog.functions.equalTo = function(e, t) {
return function(i) {
return t ? e == i : e === i;
};
};
goog.functions.compose = function(e, t) {
var i = arguments, o = i.length;
return function() {
var e;
o && (e = i[o - 1].apply(this, arguments));
for (var t = o - 2; 0 <= t; t--) e = i[t].call(this, e);
return e;
};
};
goog.functions.sequence = function(e) {
var t = arguments, i = t.length;
return function() {
for (var e, o = 0; o < i; o++) e = t[o].apply(this, arguments);
return e;
};
};
goog.functions.and = function(e) {
var t = arguments, i = t.length;
return function() {
for (var e = 0; e < i; e++) if (!t[e].apply(this, arguments)) return !1;
return !0;
};
};
goog.functions.or = function(e) {
var t = arguments, i = t.length;
return function() {
for (var e = 0; e < i; e++) if (t[e].apply(this, arguments)) return !0;
return !1;
};
};
goog.functions.not = function(e) {
return function() {
return !e.apply(this, arguments);
};
};
goog.functions.create = function(e, t) {
var i = function() {};
i.prototype = e.prototype;
i = new i();
e.apply(i, Array.prototype.slice.call(arguments, 1));
return i;
};
goog.functions.CACHE_RETURN_VALUE = !0;
goog.functions.cacheReturnValue = function(e) {
var t, i = !1;
return function() {
if (!goog.functions.CACHE_RETURN_VALUE) return e();
i || (t = e(), i = !0);
return t;
};
};
goog.functions.once = function(e) {
var t = e;
return function() {
if (t) {
var e = t;
t = null;
e();
}
};
};
goog.functions.debounce = function(e, t, i) {
var o = 0;
return function(n) {
goog.global.clearTimeout(o);
var r = arguments;
o = goog.global.setTimeout(function() {
e.apply(i, r);
}, t);
};
};
goog.functions.throttle = function(e, t, i) {
var o = 0, n = !1, r = [], a = function() {
o = 0;
n && (n = !1, s());
}, s = function() {
o = goog.global.setTimeout(a, t);
e.apply(i, r);
};
return function(e) {
r = arguments;
o ? n = !0 : s();
};
};
goog.functions.rateLimit = function(e, t, i) {
var o = 0, n = function() {
o = 0;
};
return function(r) {
o || (o = goog.global.setTimeout(n, t), e.apply(i, arguments));
};
};
goog.dom.safe = {};
goog.dom.safe.InsertAdjacentHtmlPosition = {
AFTERBEGIN: "afterbegin",
AFTEREND: "afterend",
BEFOREBEGIN: "beforebegin",
BEFOREEND: "beforeend"
};
goog.dom.safe.insertAdjacentHtml = function(e, t, i) {
e.insertAdjacentHTML(t, goog.html.SafeHtml.unwrapTrustedHTML(i));
};
goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_ = {
MATH: !0,
SCRIPT: !0,
STYLE: !0,
SVG: !0,
TEMPLATE: !0
};
goog.dom.safe.isInnerHtmlCleanupRecursive_ = goog.functions.cacheReturnValue(function() {
if (goog.DEBUG && "undefined" == typeof document) return !1;
var e = document.createElement("div"), t = document.createElement("div");
t.appendChild(document.createElement("div"));
e.appendChild(t);
if (goog.DEBUG && !e.firstChild) return !1;
t = e.firstChild.firstChild;
e.innerHTML = goog.html.SafeHtml.unwrapTrustedHTML(goog.html.SafeHtml.EMPTY);
return !t.parentElement;
});
goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse = function(e, t) {
if (goog.dom.safe.isInnerHtmlCleanupRecursive_()) for (;e.lastChild; ) e.removeChild(e.lastChild);
e.innerHTML = goog.html.SafeHtml.unwrapTrustedHTML(t);
};
goog.dom.safe.setInnerHtml = function(e, t) {
if (goog.asserts.ENABLE_ASSERTS) {
var i = e.tagName.toUpperCase();
if (goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[i]) throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of " + e.tagName + ".");
}
goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse(e, t);
};
goog.dom.safe.setOuterHtml = function(e, t) {
e.outerHTML = goog.html.SafeHtml.unwrapTrustedHTML(t);
};
goog.dom.safe.setFormElementAction = function(e, t) {
t = t instanceof goog.html.SafeUrl ? t : goog.html.SafeUrl.sanitizeAssertUnchanged(t);
goog.dom.asserts.assertIsHTMLFormElement(e).action = goog.html.SafeUrl.unwrapTrustedURL(t);
};
goog.dom.safe.setButtonFormAction = function(e, t) {
t = t instanceof goog.html.SafeUrl ? t : goog.html.SafeUrl.sanitizeAssertUnchanged(t);
goog.dom.asserts.assertIsHTMLButtonElement(e).formAction = goog.html.SafeUrl.unwrapTrustedURL(t);
};
goog.dom.safe.setInputFormAction = function(e, t) {
t = t instanceof goog.html.SafeUrl ? t : goog.html.SafeUrl.sanitizeAssertUnchanged(t);
goog.dom.asserts.assertIsHTMLInputElement(e).formAction = goog.html.SafeUrl.unwrapTrustedURL(t);
};
goog.dom.safe.setStyle = function(e, t) {
e.style.cssText = goog.html.SafeStyle.unwrap(t);
};
goog.dom.safe.documentWrite = function(e, t) {
e.write(goog.html.SafeHtml.unwrapTrustedHTML(t));
};
goog.dom.safe.setAnchorHref = function(e, t) {
goog.dom.asserts.assertIsHTMLAnchorElement(e);
t = t instanceof goog.html.SafeUrl ? t : goog.html.SafeUrl.sanitizeAssertUnchanged(t);
e.href = goog.html.SafeUrl.unwrapTrustedURL(t);
};
goog.dom.safe.setImageSrc = function(e, t) {
goog.dom.asserts.assertIsHTMLImageElement(e);
if (!(t instanceof goog.html.SafeUrl)) {
var i = /^data:image\//i.test(t);
t = goog.html.SafeUrl.sanitizeAssertUnchanged(t, i);
}
e.src = goog.html.SafeUrl.unwrapTrustedURL(t);
};
goog.dom.safe.setAudioSrc = function(e, t) {
goog.dom.asserts.assertIsHTMLAudioElement(e);
if (!(t instanceof goog.html.SafeUrl)) {
var i = /^data:audio\//i.test(t);
t = goog.html.SafeUrl.sanitizeAssertUnchanged(t, i);
}
e.src = goog.html.SafeUrl.unwrapTrustedURL(t);
};
goog.dom.safe.setVideoSrc = function(e, t) {
goog.dom.asserts.assertIsHTMLVideoElement(e);
if (!(t instanceof goog.html.SafeUrl)) {
var i = /^data:video\//i.test(t);
t = goog.html.SafeUrl.sanitizeAssertUnchanged(t, i);
}
e.src = goog.html.SafeUrl.unwrapTrustedURL(t);
};
goog.dom.safe.setEmbedSrc = function(e, t) {
goog.dom.asserts.assertIsHTMLEmbedElement(e);
e.src = goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t);
};
goog.dom.safe.setFrameSrc = function(e, t) {
goog.dom.asserts.assertIsHTMLFrameElement(e);
e.src = goog.html.TrustedResourceUrl.unwrapTrustedURL(t);
};
goog.dom.safe.setIframeSrc = function(e, t) {
goog.dom.asserts.assertIsHTMLIFrameElement(e);
e.src = goog.html.TrustedResourceUrl.unwrapTrustedURL(t);
};
goog.dom.safe.setIframeSrcdoc = function(e, t) {
goog.dom.asserts.assertIsHTMLIFrameElement(e);
e.srcdoc = goog.html.SafeHtml.unwrapTrustedHTML(t);
};
goog.dom.safe.setLinkHrefAndRel = function(e, t, i) {
goog.dom.asserts.assertIsHTMLLinkElement(e);
e.rel = i;
goog.string.internal.caseInsensitiveContains(i, "stylesheet") ? (goog.asserts.assert(t instanceof goog.html.TrustedResourceUrl, 'URL must be TrustedResourceUrl because "rel" contains "stylesheet"'), 
e.href = goog.html.TrustedResourceUrl.unwrapTrustedURL(t)) : e.href = t instanceof goog.html.TrustedResourceUrl ? goog.html.TrustedResourceUrl.unwrapTrustedURL(t) : t instanceof goog.html.SafeUrl ? goog.html.SafeUrl.unwrapTrustedURL(t) : goog.html.SafeUrl.unwrapTrustedURL(goog.html.SafeUrl.sanitizeAssertUnchanged(t));
};
goog.dom.safe.setObjectData = function(e, t) {
goog.dom.asserts.assertIsHTMLObjectElement(e);
e.data = goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t);
};
goog.dom.safe.setScriptSrc = function(e, t) {
goog.dom.asserts.assertIsHTMLScriptElement(e);
e.src = goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t);
(t = goog.getScriptNonce()) && e.setAttribute("nonce", t);
};
goog.dom.safe.setScriptContent = function(e, t) {
goog.dom.asserts.assertIsHTMLScriptElement(e);
e.text = goog.html.SafeScript.unwrapTrustedScript(t);
(t = goog.getScriptNonce()) && e.setAttribute("nonce", t);
};
goog.dom.safe.setLocationHref = function(e, t) {
goog.dom.asserts.assertIsLocation(e);
t = t instanceof goog.html.SafeUrl ? t : goog.html.SafeUrl.sanitizeAssertUnchanged(t);
e.href = goog.html.SafeUrl.unwrapTrustedURL(t);
};
goog.dom.safe.assignLocation = function(e, t) {
goog.dom.asserts.assertIsLocation(e);
t = t instanceof goog.html.SafeUrl ? t : goog.html.SafeUrl.sanitizeAssertUnchanged(t);
e.assign(goog.html.SafeUrl.unwrapTrustedURL(t));
};
goog.dom.safe.replaceLocation = function(e, t) {
goog.dom.asserts.assertIsLocation(e);
t = t instanceof goog.html.SafeUrl ? t : goog.html.SafeUrl.sanitizeAssertUnchanged(t);
e.replace(goog.html.SafeUrl.unwrapTrustedURL(t));
};
goog.dom.safe.openInWindow = function(e, t, i, o, n) {
e = e instanceof goog.html.SafeUrl ? e : goog.html.SafeUrl.sanitizeAssertUnchanged(e);
return (t || goog.global).open(goog.html.SafeUrl.unwrapTrustedURL(e), i ? goog.string.Const.unwrap(i) : "", o, n);
};
goog.dom.safe.parseFromStringHtml = function(e, t) {
return goog.dom.safe.parseFromString(e, t, "text/html");
};
goog.dom.safe.parseFromString = function(e, t, i) {
return e.parseFromString(goog.html.SafeHtml.unwrapTrustedHTML(t), i);
};
goog.dom.safe.createImageFromBlob = function(e) {
if (!/^image\/.*/g.test(e.type)) throw Error("goog.dom.safe.createImageFromBlob only accepts MIME type image/.*.");
var t = goog.global.URL.createObjectURL(e);
(e = new goog.global.Image()).onload = function() {
goog.global.URL.revokeObjectURL(t);
};
goog.dom.safe.setImageSrc(e, goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Image blob URL."), t));
return e;
};
goog.string.DETECT_DOUBLE_ESCAPING = !1;
goog.string.FORCE_NON_DOM_HTML_UNESCAPING = !1;
goog.string.Unicode = {
NBSP: " "
};
goog.string.startsWith = goog.string.internal.startsWith;
goog.string.endsWith = goog.string.internal.endsWith;
goog.string.caseInsensitiveStartsWith = goog.string.internal.caseInsensitiveStartsWith;
goog.string.caseInsensitiveEndsWith = goog.string.internal.caseInsensitiveEndsWith;
goog.string.caseInsensitiveEquals = goog.string.internal.caseInsensitiveEquals;
goog.string.subs = function(e, t) {
for (var i = e.split("%s"), o = "", n = Array.prototype.slice.call(arguments, 1); n.length && 1 < i.length; ) o += i.shift() + n.shift();
return o + i.join("%s");
};
goog.string.collapseWhitespace = function(e) {
return e.replace(/[\s\xa0]+/g, " ").replace(/^\s+|\s+$/g, "");
};
goog.string.isEmptyOrWhitespace = goog.string.internal.isEmptyOrWhitespace;
goog.string.isEmptyString = function(e) {
return 0 == e.length;
};
goog.string.isEmpty = goog.string.isEmptyOrWhitespace;
goog.string.isEmptyOrWhitespaceSafe = function(e) {
return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(e));
};
goog.string.isEmptySafe = goog.string.isEmptyOrWhitespaceSafe;
goog.string.isBreakingWhitespace = function(e) {
return !/[^\t\n\r ]/.test(e);
};
goog.string.isAlpha = function(e) {
return !/[^a-zA-Z]/.test(e);
};
goog.string.isNumeric = function(e) {
return !/[^0-9]/.test(e);
};
goog.string.isAlphaNumeric = function(e) {
return !/[^a-zA-Z0-9]/.test(e);
};
goog.string.isSpace = function(e) {
return " " == e;
};
goog.string.isUnicodeChar = function(e) {
return 1 == e.length && " " <= e && "~" >= e || "" <= e && "�" >= e;
};
goog.string.stripNewlines = function(e) {
return e.replace(/(\r\n|\r|\n)+/g, " ");
};
goog.string.canonicalizeNewlines = function(e) {
return e.replace(/(\r\n|\r|\n)/g, "\n");
};
goog.string.normalizeWhitespace = function(e) {
return e.replace(/\xa0|\s/g, " ");
};
goog.string.normalizeSpaces = function(e) {
return e.replace(/\xa0|[ \t]+/g, " ");
};
goog.string.collapseBreakingSpaces = function(e) {
return e.replace(/[\t\r\n ]+/g, " ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g, "");
};
goog.string.trim = goog.string.internal.trim;
goog.string.trimLeft = function(e) {
return e.replace(/^[\s\xa0]+/, "");
};
goog.string.trimRight = function(e) {
return e.replace(/[\s\xa0]+$/, "");
};
goog.string.caseInsensitiveCompare = goog.string.internal.caseInsensitiveCompare;
goog.string.numberAwareCompare_ = function(e, t, i) {
if (e == t) return 0;
if (!e) return -1;
if (!t) return 1;
for (var o = e.toLowerCase().match(i), n = t.toLowerCase().match(i), r = Math.min(o.length, n.length), a = 0; a < r; a++) {
i = o[a];
var s = n[a];
if (i != s) return e = parseInt(i, 10), !isNaN(e) && (t = parseInt(s, 10), !isNaN(t) && e - t) ? e - t : i < s ? -1 : 1;
}
return o.length != n.length ? o.length - n.length : e < t ? -1 : 1;
};
goog.string.intAwareCompare = function(e, t) {
return goog.string.numberAwareCompare_(e, t, /\d+|\D+/g);
};
goog.string.floatAwareCompare = function(e, t) {
return goog.string.numberAwareCompare_(e, t, /\d+|\.\d+|\D+/g);
};
goog.string.numerateCompare = goog.string.floatAwareCompare;
goog.string.urlEncode = function(e) {
return encodeURIComponent(String(e));
};
goog.string.urlDecode = function(e) {
return decodeURIComponent(e.replace(/\+/g, " "));
};
goog.string.newLineToBr = goog.string.internal.newLineToBr;
goog.string.htmlEscape = function(e, t) {
e = goog.string.internal.htmlEscape(e, t);
goog.string.DETECT_DOUBLE_ESCAPING && (e = e.replace(goog.string.E_RE_, "&#101;"));
return e;
};
goog.string.E_RE_ = /e/g;
goog.string.unescapeEntities = function(e) {
return goog.string.contains(e, "&") ? !goog.string.FORCE_NON_DOM_HTML_UNESCAPING && "document" in goog.global ? goog.string.unescapeEntitiesUsingDom_(e) : goog.string.unescapePureXmlEntities_(e) : e;
};
goog.string.unescapeEntitiesWithDocument = function(e, t) {
return goog.string.contains(e, "&") ? goog.string.unescapeEntitiesUsingDom_(e, t) : e;
};
goog.string.unescapeEntitiesUsingDom_ = function(e, t) {
var i = {
"&amp;": "&",
"&lt;": "<",
"&gt;": ">",
"&quot;": '"'
}, o = t ? t.createElement("div") : goog.global.document.createElement("div");
return e.replace(goog.string.HTML_ENTITY_PATTERN_, function(e, t) {
var n = i[e];
if (n) return n;
"#" == t.charAt(0) && (t = Number("0" + t.substr(1)), isNaN(t) || (n = String.fromCharCode(t)));
n || (goog.dom.safe.setInnerHtml(o, goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Single HTML entity."), e + " ")), 
n = o.firstChild.nodeValue.slice(0, -1));
return i[e] = n;
});
};
goog.string.unescapePureXmlEntities_ = function(e) {
return e.replace(/&([^;]+);/g, function(e, t) {
switch (t) {
case "amp":
return "&";

case "lt":
return "<";

case "gt":
return ">";

case "quot":
return '"';

default:
return "#" != t.charAt(0) || (t = Number("0" + t.substr(1)), isNaN(t)) ? e : String.fromCharCode(t);
}
});
};
goog.string.HTML_ENTITY_PATTERN_ = /&([^;\s<&]+);?/g;
goog.string.whitespaceEscape = function(e, t) {
return goog.string.newLineToBr(e.replace(/  /g, " &#160;"), t);
};
goog.string.preserveSpaces = function(e) {
return e.replace(/(^|[\n ]) /g, "$1" + goog.string.Unicode.NBSP);
};
goog.string.stripQuotes = function(e, t) {
for (var i = t.length, o = 0; o < i; o++) {
var n = 1 == i ? t : t.charAt(o);
if (e.charAt(0) == n && e.charAt(e.length - 1) == n) return e.substring(1, e.length - 1);
}
return e;
};
goog.string.truncate = function(e, t, i) {
i && (e = goog.string.unescapeEntities(e));
e.length > t && (e = e.substring(0, t - 3) + "...");
i && (e = goog.string.htmlEscape(e));
return e;
};
goog.string.truncateMiddle = function(e, t, i, o) {
i && (e = goog.string.unescapeEntities(e));
if (o && e.length > t) {
o > t && (o = t);
var n = e.length - o;
e = e.substring(0, t - o) + "..." + e.substring(n);
} else e.length > t && (o = Math.floor(t / 2), n = e.length - o, e = e.substring(0, o + t % 2) + "..." + e.substring(n));
i && (e = goog.string.htmlEscape(e));
return e;
};
goog.string.specialEscapeChars_ = {
"\0": "\\0",
"\b": "\\b",
"\f": "\\f",
"\n": "\\n",
"\r": "\\r",
"\t": "\\t",
"\v": "\\x0B",
'"': '\\"',
"\\": "\\\\",
"<": "\\u003C"
};
goog.string.jsEscapeCache_ = {
"'": "\\'"
};
goog.string.quote = function(e) {
e = String(e);
for (var t = [ '"' ], i = 0; i < e.length; i++) {
var o = e.charAt(i), n = o.charCodeAt(0);
t[i + 1] = goog.string.specialEscapeChars_[o] || (31 < n && 127 > n ? o : goog.string.escapeChar(o));
}
t.push('"');
return t.join("");
};
goog.string.escapeString = function(e) {
for (var t = [], i = 0; i < e.length; i++) t[i] = goog.string.escapeChar(e.charAt(i));
return t.join("");
};
goog.string.escapeChar = function(e) {
if (e in goog.string.jsEscapeCache_) return goog.string.jsEscapeCache_[e];
if (e in goog.string.specialEscapeChars_) return goog.string.jsEscapeCache_[e] = goog.string.specialEscapeChars_[e];
var t = e.charCodeAt(0);
if (31 < t && 127 > t) var i = e; else {
256 > t ? (i = "\\x", 16 > t || 256 < t) && (i += "0") : (i = "\\u", 4096 > t && (i += "0"));
i += t.toString(16).toUpperCase();
}
return goog.string.jsEscapeCache_[e] = i;
};
goog.string.contains = goog.string.internal.contains;
goog.string.caseInsensitiveContains = goog.string.internal.caseInsensitiveContains;
goog.string.countOf = function(e, t) {
return e && t ? e.split(t).length - 1 : 0;
};
goog.string.removeAt = function(e, t, i) {
var o = e;
0 <= t && t < e.length && 0 < i && (o = e.substr(0, t) + e.substr(t + i, e.length - t - i));
return o;
};
goog.string.remove = function(e, t) {
return e.replace(t, "");
};
goog.string.removeAll = function(e, t) {
t = new RegExp(goog.string.regExpEscape(t), "g");
return e.replace(t, "");
};
goog.string.replaceAll = function(e, t, i) {
t = new RegExp(goog.string.regExpEscape(t), "g");
return e.replace(t, i.replace(/\$/g, "$$$$"));
};
goog.string.regExpEscape = function(e) {
return String(e).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g, "\\$1").replace(/\x08/g, "\\x08");
};
goog.string.repeat = String.prototype.repeat ? function(e, t) {
return e.repeat(t);
} : function(e, t) {
return Array(t + 1).join(e);
};
goog.string.padNumber = function(e, t, i) {
-1 == (i = (e = goog.isDef(i) ? e.toFixed(i) : String(e)).indexOf(".")) && (i = e.length);
return goog.string.repeat("0", Math.max(0, t - i)) + e;
};
goog.string.makeSafe = function(e) {
return null == e ? "" : String(e);
};
goog.string.buildString = function(e) {
return Array.prototype.join.call(arguments, "");
};
goog.string.getRandomString = function() {
return Math.floor(2147483648 * Math.random()).toString(36) + Math.abs(Math.floor(2147483648 * Math.random()) ^ goog.now()).toString(36);
};
goog.string.compareVersions = goog.string.internal.compareVersions;
goog.string.hashCode = function(e) {
for (var t = 0, i = 0; i < e.length; ++i) t = 31 * t + e.charCodeAt(i) >>> 0;
return t;
};
goog.string.uniqueStringCounter_ = 2147483648 * Math.random() | 0;
goog.string.createUniqueString = function() {
return "goog_" + goog.string.uniqueStringCounter_++;
};
goog.string.toNumber = function(e) {
var t = Number(e);
return 0 == t && goog.string.isEmptyOrWhitespace(e) ? NaN : t;
};
goog.string.isLowerCamelCase = function(e) {
return /^[a-z]+([A-Z][a-z]*)*$/.test(e);
};
goog.string.isUpperCamelCase = function(e) {
return /^([A-Z][a-z]*)+$/.test(e);
};
goog.string.toCamelCase = function(e) {
return String(e).replace(/\-([a-z])/g, function(e, t) {
return t.toUpperCase();
});
};
goog.string.toSelectorCase = function(e) {
return String(e).replace(/([A-Z])/g, "-$1").toLowerCase();
};
goog.string.toTitleCase = function(e, t) {
t = goog.isString(t) ? goog.string.regExpEscape(t) : "\\s";
return e.replace(new RegExp("(^" + (t ? "|[" + t + "]+" : "") + ")([a-z])", "g"), function(e, t, i) {
return t + i.toUpperCase();
});
};
goog.string.capitalize = function(e) {
return String(e.charAt(0)).toUpperCase() + String(e.substr(1)).toLowerCase();
};
goog.string.parseInt = function(e) {
isFinite(e) && (e = String(e));
return goog.isString(e) ? /^\s*-?0x/i.test(e) ? parseInt(e, 16) : parseInt(e, 10) : NaN;
};
goog.string.splitLimit = function(e, t, i) {
e = e.split(t);
for (var o = []; 0 < i && e.length; ) o.push(e.shift()), i--;
e.length && o.push(e.join(t));
return o;
};
goog.string.lastComponent = function(e, t) {
if (!t) return e;
"string" == typeof t && (t = [ t ]);
for (var i = -1, o = 0; o < t.length; o++) if ("" != t[o]) {
var n = e.lastIndexOf(t[o]);
n > i && (i = n);
}
return -1 == i ? e : e.slice(i + 1);
};
goog.string.editDistance = function(e, t) {
var i = [], o = [];
if (e == t) return 0;
if (!e.length || !t.length) return Math.max(e.length, t.length);
for (var n = 0; n < t.length + 1; n++) i[n] = n;
for (n = 0; n < e.length; n++) {
o[0] = n + 1;
for (var r = 0; r < t.length; r++) o[r + 1] = Math.min(o[r] + 1, i[r + 1] + 1, i[r] + Number(e[n] != t[r]));
for (r = 0; r < i.length; r++) i[r] = o[r];
}
return o[t.length];
};
goog.labs.userAgent.platform = {};
goog.labs.userAgent.platform.isAndroid = function() {
return goog.labs.userAgent.util.matchUserAgent("Android");
};
goog.labs.userAgent.platform.isIpod = function() {
return goog.labs.userAgent.util.matchUserAgent("iPod");
};
goog.labs.userAgent.platform.isIphone = function() {
return goog.labs.userAgent.util.matchUserAgent("iPhone") && !goog.labs.userAgent.util.matchUserAgent("iPod") && !goog.labs.userAgent.util.matchUserAgent("iPad");
};
goog.labs.userAgent.platform.isIpad = function() {
return goog.labs.userAgent.util.matchUserAgent("iPad");
};
goog.labs.userAgent.platform.isIos = function() {
return goog.labs.userAgent.platform.isIphone() || goog.labs.userAgent.platform.isIpad() || goog.labs.userAgent.platform.isIpod();
};
goog.labs.userAgent.platform.isMacintosh = function() {
return goog.labs.userAgent.util.matchUserAgent("Macintosh");
};
goog.labs.userAgent.platform.isLinux = function() {
return goog.labs.userAgent.util.matchUserAgent("Linux");
};
goog.labs.userAgent.platform.isWindows = function() {
return goog.labs.userAgent.util.matchUserAgent("Windows");
};
goog.labs.userAgent.platform.isChromeOS = function() {
return goog.labs.userAgent.util.matchUserAgent("CrOS");
};
goog.labs.userAgent.platform.isChromecast = function() {
return goog.labs.userAgent.util.matchUserAgent("CrKey");
};
goog.labs.userAgent.platform.isKaiOS = function() {
return goog.labs.userAgent.util.matchUserAgentIgnoreCase("KaiOS");
};
goog.labs.userAgent.platform.isGo2Phone = function() {
return goog.labs.userAgent.util.matchUserAgentIgnoreCase("GAFP");
};
goog.labs.userAgent.platform.getVersion = function() {
var e = goog.labs.userAgent.util.getUserAgent(), t = "";
goog.labs.userAgent.platform.isWindows() ? t = (e = (t = /Windows (?:NT|Phone) ([0-9.]+)/).exec(e)) ? e[1] : "0.0" : goog.labs.userAgent.platform.isIos() ? t = (e = (t = /(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/).exec(e)) && e[1].replace(/_/g, ".") : goog.labs.userAgent.platform.isMacintosh() ? t = (e = (t = /Mac OS X ([0-9_.]+)/).exec(e)) ? e[1].replace(/_/g, ".") : "10" : goog.labs.userAgent.platform.isKaiOS() ? t = (e = (t = /(?:KaiOS)\/(\S+)/i).exec(e)) && e[1] : goog.labs.userAgent.platform.isAndroid() ? t = (e = (t = /Android\s+([^\);]+)(\)|;)/).exec(e)) && e[1] : goog.labs.userAgent.platform.isChromeOS() && (t = (e = (t = /(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/).exec(e)) && e[1]);
return t || "";
};
goog.labs.userAgent.platform.isVersionOrHigher = function(e) {
return 0 <= goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(), e);
};
goog.reflect = {};
goog.reflect.object = function(e, t) {
return t;
};
goog.reflect.objectProperty = function(e, t) {
return e;
};
goog.reflect.sinkValue = function(e) {
goog.reflect.sinkValue[" "](e);
return e;
};
goog.reflect.sinkValue[" "] = goog.nullFunction;
goog.reflect.canAccessProperty = function(e, t) {
try {
return goog.reflect.sinkValue(e[t]), !0;
} catch (e) {}
return !1;
};
goog.reflect.cache = function(e, t, i, o) {
o = o ? o(t) : t;
return Object.prototype.hasOwnProperty.call(e, o) ? e[o] : e[o] = i(t);
};
goog.labs.userAgent.engine = {};
goog.labs.userAgent.engine.isPresto = function() {
return goog.labs.userAgent.util.matchUserAgent("Presto");
};
goog.labs.userAgent.engine.isTrident = function() {
return goog.labs.userAgent.util.matchUserAgent("Trident") || goog.labs.userAgent.util.matchUserAgent("MSIE");
};
goog.labs.userAgent.engine.isEdge = function() {
return goog.labs.userAgent.util.matchUserAgent("Edge");
};
goog.labs.userAgent.engine.isWebKit = function() {
return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit") && !goog.labs.userAgent.engine.isEdge();
};
goog.labs.userAgent.engine.isGecko = function() {
return goog.labs.userAgent.util.matchUserAgent("Gecko") && !goog.labs.userAgent.engine.isWebKit() && !goog.labs.userAgent.engine.isTrident() && !goog.labs.userAgent.engine.isEdge();
};
goog.labs.userAgent.engine.getVersion = function() {
var e = goog.labs.userAgent.util.getUserAgent();
if (e) {
e = goog.labs.userAgent.util.extractVersionTuples(e);
var t, i = goog.labs.userAgent.engine.getEngineTuple_(e);
if (i) return "Gecko" == i[0] ? goog.labs.userAgent.engine.getVersionForKey_(e, "Firefox") : i[1];
if ((e = e[0]) && (t = e[2]) && (t = /Trident\/([^\s;]+)/.exec(t))) return t[1];
}
return "";
};
goog.labs.userAgent.engine.getEngineTuple_ = function(e) {
if (!goog.labs.userAgent.engine.isEdge()) return e[1];
for (var t = 0; t < e.length; t++) {
var i = e[t];
if ("Edge" == i[0]) return i;
}
};
goog.labs.userAgent.engine.isVersionOrHigher = function(e) {
return 0 <= goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(), e);
};
goog.labs.userAgent.engine.getVersionForKey_ = function(e, t) {
return (e = goog.array.find(e, function(e) {
return t == e[0];
})) && e[1] || "";
};
goog.userAgent = {};
goog.userAgent.ASSUME_IE = !1;
goog.userAgent.ASSUME_EDGE = !1;
goog.userAgent.ASSUME_GECKO = !1;
goog.userAgent.ASSUME_WEBKIT = !1;
goog.userAgent.ASSUME_MOBILE_WEBKIT = !1;
goog.userAgent.ASSUME_OPERA = !1;
goog.userAgent.ASSUME_ANY_VERSION = !1;
goog.userAgent.BROWSER_KNOWN_ = goog.userAgent.ASSUME_IE || goog.userAgent.ASSUME_EDGE || goog.userAgent.ASSUME_GECKO || goog.userAgent.ASSUME_MOBILE_WEBKIT || goog.userAgent.ASSUME_WEBKIT || goog.userAgent.ASSUME_OPERA;
goog.userAgent.getUserAgentString = function() {
return goog.labs.userAgent.util.getUserAgent();
};
goog.userAgent.getNavigatorTyped = function() {
return goog.global.navigator || null;
};
goog.userAgent.getNavigator = function() {
return goog.userAgent.getNavigatorTyped();
};
goog.userAgent.OPERA = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_OPERA : goog.labs.userAgent.browser.isOpera();
goog.userAgent.IE = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_IE : goog.labs.userAgent.browser.isIE();
goog.userAgent.EDGE = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_EDGE : goog.labs.userAgent.engine.isEdge();
goog.userAgent.EDGE_OR_IE = goog.userAgent.EDGE || goog.userAgent.IE;
goog.userAgent.GECKO = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_GECKO : goog.labs.userAgent.engine.isGecko();
goog.userAgent.WEBKIT = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_WEBKIT || goog.userAgent.ASSUME_MOBILE_WEBKIT : goog.labs.userAgent.engine.isWebKit();
goog.userAgent.isMobile_ = function() {
return goog.userAgent.WEBKIT && goog.labs.userAgent.util.matchUserAgent("Mobile");
};
goog.userAgent.MOBILE = goog.userAgent.ASSUME_MOBILE_WEBKIT || goog.userAgent.isMobile_();
goog.userAgent.SAFARI = goog.userAgent.WEBKIT;
goog.userAgent.determinePlatform_ = function() {
var e = goog.userAgent.getNavigatorTyped();
return e && e.platform || "";
};
goog.userAgent.PLATFORM = goog.userAgent.determinePlatform_();
goog.userAgent.ASSUME_MAC = !1;
goog.userAgent.ASSUME_WINDOWS = !1;
goog.userAgent.ASSUME_LINUX = !1;
goog.userAgent.ASSUME_X11 = !1;
goog.userAgent.ASSUME_ANDROID = !1;
goog.userAgent.ASSUME_IPHONE = !1;
goog.userAgent.ASSUME_IPAD = !1;
goog.userAgent.ASSUME_IPOD = !1;
goog.userAgent.ASSUME_KAIOS = !1;
goog.userAgent.ASSUME_GO2PHONE = !1;
goog.userAgent.PLATFORM_KNOWN_ = goog.userAgent.ASSUME_MAC || goog.userAgent.ASSUME_WINDOWS || goog.userAgent.ASSUME_LINUX || goog.userAgent.ASSUME_X11 || goog.userAgent.ASSUME_ANDROID || goog.userAgent.ASSUME_IPHONE || goog.userAgent.ASSUME_IPAD || goog.userAgent.ASSUME_IPOD;
goog.userAgent.MAC = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_MAC : goog.labs.userAgent.platform.isMacintosh();
goog.userAgent.WINDOWS = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_WINDOWS : goog.labs.userAgent.platform.isWindows();
goog.userAgent.isLegacyLinux_ = function() {
return goog.labs.userAgent.platform.isLinux() || goog.labs.userAgent.platform.isChromeOS();
};
goog.userAgent.LINUX = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_LINUX : goog.userAgent.isLegacyLinux_();
goog.userAgent.isX11_ = function() {
var e = goog.userAgent.getNavigatorTyped();
return !!e && goog.string.contains(e.appVersion || "", "X11");
};
goog.userAgent.X11 = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_X11 : goog.userAgent.isX11_();
goog.userAgent.ANDROID = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_ANDROID : goog.labs.userAgent.platform.isAndroid();
goog.userAgent.IPHONE = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_IPHONE : goog.labs.userAgent.platform.isIphone();
goog.userAgent.IPAD = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_IPAD : goog.labs.userAgent.platform.isIpad();
goog.userAgent.IPOD = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_IPOD : goog.labs.userAgent.platform.isIpod();
goog.userAgent.IOS = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_IPHONE || goog.userAgent.ASSUME_IPAD || goog.userAgent.ASSUME_IPOD : goog.labs.userAgent.platform.isIos();
goog.userAgent.KAIOS = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_KAIOS : goog.labs.userAgent.platform.isKaiOS();
goog.userAgent.GO2PHONE = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_GO2PHONE : goog.labs.userAgent.platform.isGo2Phone();
goog.userAgent.determineVersion_ = function() {
var e = "", t = goog.userAgent.getVersionRegexResult_();
t && (e = t ? t[1] : "");
return goog.userAgent.IE && (null != (t = goog.userAgent.getDocumentMode_()) && t > parseFloat(e)) ? String(t) : e;
};
goog.userAgent.getVersionRegexResult_ = function() {
var e = goog.userAgent.getUserAgentString();
return goog.userAgent.GECKO ? /rv:([^\);]+)(\)|;)/.exec(e) : goog.userAgent.EDGE ? /Edge\/([\d\.]+)/.exec(e) : goog.userAgent.IE ? /\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e) : goog.userAgent.WEBKIT ? /WebKit\/(\S+)/.exec(e) : goog.userAgent.OPERA ? /(?:Version)[ \/]?(\S+)/.exec(e) : void 0;
};
goog.userAgent.getDocumentMode_ = function() {
var e = goog.global.document;
return e ? e.documentMode : void 0;
};
goog.userAgent.VERSION = goog.userAgent.determineVersion_();
goog.userAgent.compare = function(e, t) {
return goog.string.compareVersions(e, t);
};
goog.userAgent.isVersionOrHigherCache_ = {};
goog.userAgent.isVersionOrHigher = function(e) {
return goog.userAgent.ASSUME_ANY_VERSION || goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_, e, function() {
return 0 <= goog.string.compareVersions(goog.userAgent.VERSION, e);
});
};
goog.userAgent.isVersion = goog.userAgent.isVersionOrHigher;
goog.userAgent.isDocumentModeOrHigher = function(e) {
return Number(goog.userAgent.DOCUMENT_MODE) >= e;
};
goog.userAgent.isDocumentMode = goog.userAgent.isDocumentModeOrHigher;
goog.userAgent.DOCUMENT_MODE = function() {
if (goog.global.document && goog.userAgent.IE) return goog.userAgent.getDocumentMode_();
}();
goog.userAgent.product = {};
goog.userAgent.product.ASSUME_FIREFOX = !1;
goog.userAgent.product.ASSUME_IPHONE = !1;
goog.userAgent.product.ASSUME_IPAD = !1;
goog.userAgent.product.ASSUME_ANDROID = !1;
goog.userAgent.product.ASSUME_CHROME = !1;
goog.userAgent.product.ASSUME_SAFARI = !1;
goog.userAgent.product.PRODUCT_KNOWN_ = goog.userAgent.ASSUME_IE || goog.userAgent.ASSUME_EDGE || goog.userAgent.ASSUME_OPERA || goog.userAgent.product.ASSUME_FIREFOX || goog.userAgent.product.ASSUME_IPHONE || goog.userAgent.product.ASSUME_IPAD || goog.userAgent.product.ASSUME_ANDROID || goog.userAgent.product.ASSUME_CHROME || goog.userAgent.product.ASSUME_SAFARI;
goog.userAgent.product.OPERA = goog.userAgent.OPERA;
goog.userAgent.product.IE = goog.userAgent.IE;
goog.userAgent.product.EDGE = goog.userAgent.EDGE;
goog.userAgent.product.FIREFOX = goog.userAgent.product.PRODUCT_KNOWN_ ? goog.userAgent.product.ASSUME_FIREFOX : goog.labs.userAgent.browser.isFirefox();
goog.userAgent.product.isIphoneOrIpod_ = function() {
return goog.labs.userAgent.platform.isIphone() || goog.labs.userAgent.platform.isIpod();
};
goog.userAgent.product.IPHONE = goog.userAgent.product.PRODUCT_KNOWN_ ? goog.userAgent.product.ASSUME_IPHONE : goog.userAgent.product.isIphoneOrIpod_();
goog.userAgent.product.IPAD = goog.userAgent.product.PRODUCT_KNOWN_ ? goog.userAgent.product.ASSUME_IPAD : goog.labs.userAgent.platform.isIpad();
goog.userAgent.product.ANDROID = goog.userAgent.product.PRODUCT_KNOWN_ ? goog.userAgent.product.ASSUME_ANDROID : goog.labs.userAgent.browser.isAndroidBrowser();
goog.userAgent.product.CHROME = goog.userAgent.product.PRODUCT_KNOWN_ ? goog.userAgent.product.ASSUME_CHROME : goog.labs.userAgent.browser.isChrome();
goog.userAgent.product.isSafariDesktop_ = function() {
return goog.labs.userAgent.browser.isSafari() && !goog.labs.userAgent.platform.isIos();
};
goog.userAgent.product.SAFARI = goog.userAgent.product.PRODUCT_KNOWN_ ? goog.userAgent.product.ASSUME_SAFARI : goog.userAgent.product.isSafariDesktop_();
goog.crypt.base64 = {};
goog.crypt.base64.DEFAULT_ALPHABET_COMMON_ = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
goog.crypt.base64.ENCODED_VALS = goog.crypt.base64.DEFAULT_ALPHABET_COMMON_ + "+/=";
goog.crypt.base64.ENCODED_VALS_WEBSAFE = goog.crypt.base64.DEFAULT_ALPHABET_COMMON_ + "-_.";
goog.crypt.base64.Alphabet = {
DEFAULT: 0,
NO_PADDING: 1,
WEBSAFE: 2,
WEBSAFE_DOT_PADDING: 3,
WEBSAFE_NO_PADDING: 4
};
goog.crypt.base64.paddingChars_ = "=.";
goog.crypt.base64.isPadding_ = function(e) {
return goog.string.contains(goog.crypt.base64.paddingChars_, e);
};
goog.crypt.base64.byteToCharMaps_ = {};
goog.crypt.base64.charToByteMap_ = null;
goog.crypt.base64.ASSUME_NATIVE_SUPPORT_ = goog.userAgent.GECKO || goog.userAgent.WEBKIT && !goog.userAgent.product.SAFARI || goog.userAgent.OPERA;
goog.crypt.base64.HAS_NATIVE_ENCODE_ = goog.crypt.base64.ASSUME_NATIVE_SUPPORT_ || "function" == typeof goog.global.btoa;
goog.crypt.base64.HAS_NATIVE_DECODE_ = goog.crypt.base64.ASSUME_NATIVE_SUPPORT_ || !goog.userAgent.product.SAFARI && !goog.userAgent.IE && "function" == typeof goog.global.atob;
goog.crypt.base64.encodeByteArray = function(e, t) {
goog.asserts.assert(goog.isArrayLike(e), "encodeByteArray takes an array as a parameter");
void 0 === t && (t = goog.crypt.base64.Alphabet.DEFAULT);
goog.crypt.base64.init_();
t = goog.crypt.base64.byteToCharMaps_[t];
for (var i = [], o = 0; o < e.length; o += 3) {
var n = e[o], r = o + 1 < e.length, a = r ? e[o + 1] : 0, s = o + 2 < e.length, c = s ? e[o + 2] : 0, l = n >> 2;
n = (3 & n) << 4 | a >> 4;
a = (15 & a) << 2 | c >> 6;
c &= 63;
s || (c = 64, r || (a = 64));
i.push(t[l], t[n], t[a] || "", t[c] || "");
}
return i.join("");
};
goog.crypt.base64.encodeString = function(e, t) {
return goog.crypt.base64.HAS_NATIVE_ENCODE_ && !t ? goog.global.btoa(e) : goog.crypt.base64.encodeByteArray(goog.crypt.stringToByteArray(e), t);
};
goog.crypt.base64.decodeString = function(e, t) {
if (goog.crypt.base64.HAS_NATIVE_DECODE_ && !t) return goog.global.atob(e);
var i = "";
goog.crypt.base64.decodeStringInternal_(e, function(e) {
i += String.fromCharCode(e);
});
return i;
};
goog.crypt.base64.decodeStringToByteArray = function(e, t) {
var i = [];
goog.crypt.base64.decodeStringInternal_(e, function(e) {
i.push(e);
});
return i;
};
goog.crypt.base64.decodeStringToUint8Array = function(e) {
goog.asserts.assert(!goog.userAgent.IE || goog.userAgent.isVersionOrHigher("10"), "Browser does not support typed arrays");
var t = e.length, i = 3 * t / 4;
i % 3 ? i = Math.floor(i) : goog.crypt.base64.isPadding_(e[t - 1]) && (i = goog.crypt.base64.isPadding_(e[t - 2]) ? i - 2 : i - 1);
var o = new Uint8Array(i), n = 0;
goog.crypt.base64.decodeStringInternal_(e, function(e) {
o[n++] = e;
});
return o.subarray(0, n);
};
goog.crypt.base64.decodeStringInternal_ = function(e, t) {
function i(t) {
for (;o < e.length; ) {
var i = e.charAt(o++), n = goog.crypt.base64.charToByteMap_[i];
if (null != n) return n;
if (!goog.string.isEmptyOrWhitespace(i)) throw Error("Unknown base64 encoding at char: " + i);
}
return t;
}
goog.crypt.base64.init_();
for (var o = 0; ;) {
var n = i(-1), r = i(0), a = i(64), s = i(64);
if (64 === s && -1 === n) break;
t(n << 2 | r >> 4);
64 != a && (t(r << 4 & 240 | a >> 2), 64 != s && t(a << 6 & 192 | s));
}
};
goog.crypt.base64.init_ = function() {
if (!goog.crypt.base64.charToByteMap_) {
goog.crypt.base64.charToByteMap_ = {};
for (var e = goog.crypt.base64.DEFAULT_ALPHABET_COMMON_.split(""), t = [ "+/=", "+/", "-_=", "-_.", "-_" ], i = 0; 5 > i; i++) {
var o = e.concat(t[i].split(""));
goog.crypt.base64.byteToCharMaps_[i] = o;
for (var n = 0; n < o.length; n++) {
var r = o[n], a = goog.crypt.base64.charToByteMap_[r];
void 0 === a ? goog.crypt.base64.charToByteMap_[r] = n : goog.asserts.assert(a === n);
}
}
}
};
jspb.utils = {};
jspb.utils.split64Low = 0;
jspb.utils.split64High = 0;
jspb.utils.splitUint64 = function(e) {
var t = e >>> 0;
e = Math.floor((e - t) / jspb.BinaryConstants.TWO_TO_32) >>> 0;
jspb.utils.split64Low = t;
jspb.utils.split64High = e;
};
jspb.utils.splitInt64 = function(e) {
var t = 0 > e, i = (e = Math.abs(e)) >>> 0;
e = Math.floor((e - i) / jspb.BinaryConstants.TWO_TO_32);
e >>>= 0;
t && (e = ~e >>> 0, 4294967295 < (i = 1 + (~i >>> 0)) && (i = 0, 4294967295 < ++e && (e = 0)));
jspb.utils.split64Low = i;
jspb.utils.split64High = e;
};
jspb.utils.splitZigzag64 = function(e) {
var t = 0 > e;
e = 2 * Math.abs(e);
jspb.utils.splitUint64(e);
e = jspb.utils.split64Low;
var i = jspb.utils.split64High;
t && (0 == e ? 0 == i ? i = e = 4294967295 : (i--, e = 4294967295) : e--);
jspb.utils.split64Low = e;
jspb.utils.split64High = i;
};
jspb.utils.splitFloat32 = function(e) {
var t = 0 > e ? 1 : 0;
if (0 === (e = t ? -e : e)) 0 < 1 / e ? (jspb.utils.split64High = 0, jspb.utils.split64Low = 0) : (jspb.utils.split64High = 0, 
jspb.utils.split64Low = 2147483648); else if (isNaN(e)) jspb.utils.split64High = 0, 
jspb.utils.split64Low = 2147483647; else if (e > jspb.BinaryConstants.FLOAT32_MAX) jspb.utils.split64High = 0, 
jspb.utils.split64Low = (t << 31 | 2139095040) >>> 0; else if (e < jspb.BinaryConstants.FLOAT32_MIN) e = Math.round(e / Math.pow(2, -149)), 
jspb.utils.split64High = 0, jspb.utils.split64Low = (t << 31 | e) >>> 0; else {
var i = Math.floor(Math.log(e) / Math.LN2);
e *= Math.pow(2, -i);
e = 8388607 & Math.round(e * jspb.BinaryConstants.TWO_TO_23);
jspb.utils.split64High = 0;
jspb.utils.split64Low = (t << 31 | i + 127 << 23 | e) >>> 0;
}
};
jspb.utils.splitFloat64 = function(e) {
var t = 0 > e ? 1 : 0;
if (0 === (e = t ? -e : e)) jspb.utils.split64High = 0 < 1 / e ? 0 : 2147483648, 
jspb.utils.split64Low = 0; else if (isNaN(e)) jspb.utils.split64High = 2147483647, 
jspb.utils.split64Low = 4294967295; else if (e > jspb.BinaryConstants.FLOAT64_MAX) jspb.utils.split64High = (t << 31 | 2146435072) >>> 0, 
jspb.utils.split64Low = 0; else if (e < jspb.BinaryConstants.FLOAT64_MIN) {
var i = e / Math.pow(2, -1074);
e = i / jspb.BinaryConstants.TWO_TO_32;
jspb.utils.split64High = (t << 31 | e) >>> 0;
jspb.utils.split64Low = i >>> 0;
} else {
var o = 0;
if (2 <= (i = e)) for (;2 <= i && 1023 > o; ) o++, i /= 2; else for (;1 > i && -1022 < o; ) i *= 2, 
o--;
e = (i = e * Math.pow(2, -o)) * jspb.BinaryConstants.TWO_TO_20 & 1048575;
i = i * jspb.BinaryConstants.TWO_TO_52 >>> 0;
jspb.utils.split64High = (t << 31 | o + 1023 << 20 | e) >>> 0;
jspb.utils.split64Low = i;
}
};
jspb.utils.splitHash64 = function(e) {
var t = e.charCodeAt(0), i = e.charCodeAt(1), o = e.charCodeAt(2), n = e.charCodeAt(3), r = e.charCodeAt(4), a = e.charCodeAt(5), s = e.charCodeAt(6);
e = e.charCodeAt(7);
jspb.utils.split64Low = t + (i << 8) + (o << 16) + (n << 24) >>> 0;
jspb.utils.split64High = r + (a << 8) + (s << 16) + (e << 24) >>> 0;
};
jspb.utils.joinUint64 = function(e, t) {
return t * jspb.BinaryConstants.TWO_TO_32 + (e >>> 0);
};
jspb.utils.joinInt64 = function(e, t) {
var i = 2147483648 & t;
i && (t = ~t >>> 0, 0 == (e = 1 + ~e >>> 0) && (t = t + 1 >>> 0));
e = jspb.utils.joinUint64(e, t);
return i ? -e : e;
};
jspb.utils.toZigzag64 = function(e, t, i) {
var o = t >> 31;
return i(e << 1 ^ o, (t << 1 | e >>> 31) ^ o);
};
jspb.utils.joinZigzag64 = function(e, t) {
return jspb.utils.fromZigzag64(e, t, jspb.utils.joinInt64);
};
jspb.utils.fromZigzag64 = function(e, t, i) {
var o = -(1 & e);
return i((e >>> 1 | t << 31) ^ o, t >>> 1 ^ o);
};
jspb.utils.joinFloat32 = function(e, t) {
t = 2 * (e >> 31) + 1;
var i = e >>> 23 & 255;
e &= 8388607;
return 255 == i ? e ? NaN : Infinity * t : 0 == i ? t * Math.pow(2, -149) * e : t * Math.pow(2, i - 150) * (e + Math.pow(2, 23));
};
jspb.utils.joinFloat64 = function(e, t) {
var i = 2 * (t >> 31) + 1, o = t >>> 20 & 2047;
e = jspb.BinaryConstants.TWO_TO_32 * (1048575 & t) + e;
return 2047 == o ? e ? NaN : Infinity * i : 0 == o ? i * Math.pow(2, -1074) * e : i * Math.pow(2, o - 1075) * (e + jspb.BinaryConstants.TWO_TO_52);
};
jspb.utils.joinHash64 = function(e, t) {
return String.fromCharCode(e >>> 0 & 255, e >>> 8 & 255, e >>> 16 & 255, e >>> 24 & 255, t >>> 0 & 255, t >>> 8 & 255, t >>> 16 & 255, t >>> 24 & 255);
};
jspb.utils.DIGITS = "0123456789abcdef".split("");
jspb.utils.ZERO_CHAR_CODE_ = 48;
jspb.utils.A_CHAR_CODE_ = 97;
jspb.utils.joinUnsignedDecimalString = function(e, t) {
function i(e, t) {
e = e ? String(e) : "";
return t ? "0000000".slice(e.length) + e : e;
}
if (2097151 >= t) return "" + (jspb.BinaryConstants.TWO_TO_32 * t + e);
var o = (e >>> 24 | t << 8) >>> 0 & 16777215;
e = (16777215 & e) + 6777216 * o + 6710656 * (t = t >> 16 & 65535);
o += 8147497 * t;
t *= 2;
1e7 <= e && (o += Math.floor(e / 1e7), e %= 1e7);
1e7 <= o && (t += Math.floor(o / 1e7), o %= 1e7);
return i(t, 0) + i(o, t) + i(e, 1);
};
jspb.utils.joinSignedDecimalString = function(e, t) {
var i = 2147483648 & t;
i && (t = ~t + (0 == (e = 1 + ~e >>> 0) ? 1 : 0) >>> 0);
e = jspb.utils.joinUnsignedDecimalString(e, t);
return i ? "-" + e : e;
};
jspb.utils.hash64ToDecimalString = function(e, t) {
jspb.utils.splitHash64(e);
e = jspb.utils.split64Low;
var i = jspb.utils.split64High;
return t ? jspb.utils.joinSignedDecimalString(e, i) : jspb.utils.joinUnsignedDecimalString(e, i);
};
jspb.utils.hash64ArrayToDecimalStrings = function(e, t) {
for (var i = Array(e.length), o = 0; o < e.length; o++) i[o] = jspb.utils.hash64ToDecimalString(e[o], t);
return i;
};
jspb.utils.decimalStringToHash64 = function(e) {
function t(e, t) {
for (var i = 0; 8 > i && (1 !== e || 0 < t); i++) t = e * o[i] + t, o[i] = 255 & t, 
t >>>= 8;
}
goog.asserts.assert(0 < e.length);
var i = !1;
"-" === e[0] && (i = !0, e = e.slice(1));
for (var o = [ 0, 0, 0, 0, 0, 0, 0, 0 ], n = 0; n < e.length; n++) t(10, e.charCodeAt(n) - jspb.utils.ZERO_CHAR_CODE_);
i && (function() {
for (var e = 0; 8 > e; e++) o[e] = 255 & ~o[e];
}(), t(1, 1));
return goog.crypt.byteArrayToString(o);
};
jspb.utils.splitDecimalString = function(e) {
jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(e));
};
jspb.utils.toHexDigit_ = function(e) {
return String.fromCharCode(10 > e ? jspb.utils.ZERO_CHAR_CODE_ + e : jspb.utils.A_CHAR_CODE_ - 10 + e);
};
jspb.utils.fromHexCharCode_ = function(e) {
return e >= jspb.utils.A_CHAR_CODE_ ? e - jspb.utils.A_CHAR_CODE_ + 10 : e - jspb.utils.ZERO_CHAR_CODE_;
};
jspb.utils.hash64ToHexString = function(e) {
var t = Array(18);
t[0] = "0";
t[1] = "x";
for (var i = 0; 8 > i; i++) {
var o = e.charCodeAt(7 - i);
t[2 * i + 2] = jspb.utils.toHexDigit_(o >> 4);
t[2 * i + 3] = jspb.utils.toHexDigit_(15 & o);
}
return t.join("");
};
jspb.utils.hexStringToHash64 = function(e) {
e = e.toLowerCase();
goog.asserts.assert(18 == e.length);
goog.asserts.assert("0" == e[0]);
goog.asserts.assert("x" == e[1]);
for (var t = "", i = 0; 8 > i; i++) {
var o = jspb.utils.fromHexCharCode_(e.charCodeAt(2 * i + 2)), n = jspb.utils.fromHexCharCode_(e.charCodeAt(2 * i + 3));
t = String.fromCharCode(16 * o + n) + t;
}
return t;
};
jspb.utils.hash64ToNumber = function(e, t) {
jspb.utils.splitHash64(e);
e = jspb.utils.split64Low;
var i = jspb.utils.split64High;
return t ? jspb.utils.joinInt64(e, i) : jspb.utils.joinUint64(e, i);
};
jspb.utils.numberToHash64 = function(e) {
jspb.utils.splitInt64(e);
return jspb.utils.joinHash64(jspb.utils.split64Low, jspb.utils.split64High);
};
jspb.utils.countVarints = function(e, t, i) {
for (var o = 0, n = t; n < i; n++) o += e[n] >> 7;
return i - t - o;
};
jspb.utils.countVarintFields = function(e, t, i, o) {
var n = 0;
if (128 > (o = 8 * o + jspb.BinaryConstants.WireType.VARINT)) for (;t < i && e[t++] == o; ) for (n++; ;) {
var r = e[t++];
if (0 == (128 & r)) break;
} else for (;t < i; ) {
for (r = o; 128 < r; ) {
if (e[t] != (127 & r | 128)) return n;
t++;
r >>= 7;
}
if (e[t++] != r) break;
for (n++; 0 != (128 & (r = e[t++])); ) ;
}
return n;
};
jspb.utils.countFixedFields_ = function(e, t, i, o, n) {
var r = 0;
if (128 > o) for (;t < i && e[t++] == o; ) r++, t += n; else for (;t < i; ) {
for (var a = o; 128 < a; ) {
if (e[t++] != (127 & a | 128)) return r;
a >>= 7;
}
if (e[t++] != a) break;
r++;
t += n;
}
return r;
};
jspb.utils.countFixed32Fields = function(e, t, i, o) {
return jspb.utils.countFixedFields_(e, t, i, 8 * o + jspb.BinaryConstants.WireType.FIXED32, 4);
};
jspb.utils.countFixed64Fields = function(e, t, i, o) {
return jspb.utils.countFixedFields_(e, t, i, 8 * o + jspb.BinaryConstants.WireType.FIXED64, 8);
};
jspb.utils.countDelimitedFields = function(e, t, i, o) {
var n = 0;
for (o = 8 * o + jspb.BinaryConstants.WireType.DELIMITED; t < i; ) {
for (var r = o; 128 < r; ) {
if (e[t++] != (127 & r | 128)) return n;
r >>= 7;
}
if (e[t++] != r) break;
n++;
for (var a = 0, s = 1; a += (127 & (r = e[t++])) * s, s *= 128, 0 != (128 & r); ) ;
t += a;
}
return n;
};
jspb.utils.debugBytesToTextFormat = function(e) {
var t = '"';
if (e) {
e = jspb.utils.byteSourceToUint8Array(e);
for (var i = 0; i < e.length; i++) t += "\\x", 16 > e[i] && (t += "0"), t += e[i].toString(16);
}
return t + '"';
};
jspb.utils.debugScalarToTextFormat = function(e) {
return "string" == typeof e ? goog.string.quote(e) : e.toString();
};
jspb.utils.stringToByteArray = function(e) {
for (var t = new Uint8Array(e.length), i = 0; i < e.length; i++) {
var o = e.charCodeAt(i);
if (255 < o) throw Error("Conversion error: string contains codepoint outside of byte range");
t[i] = o;
}
return t;
};
jspb.utils.byteSourceToUint8Array = function(e) {
if (e.constructor === Uint8Array) return e;
if (e.constructor === ArrayBuffer || "undefined" != typeof Buffer && e.constructor === Buffer || e.constructor === Array) return new Uint8Array(e);
if (e.constructor === String) return goog.crypt.base64.decodeStringToUint8Array(e);
goog.asserts.fail("Type not convertible to Uint8Array.");
return new Uint8Array(0);
};
jspb.BinaryDecoder = function(e, t, i) {
this.bytes_ = null;
this.cursor_ = this.end_ = this.start_ = 0;
this.error_ = !1;
e && this.setBlock(e, t, i);
};
jspb.BinaryDecoder.instanceCache_ = [];
jspb.BinaryDecoder.alloc = function(e, t, i) {
if (jspb.BinaryDecoder.instanceCache_.length) {
var o = jspb.BinaryDecoder.instanceCache_.pop();
e && o.setBlock(e, t, i);
return o;
}
return new jspb.BinaryDecoder(e, t, i);
};
jspb.BinaryDecoder.prototype.free = function() {
this.clear();
100 > jspb.BinaryDecoder.instanceCache_.length && jspb.BinaryDecoder.instanceCache_.push(this);
};
jspb.BinaryDecoder.prototype.clone = function() {
return jspb.BinaryDecoder.alloc(this.bytes_, this.start_, this.end_ - this.start_);
};
jspb.BinaryDecoder.prototype.clear = function() {
this.bytes_ = null;
this.cursor_ = this.end_ = this.start_ = 0;
this.error_ = !1;
};
jspb.BinaryDecoder.prototype.getBuffer = function() {
return this.bytes_;
};
jspb.BinaryDecoder.prototype.setBlock = function(e, t, i) {
this.bytes_ = jspb.utils.byteSourceToUint8Array(e);
this.start_ = void 0 !== t ? t : 0;
this.end_ = void 0 !== i ? this.start_ + i : this.bytes_.length;
this.cursor_ = this.start_;
};
jspb.BinaryDecoder.prototype.getEnd = function() {
return this.end_;
};
jspb.BinaryDecoder.prototype.setEnd = function(e) {
this.end_ = e;
};
jspb.BinaryDecoder.prototype.reset = function() {
this.cursor_ = this.start_;
};
jspb.BinaryDecoder.prototype.getCursor = function() {
return this.cursor_;
};
jspb.BinaryDecoder.prototype.setCursor = function(e) {
this.cursor_ = e;
};
jspb.BinaryDecoder.prototype.advance = function(e) {
this.cursor_ += e;
goog.asserts.assert(this.cursor_ <= this.end_);
};
jspb.BinaryDecoder.prototype.atEnd = function() {
return this.cursor_ == this.end_;
};
jspb.BinaryDecoder.prototype.pastEnd = function() {
return this.cursor_ > this.end_;
};
jspb.BinaryDecoder.prototype.getError = function() {
return this.error_ || 0 > this.cursor_ || this.cursor_ > this.end_;
};
jspb.BinaryDecoder.prototype.readSplitVarint64 = function(e) {
for (var t = 128, i = 0, o = 0, n = 0; 4 > n && 128 <= t; n++) i |= (127 & (t = this.bytes_[this.cursor_++])) << 7 * n;
128 <= t && (i |= (127 & (t = this.bytes_[this.cursor_++])) << 28, o |= (127 & t) >> 4);
if (128 <= t) for (n = 0; 5 > n && 128 <= t; n++) o |= (127 & (t = this.bytes_[this.cursor_++])) << 7 * n + 3;
if (128 > t) return e(i >>> 0, o >>> 0);
goog.asserts.fail("Failed to read varint, encoding is invalid.");
this.error_ = !0;
};
jspb.BinaryDecoder.prototype.readSplitZigzagVarint64 = function(e) {
return this.readSplitVarint64(function(t, i) {
return jspb.utils.fromZigzag64(t, i, e);
});
};
jspb.BinaryDecoder.prototype.readSplitFixed64 = function(e) {
var t = this.bytes_, i = this.cursor_;
this.cursor_ += 8;
for (var o = 0, n = 0, r = i + 7; r >= i; r--) o = o << 8 | t[r], n = n << 8 | t[r + 4];
return e(o, n);
};
jspb.BinaryDecoder.prototype.skipVarint = function() {
for (;128 & this.bytes_[this.cursor_]; ) this.cursor_++;
this.cursor_++;
};
jspb.BinaryDecoder.prototype.unskipVarint = function(e) {
for (;128 < e; ) this.cursor_--, e >>>= 7;
this.cursor_--;
};
jspb.BinaryDecoder.prototype.readUnsignedVarint32 = function() {
var e = this.bytes_, t = e[this.cursor_ + 0], i = 127 & t;
if (128 > t) return this.cursor_ += 1, goog.asserts.assert(this.cursor_ <= this.end_), 
i;
i |= (127 & (t = e[this.cursor_ + 1])) << 7;
if (128 > t) return this.cursor_ += 2, goog.asserts.assert(this.cursor_ <= this.end_), 
i;
i |= (127 & (t = e[this.cursor_ + 2])) << 14;
if (128 > t) return this.cursor_ += 3, goog.asserts.assert(this.cursor_ <= this.end_), 
i;
i |= (127 & (t = e[this.cursor_ + 3])) << 21;
if (128 > t) return this.cursor_ += 4, goog.asserts.assert(this.cursor_ <= this.end_), 
i;
i |= (15 & (t = e[this.cursor_ + 4])) << 28;
if (128 > t) return this.cursor_ += 5, goog.asserts.assert(this.cursor_ <= this.end_), 
i >>> 0;
this.cursor_ += 5;
128 <= e[this.cursor_++] && 128 <= e[this.cursor_++] && 128 <= e[this.cursor_++] && 128 <= e[this.cursor_++] && 128 <= e[this.cursor_++] && goog.asserts.assert(!1);
goog.asserts.assert(this.cursor_ <= this.end_);
return i;
};
jspb.BinaryDecoder.prototype.readSignedVarint32 = jspb.BinaryDecoder.prototype.readUnsignedVarint32;
jspb.BinaryDecoder.prototype.readUnsignedVarint32String = function() {
return this.readUnsignedVarint32().toString();
};
jspb.BinaryDecoder.prototype.readSignedVarint32String = function() {
return this.readSignedVarint32().toString();
};
jspb.BinaryDecoder.prototype.readZigzagVarint32 = function() {
var e = this.readUnsignedVarint32();
return e >>> 1 ^ -(1 & e);
};
jspb.BinaryDecoder.prototype.readUnsignedVarint64 = function() {
return this.readSplitVarint64(jspb.utils.joinUint64);
};
jspb.BinaryDecoder.prototype.readUnsignedVarint64String = function() {
return this.readSplitVarint64(jspb.utils.joinUnsignedDecimalString);
};
jspb.BinaryDecoder.prototype.readSignedVarint64 = function() {
return this.readSplitVarint64(jspb.utils.joinInt64);
};
jspb.BinaryDecoder.prototype.readSignedVarint64String = function() {
return this.readSplitVarint64(jspb.utils.joinSignedDecimalString);
};
jspb.BinaryDecoder.prototype.readZigzagVarint64 = function() {
return this.readSplitVarint64(jspb.utils.joinZigzag64);
};
jspb.BinaryDecoder.prototype.readZigzagVarintHash64 = function() {
return this.readSplitZigzagVarint64(jspb.utils.joinHash64);
};
jspb.BinaryDecoder.prototype.readZigzagVarint64String = function() {
return this.readSplitZigzagVarint64(jspb.utils.joinSignedDecimalString);
};
jspb.BinaryDecoder.prototype.readUint8 = function() {
var e = this.bytes_[this.cursor_ + 0];
this.cursor_ += 1;
goog.asserts.assert(this.cursor_ <= this.end_);
return e;
};
jspb.BinaryDecoder.prototype.readUint16 = function() {
var e = this.bytes_[this.cursor_ + 0], t = this.bytes_[this.cursor_ + 1];
this.cursor_ += 2;
goog.asserts.assert(this.cursor_ <= this.end_);
return e << 0 | t << 8;
};
jspb.BinaryDecoder.prototype.readUint32 = function() {
var e = this.bytes_[this.cursor_ + 0], t = this.bytes_[this.cursor_ + 1], i = this.bytes_[this.cursor_ + 2], o = this.bytes_[this.cursor_ + 3];
this.cursor_ += 4;
goog.asserts.assert(this.cursor_ <= this.end_);
return (e << 0 | t << 8 | i << 16 | o << 24) >>> 0;
};
jspb.BinaryDecoder.prototype.readUint64 = function() {
var e = this.readUint32(), t = this.readUint32();
return jspb.utils.joinUint64(e, t);
};
jspb.BinaryDecoder.prototype.readUint64String = function() {
var e = this.readUint32(), t = this.readUint32();
return jspb.utils.joinUnsignedDecimalString(e, t);
};
jspb.BinaryDecoder.prototype.readInt8 = function() {
var e = this.bytes_[this.cursor_ + 0];
this.cursor_ += 1;
goog.asserts.assert(this.cursor_ <= this.end_);
return e << 24 >> 24;
};
jspb.BinaryDecoder.prototype.readInt16 = function() {
var e = this.bytes_[this.cursor_ + 0], t = this.bytes_[this.cursor_ + 1];
this.cursor_ += 2;
goog.asserts.assert(this.cursor_ <= this.end_);
return (e << 0 | t << 8) << 16 >> 16;
};
jspb.BinaryDecoder.prototype.readInt32 = function() {
var e = this.bytes_[this.cursor_ + 0], t = this.bytes_[this.cursor_ + 1], i = this.bytes_[this.cursor_ + 2], o = this.bytes_[this.cursor_ + 3];
this.cursor_ += 4;
goog.asserts.assert(this.cursor_ <= this.end_);
return e << 0 | t << 8 | i << 16 | o << 24;
};
jspb.BinaryDecoder.prototype.readInt64 = function() {
var e = this.readUint32(), t = this.readUint32();
return jspb.utils.joinInt64(e, t);
};
jspb.BinaryDecoder.prototype.readInt64String = function() {
var e = this.readUint32(), t = this.readUint32();
return jspb.utils.joinSignedDecimalString(e, t);
};
jspb.BinaryDecoder.prototype.readFloat = function() {
var e = this.readUint32();
return jspb.utils.joinFloat32(e, 0);
};
jspb.BinaryDecoder.prototype.readDouble = function() {
var e = this.readUint32(), t = this.readUint32();
return jspb.utils.joinFloat64(e, t);
};
jspb.BinaryDecoder.prototype.readBool = function() {
return !!this.bytes_[this.cursor_++];
};
jspb.BinaryDecoder.prototype.readEnum = function() {
return this.readSignedVarint32();
};
jspb.BinaryDecoder.prototype.readString = function(e) {
var t = this.bytes_, i = this.cursor_;
e = i + e;
for (var o = [], n = ""; i < e; ) {
var r = t[i++];
if (128 > r) o.push(r); else {
if (192 > r) continue;
if (224 > r) {
var a = t[i++];
o.push((31 & r) << 6 | 63 & a);
} else if (240 > r) {
a = t[i++];
var s = t[i++];
o.push((15 & r) << 12 | (63 & a) << 6 | 63 & s);
} else if (248 > r) {
r = (7 & r) << 18 | (63 & (a = t[i++])) << 12 | (63 & (s = t[i++])) << 6 | 63 & t[i++];
r -= 65536;
o.push(55296 + (r >> 10 & 1023), 56320 + (1023 & r));
}
}
8192 <= o.length && (n += String.fromCharCode.apply(null, o), o.length = 0);
}
n += goog.crypt.byteArrayToString(o);
this.cursor_ = i;
return n;
};
jspb.BinaryDecoder.prototype.readStringWithLength = function() {
var e = this.readUnsignedVarint32();
return this.readString(e);
};
jspb.BinaryDecoder.prototype.readBytes = function(e) {
if (0 > e || this.cursor_ + e > this.bytes_.length) return this.error_ = !0, goog.asserts.fail("Invalid byte length!"), 
new Uint8Array(0);
var t = this.bytes_.subarray(this.cursor_, this.cursor_ + e);
this.cursor_ += e;
goog.asserts.assert(this.cursor_ <= this.end_);
return t;
};
jspb.BinaryDecoder.prototype.readVarintHash64 = function() {
return this.readSplitVarint64(jspb.utils.joinHash64);
};
jspb.BinaryDecoder.prototype.readFixedHash64 = function() {
var e = this.bytes_, t = this.cursor_, i = e[t + 0], o = e[t + 1], n = e[t + 2], r = e[t + 3], a = e[t + 4], s = e[t + 5], c = e[t + 6];
e = e[t + 7];
this.cursor_ += 8;
return String.fromCharCode(i, o, n, r, a, s, c, e);
};
jspb.BinaryReader = function(e, t, i) {
this.decoder_ = jspb.BinaryDecoder.alloc(e, t, i);
this.fieldCursor_ = this.decoder_.getCursor();
this.nextField_ = jspb.BinaryConstants.INVALID_FIELD_NUMBER;
this.nextWireType_ = jspb.BinaryConstants.WireType.INVALID;
this.error_ = !1;
this.readCallbacks_ = null;
};
jspb.BinaryReader.instanceCache_ = [];
jspb.BinaryReader.alloc = function(e, t, i) {
if (jspb.BinaryReader.instanceCache_.length) {
var o = jspb.BinaryReader.instanceCache_.pop();
e && o.decoder_.setBlock(e, t, i);
return o;
}
return new jspb.BinaryReader(e, t, i);
};
jspb.BinaryReader.prototype.alloc = jspb.BinaryReader.alloc;
jspb.BinaryReader.prototype.free = function() {
this.decoder_.clear();
this.nextField_ = jspb.BinaryConstants.INVALID_FIELD_NUMBER;
this.nextWireType_ = jspb.BinaryConstants.WireType.INVALID;
this.error_ = !1;
this.readCallbacks_ = null;
100 > jspb.BinaryReader.instanceCache_.length && jspb.BinaryReader.instanceCache_.push(this);
};
jspb.BinaryReader.prototype.getFieldCursor = function() {
return this.fieldCursor_;
};
jspb.BinaryReader.prototype.getCursor = function() {
return this.decoder_.getCursor();
};
jspb.BinaryReader.prototype.getBuffer = function() {
return this.decoder_.getBuffer();
};
jspb.BinaryReader.prototype.getFieldNumber = function() {
return this.nextField_;
};
jspb.BinaryReader.prototype.getWireType = function() {
return this.nextWireType_;
};
jspb.BinaryReader.prototype.isEndGroup = function() {
return this.nextWireType_ == jspb.BinaryConstants.WireType.END_GROUP;
};
jspb.BinaryReader.prototype.getError = function() {
return this.error_ || this.decoder_.getError();
};
jspb.BinaryReader.prototype.setBlock = function(e, t, i) {
this.decoder_.setBlock(e, t, i);
this.nextField_ = jspb.BinaryConstants.INVALID_FIELD_NUMBER;
this.nextWireType_ = jspb.BinaryConstants.WireType.INVALID;
};
jspb.BinaryReader.prototype.reset = function() {
this.decoder_.reset();
this.nextField_ = jspb.BinaryConstants.INVALID_FIELD_NUMBER;
this.nextWireType_ = jspb.BinaryConstants.WireType.INVALID;
};
jspb.BinaryReader.prototype.advance = function(e) {
this.decoder_.advance(e);
};
jspb.BinaryReader.prototype.nextField = function() {
if (this.decoder_.atEnd()) return !1;
if (this.getError()) return goog.asserts.fail("Decoder hit an error"), !1;
this.fieldCursor_ = this.decoder_.getCursor();
var e = this.decoder_.readUnsignedVarint32(), t = e >>> 3;
if ((e &= 7) != jspb.BinaryConstants.WireType.VARINT && e != jspb.BinaryConstants.WireType.FIXED32 && e != jspb.BinaryConstants.WireType.FIXED64 && e != jspb.BinaryConstants.WireType.DELIMITED && e != jspb.BinaryConstants.WireType.START_GROUP && e != jspb.BinaryConstants.WireType.END_GROUP) return goog.asserts.fail("Invalid wire type: %s (at position %s)", e, this.fieldCursor_), 
this.error_ = !0, !1;
this.nextField_ = t;
this.nextWireType_ = e;
return !0;
};
jspb.BinaryReader.prototype.unskipHeader = function() {
this.decoder_.unskipVarint(this.nextField_ << 3 | this.nextWireType_);
};
jspb.BinaryReader.prototype.skipMatchingFields = function() {
var e = this.nextField_;
for (this.unskipHeader(); this.nextField() && this.getFieldNumber() == e; ) this.skipField();
this.decoder_.atEnd() || this.unskipHeader();
};
jspb.BinaryReader.prototype.skipVarintField = function() {
this.nextWireType_ != jspb.BinaryConstants.WireType.VARINT ? (goog.asserts.fail("Invalid wire type for skipVarintField"), 
this.skipField()) : this.decoder_.skipVarint();
};
jspb.BinaryReader.prototype.skipDelimitedField = function() {
if (this.nextWireType_ != jspb.BinaryConstants.WireType.DELIMITED) goog.asserts.fail("Invalid wire type for skipDelimitedField"), 
this.skipField(); else {
var e = this.decoder_.readUnsignedVarint32();
this.decoder_.advance(e);
}
};
jspb.BinaryReader.prototype.skipFixed32Field = function() {
this.nextWireType_ != jspb.BinaryConstants.WireType.FIXED32 ? (goog.asserts.fail("Invalid wire type for skipFixed32Field"), 
this.skipField()) : this.decoder_.advance(4);
};
jspb.BinaryReader.prototype.skipFixed64Field = function() {
this.nextWireType_ != jspb.BinaryConstants.WireType.FIXED64 ? (goog.asserts.fail("Invalid wire type for skipFixed64Field"), 
this.skipField()) : this.decoder_.advance(8);
};
jspb.BinaryReader.prototype.skipGroup = function() {
for (var e = this.nextField_; ;) {
if (!this.nextField()) {
goog.asserts.fail("Unmatched start-group tag: stream EOF");
this.error_ = !0;
break;
}
if (this.nextWireType_ == jspb.BinaryConstants.WireType.END_GROUP) {
this.nextField_ != e && (goog.asserts.fail("Unmatched end-group tag"), this.error_ = !0);
break;
}
this.skipField();
}
};
jspb.BinaryReader.prototype.skipField = function() {
switch (this.nextWireType_) {
case jspb.BinaryConstants.WireType.VARINT:
this.skipVarintField();
break;

case jspb.BinaryConstants.WireType.FIXED64:
this.skipFixed64Field();
break;

case jspb.BinaryConstants.WireType.DELIMITED:
this.skipDelimitedField();
break;

case jspb.BinaryConstants.WireType.FIXED32:
this.skipFixed32Field();
break;

case jspb.BinaryConstants.WireType.START_GROUP:
this.skipGroup();
break;

default:
goog.asserts.fail("Invalid wire encoding for field.");
}
};
jspb.BinaryReader.prototype.registerReadCallback = function(e, t) {
null === this.readCallbacks_ && (this.readCallbacks_ = {});
goog.asserts.assert(!this.readCallbacks_[e]);
this.readCallbacks_[e] = t;
};
jspb.BinaryReader.prototype.runReadCallback = function(e) {
goog.asserts.assert(null !== this.readCallbacks_);
e = this.readCallbacks_[e];
goog.asserts.assert(e);
return e(this);
};
jspb.BinaryReader.prototype.readAny = function(e) {
this.nextWireType_ = jspb.BinaryConstants.FieldTypeToWireType(e);
var t = jspb.BinaryConstants.FieldType;
switch (e) {
case t.DOUBLE:
return this.readDouble();

case t.FLOAT:
return this.readFloat();

case t.INT64:
return this.readInt64();

case t.UINT64:
return this.readUint64();

case t.INT32:
return this.readInt32();

case t.FIXED64:
return this.readFixed64();

case t.FIXED32:
return this.readFixed32();

case t.BOOL:
return this.readBool();

case t.STRING:
return this.readString();

case t.GROUP:
goog.asserts.fail("Group field type not supported in readAny()");

case t.MESSAGE:
goog.asserts.fail("Message field type not supported in readAny()");

case t.BYTES:
return this.readBytes();

case t.UINT32:
return this.readUint32();

case t.ENUM:
return this.readEnum();

case t.SFIXED32:
return this.readSfixed32();

case t.SFIXED64:
return this.readSfixed64();

case t.SINT32:
return this.readSint32();

case t.SINT64:
return this.readSint64();

case t.FHASH64:
return this.readFixedHash64();

case t.VHASH64:
return this.readVarintHash64();

default:
goog.asserts.fail("Invalid field type in readAny()");
}
return 0;
};
jspb.BinaryReader.prototype.readMessage = function(e, t) {
goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.DELIMITED);
var i = this.decoder_.getEnd(), o = this.decoder_.readUnsignedVarint32();
o = this.decoder_.getCursor() + o;
this.decoder_.setEnd(o);
t(e, this);
this.decoder_.setCursor(o);
this.decoder_.setEnd(i);
};
jspb.BinaryReader.prototype.readGroup = function(e, t, i) {
goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.START_GROUP);
goog.asserts.assert(this.nextField_ == e);
i(t, this);
this.error_ || this.nextWireType_ == jspb.BinaryConstants.WireType.END_GROUP || (goog.asserts.fail("Group submessage did not end with an END_GROUP tag"), 
this.error_ = !0);
};
jspb.BinaryReader.prototype.getFieldDecoder = function() {
goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.DELIMITED);
var e = this.decoder_.readUnsignedVarint32(), t = this.decoder_.getCursor(), i = t + e;
e = jspb.BinaryDecoder.alloc(this.decoder_.getBuffer(), t, e);
this.decoder_.setCursor(i);
return e;
};
jspb.BinaryReader.prototype.readInt32 = function() {
goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.VARINT);
return this.decoder_.readSignedVarint32();
};
jspb.BinaryReader.prototype.readInt32String = function() {
goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.VARINT);
return this.decoder_.readSignedVarint32String();
};
jspb.BinaryReader.prototype.readInt64 = function() {
goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.VARINT);
return this.decoder_.readSignedVarint64();
};
jspb.BinaryReader.prototype.readInt64String = function() {
goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.VARINT);
return this.decoder_.readSignedVarint64String();
};
jspb.BinaryReader.prototype.readUint32 = function() {
goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.VARINT);
return this.decoder_.readUnsignedVarint32();
};
jspb.BinaryReader.prototype.readUint32String = function() {
goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.VARINT);
return this.decoder_.readUnsignedVarint32String();
};
jspb.BinaryReader.prototype.readUint64 = function() {
goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.VARINT);
return this.decoder_.readUnsignedVarint64();
};
jspb.BinaryReader.prototype.readUint64String = function() {
goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.VARINT);
return this.decoder_.readUnsignedVarint64String();
};
jspb.BinaryReader.prototype.readSint32 = function() {
goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.VARINT);
return this.decoder_.readZigzagVarint32();
};
jspb.BinaryReader.prototype.readSint64 = function() {
goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.VARINT);
return this.decoder_.readZigzagVarint64();
};
jspb.BinaryReader.prototype.readSint64String = function() {
goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.VARINT);
return this.decoder_.readZigzagVarint64String();
};
jspb.BinaryReader.prototype.readFixed32 = function() {
goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.FIXED32);
return this.decoder_.readUint32();
};
jspb.BinaryReader.prototype.readFixed64 = function() {
goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.FIXED64);
return this.decoder_.readUint64();
};
jspb.BinaryReader.prototype.readFixed64String = function() {
goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.FIXED64);
return this.decoder_.readUint64String();
};
jspb.BinaryReader.prototype.readSfixed32 = function() {
goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.FIXED32);
return this.decoder_.readInt32();
};
jspb.BinaryReader.prototype.readSfixed32String = function() {
goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.FIXED32);
return this.decoder_.readInt32().toString();
};
jspb.BinaryReader.prototype.readSfixed64 = function() {
goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.FIXED64);
return this.decoder_.readInt64();
};
jspb.BinaryReader.prototype.readSfixed64String = function() {
goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.FIXED64);
return this.decoder_.readInt64String();
};
jspb.BinaryReader.prototype.readFloat = function() {
goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.FIXED32);
return this.decoder_.readFloat();
};
jspb.BinaryReader.prototype.readDouble = function() {
goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.FIXED64);
return this.decoder_.readDouble();
};
jspb.BinaryReader.prototype.readBool = function() {
goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.VARINT);
return !!this.decoder_.readUnsignedVarint32();
};
jspb.BinaryReader.prototype.readEnum = function() {
goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.VARINT);
return this.decoder_.readSignedVarint64();
};
jspb.BinaryReader.prototype.readString = function() {
goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.DELIMITED);
var e = this.decoder_.readUnsignedVarint32();
return this.decoder_.readString(e);
};
jspb.BinaryReader.prototype.readBytes = function() {
goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.DELIMITED);
var e = this.decoder_.readUnsignedVarint32();
return this.decoder_.readBytes(e);
};
jspb.BinaryReader.prototype.readVarintHash64 = function() {
goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.VARINT);
return this.decoder_.readVarintHash64();
};
jspb.BinaryReader.prototype.readSintHash64 = function() {
goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.VARINT);
return this.decoder_.readZigzagVarintHash64();
};
jspb.BinaryReader.prototype.readSplitVarint64 = function(e) {
goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.VARINT);
return this.decoder_.readSplitVarint64(e);
};
jspb.BinaryReader.prototype.readSplitZigzagVarint64 = function(e) {
goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.VARINT);
return this.decoder_.readSplitVarint64(function(t, i) {
return jspb.utils.fromZigzag64(t, i, e);
});
};
jspb.BinaryReader.prototype.readFixedHash64 = function() {
goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.FIXED64);
return this.decoder_.readFixedHash64();
};
jspb.BinaryReader.prototype.readSplitFixed64 = function(e) {
goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.FIXED64);
return this.decoder_.readSplitFixed64(e);
};
jspb.BinaryReader.prototype.readPackedField_ = function(e) {
goog.asserts.assert(this.nextWireType_ == jspb.BinaryConstants.WireType.DELIMITED);
var t = this.decoder_.readUnsignedVarint32();
t = this.decoder_.getCursor() + t;
for (var i = []; this.decoder_.getCursor() < t; ) i.push(e.call(this.decoder_));
return i;
};
jspb.BinaryReader.prototype.readPackedInt32 = function() {
return this.readPackedField_(this.decoder_.readSignedVarint32);
};
jspb.BinaryReader.prototype.readPackedInt32String = function() {
return this.readPackedField_(this.decoder_.readSignedVarint32String);
};
jspb.BinaryReader.prototype.readPackedInt64 = function() {
return this.readPackedField_(this.decoder_.readSignedVarint64);
};
jspb.BinaryReader.prototype.readPackedInt64String = function() {
return this.readPackedField_(this.decoder_.readSignedVarint64String);
};
jspb.BinaryReader.prototype.readPackedUint32 = function() {
return this.readPackedField_(this.decoder_.readUnsignedVarint32);
};
jspb.BinaryReader.prototype.readPackedUint32String = function() {
return this.readPackedField_(this.decoder_.readUnsignedVarint32String);
};
jspb.BinaryReader.prototype.readPackedUint64 = function() {
return this.readPackedField_(this.decoder_.readUnsignedVarint64);
};
jspb.BinaryReader.prototype.readPackedUint64String = function() {
return this.readPackedField_(this.decoder_.readUnsignedVarint64String);
};
jspb.BinaryReader.prototype.readPackedSint32 = function() {
return this.readPackedField_(this.decoder_.readZigzagVarint32);
};
jspb.BinaryReader.prototype.readPackedSint64 = function() {
return this.readPackedField_(this.decoder_.readZigzagVarint64);
};
jspb.BinaryReader.prototype.readPackedSint64String = function() {
return this.readPackedField_(this.decoder_.readZigzagVarint64String);
};
jspb.BinaryReader.prototype.readPackedFixed32 = function() {
return this.readPackedField_(this.decoder_.readUint32);
};
jspb.BinaryReader.prototype.readPackedFixed64 = function() {
return this.readPackedField_(this.decoder_.readUint64);
};
jspb.BinaryReader.prototype.readPackedFixed64String = function() {
return this.readPackedField_(this.decoder_.readUint64String);
};
jspb.BinaryReader.prototype.readPackedSfixed32 = function() {
return this.readPackedField_(this.decoder_.readInt32);
};
jspb.BinaryReader.prototype.readPackedSfixed64 = function() {
return this.readPackedField_(this.decoder_.readInt64);
};
jspb.BinaryReader.prototype.readPackedSfixed64String = function() {
return this.readPackedField_(this.decoder_.readInt64String);
};
jspb.BinaryReader.prototype.readPackedFloat = function() {
return this.readPackedField_(this.decoder_.readFloat);
};
jspb.BinaryReader.prototype.readPackedDouble = function() {
return this.readPackedField_(this.decoder_.readDouble);
};
jspb.BinaryReader.prototype.readPackedBool = function() {
return this.readPackedField_(this.decoder_.readBool);
};
jspb.BinaryReader.prototype.readPackedEnum = function() {
return this.readPackedField_(this.decoder_.readEnum);
};
jspb.BinaryReader.prototype.readPackedVarintHash64 = function() {
return this.readPackedField_(this.decoder_.readVarintHash64);
};
jspb.BinaryReader.prototype.readPackedFixedHash64 = function() {
return this.readPackedField_(this.decoder_.readFixedHash64);
};
jspb.Map = function(e, t) {
this.arr_ = e;
this.valueCtor_ = t;
this.map_ = {};
this.arrClean = !0;
0 < this.arr_.length && this.loadFromArray_();
};
jspb.Map.prototype.loadFromArray_ = function() {
for (var e = 0; e < this.arr_.length; e++) {
var t = this.arr_[e], i = t[0];
this.map_[i.toString()] = new jspb.Map.Entry_(i, t[1]);
}
this.arrClean = !0;
};
jspb.Map.prototype.toArray = function() {
if (this.arrClean) {
if (this.valueCtor_) {
var e, t = this.map_;
for (e in t) if (Object.prototype.hasOwnProperty.call(t, e)) {
var i = t[e].valueWrapper;
i && i.toArray();
}
}
} else {
this.arr_.length = 0;
(t = this.stringKeys_()).sort();
for (e = 0; e < t.length; e++) {
var o = this.map_[t[e]];
(i = o.valueWrapper) && i.toArray();
this.arr_.push([ o.key, o.value ]);
}
this.arrClean = !0;
}
return this.arr_;
};
jspb.Map.prototype.toObject = function(e, t) {
for (var i = this.toArray(), o = [], n = 0; n < i.length; n++) {
var r = this.map_[i[n][0].toString()];
this.wrapEntry_(r);
var a = r.valueWrapper;
a ? (goog.asserts.assert(t), o.push([ r.key, t(e, a) ])) : o.push([ r.key, r.value ]);
}
return o;
};
jspb.Map.fromObject = function(e, t, i) {
t = new jspb.Map([], t);
for (var o = 0; o < e.length; o++) {
var n = e[o][0], r = i(e[o][1]);
t.set(n, r);
}
return t;
};
jspb.Map.ArrayIteratorIterable_ = function(e) {
this.idx_ = 0;
this.arr_ = e;
};
jspb.Map.ArrayIteratorIterable_.prototype.next = function() {
return this.idx_ < this.arr_.length ? {
done: !1,
value: this.arr_[this.idx_++]
} : {
done: !0,
value: void 0
};
};
"undefined" != typeof Symbol && (jspb.Map.ArrayIteratorIterable_.prototype[Symbol.iterator] = function() {
return this;
});
jspb.Map.prototype.getLength = function() {
return this.stringKeys_().length;
};
jspb.Map.prototype.clear = function() {
this.map_ = {};
this.arrClean = !1;
};
jspb.Map.prototype.del = function(e) {
e = e.toString();
var t = this.map_.hasOwnProperty(e);
delete this.map_[e];
this.arrClean = !1;
return t;
};
jspb.Map.prototype.getEntryList = function() {
var e = [], t = this.stringKeys_();
t.sort();
for (var i = 0; i < t.length; i++) {
var o = this.map_[t[i]];
e.push([ o.key, o.value ]);
}
return e;
};
jspb.Map.prototype.entries = function() {
var e = [], t = this.stringKeys_();
t.sort();
for (var i = 0; i < t.length; i++) {
var o = this.map_[t[i]];
e.push([ o.key, this.wrapEntry_(o) ]);
}
return new jspb.Map.ArrayIteratorIterable_(e);
};
jspb.Map.prototype.keys = function() {
var e = [], t = this.stringKeys_();
t.sort();
for (var i = 0; i < t.length; i++) e.push(this.map_[t[i]].key);
return new jspb.Map.ArrayIteratorIterable_(e);
};
jspb.Map.prototype.values = function() {
var e = [], t = this.stringKeys_();
t.sort();
for (var i = 0; i < t.length; i++) e.push(this.wrapEntry_(this.map_[t[i]]));
return new jspb.Map.ArrayIteratorIterable_(e);
};
jspb.Map.prototype.forEach = function(e, t) {
var i = this.stringKeys_();
i.sort();
for (var o = 0; o < i.length; o++) {
var n = this.map_[i[o]];
e.call(t, this.wrapEntry_(n), n.key, this);
}
};
jspb.Map.prototype.set = function(e, t) {
var i = new jspb.Map.Entry_(e);
this.valueCtor_ ? (i.valueWrapper = t, i.value = t.toArray()) : i.value = t;
this.map_[e.toString()] = i;
this.arrClean = !1;
return this;
};
jspb.Map.prototype.wrapEntry_ = function(e) {
return this.valueCtor_ ? (e.valueWrapper || (e.valueWrapper = new this.valueCtor_(e.value)), 
e.valueWrapper) : e.value;
};
jspb.Map.prototype.get = function(e) {
if (e = this.map_[e.toString()]) return this.wrapEntry_(e);
};
jspb.Map.prototype.has = function(e) {
return e.toString() in this.map_;
};
jspb.Map.prototype.serializeBinary = function(e, t, i, o, n) {
var r = this.stringKeys_();
r.sort();
for (var a = 0; a < r.length; a++) {
var s = this.map_[r[a]];
t.beginSubMessage(e);
i.call(t, 1, s.key);
this.valueCtor_ ? o.call(t, 2, this.wrapEntry_(s), n) : o.call(t, 2, s.value);
t.endSubMessage();
}
};
jspb.Map.deserializeBinary = function(e, t, i, o, n, r, a) {
for (;t.nextField() && !t.isEndGroup(); ) {
var s = t.getFieldNumber();
1 == s ? r = i.call(t) : 2 == s && (e.valueCtor_ ? (goog.asserts.assert(n), a || (a = new e.valueCtor_()), 
o.call(t, a, n)) : a = o.call(t));
}
goog.asserts.assert(void 0 != r);
goog.asserts.assert(void 0 != a);
e.set(r, a);
};
jspb.Map.prototype.stringKeys_ = function() {
var e, t = this.map_, i = [];
for (e in t) Object.prototype.hasOwnProperty.call(t, e) && i.push(e);
return i;
};
jspb.Map.Entry_ = function(e, t) {
this.key = e;
this.value = t;
this.valueWrapper = void 0;
};
jspb.ExtensionFieldInfo = function(e, t, i, o, n) {
this.fieldIndex = e;
this.fieldName = t;
this.ctor = i;
this.toObjectFn = o;
this.isRepeated = n;
};
jspb.ExtensionFieldBinaryInfo = function(e, t, i, o, n, r) {
this.fieldInfo = e;
this.binaryReaderFn = t;
this.binaryWriterFn = i;
this.binaryMessageSerializeFn = o;
this.binaryMessageDeserializeFn = n;
this.isPacked = r;
};
jspb.ExtensionFieldInfo.prototype.isMessageType = function() {
return !!this.ctor;
};
jspb.Message = function() {};
jspb.Message.GENERATE_TO_OBJECT = !0;
jspb.Message.GENERATE_FROM_OBJECT = !goog.DISALLOW_TEST_ONLY_CODE;
jspb.Message.GENERATE_TO_STRING = !0;
jspb.Message.ASSUME_LOCAL_ARRAYS = !1;
jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS = !0;
jspb.Message.SUPPORTS_UINT8ARRAY_ = "function" == typeof Uint8Array;
jspb.Message.prototype.getJsPbMessageId = function() {
return this.messageId_;
};
jspb.Message.getIndex_ = function(e, t) {
return t + e.arrayIndexOffset_;
};
jspb.Message.hiddenES6Property_ = function() {};
jspb.Message.getFieldNumber_ = function(e, t) {
return t - e.arrayIndexOffset_;
};
jspb.Message.initialize = function(e, t, i, o, n, r) {
e.wrappers_ = null;
t || (t = i ? [ i ] : []);
e.messageId_ = i ? String(i) : void 0;
e.arrayIndexOffset_ = 0 === i ? -1 : 0;
e.array = t;
jspb.Message.initPivotAndExtensionObject_(e, o);
e.convertedPrimitiveFields_ = {};
jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS || (e.repeatedFields = n);
if (n) for (t = 0; t < n.length; t++) (i = n[t]) < e.pivot_ ? (i = jspb.Message.getIndex_(e, i), 
e.array[i] = e.array[i] || jspb.Message.EMPTY_LIST_SENTINEL_) : (jspb.Message.maybeInitEmptyExtensionObject_(e), 
e.extensionObject_[i] = e.extensionObject_[i] || jspb.Message.EMPTY_LIST_SENTINEL_);
if (r && r.length) for (t = 0; t < r.length; t++) jspb.Message.computeOneofCase(e, r[t]);
};
jspb.Message.EMPTY_LIST_SENTINEL_ = goog.DEBUG && Object.freeze ? Object.freeze([]) : [];
jspb.Message.isArray_ = function(e) {
return jspb.Message.ASSUME_LOCAL_ARRAYS ? e instanceof Array : goog.isArray(e);
};
jspb.Message.isExtensionObject_ = function(e) {
return !(null === e || "object" != typeof e || jspb.Message.isArray_(e) || jspb.Message.SUPPORTS_UINT8ARRAY_ && e instanceof Uint8Array);
};
jspb.Message.initPivotAndExtensionObject_ = function(e, t) {
var i = e.array.length, o = -1;
if (i && (o = i - 1, i = e.array[o], jspb.Message.isExtensionObject_(i))) {
e.pivot_ = jspb.Message.getFieldNumber_(e, o);
e.extensionObject_ = i;
} else -1 < t ? (e.pivot_ = Math.max(t, jspb.Message.getFieldNumber_(e, o + 1)), 
e.extensionObject_ = null) : e.pivot_ = Number.MAX_VALUE;
};
jspb.Message.maybeInitEmptyExtensionObject_ = function(e) {
var t = jspb.Message.getIndex_(e, e.pivot_);
e.array[t] || (e.extensionObject_ = e.array[t] = {});
};
jspb.Message.toObjectList = function(e, t, i) {
for (var o = [], n = 0; n < e.length; n++) o[n] = t.call(e[n], i, e[n]);
return o;
};
jspb.Message.toObjectExtension = function(e, t, i, o, n) {
for (var r in i) {
var a = i[r], s = o.call(e, a);
if (null != s) {
for (var c in a.fieldName) if (a.fieldName.hasOwnProperty(c)) break;
t[c] = a.toObjectFn ? a.isRepeated ? jspb.Message.toObjectList(s, a.toObjectFn, n) : a.toObjectFn(n, s) : s;
}
}
};
jspb.Message.serializeBinaryExtensions = function(e, t, i, o) {
for (var n in i) {
var r = i[n], a = r.fieldInfo;
if (!r.binaryWriterFn) throw Error("Message extension present that was generated without binary serialization support");
var s = o.call(e, a);
if (null != s) if (a.isMessageType()) {
if (!r.binaryMessageSerializeFn) throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");
r.binaryWriterFn.call(t, a.fieldIndex, s, r.binaryMessageSerializeFn);
} else r.binaryWriterFn.call(t, a.fieldIndex, s);
}
};
jspb.Message.readBinaryExtension = function(e, t, i, o, n) {
var r = i[t.getFieldNumber()];
if (r) {
i = r.fieldInfo;
if (!r.binaryReaderFn) throw Error("Deserializing extension whose generated code does not support binary format");
if (i.isMessageType()) {
var a = new i.ctor();
r.binaryReaderFn.call(t, a, r.binaryMessageDeserializeFn);
} else a = r.binaryReaderFn.call(t);
i.isRepeated && !r.isPacked ? (t = o.call(e, i)) ? t.push(a) : n.call(e, i, [ a ]) : n.call(e, i, a);
} else t.skipField();
};
jspb.Message.getField = function(e, t) {
if (t < e.pivot_) {
t = jspb.Message.getIndex_(e, t);
var i = e.array[t];
return i === jspb.Message.EMPTY_LIST_SENTINEL_ ? e.array[t] = [] : i;
}
if (e.extensionObject_) return (i = e.extensionObject_[t]) === jspb.Message.EMPTY_LIST_SENTINEL_ ? e.extensionObject_[t] = [] : i;
};
jspb.Message.getRepeatedField = function(e, t) {
return jspb.Message.getField(e, t);
};
jspb.Message.getOptionalFloatingPointField = function(e, t) {
return null == (e = jspb.Message.getField(e, t)) ? e : +e;
};
jspb.Message.getBooleanField = function(e, t) {
return null == (e = jspb.Message.getField(e, t)) ? e : !!e;
};
jspb.Message.getRepeatedFloatingPointField = function(e, t) {
var i = jspb.Message.getRepeatedField(e, t);
e.convertedPrimitiveFields_ || (e.convertedPrimitiveFields_ = {});
if (!e.convertedPrimitiveFields_[t]) {
for (var o = 0; o < i.length; o++) i[o] = +i[o];
e.convertedPrimitiveFields_[t] = !0;
}
return i;
};
jspb.Message.getRepeatedBooleanField = function(e, t) {
var i = jspb.Message.getRepeatedField(e, t);
e.convertedPrimitiveFields_ || (e.convertedPrimitiveFields_ = {});
if (!e.convertedPrimitiveFields_[t]) {
for (var o = 0; o < i.length; o++) i[o] = !!i[o];
e.convertedPrimitiveFields_[t] = !0;
}
return i;
};
jspb.Message.bytesAsB64 = function(e) {
if (null == e || "string" == typeof e) return e;
if (jspb.Message.SUPPORTS_UINT8ARRAY_ && e instanceof Uint8Array) return goog.crypt.base64.encodeByteArray(e);
goog.asserts.fail("Cannot coerce to b64 string: " + goog.typeOf(e));
return null;
};
jspb.Message.bytesAsU8 = function(e) {
if (null == e || e instanceof Uint8Array) return e;
if ("string" == typeof e) return goog.crypt.base64.decodeStringToUint8Array(e);
goog.asserts.fail("Cannot coerce to Uint8Array: " + goog.typeOf(e));
return null;
};
jspb.Message.bytesListAsB64 = function(e) {
jspb.Message.assertConsistentTypes_(e);
return e.length && "string" != typeof e[0] ? goog.array.map(e, jspb.Message.bytesAsB64) : e;
};
jspb.Message.bytesListAsU8 = function(e) {
jspb.Message.assertConsistentTypes_(e);
return !e.length || e[0] instanceof Uint8Array ? e : goog.array.map(e, jspb.Message.bytesAsU8);
};
jspb.Message.assertConsistentTypes_ = function(e) {
if (goog.DEBUG && e && 1 < e.length) {
var t = goog.typeOf(e[0]);
goog.array.forEach(e, function(e) {
goog.typeOf(e) != t && goog.asserts.fail("Inconsistent type in JSPB repeated field array. Got " + goog.typeOf(e) + " expected " + t);
});
}
};
jspb.Message.getFieldWithDefault = function(e, t, i) {
return null == (e = jspb.Message.getField(e, t)) ? i : e;
};
jspb.Message.getBooleanFieldWithDefault = function(e, t, i) {
return null == (e = jspb.Message.getBooleanField(e, t)) ? i : e;
};
jspb.Message.getFloatingPointFieldWithDefault = function(e, t, i) {
return null == (e = jspb.Message.getOptionalFloatingPointField(e, t)) ? i : e;
};
jspb.Message.getFieldProto3 = jspb.Message.getFieldWithDefault;
jspb.Message.getMapField = function(e, t, i, o) {
e.wrappers_ || (e.wrappers_ = {});
if (t in e.wrappers_) return e.wrappers_[t];
var n = jspb.Message.getField(e, t);
if (!n) {
if (i) return;
n = [];
jspb.Message.setField(e, t, n);
}
return e.wrappers_[t] = new jspb.Map(n, o);
};
jspb.Message.setField = function(e, t, i) {
goog.asserts.assertInstanceof(e, jspb.Message);
t < e.pivot_ ? e.array[jspb.Message.getIndex_(e, t)] = i : (jspb.Message.maybeInitEmptyExtensionObject_(e), 
e.extensionObject_[t] = i);
return e;
};
jspb.Message.setProto3IntField = function(e, t, i) {
return jspb.Message.setFieldIgnoringDefault_(e, t, i, 0);
};
jspb.Message.setProto3FloatField = function(e, t, i) {
return jspb.Message.setFieldIgnoringDefault_(e, t, i, 0);
};
jspb.Message.setProto3BooleanField = function(e, t, i) {
return jspb.Message.setFieldIgnoringDefault_(e, t, i, !1);
};
jspb.Message.setProto3StringField = function(e, t, i) {
return jspb.Message.setFieldIgnoringDefault_(e, t, i, "");
};
jspb.Message.setProto3BytesField = function(e, t, i) {
return jspb.Message.setFieldIgnoringDefault_(e, t, i, "");
};
jspb.Message.setProto3EnumField = function(e, t, i) {
return jspb.Message.setFieldIgnoringDefault_(e, t, i, 0);
};
jspb.Message.setProto3StringIntField = function(e, t, i) {
return jspb.Message.setFieldIgnoringDefault_(e, t, i, "0");
};
jspb.Message.setFieldIgnoringDefault_ = function(e, t, i, o) {
goog.asserts.assertInstanceof(e, jspb.Message);
i !== o ? jspb.Message.setField(e, t, i) : t < e.pivot_ ? e.array[jspb.Message.getIndex_(e, t)] = null : (jspb.Message.maybeInitEmptyExtensionObject_(e), 
delete e.extensionObject_[t]);
return e;
};
jspb.Message.addToRepeatedField = function(e, t, i, o) {
goog.asserts.assertInstanceof(e, jspb.Message);
t = jspb.Message.getRepeatedField(e, t);
void 0 != o ? t.splice(o, 0, i) : t.push(i);
return e;
};
jspb.Message.setOneofField = function(e, t, i, o) {
goog.asserts.assertInstanceof(e, jspb.Message);
(i = jspb.Message.computeOneofCase(e, i)) && i !== t && void 0 !== o && (e.wrappers_ && i in e.wrappers_ && (e.wrappers_[i] = void 0), 
jspb.Message.setField(e, i, void 0));
return jspb.Message.setField(e, t, o);
};
jspb.Message.computeOneofCase = function(e, t) {
for (var i, o, n = 0; n < t.length; n++) {
var r = t[n], a = jspb.Message.getField(e, r);
null != a && (i = r, o = a, jspb.Message.setField(e, r, void 0));
}
return i ? (jspb.Message.setField(e, i, o), i) : 0;
};
jspb.Message.getWrapperField = function(e, t, i, o) {
e.wrappers_ || (e.wrappers_ = {});
if (!e.wrappers_[i]) {
var n = jspb.Message.getField(e, i);
(o || n) && (e.wrappers_[i] = new t(n));
}
return e.wrappers_[i];
};
jspb.Message.getRepeatedWrapperField = function(e, t, i) {
jspb.Message.wrapRepeatedField_(e, t, i);
(t = e.wrappers_[i]) == jspb.Message.EMPTY_LIST_SENTINEL_ && (t = e.wrappers_[i] = []);
return t;
};
jspb.Message.wrapRepeatedField_ = function(e, t, i) {
e.wrappers_ || (e.wrappers_ = {});
if (!e.wrappers_[i]) {
for (var o = jspb.Message.getRepeatedField(e, i), n = [], r = 0; r < o.length; r++) n[r] = new t(o[r]);
e.wrappers_[i] = n;
}
};
jspb.Message.setWrapperField = function(e, t, i) {
goog.asserts.assertInstanceof(e, jspb.Message);
e.wrappers_ || (e.wrappers_ = {});
var o = i ? i.toArray() : i;
e.wrappers_[t] = i;
return jspb.Message.setField(e, t, o);
};
jspb.Message.setOneofWrapperField = function(e, t, i, o) {
goog.asserts.assertInstanceof(e, jspb.Message);
e.wrappers_ || (e.wrappers_ = {});
var n = o ? o.toArray() : o;
e.wrappers_[t] = o;
return jspb.Message.setOneofField(e, t, i, n);
};
jspb.Message.setRepeatedWrapperField = function(e, t, i) {
goog.asserts.assertInstanceof(e, jspb.Message);
e.wrappers_ || (e.wrappers_ = {});
i = i || [];
for (var o = [], n = 0; n < i.length; n++) o[n] = i[n].toArray();
e.wrappers_[t] = i;
return jspb.Message.setField(e, t, o);
};
jspb.Message.addToRepeatedWrapperField = function(e, t, i, o, n) {
jspb.Message.wrapRepeatedField_(e, o, t);
var r = e.wrappers_[t];
r || (r = e.wrappers_[t] = []);
i = i || new o();
e = jspb.Message.getRepeatedField(e, t);
void 0 != n ? (r.splice(n, 0, i), e.splice(n, 0, i.toArray())) : (r.push(i), e.push(i.toArray()));
return i;
};
jspb.Message.toMap = function(e, t, i, o) {
for (var n = {}, r = 0; r < e.length; r++) n[t.call(e[r])] = i ? i.call(e[r], o, e[r]) : e[r];
return n;
};
jspb.Message.prototype.syncMapFields_ = function() {
if (this.wrappers_) for (var e in this.wrappers_) {
var t = this.wrappers_[e];
if (goog.isArray(t)) for (var i = 0; i < t.length; i++) t[i] && t[i].toArray(); else t && t.toArray();
}
};
jspb.Message.prototype.toArray = function() {
this.syncMapFields_();
return this.array;
};
jspb.Message.GENERATE_TO_STRING && (jspb.Message.prototype.toString = function() {
this.syncMapFields_();
return this.array.toString();
});
jspb.Message.prototype.getExtension = function(e) {
if (this.extensionObject_) {
this.wrappers_ || (this.wrappers_ = {});
var t = e.fieldIndex;
if (e.isRepeated) {
if (e.isMessageType()) return this.wrappers_[t] || (this.wrappers_[t] = goog.array.map(this.extensionObject_[t] || [], function(t) {
return new e.ctor(t);
})), this.wrappers_[t];
} else if (e.isMessageType()) return !this.wrappers_[t] && this.extensionObject_[t] && (this.wrappers_[t] = new e.ctor(this.extensionObject_[t])), 
this.wrappers_[t];
return this.extensionObject_[t];
}
};
jspb.Message.prototype.setExtension = function(e, t) {
this.wrappers_ || (this.wrappers_ = {});
jspb.Message.maybeInitEmptyExtensionObject_(this);
var i = e.fieldIndex;
e.isRepeated ? (t = t || [], e.isMessageType() ? (this.wrappers_[i] = t, this.extensionObject_[i] = goog.array.map(t, function(e) {
return e.toArray();
})) : this.extensionObject_[i] = t) : e.isMessageType() ? (this.wrappers_[i] = t, 
this.extensionObject_[i] = t ? t.toArray() : t) : this.extensionObject_[i] = t;
return this;
};
jspb.Message.difference = function(e, t) {
if (!(e instanceof t.constructor)) throw Error("Messages have different types.");
var i = e.toArray();
t = t.toArray();
var o = [], n = 0, r = i.length > t.length ? i.length : t.length;
e.getJsPbMessageId() && (o[0] = e.getJsPbMessageId(), n = 1);
for (;n < r; n++) jspb.Message.compareFields(i[n], t[n]) || (o[n] = t[n]);
return new e.constructor(o);
};
jspb.Message.equals = function(e, t) {
return e == t || !(!e || !t) && e instanceof t.constructor && jspb.Message.compareFields(e.toArray(), t.toArray());
};
jspb.Message.compareExtensions = function(e, t) {
e = e || {};
t = t || {};
var i, o = {};
for (i in e) o[i] = 0;
for (i in t) o[i] = 0;
for (i in o) if (!jspb.Message.compareFields(e[i], t[i])) return !1;
return !0;
};
jspb.Message.compareFields = function(e, t) {
if (e == t) return !0;
if (!goog.isObject(e) || !goog.isObject(t)) return !!("number" == typeof e && isNaN(e) || "number" == typeof t && isNaN(t)) && String(e) == String(t);
if (e.constructor != t.constructor) return !1;
if (jspb.Message.SUPPORTS_UINT8ARRAY_ && e.constructor === Uint8Array) {
if (e.length != t.length) return !1;
for (var i = 0; i < e.length; i++) if (e[i] != t[i]) return !1;
return !0;
}
if (e.constructor === Array) {
var o = void 0, n = void 0, r = Math.max(e.length, t.length);
for (i = 0; i < r; i++) {
var a = e[i], s = t[i];
a && a.constructor == Object && (goog.asserts.assert(void 0 === o), goog.asserts.assert(i === e.length - 1), 
o = a, a = void 0);
s && s.constructor == Object && (goog.asserts.assert(void 0 === n), goog.asserts.assert(i === t.length - 1), 
n = s, s = void 0);
if (!jspb.Message.compareFields(a, s)) return !1;
}
return !o && !n || (o = o || {}, n = n || {}, jspb.Message.compareExtensions(o, n));
}
if (e.constructor === Object) return jspb.Message.compareExtensions(e, t);
throw Error("Invalid type in JSPB array");
};
jspb.Message.prototype.cloneMessage = function() {
return jspb.Message.cloneMessage(this);
};
jspb.Message.prototype.clone = function() {
return jspb.Message.cloneMessage(this);
};
jspb.Message.clone = function(e) {
return jspb.Message.cloneMessage(e);
};
jspb.Message.cloneMessage = function(e) {
return new e.constructor(jspb.Message.clone_(e.toArray()));
};
jspb.Message.copyInto = function(e, t) {
goog.asserts.assertInstanceof(e, jspb.Message);
goog.asserts.assertInstanceof(t, jspb.Message);
goog.asserts.assert(e.constructor == t.constructor, "Copy source and target message should have the same type.");
e = jspb.Message.clone(e);
for (var i = t.toArray(), o = e.toArray(), n = i.length = 0; n < o.length; n++) i[n] = o[n];
t.wrappers_ = e.wrappers_;
t.extensionObject_ = e.extensionObject_;
};
jspb.Message.clone_ = function(e) {
if (goog.isArray(e)) {
for (var t = Array(e.length), i = 0; i < e.length; i++) {
var o = e[i];
null != o && (t[i] = "object" == typeof o ? jspb.Message.clone_(goog.asserts.assert(o)) : o);
}
return t;
}
if (jspb.Message.SUPPORTS_UINT8ARRAY_ && e instanceof Uint8Array) return new Uint8Array(e);
t = {};
for (i in e) null != (o = e[i]) && (t[i] = "object" == typeof o ? jspb.Message.clone_(goog.asserts.assert(o)) : o);
return t;
};
jspb.Message.registerMessageType = function(e, t) {
t.messageId = e;
};
jspb.Message.messageSetExtensions = {};
jspb.Message.messageSetExtensionsBinary = {};
jspb.arith = {};
jspb.arith.UInt64 = function(e, t) {
this.lo = e;
this.hi = t;
};
jspb.arith.UInt64.prototype.cmp = function(e) {
return this.hi < e.hi || this.hi == e.hi && this.lo < e.lo ? -1 : this.hi == e.hi && this.lo == e.lo ? 0 : 1;
};
jspb.arith.UInt64.prototype.rightShift = function() {
return new jspb.arith.UInt64((this.lo >>> 1 | (1 & this.hi) << 31) >>> 0, this.hi >>> 1 >>> 0);
};
jspb.arith.UInt64.prototype.leftShift = function() {
return new jspb.arith.UInt64(this.lo << 1 >>> 0, (this.hi << 1 | this.lo >>> 31) >>> 0);
};
jspb.arith.UInt64.prototype.msb = function() {
return !!(2147483648 & this.hi);
};
jspb.arith.UInt64.prototype.lsb = function() {
return !!(1 & this.lo);
};
jspb.arith.UInt64.prototype.zero = function() {
return 0 == this.lo && 0 == this.hi;
};
jspb.arith.UInt64.prototype.add = function(e) {
return new jspb.arith.UInt64((this.lo + e.lo & 4294967295) >>> 0 >>> 0, ((this.hi + e.hi & 4294967295) >>> 0) + (4294967296 <= this.lo + e.lo ? 1 : 0) >>> 0);
};
jspb.arith.UInt64.prototype.sub = function(e) {
return new jspb.arith.UInt64((this.lo - e.lo & 4294967295) >>> 0 >>> 0, ((this.hi - e.hi & 4294967295) >>> 0) - (0 > this.lo - e.lo ? 1 : 0) >>> 0);
};
jspb.arith.UInt64.mul32x32 = function(e, t) {
var i = 65535 & e, o = 65535 & t, n = t >>> 16;
t = i * o + 65536 * (i * n & 65535) + 65536 * ((e >>>= 16) * o & 65535);
for (i = e * n + (i * n >>> 16) + (e * o >>> 16); 4294967296 <= t; ) t -= 4294967296, 
i += 1;
return new jspb.arith.UInt64(t >>> 0, i >>> 0);
};
jspb.arith.UInt64.prototype.mul = function(e) {
var t = jspb.arith.UInt64.mul32x32(this.lo, e);
(e = jspb.arith.UInt64.mul32x32(this.hi, e)).hi = e.lo;
e.lo = 0;
return t.add(e);
};
jspb.arith.UInt64.prototype.div = function(e) {
if (0 == e) return [];
var t = new jspb.arith.UInt64(0, 0), i = new jspb.arith.UInt64(this.lo, this.hi);
e = new jspb.arith.UInt64(e, 0);
for (var o = new jspb.arith.UInt64(1, 0); !e.msb(); ) e = e.leftShift(), o = o.leftShift();
for (;!o.zero(); ) 0 >= e.cmp(i) && (t = t.add(o), i = i.sub(e)), e = e.rightShift(), 
o = o.rightShift();
return [ t, i ];
};
jspb.arith.UInt64.prototype.toString = function() {
for (var e = "", t = this; !t.zero(); ) {
var i = (t = t.div(10))[0];
e = t[1].lo + e;
t = i;
}
"" == e && (e = "0");
return e;
};
jspb.arith.UInt64.fromString = function(e) {
for (var t = new jspb.arith.UInt64(0, 0), i = new jspb.arith.UInt64(0, 0), o = 0; o < e.length; o++) {
if ("0" > e[o] || "9" < e[o]) return null;
var n = parseInt(e[o], 10);
i.lo = n;
t = t.mul(10).add(i);
}
return t;
};
jspb.arith.UInt64.prototype.clone = function() {
return new jspb.arith.UInt64(this.lo, this.hi);
};
jspb.arith.Int64 = function(e, t) {
this.lo = e;
this.hi = t;
};
jspb.arith.Int64.prototype.add = function(e) {
return new jspb.arith.Int64((this.lo + e.lo & 4294967295) >>> 0 >>> 0, ((this.hi + e.hi & 4294967295) >>> 0) + (4294967296 <= this.lo + e.lo ? 1 : 0) >>> 0);
};
jspb.arith.Int64.prototype.sub = function(e) {
return new jspb.arith.Int64((this.lo - e.lo & 4294967295) >>> 0 >>> 0, ((this.hi - e.hi & 4294967295) >>> 0) - (0 > this.lo - e.lo ? 1 : 0) >>> 0);
};
jspb.arith.Int64.prototype.clone = function() {
return new jspb.arith.Int64(this.lo, this.hi);
};
jspb.arith.Int64.prototype.toString = function() {
var e = 0 != (2147483648 & this.hi), t = new jspb.arith.UInt64(this.lo, this.hi);
e && (t = new jspb.arith.UInt64(0, 0).sub(t));
return (e ? "-" : "") + t.toString();
};
jspb.arith.Int64.fromString = function(e) {
var t = 0 < e.length && "-" == e[0];
t && (e = e.substring(1));
if (null === (e = jspb.arith.UInt64.fromString(e))) return null;
t && (e = new jspb.arith.UInt64(0, 0).sub(e));
return new jspb.arith.Int64(e.lo, e.hi);
};
jspb.BinaryEncoder = function() {
this.buffer_ = [];
};
jspb.BinaryEncoder.prototype.length = function() {
return this.buffer_.length;
};
jspb.BinaryEncoder.prototype.end = function() {
var e = this.buffer_;
this.buffer_ = [];
return e;
};
jspb.BinaryEncoder.prototype.writeSplitVarint64 = function(e, t) {
goog.asserts.assert(e == Math.floor(e));
goog.asserts.assert(t == Math.floor(t));
goog.asserts.assert(0 <= e && e < jspb.BinaryConstants.TWO_TO_32);
for (goog.asserts.assert(0 <= t && t < jspb.BinaryConstants.TWO_TO_32); 0 < t || 127 < e; ) this.buffer_.push(127 & e | 128), 
e = (e >>> 7 | t << 25) >>> 0, t >>>= 7;
this.buffer_.push(e);
};
jspb.BinaryEncoder.prototype.writeSplitFixed64 = function(e, t) {
goog.asserts.assert(e == Math.floor(e));
goog.asserts.assert(t == Math.floor(t));
goog.asserts.assert(0 <= e && e < jspb.BinaryConstants.TWO_TO_32);
goog.asserts.assert(0 <= t && t < jspb.BinaryConstants.TWO_TO_32);
this.writeUint32(e);
this.writeUint32(t);
};
jspb.BinaryEncoder.prototype.writeUnsignedVarint32 = function(e) {
goog.asserts.assert(e == Math.floor(e));
for (goog.asserts.assert(0 <= e && e < jspb.BinaryConstants.TWO_TO_32); 127 < e; ) this.buffer_.push(127 & e | 128), 
e >>>= 7;
this.buffer_.push(e);
};
jspb.BinaryEncoder.prototype.writeSignedVarint32 = function(e) {
goog.asserts.assert(e == Math.floor(e));
goog.asserts.assert(e >= -jspb.BinaryConstants.TWO_TO_31 && e < jspb.BinaryConstants.TWO_TO_31);
if (0 <= e) this.writeUnsignedVarint32(e); else {
for (var t = 0; 9 > t; t++) this.buffer_.push(127 & e | 128), e >>= 7;
this.buffer_.push(1);
}
};
jspb.BinaryEncoder.prototype.writeUnsignedVarint64 = function(e) {
goog.asserts.assert(e == Math.floor(e));
goog.asserts.assert(0 <= e && e < jspb.BinaryConstants.TWO_TO_64);
jspb.utils.splitInt64(e);
this.writeSplitVarint64(jspb.utils.split64Low, jspb.utils.split64High);
};
jspb.BinaryEncoder.prototype.writeSignedVarint64 = function(e) {
goog.asserts.assert(e == Math.floor(e));
goog.asserts.assert(e >= -jspb.BinaryConstants.TWO_TO_63 && e < jspb.BinaryConstants.TWO_TO_63);
jspb.utils.splitInt64(e);
this.writeSplitVarint64(jspb.utils.split64Low, jspb.utils.split64High);
};
jspb.BinaryEncoder.prototype.writeZigzagVarint32 = function(e) {
goog.asserts.assert(e == Math.floor(e));
goog.asserts.assert(e >= -jspb.BinaryConstants.TWO_TO_31 && e < jspb.BinaryConstants.TWO_TO_31);
this.writeUnsignedVarint32((e << 1 ^ e >> 31) >>> 0);
};
jspb.BinaryEncoder.prototype.writeZigzagVarint64 = function(e) {
goog.asserts.assert(e == Math.floor(e));
goog.asserts.assert(e >= -jspb.BinaryConstants.TWO_TO_63 && e < jspb.BinaryConstants.TWO_TO_63);
jspb.utils.splitZigzag64(e);
this.writeSplitVarint64(jspb.utils.split64Low, jspb.utils.split64High);
};
jspb.BinaryEncoder.prototype.writeZigzagVarint64String = function(e) {
this.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(e));
};
jspb.BinaryEncoder.prototype.writeZigzagVarintHash64 = function(e) {
var t = this;
jspb.utils.splitHash64(e);
jspb.utils.toZigzag64(jspb.utils.split64Low, jspb.utils.split64High, function(e, i) {
t.writeSplitVarint64(e >>> 0, i >>> 0);
});
};
jspb.BinaryEncoder.prototype.writeUint8 = function(e) {
goog.asserts.assert(e == Math.floor(e));
goog.asserts.assert(0 <= e && 256 > e);
this.buffer_.push(e >>> 0 & 255);
};
jspb.BinaryEncoder.prototype.writeUint16 = function(e) {
goog.asserts.assert(e == Math.floor(e));
goog.asserts.assert(0 <= e && 65536 > e);
this.buffer_.push(e >>> 0 & 255);
this.buffer_.push(e >>> 8 & 255);
};
jspb.BinaryEncoder.prototype.writeUint32 = function(e) {
goog.asserts.assert(e == Math.floor(e));
goog.asserts.assert(0 <= e && e < jspb.BinaryConstants.TWO_TO_32);
this.buffer_.push(e >>> 0 & 255);
this.buffer_.push(e >>> 8 & 255);
this.buffer_.push(e >>> 16 & 255);
this.buffer_.push(e >>> 24 & 255);
};
jspb.BinaryEncoder.prototype.writeUint64 = function(e) {
goog.asserts.assert(e == Math.floor(e));
goog.asserts.assert(0 <= e && e < jspb.BinaryConstants.TWO_TO_64);
jspb.utils.splitUint64(e);
this.writeUint32(jspb.utils.split64Low);
this.writeUint32(jspb.utils.split64High);
};
jspb.BinaryEncoder.prototype.writeInt8 = function(e) {
goog.asserts.assert(e == Math.floor(e));
goog.asserts.assert(-128 <= e && 128 > e);
this.buffer_.push(e >>> 0 & 255);
};
jspb.BinaryEncoder.prototype.writeInt16 = function(e) {
goog.asserts.assert(e == Math.floor(e));
goog.asserts.assert(-32768 <= e && 32768 > e);
this.buffer_.push(e >>> 0 & 255);
this.buffer_.push(e >>> 8 & 255);
};
jspb.BinaryEncoder.prototype.writeInt32 = function(e) {
goog.asserts.assert(e == Math.floor(e));
goog.asserts.assert(e >= -jspb.BinaryConstants.TWO_TO_31 && e < jspb.BinaryConstants.TWO_TO_31);
this.buffer_.push(e >>> 0 & 255);
this.buffer_.push(e >>> 8 & 255);
this.buffer_.push(e >>> 16 & 255);
this.buffer_.push(e >>> 24 & 255);
};
jspb.BinaryEncoder.prototype.writeInt64 = function(e) {
goog.asserts.assert(e == Math.floor(e));
goog.asserts.assert(e >= -jspb.BinaryConstants.TWO_TO_63 && e < jspb.BinaryConstants.TWO_TO_63);
jspb.utils.splitInt64(e);
this.writeSplitFixed64(jspb.utils.split64Low, jspb.utils.split64High);
};
jspb.BinaryEncoder.prototype.writeInt64String = function(e) {
goog.asserts.assert(e == Math.floor(e));
goog.asserts.assert(+e >= -jspb.BinaryConstants.TWO_TO_63 && +e < jspb.BinaryConstants.TWO_TO_63);
jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(e));
this.writeSplitFixed64(jspb.utils.split64Low, jspb.utils.split64High);
};
jspb.BinaryEncoder.prototype.writeFloat = function(e) {
goog.asserts.assert(Infinity === e || -Infinity === e || isNaN(e) || e >= -jspb.BinaryConstants.FLOAT32_MAX && e <= jspb.BinaryConstants.FLOAT32_MAX);
jspb.utils.splitFloat32(e);
this.writeUint32(jspb.utils.split64Low);
};
jspb.BinaryEncoder.prototype.writeDouble = function(e) {
goog.asserts.assert(Infinity === e || -Infinity === e || isNaN(e) || e >= -jspb.BinaryConstants.FLOAT64_MAX && e <= jspb.BinaryConstants.FLOAT64_MAX);
jspb.utils.splitFloat64(e);
this.writeUint32(jspb.utils.split64Low);
this.writeUint32(jspb.utils.split64High);
};
jspb.BinaryEncoder.prototype.writeBool = function(e) {
goog.asserts.assert("boolean" == typeof e || "number" == typeof e);
this.buffer_.push(e ? 1 : 0);
};
jspb.BinaryEncoder.prototype.writeEnum = function(e) {
goog.asserts.assert(e == Math.floor(e));
goog.asserts.assert(e >= -jspb.BinaryConstants.TWO_TO_31 && e < jspb.BinaryConstants.TWO_TO_31);
this.writeSignedVarint32(e);
};
jspb.BinaryEncoder.prototype.writeBytes = function(e) {
this.buffer_.push.apply(this.buffer_, e);
};
jspb.BinaryEncoder.prototype.writeVarintHash64 = function(e) {
jspb.utils.splitHash64(e);
this.writeSplitVarint64(jspb.utils.split64Low, jspb.utils.split64High);
};
jspb.BinaryEncoder.prototype.writeFixedHash64 = function(e) {
jspb.utils.splitHash64(e);
this.writeUint32(jspb.utils.split64Low);
this.writeUint32(jspb.utils.split64High);
};
jspb.BinaryEncoder.prototype.writeString = function(e) {
for (var t = this.buffer_.length, i = 0; i < e.length; i++) {
var o = e.charCodeAt(i);
if (128 > o) this.buffer_.push(o); else if (2048 > o) this.buffer_.push(o >> 6 | 192), 
this.buffer_.push(63 & o | 128); else if (65536 > o) if (55296 <= o && 56319 >= o && i + 1 < e.length) {
var n = e.charCodeAt(i + 1);
56320 <= n && 57343 >= n && (o = 1024 * (o - 55296) + n - 56320 + 65536, this.buffer_.push(o >> 18 | 240), 
this.buffer_.push(o >> 12 & 63 | 128), this.buffer_.push(o >> 6 & 63 | 128), this.buffer_.push(63 & o | 128), 
i++);
} else this.buffer_.push(o >> 12 | 224), this.buffer_.push(o >> 6 & 63 | 128), this.buffer_.push(63 & o | 128);
}
return this.buffer_.length - t;
};
jspb.BinaryWriter = function() {
this.blocks_ = [];
this.totalLength_ = 0;
this.encoder_ = new jspb.BinaryEncoder();
this.bookmarks_ = [];
};
jspb.BinaryWriter.prototype.appendUint8Array_ = function(e) {
var t = this.encoder_.end();
this.blocks_.push(t);
this.blocks_.push(e);
this.totalLength_ += t.length + e.length;
};
jspb.BinaryWriter.prototype.beginDelimited_ = function(e) {
this.writeFieldHeader_(e, jspb.BinaryConstants.WireType.DELIMITED);
e = this.encoder_.end();
this.blocks_.push(e);
this.totalLength_ += e.length;
e.push(this.totalLength_);
return e;
};
jspb.BinaryWriter.prototype.endDelimited_ = function(e) {
var t = e.pop();
t = this.totalLength_ + this.encoder_.length() - t;
for (goog.asserts.assert(0 <= t); 127 < t; ) e.push(127 & t | 128), t >>>= 7, this.totalLength_++;
e.push(t);
this.totalLength_++;
};
jspb.BinaryWriter.prototype.writeSerializedMessage = function(e, t, i) {
this.appendUint8Array_(e.subarray(t, i));
};
jspb.BinaryWriter.prototype.maybeWriteSerializedMessage = function(e, t, i) {
null != e && null != t && null != i && this.writeSerializedMessage(e, t, i);
};
jspb.BinaryWriter.prototype.reset = function() {
this.blocks_ = [];
this.encoder_.end();
this.totalLength_ = 0;
this.bookmarks_ = [];
};
jspb.BinaryWriter.prototype.getResultBuffer = function() {
goog.asserts.assert(0 == this.bookmarks_.length);
for (var e = new Uint8Array(this.totalLength_ + this.encoder_.length()), t = this.blocks_, i = t.length, o = 0, n = 0; n < i; n++) {
var r = t[n];
e.set(r, o);
o += r.length;
}
t = this.encoder_.end();
e.set(t, o);
o += t.length;
goog.asserts.assert(o == e.length);
this.blocks_ = [ e ];
return e;
};
jspb.BinaryWriter.prototype.getResultBase64String = function(e) {
return goog.crypt.base64.encodeByteArray(this.getResultBuffer(), e);
};
jspb.BinaryWriter.prototype.beginSubMessage = function(e) {
this.bookmarks_.push(this.beginDelimited_(e));
};
jspb.BinaryWriter.prototype.endSubMessage = function() {
goog.asserts.assert(0 <= this.bookmarks_.length);
this.endDelimited_(this.bookmarks_.pop());
};
jspb.BinaryWriter.prototype.writeFieldHeader_ = function(e, t) {
goog.asserts.assert(1 <= e && e == Math.floor(e));
this.encoder_.writeUnsignedVarint32(8 * e + t);
};
jspb.BinaryWriter.prototype.writeAny = function(e, t, i) {
var o = jspb.BinaryConstants.FieldType;
switch (e) {
case o.DOUBLE:
this.writeDouble(t, i);
break;

case o.FLOAT:
this.writeFloat(t, i);
break;

case o.INT64:
this.writeInt64(t, i);
break;

case o.UINT64:
this.writeUint64(t, i);
break;

case o.INT32:
this.writeInt32(t, i);
break;

case o.FIXED64:
this.writeFixed64(t, i);
break;

case o.FIXED32:
this.writeFixed32(t, i);
break;

case o.BOOL:
this.writeBool(t, i);
break;

case o.STRING:
this.writeString(t, i);
break;

case o.GROUP:
goog.asserts.fail("Group field type not supported in writeAny()");
break;

case o.MESSAGE:
goog.asserts.fail("Message field type not supported in writeAny()");
break;

case o.BYTES:
this.writeBytes(t, i);
break;

case o.UINT32:
this.writeUint32(t, i);
break;

case o.ENUM:
this.writeEnum(t, i);
break;

case o.SFIXED32:
this.writeSfixed32(t, i);
break;

case o.SFIXED64:
this.writeSfixed64(t, i);
break;

case o.SINT32:
this.writeSint32(t, i);
break;

case o.SINT64:
this.writeSint64(t, i);
break;

case o.FHASH64:
this.writeFixedHash64(t, i);
break;

case o.VHASH64:
this.writeVarintHash64(t, i);
break;

default:
goog.asserts.fail("Invalid field type in writeAny()");
}
};
jspb.BinaryWriter.prototype.writeUnsignedVarint32_ = function(e, t) {
null != t && (this.writeFieldHeader_(e, jspb.BinaryConstants.WireType.VARINT), this.encoder_.writeUnsignedVarint32(t));
};
jspb.BinaryWriter.prototype.writeSignedVarint32_ = function(e, t) {
null != t && (this.writeFieldHeader_(e, jspb.BinaryConstants.WireType.VARINT), this.encoder_.writeSignedVarint32(t));
};
jspb.BinaryWriter.prototype.writeUnsignedVarint64_ = function(e, t) {
null != t && (this.writeFieldHeader_(e, jspb.BinaryConstants.WireType.VARINT), this.encoder_.writeUnsignedVarint64(t));
};
jspb.BinaryWriter.prototype.writeSignedVarint64_ = function(e, t) {
null != t && (this.writeFieldHeader_(e, jspb.BinaryConstants.WireType.VARINT), this.encoder_.writeSignedVarint64(t));
};
jspb.BinaryWriter.prototype.writeZigzagVarint32_ = function(e, t) {
null != t && (this.writeFieldHeader_(e, jspb.BinaryConstants.WireType.VARINT), this.encoder_.writeZigzagVarint32(t));
};
jspb.BinaryWriter.prototype.writeZigzagVarint64_ = function(e, t) {
null != t && (this.writeFieldHeader_(e, jspb.BinaryConstants.WireType.VARINT), this.encoder_.writeZigzagVarint64(t));
};
jspb.BinaryWriter.prototype.writeZigzagVarint64String_ = function(e, t) {
null != t && (this.writeFieldHeader_(e, jspb.BinaryConstants.WireType.VARINT), this.encoder_.writeZigzagVarint64String(t));
};
jspb.BinaryWriter.prototype.writeZigzagVarintHash64_ = function(e, t) {
null != t && (this.writeFieldHeader_(e, jspb.BinaryConstants.WireType.VARINT), this.encoder_.writeZigzagVarintHash64(t));
};
jspb.BinaryWriter.prototype.writeInt32 = function(e, t) {
null != t && (goog.asserts.assert(t >= -jspb.BinaryConstants.TWO_TO_31 && t < jspb.BinaryConstants.TWO_TO_31), 
this.writeSignedVarint32_(e, t));
};
jspb.BinaryWriter.prototype.writeInt32String = function(e, t) {
null != t && (t = parseInt(t, 10), goog.asserts.assert(t >= -jspb.BinaryConstants.TWO_TO_31 && t < jspb.BinaryConstants.TWO_TO_31), 
this.writeSignedVarint32_(e, t));
};
jspb.BinaryWriter.prototype.writeInt64 = function(e, t) {
null != t && (goog.asserts.assert(t >= -jspb.BinaryConstants.TWO_TO_63 && t < jspb.BinaryConstants.TWO_TO_63), 
this.writeSignedVarint64_(e, t));
};
jspb.BinaryWriter.prototype.writeInt64String = function(e, t) {
null != t && (t = jspb.arith.Int64.fromString(t), this.writeFieldHeader_(e, jspb.BinaryConstants.WireType.VARINT), 
this.encoder_.writeSplitVarint64(t.lo, t.hi));
};
jspb.BinaryWriter.prototype.writeUint32 = function(e, t) {
null != t && (goog.asserts.assert(0 <= t && t < jspb.BinaryConstants.TWO_TO_32), 
this.writeUnsignedVarint32_(e, t));
};
jspb.BinaryWriter.prototype.writeUint32String = function(e, t) {
null != t && (t = parseInt(t, 10), goog.asserts.assert(0 <= t && t < jspb.BinaryConstants.TWO_TO_32), 
this.writeUnsignedVarint32_(e, t));
};
jspb.BinaryWriter.prototype.writeUint64 = function(e, t) {
null != t && (goog.asserts.assert(0 <= t && t < jspb.BinaryConstants.TWO_TO_64), 
this.writeUnsignedVarint64_(e, t));
};
jspb.BinaryWriter.prototype.writeUint64String = function(e, t) {
null != t && (t = jspb.arith.UInt64.fromString(t), this.writeFieldHeader_(e, jspb.BinaryConstants.WireType.VARINT), 
this.encoder_.writeSplitVarint64(t.lo, t.hi));
};
jspb.BinaryWriter.prototype.writeSint32 = function(e, t) {
null != t && (goog.asserts.assert(t >= -jspb.BinaryConstants.TWO_TO_31 && t < jspb.BinaryConstants.TWO_TO_31), 
this.writeZigzagVarint32_(e, t));
};
jspb.BinaryWriter.prototype.writeSint64 = function(e, t) {
null != t && (goog.asserts.assert(t >= -jspb.BinaryConstants.TWO_TO_63 && t < jspb.BinaryConstants.TWO_TO_63), 
this.writeZigzagVarint64_(e, t));
};
jspb.BinaryWriter.prototype.writeSintHash64 = function(e, t) {
null != t && this.writeZigzagVarintHash64_(e, t);
};
jspb.BinaryWriter.prototype.writeSint64String = function(e, t) {
null != t && this.writeZigzagVarint64String_(e, t);
};
jspb.BinaryWriter.prototype.writeFixed32 = function(e, t) {
null != t && (goog.asserts.assert(0 <= t && t < jspb.BinaryConstants.TWO_TO_32), 
this.writeFieldHeader_(e, jspb.BinaryConstants.WireType.FIXED32), this.encoder_.writeUint32(t));
};
jspb.BinaryWriter.prototype.writeFixed64 = function(e, t) {
null != t && (goog.asserts.assert(0 <= t && t < jspb.BinaryConstants.TWO_TO_64), 
this.writeFieldHeader_(e, jspb.BinaryConstants.WireType.FIXED64), this.encoder_.writeUint64(t));
};
jspb.BinaryWriter.prototype.writeFixed64String = function(e, t) {
null != t && (t = jspb.arith.UInt64.fromString(t), this.writeFieldHeader_(e, jspb.BinaryConstants.WireType.FIXED64), 
this.encoder_.writeSplitFixed64(t.lo, t.hi));
};
jspb.BinaryWriter.prototype.writeSfixed32 = function(e, t) {
null != t && (goog.asserts.assert(t >= -jspb.BinaryConstants.TWO_TO_31 && t < jspb.BinaryConstants.TWO_TO_31), 
this.writeFieldHeader_(e, jspb.BinaryConstants.WireType.FIXED32), this.encoder_.writeInt32(t));
};
jspb.BinaryWriter.prototype.writeSfixed64 = function(e, t) {
null != t && (goog.asserts.assert(t >= -jspb.BinaryConstants.TWO_TO_63 && t < jspb.BinaryConstants.TWO_TO_63), 
this.writeFieldHeader_(e, jspb.BinaryConstants.WireType.FIXED64), this.encoder_.writeInt64(t));
};
jspb.BinaryWriter.prototype.writeSfixed64String = function(e, t) {
null != t && (t = jspb.arith.Int64.fromString(t), this.writeFieldHeader_(e, jspb.BinaryConstants.WireType.FIXED64), 
this.encoder_.writeSplitFixed64(t.lo, t.hi));
};
jspb.BinaryWriter.prototype.writeFloat = function(e, t) {
null != t && (this.writeFieldHeader_(e, jspb.BinaryConstants.WireType.FIXED32), 
this.encoder_.writeFloat(t));
};
jspb.BinaryWriter.prototype.writeDouble = function(e, t) {
null != t && (this.writeFieldHeader_(e, jspb.BinaryConstants.WireType.FIXED64), 
this.encoder_.writeDouble(t));
};
jspb.BinaryWriter.prototype.writeBool = function(e, t) {
null != t && (goog.asserts.assert("boolean" == typeof t || "number" == typeof t), 
this.writeFieldHeader_(e, jspb.BinaryConstants.WireType.VARINT), this.encoder_.writeBool(t));
};
jspb.BinaryWriter.prototype.writeEnum = function(e, t) {
null != t && (goog.asserts.assert(t >= -jspb.BinaryConstants.TWO_TO_31 && t < jspb.BinaryConstants.TWO_TO_31), 
this.writeFieldHeader_(e, jspb.BinaryConstants.WireType.VARINT), this.encoder_.writeSignedVarint32(t));
};
jspb.BinaryWriter.prototype.writeString = function(e, t) {
null != t && (e = this.beginDelimited_(e), this.encoder_.writeString(t), this.endDelimited_(e));
};
jspb.BinaryWriter.prototype.writeBytes = function(e, t) {
null != t && (t = jspb.utils.byteSourceToUint8Array(t), this.writeFieldHeader_(e, jspb.BinaryConstants.WireType.DELIMITED), 
this.encoder_.writeUnsignedVarint32(t.length), this.appendUint8Array_(t));
};
jspb.BinaryWriter.prototype.writeMessage = function(e, t, i) {
null != t && (e = this.beginDelimited_(e), i(t, this), this.endDelimited_(e));
};
jspb.BinaryWriter.prototype.writeMessageSet = function(e, t, i) {
null != t && (this.writeFieldHeader_(1, jspb.BinaryConstants.WireType.START_GROUP), 
this.writeFieldHeader_(2, jspb.BinaryConstants.WireType.VARINT), this.encoder_.writeSignedVarint32(e), 
e = this.beginDelimited_(3), i(t, this), this.endDelimited_(e), this.writeFieldHeader_(1, jspb.BinaryConstants.WireType.END_GROUP));
};
jspb.BinaryWriter.prototype.writeGroup = function(e, t, i) {
null != t && (this.writeFieldHeader_(e, jspb.BinaryConstants.WireType.START_GROUP), 
i(t, this), this.writeFieldHeader_(e, jspb.BinaryConstants.WireType.END_GROUP));
};
jspb.BinaryWriter.prototype.writeFixedHash64 = function(e, t) {
null != t && (goog.asserts.assert(8 == t.length), this.writeFieldHeader_(e, jspb.BinaryConstants.WireType.FIXED64), 
this.encoder_.writeFixedHash64(t));
};
jspb.BinaryWriter.prototype.writeVarintHash64 = function(e, t) {
null != t && (goog.asserts.assert(8 == t.length), this.writeFieldHeader_(e, jspb.BinaryConstants.WireType.VARINT), 
this.encoder_.writeVarintHash64(t));
};
jspb.BinaryWriter.prototype.writeSplitFixed64 = function(e, t, i) {
this.writeFieldHeader_(e, jspb.BinaryConstants.WireType.FIXED64);
this.encoder_.writeSplitFixed64(t, i);
};
jspb.BinaryWriter.prototype.writeSplitVarint64 = function(e, t, i) {
this.writeFieldHeader_(e, jspb.BinaryConstants.WireType.VARINT);
this.encoder_.writeSplitVarint64(t, i);
};
jspb.BinaryWriter.prototype.writeSplitZigzagVarint64 = function(e, t, i) {
this.writeFieldHeader_(e, jspb.BinaryConstants.WireType.VARINT);
var o = this.encoder_;
jspb.utils.toZigzag64(t, i, function(e, t) {
o.writeSplitVarint64(e >>> 0, t >>> 0);
});
};
jspb.BinaryWriter.prototype.writeRepeatedInt32 = function(e, t) {
if (null != t) for (var i = 0; i < t.length; i++) this.writeSignedVarint32_(e, t[i]);
};
jspb.BinaryWriter.prototype.writeRepeatedInt32String = function(e, t) {
if (null != t) for (var i = 0; i < t.length; i++) this.writeInt32String(e, t[i]);
};
jspb.BinaryWriter.prototype.writeRepeatedInt64 = function(e, t) {
if (null != t) for (var i = 0; i < t.length; i++) this.writeSignedVarint64_(e, t[i]);
};
jspb.BinaryWriter.prototype.writeRepeatedSplitFixed64 = function(e, t, i, o) {
if (null != t) for (var n = 0; n < t.length; n++) this.writeSplitFixed64(e, i(t[n]), o(t[n]));
};
jspb.BinaryWriter.prototype.writeRepeatedSplitVarint64 = function(e, t, i, o) {
if (null != t) for (var n = 0; n < t.length; n++) this.writeSplitVarint64(e, i(t[n]), o(t[n]));
};
jspb.BinaryWriter.prototype.writeRepeatedSplitZigzagVarint64 = function(e, t, i, o) {
if (null != t) for (var n = 0; n < t.length; n++) this.writeSplitZigzagVarint64(e, i(t[n]), o(t[n]));
};
jspb.BinaryWriter.prototype.writeRepeatedInt64String = function(e, t) {
if (null != t) for (var i = 0; i < t.length; i++) this.writeInt64String(e, t[i]);
};
jspb.BinaryWriter.prototype.writeRepeatedUint32 = function(e, t) {
if (null != t) for (var i = 0; i < t.length; i++) this.writeUnsignedVarint32_(e, t[i]);
};
jspb.BinaryWriter.prototype.writeRepeatedUint32String = function(e, t) {
if (null != t) for (var i = 0; i < t.length; i++) this.writeUint32String(e, t[i]);
};
jspb.BinaryWriter.prototype.writeRepeatedUint64 = function(e, t) {
if (null != t) for (var i = 0; i < t.length; i++) this.writeUnsignedVarint64_(e, t[i]);
};
jspb.BinaryWriter.prototype.writeRepeatedUint64String = function(e, t) {
if (null != t) for (var i = 0; i < t.length; i++) this.writeUint64String(e, t[i]);
};
jspb.BinaryWriter.prototype.writeRepeatedSint32 = function(e, t) {
if (null != t) for (var i = 0; i < t.length; i++) this.writeZigzagVarint32_(e, t[i]);
};
jspb.BinaryWriter.prototype.writeRepeatedSint64 = function(e, t) {
if (null != t) for (var i = 0; i < t.length; i++) this.writeZigzagVarint64_(e, t[i]);
};
jspb.BinaryWriter.prototype.writeRepeatedSint64String = function(e, t) {
if (null != t) for (var i = 0; i < t.length; i++) this.writeZigzagVarint64String_(e, t[i]);
};
jspb.BinaryWriter.prototype.writeRepeatedSintHash64 = function(e, t) {
if (null != t) for (var i = 0; i < t.length; i++) this.writeZigzagVarintHash64_(e, t[i]);
};
jspb.BinaryWriter.prototype.writeRepeatedFixed32 = function(e, t) {
if (null != t) for (var i = 0; i < t.length; i++) this.writeFixed32(e, t[i]);
};
jspb.BinaryWriter.prototype.writeRepeatedFixed64 = function(e, t) {
if (null != t) for (var i = 0; i < t.length; i++) this.writeFixed64(e, t[i]);
};
jspb.BinaryWriter.prototype.writeRepeatedFixed64String = function(e, t) {
if (null != t) for (var i = 0; i < t.length; i++) this.writeFixed64String(e, t[i]);
};
jspb.BinaryWriter.prototype.writeRepeatedSfixed32 = function(e, t) {
if (null != t) for (var i = 0; i < t.length; i++) this.writeSfixed32(e, t[i]);
};
jspb.BinaryWriter.prototype.writeRepeatedSfixed64 = function(e, t) {
if (null != t) for (var i = 0; i < t.length; i++) this.writeSfixed64(e, t[i]);
};
jspb.BinaryWriter.prototype.writeRepeatedSfixed64String = function(e, t) {
if (null != t) for (var i = 0; i < t.length; i++) this.writeSfixed64String(e, t[i]);
};
jspb.BinaryWriter.prototype.writeRepeatedFloat = function(e, t) {
if (null != t) for (var i = 0; i < t.length; i++) this.writeFloat(e, t[i]);
};
jspb.BinaryWriter.prototype.writeRepeatedDouble = function(e, t) {
if (null != t) for (var i = 0; i < t.length; i++) this.writeDouble(e, t[i]);
};
jspb.BinaryWriter.prototype.writeRepeatedBool = function(e, t) {
if (null != t) for (var i = 0; i < t.length; i++) this.writeBool(e, t[i]);
};
jspb.BinaryWriter.prototype.writeRepeatedEnum = function(e, t) {
if (null != t) for (var i = 0; i < t.length; i++) this.writeEnum(e, t[i]);
};
jspb.BinaryWriter.prototype.writeRepeatedString = function(e, t) {
if (null != t) for (var i = 0; i < t.length; i++) this.writeString(e, t[i]);
};
jspb.BinaryWriter.prototype.writeRepeatedBytes = function(e, t) {
if (null != t) for (var i = 0; i < t.length; i++) this.writeBytes(e, t[i]);
};
jspb.BinaryWriter.prototype.writeRepeatedMessage = function(e, t, i) {
if (null != t) for (var o = 0; o < t.length; o++) {
var n = this.beginDelimited_(e);
i(t[o], this);
this.endDelimited_(n);
}
};
jspb.BinaryWriter.prototype.writeRepeatedGroup = function(e, t, i) {
if (null != t) for (var o = 0; o < t.length; o++) this.writeFieldHeader_(e, jspb.BinaryConstants.WireType.START_GROUP), 
i(t[o], this), this.writeFieldHeader_(e, jspb.BinaryConstants.WireType.END_GROUP);
};
jspb.BinaryWriter.prototype.writeRepeatedFixedHash64 = function(e, t) {
if (null != t) for (var i = 0; i < t.length; i++) this.writeFixedHash64(e, t[i]);
};
jspb.BinaryWriter.prototype.writeRepeatedVarintHash64 = function(e, t) {
if (null != t) for (var i = 0; i < t.length; i++) this.writeVarintHash64(e, t[i]);
};
jspb.BinaryWriter.prototype.writePackedInt32 = function(e, t) {
if (null != t && t.length) {
e = this.beginDelimited_(e);
for (var i = 0; i < t.length; i++) this.encoder_.writeSignedVarint32(t[i]);
this.endDelimited_(e);
}
};
jspb.BinaryWriter.prototype.writePackedInt32String = function(e, t) {
if (null != t && t.length) {
e = this.beginDelimited_(e);
for (var i = 0; i < t.length; i++) this.encoder_.writeSignedVarint32(parseInt(t[i], 10));
this.endDelimited_(e);
}
};
jspb.BinaryWriter.prototype.writePackedInt64 = function(e, t) {
if (null != t && t.length) {
e = this.beginDelimited_(e);
for (var i = 0; i < t.length; i++) this.encoder_.writeSignedVarint64(t[i]);
this.endDelimited_(e);
}
};
jspb.BinaryWriter.prototype.writePackedSplitFixed64 = function(e, t, i, o) {
if (null != t) {
e = this.beginDelimited_(e);
for (var n = 0; n < t.length; n++) this.encoder_.writeSplitFixed64(i(t[n]), o(t[n]));
this.endDelimited_(e);
}
};
jspb.BinaryWriter.prototype.writePackedSplitVarint64 = function(e, t, i, o) {
if (null != t) {
e = this.beginDelimited_(e);
for (var n = 0; n < t.length; n++) this.encoder_.writeSplitVarint64(i(t[n]), o(t[n]));
this.endDelimited_(e);
}
};
jspb.BinaryWriter.prototype.writePackedSplitZigzagVarint64 = function(e, t, i, o) {
if (null != t) {
e = this.beginDelimited_(e);
for (var n = this.encoder_, r = 0; r < t.length; r++) jspb.utils.toZigzag64(i(t[r]), o(t[r]), function(e, t) {
n.writeSplitVarint64(e >>> 0, t >>> 0);
});
this.endDelimited_(e);
}
};
jspb.BinaryWriter.prototype.writePackedInt64String = function(e, t) {
if (null != t && t.length) {
e = this.beginDelimited_(e);
for (var i = 0; i < t.length; i++) {
var o = jspb.arith.Int64.fromString(t[i]);
this.encoder_.writeSplitVarint64(o.lo, o.hi);
}
this.endDelimited_(e);
}
};
jspb.BinaryWriter.prototype.writePackedUint32 = function(e, t) {
if (null != t && t.length) {
e = this.beginDelimited_(e);
for (var i = 0; i < t.length; i++) this.encoder_.writeUnsignedVarint32(t[i]);
this.endDelimited_(e);
}
};
jspb.BinaryWriter.prototype.writePackedUint32String = function(e, t) {
if (null != t && t.length) {
e = this.beginDelimited_(e);
for (var i = 0; i < t.length; i++) this.encoder_.writeUnsignedVarint32(parseInt(t[i], 10));
this.endDelimited_(e);
}
};
jspb.BinaryWriter.prototype.writePackedUint64 = function(e, t) {
if (null != t && t.length) {
e = this.beginDelimited_(e);
for (var i = 0; i < t.length; i++) this.encoder_.writeUnsignedVarint64(t[i]);
this.endDelimited_(e);
}
};
jspb.BinaryWriter.prototype.writePackedUint64String = function(e, t) {
if (null != t && t.length) {
e = this.beginDelimited_(e);
for (var i = 0; i < t.length; i++) {
var o = jspb.arith.UInt64.fromString(t[i]);
this.encoder_.writeSplitVarint64(o.lo, o.hi);
}
this.endDelimited_(e);
}
};
jspb.BinaryWriter.prototype.writePackedSint32 = function(e, t) {
if (null != t && t.length) {
e = this.beginDelimited_(e);
for (var i = 0; i < t.length; i++) this.encoder_.writeZigzagVarint32(t[i]);
this.endDelimited_(e);
}
};
jspb.BinaryWriter.prototype.writePackedSint64 = function(e, t) {
if (null != t && t.length) {
e = this.beginDelimited_(e);
for (var i = 0; i < t.length; i++) this.encoder_.writeZigzagVarint64(t[i]);
this.endDelimited_(e);
}
};
jspb.BinaryWriter.prototype.writePackedSint64String = function(e, t) {
if (null != t && t.length) {
e = this.beginDelimited_(e);
for (var i = 0; i < t.length; i++) this.encoder_.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(t[i]));
this.endDelimited_(e);
}
};
jspb.BinaryWriter.prototype.writePackedSintHash64 = function(e, t) {
if (null != t && t.length) {
e = this.beginDelimited_(e);
for (var i = 0; i < t.length; i++) this.encoder_.writeZigzagVarintHash64(t[i]);
this.endDelimited_(e);
}
};
jspb.BinaryWriter.prototype.writePackedFixed32 = function(e, t) {
if (null != t && t.length) for (this.writeFieldHeader_(e, jspb.BinaryConstants.WireType.DELIMITED), 
this.encoder_.writeUnsignedVarint32(4 * t.length), e = 0; e < t.length; e++) this.encoder_.writeUint32(t[e]);
};
jspb.BinaryWriter.prototype.writePackedFixed64 = function(e, t) {
if (null != t && t.length) for (this.writeFieldHeader_(e, jspb.BinaryConstants.WireType.DELIMITED), 
this.encoder_.writeUnsignedVarint32(8 * t.length), e = 0; e < t.length; e++) this.encoder_.writeUint64(t[e]);
};
jspb.BinaryWriter.prototype.writePackedFixed64String = function(e, t) {
if (null != t && t.length) for (this.writeFieldHeader_(e, jspb.BinaryConstants.WireType.DELIMITED), 
this.encoder_.writeUnsignedVarint32(8 * t.length), e = 0; e < t.length; e++) {
var i = jspb.arith.UInt64.fromString(t[e]);
this.encoder_.writeSplitFixed64(i.lo, i.hi);
}
};
jspb.BinaryWriter.prototype.writePackedSfixed32 = function(e, t) {
if (null != t && t.length) for (this.writeFieldHeader_(e, jspb.BinaryConstants.WireType.DELIMITED), 
this.encoder_.writeUnsignedVarint32(4 * t.length), e = 0; e < t.length; e++) this.encoder_.writeInt32(t[e]);
};
jspb.BinaryWriter.prototype.writePackedSfixed64 = function(e, t) {
if (null != t && t.length) for (this.writeFieldHeader_(e, jspb.BinaryConstants.WireType.DELIMITED), 
this.encoder_.writeUnsignedVarint32(8 * t.length), e = 0; e < t.length; e++) this.encoder_.writeInt64(t[e]);
};
jspb.BinaryWriter.prototype.writePackedSfixed64String = function(e, t) {
if (null != t && t.length) for (this.writeFieldHeader_(e, jspb.BinaryConstants.WireType.DELIMITED), 
this.encoder_.writeUnsignedVarint32(8 * t.length), e = 0; e < t.length; e++) this.encoder_.writeInt64String(t[e]);
};
jspb.BinaryWriter.prototype.writePackedFloat = function(e, t) {
if (null != t && t.length) for (this.writeFieldHeader_(e, jspb.BinaryConstants.WireType.DELIMITED), 
this.encoder_.writeUnsignedVarint32(4 * t.length), e = 0; e < t.length; e++) this.encoder_.writeFloat(t[e]);
};
jspb.BinaryWriter.prototype.writePackedDouble = function(e, t) {
if (null != t && t.length) for (this.writeFieldHeader_(e, jspb.BinaryConstants.WireType.DELIMITED), 
this.encoder_.writeUnsignedVarint32(8 * t.length), e = 0; e < t.length; e++) this.encoder_.writeDouble(t[e]);
};
jspb.BinaryWriter.prototype.writePackedBool = function(e, t) {
if (null != t && t.length) for (this.writeFieldHeader_(e, jspb.BinaryConstants.WireType.DELIMITED), 
this.encoder_.writeUnsignedVarint32(t.length), e = 0; e < t.length; e++) this.encoder_.writeBool(t[e]);
};
jspb.BinaryWriter.prototype.writePackedEnum = function(e, t) {
if (null != t && t.length) {
e = this.beginDelimited_(e);
for (var i = 0; i < t.length; i++) this.encoder_.writeEnum(t[i]);
this.endDelimited_(e);
}
};
jspb.BinaryWriter.prototype.writePackedFixedHash64 = function(e, t) {
if (null != t && t.length) for (this.writeFieldHeader_(e, jspb.BinaryConstants.WireType.DELIMITED), 
this.encoder_.writeUnsignedVarint32(8 * t.length), e = 0; e < t.length; e++) this.encoder_.writeFixedHash64(t[e]);
};
jspb.BinaryWriter.prototype.writePackedVarintHash64 = function(e, t) {
if (null != t && t.length) {
e = this.beginDelimited_(e);
for (var i = 0; i < t.length; i++) this.encoder_.writeVarintHash64(t[i]);
this.endDelimited_(e);
}
};
jspb.Export = {};
exports.Map = jspb.Map;
exports.Message = jspb.Message;
exports.BinaryReader = jspb.BinaryReader;
exports.BinaryWriter = jspb.BinaryWriter;
exports.ExtensionFieldInfo = jspb.ExtensionFieldInfo;
exports.ExtensionFieldBinaryInfo = jspb.ExtensionFieldBinaryInfo;
exports.exportSymbol = goog.exportSymbol;
exports.inherits = goog.inherits;
exports.object = {
extend: goog.object.extend
};
exports.typeOf = goog.typeOf;
}).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, require("buffer").Buffer);
}, {
buffer: 47
} ],
AddCashAmountModel: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "a4b9dqSP4hMzqwxaa+F6IuT", "AddCashAmountModel");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = cc._decorator, a = r.ccclass, s = r.property, c = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.label = null;
t.text = "hello";
return t;
}
t.prototype.start = function() {};
n([ s(cc.Label) ], t.prototype, "label", void 0);
n([ s ], t.prototype, "text", void 0);
return t = n([ a ], t);
}(cc.Component);
i.default = c;
cc._RF.pop();
}, {} ],
AddCashContentModel: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "1ffc99CcbtMRrM2ivBNoHbJ", "AddCashContentModel");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = e("../../Script/Audio/CommonAudio"), a = e("../../Script/Audio/CommonAudioMgr"), s = e("../../Script/UI/CommonPrefabMgr"), c = e("./../../Script/GameFramework/ApiMgr"), l = e("UserCenterPrefabMgr"), u = e("GameEngineUtil"), d = e("TrackUtil"), f = e("CommonLanguage"), h = e("FormatCheckUtil"), p = cc._decorator, g = p.ccclass, m = p.property, y = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.usedamountcontentnode = null;
t.usedamountcontentprefab = null;
t.editampunt = null;
t.paytypedata = void 0;
t.paychanneldata = void 0;
t.cashamounteditChanged = !0;
return t;
}
t.prototype.start = function() {};
t.prototype.initData = function(e, t) {
this.paytypedata = e;
this.paychanneldata = t;
};
t.prototype.onLoad = function() {
this.refreshViewShow();
};
t.prototype.cashAmountEditChanged = function() {
cc.log(this.editampunt.getComponent(cc.EditBox).string);
if (this.cashamounteditChanged) {
this.cashamounteditChanged = !1;
this.paychanneldata && ("Wallet" == this.paychanneldata ? this.paytypedata && ((this.paytypedata.name = "Paytm") ? u.trackEvent(d.rechargewalletpaytmedit) : (this.paytypedata.name = "PhoneBe") && u.trackEvent(d.rechargewalletphonebeedit)) : "Credit Card" == this.paychanneldata ? u.trackEvent(d.rechargecreditcardeditchanged) : "Debit Card" == this.paychanneldata ? u.trackEvent(d.rechargedebiteditcardchanged) : "Net Banking" == this.paychanneldata ? u.trackEvent(d.rechargenetbankingeditchanged) : "UPI" == this.paychanneldata && u.trackEvent(d.rechargeupieditchanged));
}
};
t.prototype.refreshViewShow = function() {
var e = this;
if (e.paytypedata && cc.isValid(e.usedamountcontentnode) && e.usedamountcontentprefab) {
e.usedamountcontentnode.removeAllChildren();
e.usedamountcontentnode.active = !1;
var t = e.paytypedata.amountsList;
if (t && t.length > 0) {
for (var i = function(i) {
var o = t[i], n = cc.instantiate(e.usedamountcontentprefab);
n.getChildByName("amountbtntv").getComponent(cc.Label).string = "₹ " + String(o);
e.usedamountcontentnode.addChild(n);
n.on("click", function() {
a.default.playEffect(r.default.common.btnMusic);
cc.isValid(e.editampunt) && (e.editampunt.getComponent(cc.EditBox).string = String(o));
});
}, o = 0; o < t.length; o++) i(o);
e.usedamountcontentnode.active = !0;
}
}
};
t.prototype.onclickAddCash = function() {
this.paychanneldata && ("Wallet" == this.paychanneldata ? this.paytypedata && ((this.paytypedata.name = "Paytm") ? u.trackEvent(d.rechargewalletpaytmaddonclick) : (this.paytypedata.name = "PhoneBe") && u.trackEvent(d.rechargewalletphonebeaddonclick)) : "Credit Card" == this.paychanneldata ? u.trackEvent(d.rechargecreditcardaddonclick) : "Debit Card" == this.paychanneldata ? u.trackEvent(d.rechargedebitaddonclick) : "Net Banking" == this.paychanneldata ? u.trackEvent(d.rechargenetbankingaddoncick) : "UPI" == this.paychanneldata && u.trackEvent(d.rechargeupiaddonclick));
var e = this.editampunt.getComponent(cc.EditBox).string, t = Number(e), i = Number(this.paytypedata.minamount), o = Number(this.paytypedata.maxamount);
i <= 0 && (i = 100);
o <= 0 && (o = 5e4);
cc.log("editamout=" + t);
if (h.isIntegerNumber(t)) if (t < i || t > o) {
r = f.currentlanguage.addcash.addcashsubmitnotice.format(i, o);
s.default.createAlert(r, f.currentlanguage.alert.alertbuttonone, function() {}, void 0, void 0, !1, void 0, void 0);
} else {
var n = {
amount: e,
paytype: this.paytypedata.paytype,
paychannel: this.paytypedata.paychannel,
confid: this.paytypedata.confid
};
c.default.doRecharge(n, function(e) {
"url" == e.type && u.openUrlByGameCity(e.charge);
}, function(e) {
e && (2005 == e.status ? l.editKycInfo(1) : s.default.createToast(e.msg));
});
} else {
var r = f.currentlanguage.addcash.addcashsubmitnotice.format(i, o);
s.default.createAlert(r, f.currentlanguage.alert.alertbuttonone, function() {}, void 0, void 0, !1, void 0, void 0);
}
};
n([ m(cc.Node) ], t.prototype, "usedamountcontentnode", void 0);
n([ m(cc.Prefab) ], t.prototype, "usedamountcontentprefab", void 0);
n([ m(cc.Node) ], t.prototype, "editampunt", void 0);
return t = n([ g ], t);
}(cc.Component);
i.default = y;
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"./../../Script/GameFramework/ApiMgr": "ApiMgr",
CommonLanguage: "CommonLanguage",
FormatCheckUtil: "FormatCheckUtil",
GameEngineUtil: "GameEngineUtil",
TrackUtil: "TrackUtil",
UserCenterPrefabMgr: "UserCenterPrefabMgr"
} ],
Alert: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "10ca9MQezBJMqXBLUFg3+Z5", "Alert");
var o = r(e("../../../Script/Audio/CommonAudioMgr")), n = r(e("../../../Script/Audio/CommonAudio"));
function r(e) {
return e && e.__esModule ? e : {
default: e
};
}
var a = e("CommonRes"), s = e("CommonFunction"), c = e("FullScreenAdapter");
cc.Class({
extends: cc.Component,
properties: {
txtMessage: cc.RichText,
btnPositive: cc.Button,
btnNegative: cc.Button,
txtPositive: cc.Label,
txtNegative: cc.Label,
closeBtnNode: cc.Node
},
onLoad: function() {
c.applyHorizon(this.node.getChildByName("mask"));
cc.isValid(this.closeBtnNode) && (this.closeBtnNode.active = !1);
},
init: function(e, t, i, o, n, r) {
this.frame && this.frame.setPosition(0, 5e3);
r && this.showCloseBtn();
e.indexOf("\n") >= 0 ? cc.isValid(this.txtMessage) && (this.txtMessage.horizontalAlign = cc.macro.TextAlignment.CENTER) : "string" == typeof e && e.length >= 21 ? cc.isValid(this.txtMessage) && (this.txtMessage.horizontalAlign = cc.macro.TextAlignment.LEFT) : cc.isValid(this.txtMessage) && (this.txtMessage.horizontalAlign = cc.macro.TextAlignment.CENTER);
if (this.txtMessage && this.txtMessage.node) if ("string" == typeof e) {
this.txtMessage.node.active = !0;
cc.vv.beautifulgame ? this.txtMessage.string = "<color=#b79b70>" + e.toString() + "</color>" : this.txtMessage.string = e.toString();
} else this.txtMessage.node.active = !1;
if (this.btnPositive && this.btnPositive.node) if ("string" == typeof t) {
this.btnPositive.node.active = !0;
this.txtPositive.string = t.toString();
} else this.btnPositive.node.active = !1;
if (this.btnNegative && this.btnNegative.node) if ("string" == typeof o) {
this.btnNegative.node.active = !0;
this.txtNegative.string = o.toString();
} else this.btnNegative.node.active = !1;
this.positiveCallback = "function" == typeof i ? i : function() {};
this.negativeCallback = "function" == typeof n ? n : function() {};
this.show();
},
initWithCountdown: function(e, t, i, o, n, r, a, s) {
var c = this;
c.frame && c.frame.setPosition(0, 5e3);
e.indexOf("\n") >= 0 ? cc.isValid(c.txtMessage) && (c.txtMessage.horizontalAlign = cc.macro.TextAlignment.CENTER) : "string" == typeof e && e.length >= 21 ? cc.isValid(c.txtMessage) && (c.txtMessage.horizontalAlign = cc.macro.TextAlignment.LEFT) : cc.isValid(c.txtMessage) && (c.txtMessage.horizontalAlign = cc.macro.TextAlignment.CENTER);
if (c.txtMessage && c.txtMessage.node) if ("string" == typeof e && "string" == typeof t) {
c.txtMessage.node.active = !0;
var l = i, u = e + l + t;
cc.vv.beautifulgame ? c.txtMessage.string = "<color=#b79b70>" + u.toString() + "</color>" : this.txtMessage.string = u.toString();
c.schedule(function() {
var i = e + --l + t;
cc.vv.beautifulgame ? c.txtMessage.string = "<color=#b79b70>" + i.toString() + "</color>" : this.txtMessage.string = i.toString();
0 == l && c.countdownFinishAction();
}, 1, i, 0);
} else c.txtMessage.node.active = !1;
if (this.btnPositive && this.btnPositive.node) if ("string" == typeof n) {
this.btnPositive.node.active = !0;
this.txtPositive.string = n.toString();
} else this.btnPositive.node.active = !1;
if (this.btnNegative && this.btnNegative.node) if ("string" == typeof a) {
this.btnNegative.node.active = !0;
this.txtNegative.string = a.toString();
} else this.btnNegative.node.active = !1;
this.countdownCallback = "function" == typeof o ? o : function() {};
this.positiveCallback = "function" == typeof r ? r : function() {};
this.negativeCallback = "function" == typeof s ? s : function() {};
this.show();
},
initWithSaveImageTip: function(e, t, i) {
this.frame && this.frame.setPosition(0, 5e3);
cc.isValid(this.txtMessage) && (this.txtMessage.horizontalAlign = cc.macro.TextAlignment.CENTER);
if (this.txtMessage && this.txtMessage.node) if ("string" == typeof e) {
this.txtMessage.node.active = !0;
cc.vv.beautifulgame ? this.txtMessage.string = "<color=#b79b70>" + e.toString() + "</color>" : this.txtMessage.string = e.toString();
} else this.txtMessage.node.active = !1;
this.btnNegative.node.active = !1;
s.setComponentSprite(this.btnPositive.node, a.texture.btnYellow);
if (this.btnPositive && this.btnPositive.node) if ("string" == typeof t) {
this.btnPositive.node.active = !0;
this.txtPositive.string = t.toString();
} else this.btnPositive.node.active = !1;
this.positiveCallback = "function" == typeof i ? i : function() {};
this.show();
},
onEnable: function() {},
show: function() {
this.frame && this.frame.runAction(cc.sequence(cc.scaleTo(0, .8), cc.place(0, 0), cc.scaleTo(.2, 1).easing(cc.easeBackOut())));
},
dismiss: function() {
n.default.common && n.default.common.btnMusic && o.default.playEffect(n.default.common.btnMusic);
this.node && (this.node.active = !1);
},
countdownFinishAction: function() {
this.countdownCallback();
this.dismiss();
},
onClickPositive: function() {
this.positiveCallback();
this.dismiss();
},
onClickNegative: function() {
this.negativeCallback();
this.dismiss();
},
showCloseBtn: function() {
cc.isValid(this.closeBtnNode) && (this.closeBtnNode.active = !0);
},
closeAlertAction: function() {
cc.isValid(this.node) && this.node.destroy();
}
});
cc._RF.pop();
}, {
"../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
CommonFunction: "CommonFunction",
CommonRes: "CommonRes",
FullScreenAdapter: "FullScreenAdapter"
} ],
AllAgentWxItem: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "b54f8txzkxM0p1mrewTW0wN", "AllAgentWxItem");
var o = a(e("../../Script/Audio/CommonAudioMgr")), n = a(e("../../Script/Audio/CommonAudio")), r = a(e("../../Script/UI/CommonPrefabMgr"));
function a(e) {
return e && e.__esModule ? e : {
default: e
};
}
var s = e("GameEngineUtil");
cc.Class({
extends: cc.Component,
properties: {
wxAccount: cc.Label
},
initData: function(e, t) {
this.id = "";
null != e && void 0 != e && (this.id = e);
this.wxAccount && (this.wxAccount.string = t);
},
copyWxBtn: function() {
o.default.playEffect(n.default.common.btnMusic);
var e = this;
if ("" == e.id || null == e.id || void 0 == e.id) r.default.createToast("微信号复制失败"); else if (s.hasWeChat()) {
r.default.createMutiToast("代理微信号已复制，3S后自动打开微信添加好友时，长按屏幕粘贴微信号即可");
s.copyText(e.id);
e.scheduleOnce(function() {
s.startApp("2:" + e.id);
}, 2);
} else r.default.createToast("请先安装微信。");
}
});
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
GameEngineUtil: "GameEngineUtil"
} ],
AllAgent: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "23250zydEVHMZkaedy875St", "AllAgent");
var o = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("../../Script/LocalStorage/LocalStorageUtil"));
cc.Class({
extends: cc.Component,
properties: {
wrap: cc.Node,
wxItem: cc.Prefab
},
onLoad: function() {},
init: function(e) {
var t = cc.director.getScene().getChildByName("Canvas");
cc.isValid(t) && t.addChild(this.node, e);
var i = o.default.getAgencyData();
if (null != i && void 0 != i) {
if (!(i.length <= 0)) for (var n = i.length >= 3 ? 3 : i.length, r = 0; r < n; r++) {
var a = i[r].id, s = i[r].nickname, c = cc.instantiate(this.wxItem);
c.getComponent("AllAgentWxItem").initData(a, s);
cc.isValid(this.wrap) && this.wrap.addChild(c);
}
}
},
onCloseClick: function() {
if (this.node) {
this.node.active = !1;
this.node.removeFromParent();
}
}
});
cc._RF.pop();
}, {
"../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil"
} ],
ApiMgr: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "bfd5dwYB1hDzZ5bk/YyaUDr", "ApiMgr");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = e("./Api"), n = e("./GameType"), r = e("NewCommonHttp"), a = e("GameEngineUtil"), s = e("../../Script/LocalStorage/LocalStorageUtil"), c = e("../../Script/UserManager"), l = e("CommonHttp"), u = e("NewGameInfo"), d = e("CommonVariable"), f = e("Api_pb"), h = (f.PingReq, 
f.PingResp, f.AnonymousLoginReq), p = f.AnonymousLoginResp, g = (f.LoginConfReq, 
f.LoginConfResp, f.UserInfoReq), m = f.UserInfoResp, y = f.SettingsReq, b = f.SettingsResp, _ = (f.SettingsResp, 
f.BarItemSetting, f.SettingsResp, f.CustomerInfo, f.SettingsResp, f.GameSetting, 
f.SettingsResp, f.Kg, f.SettingsResp, f.PayConf, b = f.SettingsResp, f.ViewLayout, 
f.RoomInfoReq), v = f.RoomInfoResp, S = (f.ReqHeader, f.RespHeader, f.ModifyUserReq), C = f.ModifyUserResp, w = f.LoginReq, A = f.LoginResp, R = f.VerifyCodeReq, T = f.VerifyCodeResp, E = f.RegisterReq, M = f.RegisterResp, P = f.RechargeTypeReq, k = f.RechargeTypeResp, I = f.RechargeReq, N = f.RechargeResp, B = f.WithdrawTypesReq, L = f.WithdrawTypesResp, U = f.WithdrawApplyReq, D = f.WithdrawApplyResp, F = f.WithdrawBindReq, O = (F = f.WithdrawBindReq, 
f.WithdrawBinds), x = (F = f.WithdrawBindReq, O = f.WithdrawBinds, f.WithdrawPayTM), G = (F = f.WithdrawBindReq, 
O = f.WithdrawBinds, f.WithdrawDebitCard), W = f.WithdrawBindResp, V = f.WithdrawRecordReq, j = f.WithdrawRecordResp, H = f.CostumerServiceReq, q = f.CostumerServiceResp, z = f.NoticeReq, Y = f.NoticeResp, K = f.MailReq, X = f.MailResp, J = f.FeedbackReq, Q = f.EmptyReq, Z = f.EmptyResp, $ = f.RedPointResp, ee = function() {
function e() {}
e.initGateServer = function(e) {
this.gateWayServer = e;
};
e.getMessage = function(e, t, i, o, n, r, a, s, c, d, f, h) {
void 0 === a && (a = !1);
void 0 === s && (s = {});
void 0 === c && (c = !1);
void 0 === d && (d = !0);
void 0 === f && (f = !1);
void 0 === h && (h = 3e3);
var p = new l(), g = u.getGameHttpServer(e), m = null;
g && (m = g[0]);
m || (m = this.gateWayServer);
p.getJSON(m, g, t, i, o, n, r, a, s, c, d, f, h);
};
e.getMessageWithProtoBuf = function(e, t, i, o, n, a, s, c, l, d, f, h, p, g) {
void 0 === s && (s = !1);
void 0 === d && (d = {});
void 0 === f && (f = !1);
void 0 === h && (h = !0);
void 0 === p && (p = !1);
void 0 === g && (g = 3e3);
8;
var m = new r(), y = u.getGameHttpServer(8);
console.log("honstlist", y);
var b = null;
y && (b = y[0]);
b || (b = this.gateWayServer);
m.getJSON(b, y, t, i, o, n, a, s, d, f, h, p, g, c, l);
};
e.trackUUIDeviceInfo = function() {
var e = a.getTrackedIDeviceInfoFromNative();
if (e && e.length > 5) {
var t = {
device_info: e
};
this.getMessage(n.default.GAME_HALL, o.default.Launcher.bind_device, this.httpType.post, t, null, null, !1);
}
};
e.logEvent = function(e, t) {
var i = "w";
i = cc.sys.os == cc.sys.OS_ANDROID ? "a" : "i";
var r = s.default.readAppChannel(), a = o.default.Common.logEvent + "?a=" + r + "&r=" + i + "_" + e + "_" + t;
this.getMessage(n.default.GAME_HALL, a, this.httpType.post, {}, function(e) {}, null, !1, {}, !1, !0, !0);
};
e.launcherCustomerConfig = function(e, t) {
this.getMessage(n.default.GAME_HALL, o.default.Launcher.login_config, this.httpType.get, null, e, t, !1, {}, !1, !0, !0);
};
e.loadUIConfig = function(e, t, i, r) {
void 0 === r && (r = !1);
var a = new y();
a.setVersion(e.version);
this.getMessageWithProtoBuf(n.default.GAME_HALL, o.default.Launcher.uiConfig, this.httpType.post, e, t, i, !1, a, b, {}, !1, !0, !0);
};
e.getPhotoAvatar = function(e) {
this.getMessage(n.default.GAME_HALL, o.default.Hall.getPhotoAvatar, this.httpType.get, null, e, null, !1);
};
e.getRechargeTypes = function(e, t) {
var i = new P();
i.setUserId(s.default.readUserID());
this.getMessageWithProtoBuf(n.default.GAME_HALL, o.default.TopUp.recharge_types, this.httpType.post, null, e, t, !0, i, k);
};
e.doRecharge = function(e, t, i) {
var r = new I();
r.setAmount(e.amount);
r.setPaytype(String(e.paytype));
r.setPaychannel(String(e.paychannel));
r.setConfid(String(e.confid));
this.getMessageWithProtoBuf(n.default.GAME_HALL, o.default.TopUp.dorecharge, this.httpType.post, null, t, i, !0, r, N);
};
e.changeUserInfo = function(e, t, i) {
var r = new S();
r.setUserId(s.default.readUserID());
e.user_name && r.setUserName(e.user_name);
e.gender && r.setGender(e.gender);
e.avatar && r.setAvatar(e.avatar);
e.phone && r.setPhone(e.phone);
e.vcode && r.setVCode(e.vcode);
e.new_password && r.setPassword(e.new_password);
e.name && r.setName(e.name);
e.email && r.setEmail(e.email);
this.getMessageWithProtoBuf(n.default.GAME_HALL, o.default.Hall.changeUserInfo, this.httpType.post, e, t, i, !0, r, C);
};
e.getSpringBonus = function(e) {
this.getMessage(n.default.GAME_HALL, o.default.Hall.getSpringBonus, this.httpType.get, null, e, null, !1);
};
e.getHubNotice = function(e) {
this.getMessage(n.default.GAME_HALL, o.default.Hall.getHubNotice, this.httpType.get, null, e, null, !1);
};
e.getPushInfo = function(e) {
this.getMessage(n.default.GAME_HALL, o.default.Hall.getPushInfo, this.httpType.get, null, e, null, !1);
};
e.clickPushNotification = function(e, t) {
var i = {
push_info: e,
push_clicked: 1
};
this.getMessage(n.default.GAME_HALL, o.default.Hall.getPushInfo, this.httpType.get, i, t, null, !1);
};
e.pushNotificationSucceed = function(e, t) {
var i = {
push_info: e,
push_clicked: 0
};
this.getMessage(n.default.GAME_HALL, o.default.Hall.getPushInfo, this.httpType.get, i, t, null, !1);
};
e.getRoomConfig = function(e, t, i, r) {
void 0 === r && (r = !0);
var a = new _();
a.setGameId(e.game_id);
a.setUserId(e.user_id);
this.getMessageWithProtoBuf(n.default.GAME_HALL, o.default.Hall.getRoomConfig, this.httpType.post, e, t, i, r, a, v);
};
e.checkWebNewCustomer = function(e, t) {
this.getMessage(n.default.GAME_HALL, o.default.Hall.getWebWechatMsg, this.httpType.get, e, t, null, !1, {}, !1, !0, !0);
};
e.getPopWindowPull = function(e, t) {
this.getMessage(n.default.GAME_HALL, o.default.Common.getPopWindowPull, this.httpType.get, null, e, t, !1);
};
e.getGraphValidCode = function(e, t, i) {
this.getMessage(n.default.LOGIN, o.default.Account.getGraphValidCode, this.httpType.get, e, t, i, !0);
};
e.checkGraphValidCode = function(e, t, i) {
this.getMessage(n.default.LOGIN, o.default.Account.checkValidCode, this.httpType.post, e, t, i, !0);
};
e.getNewPhoneCode = function(e, t, i) {
var r = new R();
r.setPhone(e.phone);
r.setCodetype(String(e.target));
this.getMessageWithProtoBuf(n.default.LOGIN, o.default.Account.getNewPhoneCode, this.httpType.post, e, t, i, !0, r, T);
};
e.formalUser = function(e, t, i) {
this.getMessage(n.default.GAME_HALL, o.default.Account.formalUser, this.httpType.post, e, t, i, !0);
};
e.guestLogin = function(e, t) {
var i = new h();
this.getMessageWithProtoBuf(n.default.LOGIN, o.default.Account.guestLogin, this.httpType.post, {}, e, t, !1, i, p);
};
e.smsLogin = function(e, t, i) {
this.getMessage(n.default.LOGIN, o.default.Account.smsLogin, this.httpType.post, e, t, i, !0);
};
e.passwordLogin = function(e, t, i) {
var r = new w();
r.setPhone(e.phone);
r.setPassword(e.password);
this.getMessageWithProtoBuf(n.default.LOGIN, o.default.Account.passwordLogin, this.httpType.post, e, t, i, !0, r, A);
};
e.register = function(e, t, i, r) {
void 0 != r && null != r || (r = !0);
var a = new E();
a.setPhone(e.phone);
a.setPassword(e.password);
this.getMessageWithProtoBuf(n.default.LOGIN, o.default.Account.register, this.httpType.post, e, t, i, r, a, M);
};
e.findPassword = function(e, t, i) {
this.getMessage(n.default.LOGIN, o.default.Account.findPassword, this.httpType.post, e, t, i, !0);
};
e.getUserInfo = function(e, t, i, r, a) {
var s = new g();
s.setUserId(e.user_id);
this.getMessageWithProtoBuf(n.default.GAME_HALL, o.default.Account.getUserInfo, this.httpType.post, e, function(e) {
var i = e.rechargeTrackMap;
e.window;
c.default.trackRechargeCounts(i);
t && t(e);
}, i, !1, s, m, {}, a, !0, !0);
};
e.refreshUserInfo = function(e, t) {
this.refreshUserInfoWithLoading(e, t, !1, !1);
};
e.refreshUserInfoWithLoading = function(e, t, i, o) {
var n = {
user_id: s.default.readUserID()
};
this.getUserInfo(n, e, t, i, o);
};
e.GetPayChannel = function(e, t, i, r) {
this.getMessage(n.default.GAME_HALL, o.default.TopUp.payChannels, this.httpType.get, e, t, i, !0, {
timeout: r
}, !1, !1, !0);
};
e.getPayID = function(e, t, i) {
this.getMessage(n.default.GAME_HALL, o.default.TopUp.payReady, this.httpType.post, e, t, i, !1, {
json: !0
});
};
e.getPayInfo = function(e, t, i, r) {
this.getMessage(n.default.GAME_HALL, o.default.TopUp.paySubmit + e + "/submit/", this.httpType.post, t, i, r, !1, {
json: !0
});
};
e.getPayStatus = function(e, t, i) {
this.getMessage(n.default.GAME_HALL, o.default.TopUp.paySubmit + e + "/status/", this.httpType.get, {}, t, i, !1, {}, !1, !0, !0, 2e3);
};
e.getOrderHistory = function(e, t) {
this.getMessage(n.default.GAME_HALL, o.default.TopUp.orderHistory, this.httpType.get, e, t, null, !1);
};
e.checkNewFastPayMsg = function(e, t) {
this.getMessage(n.default.GAME_HALL, o.default.TopUp.checkNewFastPayMsg, this.httpType.post, null, e, t, !1, {}, !1, !0, !0);
};
e.GetAgentList = function(e, t) {
this.getMessage(n.default.GAME_HALL, o.default.TopUp.getAgentList, this.httpType.get, null, e, t, !0);
};
e.PostAppeal = function(e, t, i) {
this.getMessage(n.default.GAME_HALL, o.default.TopUp.postAppeal, this.httpType.post, e, t, i, !0);
};
e.PostComment = function(e, t, i) {
this.getMessage(n.default.GAME_HALL, o.default.TopUp.postComment, this.httpType.post, e, t, i, !0);
};
e.PostApplyAgency = function(e, t, i) {
this.getMessage(n.default.GAME_HALL, o.default.TopUp.payApplyAgency + "?user_id=" + e, this.httpType.post, t, i, null, !1);
};
e.reportAgency = function(e, t) {
this.getMessage(n.default.GAME_HALL, o.default.TopUp.reportAgency, this.httpType.post, e, t, null, !1);
};
e.newPayChannels = function(e) {
this.getMessage(n.default.GAME_HALL, o.default.TopUp.newPayChannels, this.httpType.get, null, e, null, !1);
};
e.getBankChannels = function(e) {
this.getMessage(n.default.GAME_HALL, o.default.TopUp.bankChannels, this.httpType.get, {}, e, null, !1);
};
e.GetPayList = function(e, t, i) {
this.getMessage(n.default.GAME_HALL, o.default.TopUp.payList, this.httpType.get, e, t, i, !1);
};
e.PayUnread = function(e, t, i) {
this.getMessage(n.default.GAME_HALL, o.default.TopUp.payUnread, this.httpType.get, e, t, i, !1);
};
e.getAgencyPay = function(e, t, i) {
this.getMessage(n.default.LOGIN, o.default.TopUp.getAgencyPay, this.httpType.get, e, t, i, !1, {}, !1, !0, !0);
};
e.fastPayFetchToken = function(e, t) {
this.getMessage(n.default.GAME_HALL, o.default.TopUp.fastPayFetchToken, this.httpType.post, null, e, t, !0, {}, !1, !0, !0);
};
e.postBindWeChat = function(e, t, i) {
this.getMessage(n.default.GAME_HALL, o.default.Withdraw.bindWeChat, this.httpType.post, e, t, i, !1);
};
e.postBindAlipay = function(e, t, i) {
this.getMessage(n.default.GAME_HALL, o.default.Withdraw.bindAlipay, this.httpType.post, e, t, i, !1);
};
e.postBindBankCard = function(e, t, i) {
this.getMessage(n.default.GAME_HALL, o.default.Withdraw.bindBankCard, this.httpType.post, e, t, i, !1);
};
e.getBindWeChat = function(e) {
this.getMessage(n.default.GAME_HALL, o.default.Withdraw.bindWeChat, this.httpType.get, null, e, null, !1);
};
e.getBindAlibay = function(e) {
this.getMessage(n.default.GAME_HALL, o.default.Withdraw.bindAlipay, this.httpType.get, null, e, null, !1);
};
e.getBindBankCard = function(e) {
this.getMessage(n.default.GAME_HALL, o.default.Withdraw.bindBankCard, this.httpType.get, null, e, null, !1);
};
e.getBindConfig = function(e, t) {
this.getMessage(n.default.GAME_HALL, o.default.Withdraw.getBindConfig, this.httpType.get, null, e, t, !1);
};
e.resetBind = function(e, t, i) {
this.getMessage(n.default.GAME_HALL, o.default.Withdraw.resetBind, this.httpType.post, e, t, i, !1);
};
e.getBankList = function(e, t) {
this.getMessage(n.default.GAME_HALL, o.default.Withdraw.getBankList, this.httpType.get, null, e, t, !1);
};
e.getWithdrawTypes = function(e, t) {
var i = {
pkg: a.getPackageName()
}, r = new B();
this.getMessageWithProtoBuf(n.default.GAME_HALL, o.default.Withdraw.getWithdrawTypes, this.httpType.post, i, e, t, !0, r, L);
};
e.getWithdrawRecords = function(e, t, i) {
var r = new V();
r.setPage(1);
r.setSize(100);
this.getMessageWithProtoBuf(n.default.GAME_HALL, o.default.Withdraw.withdrawrecords, this.httpType.post, e, t, i, !0, r, j);
};
e.getServiceConig = function(e, t, i) {
var r = new H();
this.getMessageWithProtoBuf(n.default.GAME_HALL, o.default.Launcher.severce_config, this.httpType.post, e, t, i, !0, r, q);
};
e.postContactUsContent = function(e, t, i) {
var r = new J();
r.setEmail(e.email);
r.setText(e.content);
this.getMessageWithProtoBuf(n.default.GAME_HALL, o.default.Hall.submitContactUs, this.httpType.post, e, t, i, !0, r, Z);
};
e.postExchangeWithdraw = function(e, t, i) {
var r = new U();
r.setAmount(e.amount);
r.setPaytype(String(e.paytype));
r.setPaychannel(String(e.paychannel));
this.getMessageWithProtoBuf(n.default.GAME_HALL, o.default.Withdraw.postExchangeWithdraw, this.httpType.post, e, t, i, !0, r, D);
};
e.postYaarPayWithdraw = function(e, t, i) {
var r = new U();
r.setAmount(e.amount);
r.setPaytype(String(e.paytype));
r.setPaychannel(String(e.paychannel));
this.getMessageWithProtoBuf(n.default.GAME_HALL, o.default.Withdraw.withdrawpreapply, this.httpType.post, e, t, i, !0, r, D);
};
e.postWithDrawBindInfo = function(e, t, i) {
var r = new F(), a = new x();
if (0 == e.type) {
a.setPayeemobile(e.phone);
a.setPayeeemail(e.email);
}
var s = new G();
if (1 == e.type) {
s.setAccountnumber(e.account);
s.setAccountholdername(e.name);
s.setBankcodeno(e.bankCode);
s.setIfsccode(e.ifcs);
s.setPayeemobile(e.phone);
s.setPayeeemail(e.email);
}
var c = new O();
c.setWithdrawpaytm(a);
c.setWithdrawdebitcard(s);
r.setWithdrawbinds(c);
this.getMessageWithProtoBuf(n.default.GAME_HALL, o.default.Withdraw.bindEditInfo, this.httpType.post, e, t, i, !0, r, W);
};
e.getWithdrawList = function(e, t, i) {
this.getMessage(n.default.GAME_HALL, o.default.Withdraw.getWithdrawList, this.httpType.get, e, t, i, !1);
};
e.exchangeCode = function(e, t, i) {
this.getMessage(n.default.GAME_HALL, o.default.Withdraw.exchangeCode, this.httpType.post, e, t, i, !1, {}, !1, !0, !0);
};
e.getExchangeView = function(e, t, i, r) {
void 0 === r && (r = !1);
this.getMessage(n.default.GAME_HALL, o.default.Withdraw.getExchangeView, this.httpType.get, e, t, i, r);
};
e.getBatteryConfig = function(e, t, i, n) {
this.getMessage(e, o.default.Fishing.getBatteryConfig, this.httpType.get, t, i, n, !1);
};
e.getFishTypeConfig = function(e, t, i) {
this.getMessage(e, o.default.Fishing.getFishTypeConfig, this.httpType.get, null, t, i, !1);
};
e.getHistoryReveal = function(e, t, i) {
this.getMessage(e, o.default.Brc.getHistoryReveal, this.httpType.get, null, t, i);
};
e.getTableUsers = function(e, t, i) {
this.getMessage(e, o.default.Brc.getTableUsers, this.httpType.get, null, t, i);
};
e.getBannerNoticeData = function(e, t) {
var i = {
pkg: a.getPackageName()
};
this.getMessage(n.default.GAME_HALL, o.default.Banner.getBannerNotice, this.httpType.get, i, e, t, !1, {}, !1, !0, !0);
};
e.requestBonusCenterInfo = function(e, t, i) {
void 0 === i && (i = !0);
this.getMessage(n.default.GAME_HALL, o.default.Bonus.getBonusCenterInfo, this.httpType.get, null, e, t, i);
};
e.requestBonusCenterOnlineRank = function(e, t, i) {
void 0 === i && (i = !1);
this.getMessage(n.default.GAME_HALL, o.default.Bonus.getOnlineRank, this.httpType.get, null, e, t, i);
};
e.getChatHistory = function(e, t) {
this.getMessage(n.default.GAME_HALL, o.default.Customer.chatHistory, this.httpType.get, e, t, null, !1, {}, !1, !0, !0);
};
e.fetchCustomerServiceToken = function(e, t) {
this.getMessage(n.default.GAME_HALL, o.default.Customer.fetchCustomerServiceToken, this.httpType.post, null, e, t, !0, {}, !1, !0, !0);
};
e.checkMailInfo = function(e, t) {
this.getMessage(n.default.GAME_HALL, o.default.Mail.checkMail + "/" + e, this.httpType.post, null, t, null, !0);
};
e.getMailList = function(e, t) {
var i = new K(), r = Math.pow(2, 31) - 1;
i.setLastid(r);
i.setSize(1e3);
i.setSort(-1);
this.getMessageWithProtoBuf(n.default.GAME_HALL, o.default.Mail.mailList, this.httpType.post, {}, e, t, !0, i, X);
};
e.getMailGift = function(e, t, i) {
var r = new Q();
this.getMessageWithProtoBuf(n.default.GAME_HALL, o.default.Mail.getMailGift + "/" + e, this.httpType.post, {}, t, i, !0, r, Z);
};
e.getAllMailGift = function(e, t) {
this.getMessage(n.default.GAME_HALL, o.default.Mail.getAllMailGift, this.httpType.post, null, e, t, null, !0);
};
e.deleteMail = function(e, t, i) {
var r = new Q();
this.getMessageWithProtoBuf(n.default.GAME_HALL, o.default.Mail.deleteMail + "/" + e, this.httpType.post, {}, t, i, !0, r, Z);
};
e.readMail = function(e, t, i) {
var r = new Q();
this.getMessageWithProtoBuf(n.default.GAME_HALL, o.default.Mail.readMail + "/" + e, this.httpType.post, {}, t, i, !1, r, Z);
};
e.deleteAllMail = function(e) {
this.getMessage(n.default.GAME_HALL, o.default.Mail.deleteAllMail, this.httpType.post, null, e, null, !0);
};
e.checkNewEmail = function(e) {
this.getMessage(n.default.GAME_HALL, o.default.Mail.checkNewEmail, this.httpType.get, null, e, null, !1, {}, !1, !0, !0);
};
e.checkNewNotice = function(e, t, i) {
void 0 === i && (i = !1);
var r = new z(), a = Math.pow(2, 31) - 1;
r.setLastid(a);
r.setSize(1e3);
r.setSort(-1);
this.getMessageWithProtoBuf(n.default.GAME_HALL, o.default.Notice.checkNewNotice, this.httpType.post, {}, e, t, i, r, Y);
};
e.readRedPoint = function(e, t) {
var i = new Q();
this.getMessageWithProtoBuf(n.default.GAME_HALL, o.default.Hall.redNoticePoint, this.httpType.post, {}, e, t, !1, i, $);
};
e.getMyPromoter = function(e, t) {
this.getMessage(n.default.GAME_HALL, o.default.Promoter.getMyPromoter, this.httpType.get, null, e, t, !1);
};
e.getPromoterDetail = function(e, t, i) {
this.getMessage(n.default.GAME_HALL, o.default.Promoter.getPromoterDetail, this.httpType.get, e, t, i, !1);
};
e.getPromoterWeekRank = function(e, t) {
this.getMessage(n.default.GAME_HALL, o.default.Promoter.getPromoterWeekRank, this.httpType.get, null, e, t, !1);
};
e.receivePrize = function(e, t) {
this.getMessage(n.default.GAME_HALL, o.default.Promoter.receivePrize, this.httpType.post, null, e, t, !1);
};
e.partenerRank = function(e, t) {
this.getMessage(n.default.GAME_HALL, o.default.Promoter.partnerRank, this.httpType.get, null, e, t, !1);
};
e.getPyramidConfig = function(e, t) {};
e.putin = function(e, t) {
this.getMessage(n.default.GAME_HALL, o.default.SafeBox.putin, this.httpType.post, e, t, null, !0);
};
e.takeout = function(e, t, i) {
this.getMessage(n.default.GAME_HALL, o.default.SafeBox.takeout, this.httpType.post, e, t, i, !0);
};
e.getLockedStatus = function(e, t) {
this.getMessage(n.default.GAME_HALL, o.default.SafeBox.takeTtl, this.httpType.post, null, e, t, !0);
};
e.hasPassword = function(e) {
this.getMessage(n.default.GAME_HALL, o.default.SafeBox.hasPassword, this.httpType.post, null, e, null, !0);
};
e.resetPassword = function(e, t, i) {
this.getMessage(n.default.GAME_HALL, o.default.SafeBox.resetPassword, this.httpType.post, e, t, i, !1, {}, !1, !0, !0);
};
e.verifyPwdWithTakeOut = function(e, t) {
this.getMessage(n.default.GAME_HALL, o.default.SafeBox.verifyPwdWithTakeOut, this.httpType.post, e, t, !1);
};
e.getWaterMarginGameInfo = function(e, t) {
this.getMessage(n.default.WATERMARGIN, o.default.WaterMargin.getWaterMarginGameInfo, this.httpType.get, null, e, t, !1);
};
e.waterMarginDoBet = function(e, t, i) {
this.getMessage(n.default.WATERMARGIN, o.default.WaterMargin.waterMarginDoBet, this.httpType.post, e, t, i, !1);
};
e.getWaterMarginBigWinner = function(e, t) {
this.getMessage(n.default.WATERMARGIN, o.default.WaterMargin.getWaterMarginBigWinner, this.httpType.get, null, e, t, !1);
};
e.getSlotGameInfo = function(e, t) {
this.getMessage(n.default.SLOT, o.default.SlotApi.gameInfo, this.httpType.get, null, e, t, !1);
};
e.testProtobuf = function(e, t, i) {
this.getMessageWithProtoBuf(n.default.GAME_HALL, o.default.testProtobuf.ping, this.httpType.post, e, t, i, !1, void 0, void 0);
};
e.gateWayServer = d.httpGate;
e.httpType = {
post: "POST",
get: "GET",
put: "PUT"
};
return e;
}();
i.default = ee;
cc._RF.pop();
}, {
"../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../Script/UserManager": "UserManager",
"./Api": "Api",
"./GameType": "GameType",
Api_pb: "Api_pb",
CommonHttp: "CommonHttp",
CommonVariable: "CommonVariable",
GameEngineUtil: "GameEngineUtil",
NewCommonHttp: "NewCommonHttp",
NewGameInfo: "NewGameInfo"
} ],
Api_pb: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "0d26cU3UG1JWo5D6aaig1uH", "Api_pb");
var o = e("google-protobuf"), n = o, r = Function("return this")();
n.exportSymbol("proto.AnonymousLoginReq", null, r);
n.exportSymbol("proto.AnonymousLoginResp", null, r);
n.exportSymbol("proto.CostumerServiceReq", null, r);
n.exportSymbol("proto.CostumerServiceResp", null, r);
n.exportSymbol("proto.Email", null, r);
n.exportSymbol("proto.EmptyReq", null, r);
n.exportSymbol("proto.EmptyResp", null, r);
n.exportSymbol("proto.FeedbackReq", null, r);
n.exportSymbol("proto.LoginConfReq", null, r);
n.exportSymbol("proto.LoginConfResp", null, r);
n.exportSymbol("proto.LoginConfResp.LoginAppeal", null, r);
n.exportSymbol("proto.LoginReq", null, r);
n.exportSymbol("proto.LoginResp", null, r);
n.exportSymbol("proto.MailItem", null, r);
n.exportSymbol("proto.MailItem.AttachmentType", null, r);
n.exportSymbol("proto.MailItem.ContentType", null, r);
n.exportSymbol("proto.MailReq", null, r);
n.exportSymbol("proto.MailResp", null, r);
n.exportSymbol("proto.ModifyUserReq", null, r);
n.exportSymbol("proto.ModifyUserResp", null, r);
n.exportSymbol("proto.NoticeItem", null, r);
n.exportSymbol("proto.NoticeItem.ContentType", null, r);
n.exportSymbol("proto.NoticeReq", null, r);
n.exportSymbol("proto.NoticeResp", null, r);
n.exportSymbol("proto.PingReq", null, r);
n.exportSymbol("proto.PingResp", null, r);
n.exportSymbol("proto.PopupWindow", null, r);
n.exportSymbol("proto.RechargeReq", null, r);
n.exportSymbol("proto.RechargeResp", null, r);
n.exportSymbol("proto.RechargeTypeCategory", null, r);
n.exportSymbol("proto.RechargeTypeInfo", null, r);
n.exportSymbol("proto.RechargeTypeReq", null, r);
n.exportSymbol("proto.RechargeTypeResp", null, r);
n.exportSymbol("proto.RedPointResp", null, r);
n.exportSymbol("proto.RegisterReq", null, r);
n.exportSymbol("proto.RegisterResp", null, r);
n.exportSymbol("proto.ReqHeader", null, r);
n.exportSymbol("proto.RespHeader", null, r);
n.exportSymbol("proto.RoomInfo", null, r);
n.exportSymbol("proto.RoomInfoReq", null, r);
n.exportSymbol("proto.RoomInfoResp", null, r);
n.exportSymbol("proto.SettingsReq", null, r);
n.exportSymbol("proto.SettingsResp", null, r);
n.exportSymbol("proto.SettingsResp.BarItemSetting", null, r);
n.exportSymbol("proto.SettingsResp.CustomerInfo", null, r);
n.exportSymbol("proto.SettingsResp.GameSetting", null, r);
n.exportSymbol("proto.SettingsResp.Kg", null, r);
n.exportSymbol("proto.SettingsResp.PayConf", null, r);
n.exportSymbol("proto.SettingsResp.ViewLayout", null, r);
n.exportSymbol("proto.UserInfoReq", null, r);
n.exportSymbol("proto.UserInfoResp", null, r);
n.exportSymbol("proto.VerifyCodeReq", null, r);
n.exportSymbol("proto.VerifyCodeResp", null, r);
n.exportSymbol("proto.Whatsapp", null, r);
n.exportSymbol("proto.WithdrawApplyReq", null, r);
n.exportSymbol("proto.WithdrawApplyResp", null, r);
n.exportSymbol("proto.WithdrawBindReq", null, r);
n.exportSymbol("proto.WithdrawBindResp", null, r);
n.exportSymbol("proto.WithdrawBinds", null, r);
n.exportSymbol("proto.WithdrawDebitCard", null, r);
n.exportSymbol("proto.WithdrawPayTM", null, r);
n.exportSymbol("proto.WithdrawRecordItem", null, r);
n.exportSymbol("proto.WithdrawRecordReq", null, r);
n.exportSymbol("proto.WithdrawRecordResp", null, r);
n.exportSymbol("proto.WithdrawStatus", null, r);
n.exportSymbol("proto.WithdrawType", null, r);
n.exportSymbol("proto.WithdrawType.PayType", null, r);
n.exportSymbol("proto.WithdrawTypesReq", null, r);
n.exportSymbol("proto.WithdrawTypesResp", null, r);
proto.ReqHeader = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.ReqHeader, o.Message);
n.DEBUG && !COMPILED && (proto.ReqHeader.displayName = "proto.ReqHeader");
proto.RespHeader = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.RespHeader, o.Message);
n.DEBUG && !COMPILED && (proto.RespHeader.displayName = "proto.RespHeader");
proto.PingReq = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.PingReq, o.Message);
n.DEBUG && !COMPILED && (proto.PingReq.displayName = "proto.PingReq");
proto.PingResp = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.PingResp, o.Message);
n.DEBUG && !COMPILED && (proto.PingResp.displayName = "proto.PingResp");
proto.VerifyCodeReq = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.VerifyCodeReq, o.Message);
n.DEBUG && !COMPILED && (proto.VerifyCodeReq.displayName = "proto.VerifyCodeReq");
proto.VerifyCodeResp = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.VerifyCodeResp, o.Message);
n.DEBUG && !COMPILED && (proto.VerifyCodeResp.displayName = "proto.VerifyCodeResp");
proto.RegisterReq = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.RegisterReq, o.Message);
n.DEBUG && !COMPILED && (proto.RegisterReq.displayName = "proto.RegisterReq");
proto.RegisterResp = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.RegisterResp, o.Message);
n.DEBUG && !COMPILED && (proto.RegisterResp.displayName = "proto.RegisterResp");
proto.AnonymousLoginReq = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.AnonymousLoginReq, o.Message);
n.DEBUG && !COMPILED && (proto.AnonymousLoginReq.displayName = "proto.AnonymousLoginReq");
proto.AnonymousLoginResp = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.AnonymousLoginResp, o.Message);
n.DEBUG && !COMPILED && (proto.AnonymousLoginResp.displayName = "proto.AnonymousLoginResp");
proto.LoginReq = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.LoginReq, o.Message);
n.DEBUG && !COMPILED && (proto.LoginReq.displayName = "proto.LoginReq");
proto.LoginResp = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.LoginResp, o.Message);
n.DEBUG && !COMPILED && (proto.LoginResp.displayName = "proto.LoginResp");
proto.LoginConfReq = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.LoginConfReq, o.Message);
n.DEBUG && !COMPILED && (proto.LoginConfReq.displayName = "proto.LoginConfReq");
proto.LoginConfResp = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.LoginConfResp, o.Message);
n.DEBUG && !COMPILED && (proto.LoginConfResp.displayName = "proto.LoginConfResp");
proto.LoginConfResp.LoginAppeal = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.LoginConfResp.LoginAppeal, o.Message);
n.DEBUG && !COMPILED && (proto.LoginConfResp.LoginAppeal.displayName = "proto.LoginConfResp.LoginAppeal");
proto.UserInfoReq = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.UserInfoReq, o.Message);
n.DEBUG && !COMPILED && (proto.UserInfoReq.displayName = "proto.UserInfoReq");
proto.UserInfoResp = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.UserInfoResp, o.Message);
n.DEBUG && !COMPILED && (proto.UserInfoResp.displayName = "proto.UserInfoResp");
proto.PopupWindow = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.PopupWindow, o.Message);
n.DEBUG && !COMPILED && (proto.PopupWindow.displayName = "proto.PopupWindow");
proto.ModifyUserReq = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.ModifyUserReq, o.Message);
n.DEBUG && !COMPILED && (proto.ModifyUserReq.displayName = "proto.ModifyUserReq");
proto.ModifyUserResp = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.ModifyUserResp, o.Message);
n.DEBUG && !COMPILED && (proto.ModifyUserResp.displayName = "proto.ModifyUserResp");
proto.RoomInfoReq = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.RoomInfoReq, o.Message);
n.DEBUG && !COMPILED && (proto.RoomInfoReq.displayName = "proto.RoomInfoReq");
proto.RoomInfo = function(e) {
o.Message.initialize(this, e, 0, -1, proto.RoomInfo.repeatedFields_, null);
};
n.inherits(proto.RoomInfo, o.Message);
n.DEBUG && !COMPILED && (proto.RoomInfo.displayName = "proto.RoomInfo");
proto.RoomInfoResp = function(e) {
o.Message.initialize(this, e, 0, -1, proto.RoomInfoResp.repeatedFields_, null);
};
n.inherits(proto.RoomInfoResp, o.Message);
n.DEBUG && !COMPILED && (proto.RoomInfoResp.displayName = "proto.RoomInfoResp");
proto.RechargeReq = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.RechargeReq, o.Message);
n.DEBUG && !COMPILED && (proto.RechargeReq.displayName = "proto.RechargeReq");
proto.RechargeResp = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.RechargeResp, o.Message);
n.DEBUG && !COMPILED && (proto.RechargeResp.displayName = "proto.RechargeResp");
proto.RechargeTypeReq = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.RechargeTypeReq, o.Message);
n.DEBUG && !COMPILED && (proto.RechargeTypeReq.displayName = "proto.RechargeTypeReq");
proto.RechargeTypeInfo = function(e) {
o.Message.initialize(this, e, 0, -1, proto.RechargeTypeInfo.repeatedFields_, null);
};
n.inherits(proto.RechargeTypeInfo, o.Message);
n.DEBUG && !COMPILED && (proto.RechargeTypeInfo.displayName = "proto.RechargeTypeInfo");
proto.RechargeTypeCategory = function(e) {
o.Message.initialize(this, e, 0, -1, proto.RechargeTypeCategory.repeatedFields_, null);
};
n.inherits(proto.RechargeTypeCategory, o.Message);
n.DEBUG && !COMPILED && (proto.RechargeTypeCategory.displayName = "proto.RechargeTypeCategory");
proto.RechargeTypeResp = function(e) {
o.Message.initialize(this, e, 0, -1, proto.RechargeTypeResp.repeatedFields_, null);
};
n.inherits(proto.RechargeTypeResp, o.Message);
n.DEBUG && !COMPILED && (proto.RechargeTypeResp.displayName = "proto.RechargeTypeResp");
proto.WithdrawTypesReq = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.WithdrawTypesReq, o.Message);
n.DEBUG && !COMPILED && (proto.WithdrawTypesReq.displayName = "proto.WithdrawTypesReq");
proto.WithdrawType = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.WithdrawType, o.Message);
n.DEBUG && !COMPILED && (proto.WithdrawType.displayName = "proto.WithdrawType");
proto.WithdrawBinds = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.WithdrawBinds, o.Message);
n.DEBUG && !COMPILED && (proto.WithdrawBinds.displayName = "proto.WithdrawBinds");
proto.WithdrawBindReq = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.WithdrawBindReq, o.Message);
n.DEBUG && !COMPILED && (proto.WithdrawBindReq.displayName = "proto.WithdrawBindReq");
proto.WithdrawBindResp = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.WithdrawBindResp, o.Message);
n.DEBUG && !COMPILED && (proto.WithdrawBindResp.displayName = "proto.WithdrawBindResp");
proto.WithdrawTypesResp = function(e) {
o.Message.initialize(this, e, 0, -1, proto.WithdrawTypesResp.repeatedFields_, null);
};
n.inherits(proto.WithdrawTypesResp, o.Message);
n.DEBUG && !COMPILED && (proto.WithdrawTypesResp.displayName = "proto.WithdrawTypesResp");
proto.WithdrawPayTM = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.WithdrawPayTM, o.Message);
n.DEBUG && !COMPILED && (proto.WithdrawPayTM.displayName = "proto.WithdrawPayTM");
proto.WithdrawDebitCard = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.WithdrawDebitCard, o.Message);
n.DEBUG && !COMPILED && (proto.WithdrawDebitCard.displayName = "proto.WithdrawDebitCard");
proto.WithdrawApplyReq = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.WithdrawApplyReq, o.Message);
n.DEBUG && !COMPILED && (proto.WithdrawApplyReq.displayName = "proto.WithdrawApplyReq");
proto.WithdrawApplyResp = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.WithdrawApplyResp, o.Message);
n.DEBUG && !COMPILED && (proto.WithdrawApplyResp.displayName = "proto.WithdrawApplyResp");
proto.WithdrawRecordReq = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.WithdrawRecordReq, o.Message);
n.DEBUG && !COMPILED && (proto.WithdrawRecordReq.displayName = "proto.WithdrawRecordReq");
proto.WithdrawRecordItem = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.WithdrawRecordItem, o.Message);
n.DEBUG && !COMPILED && (proto.WithdrawRecordItem.displayName = "proto.WithdrawRecordItem");
proto.WithdrawRecordResp = function(e) {
o.Message.initialize(this, e, 0, -1, proto.WithdrawRecordResp.repeatedFields_, null);
};
n.inherits(proto.WithdrawRecordResp, o.Message);
n.DEBUG && !COMPILED && (proto.WithdrawRecordResp.displayName = "proto.WithdrawRecordResp");
proto.SettingsReq = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.SettingsReq, o.Message);
n.DEBUG && !COMPILED && (proto.SettingsReq.displayName = "proto.SettingsReq");
proto.SettingsResp = function(e) {
o.Message.initialize(this, e, 0, -1, proto.SettingsResp.repeatedFields_, null);
};
n.inherits(proto.SettingsResp, o.Message);
n.DEBUG && !COMPILED && (proto.SettingsResp.displayName = "proto.SettingsResp");
proto.SettingsResp.PayConf = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.SettingsResp.PayConf, o.Message);
n.DEBUG && !COMPILED && (proto.SettingsResp.PayConf.displayName = "proto.SettingsResp.PayConf");
proto.SettingsResp.Kg = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.SettingsResp.Kg, o.Message);
n.DEBUG && !COMPILED && (proto.SettingsResp.Kg.displayName = "proto.SettingsResp.Kg");
proto.SettingsResp.GameSetting = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.SettingsResp.GameSetting, o.Message);
n.DEBUG && !COMPILED && (proto.SettingsResp.GameSetting.displayName = "proto.SettingsResp.GameSetting");
proto.SettingsResp.BarItemSetting = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.SettingsResp.BarItemSetting, o.Message);
n.DEBUG && !COMPILED && (proto.SettingsResp.BarItemSetting.displayName = "proto.SettingsResp.BarItemSetting");
proto.SettingsResp.ViewLayout = function(e) {
o.Message.initialize(this, e, 0, -1, proto.SettingsResp.ViewLayout.repeatedFields_, null);
};
n.inherits(proto.SettingsResp.ViewLayout, o.Message);
n.DEBUG && !COMPILED && (proto.SettingsResp.ViewLayout.displayName = "proto.SettingsResp.ViewLayout");
proto.SettingsResp.CustomerInfo = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.SettingsResp.CustomerInfo, o.Message);
n.DEBUG && !COMPILED && (proto.SettingsResp.CustomerInfo.displayName = "proto.SettingsResp.CustomerInfo");
proto.CostumerServiceReq = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.CostumerServiceReq, o.Message);
n.DEBUG && !COMPILED && (proto.CostumerServiceReq.displayName = "proto.CostumerServiceReq");
proto.Whatsapp = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.Whatsapp, o.Message);
n.DEBUG && !COMPILED && (proto.Whatsapp.displayName = "proto.Whatsapp");
proto.Email = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.Email, o.Message);
n.DEBUG && !COMPILED && (proto.Email.displayName = "proto.Email");
proto.CostumerServiceResp = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.CostumerServiceResp, o.Message);
n.DEBUG && !COMPILED && (proto.CostumerServiceResp.displayName = "proto.CostumerServiceResp");
proto.NoticeReq = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.NoticeReq, o.Message);
n.DEBUG && !COMPILED && (proto.NoticeReq.displayName = "proto.NoticeReq");
proto.NoticeItem = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.NoticeItem, o.Message);
n.DEBUG && !COMPILED && (proto.NoticeItem.displayName = "proto.NoticeItem");
proto.NoticeResp = function(e) {
o.Message.initialize(this, e, 0, -1, proto.NoticeResp.repeatedFields_, null);
};
n.inherits(proto.NoticeResp, o.Message);
n.DEBUG && !COMPILED && (proto.NoticeResp.displayName = "proto.NoticeResp");
proto.MailReq = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.MailReq, o.Message);
n.DEBUG && !COMPILED && (proto.MailReq.displayName = "proto.MailReq");
proto.MailResp = function(e) {
o.Message.initialize(this, e, 0, -1, proto.MailResp.repeatedFields_, null);
};
n.inherits(proto.MailResp, o.Message);
n.DEBUG && !COMPILED && (proto.MailResp.displayName = "proto.MailResp");
proto.MailItem = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.MailItem, o.Message);
n.DEBUG && !COMPILED && (proto.MailItem.displayName = "proto.MailItem");
proto.EmptyReq = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.EmptyReq, o.Message);
n.DEBUG && !COMPILED && (proto.EmptyReq.displayName = "proto.EmptyReq");
proto.EmptyResp = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.EmptyResp, o.Message);
n.DEBUG && !COMPILED && (proto.EmptyResp.displayName = "proto.EmptyResp");
proto.FeedbackReq = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.FeedbackReq, o.Message);
n.DEBUG && !COMPILED && (proto.FeedbackReq.displayName = "proto.FeedbackReq");
proto.RedPointResp = function(e) {
o.Message.initialize(this, e, 0, -1, null, null);
};
n.inherits(proto.RedPointResp, o.Message);
n.DEBUG && !COMPILED && (proto.RedPointResp.displayName = "proto.RedPointResp");
if (o.Message.GENERATE_TO_OBJECT) {
proto.ReqHeader.prototype.toObject = function(e) {
return proto.ReqHeader.toObject(e, this);
};
proto.ReqHeader.toObject = function(e, t) {
var i = {
timestamp: o.Message.getFieldWithDefault(t, 1, 0),
userId: o.Message.getFieldWithDefault(t, 2, 0),
authToken: o.Message.getFieldWithDefault(t, 3, "")
};
e && (i.$jspbMessageInstance = t);
return i;
};
}
proto.ReqHeader.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.ReqHeader();
return proto.ReqHeader.deserializeBinaryFromReader(i, t);
};
proto.ReqHeader.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = t.readInt64();
e.setTimestamp(i);
break;

case 2:
i = t.readInt64();
e.setUserId(i);
break;

case 3:
i = t.readString();
e.setAuthToken(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.ReqHeader.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.ReqHeader.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.ReqHeader.serializeBinaryToWriter = function(e, t) {
var i = void 0;
0 !== (i = e.getTimestamp()) && t.writeInt64(1, i);
0 !== (i = e.getUserId()) && t.writeInt64(2, i);
(i = e.getAuthToken()).length > 0 && t.writeString(3, i);
};
proto.ReqHeader.prototype.getTimestamp = function() {
return o.Message.getFieldWithDefault(this, 1, 0);
};
proto.ReqHeader.prototype.setTimestamp = function(e) {
return o.Message.setProto3IntField(this, 1, e);
};
proto.ReqHeader.prototype.getUserId = function() {
return o.Message.getFieldWithDefault(this, 2, 0);
};
proto.ReqHeader.prototype.setUserId = function(e) {
return o.Message.setProto3IntField(this, 2, e);
};
proto.ReqHeader.prototype.getAuthToken = function() {
return o.Message.getFieldWithDefault(this, 3, "");
};
proto.ReqHeader.prototype.setAuthToken = function(e) {
return o.Message.setProto3StringField(this, 3, e);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.RespHeader.prototype.toObject = function(e) {
return proto.RespHeader.toObject(e, this);
};
proto.RespHeader.toObject = function(e, t) {
var i = {
code: o.Message.getFieldWithDefault(t, 1, 0),
traceId: o.Message.getFieldWithDefault(t, 2, ""),
msg: o.Message.getFieldWithDefault(t, 3, "")
};
e && (i.$jspbMessageInstance = t);
return i;
};
}
proto.RespHeader.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.RespHeader();
return proto.RespHeader.deserializeBinaryFromReader(i, t);
};
proto.RespHeader.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = t.readInt32();
e.setCode(i);
break;

case 2:
i = t.readString();
e.setTraceId(i);
break;

case 3:
i = t.readString();
e.setMsg(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.RespHeader.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.RespHeader.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.RespHeader.serializeBinaryToWriter = function(e, t) {
var i = void 0;
0 !== (i = e.getCode()) && t.writeInt32(1, i);
(i = e.getTraceId()).length > 0 && t.writeString(2, i);
(i = e.getMsg()).length > 0 && t.writeString(3, i);
};
proto.RespHeader.prototype.getCode = function() {
return o.Message.getFieldWithDefault(this, 1, 0);
};
proto.RespHeader.prototype.setCode = function(e) {
return o.Message.setProto3IntField(this, 1, e);
};
proto.RespHeader.prototype.getTraceId = function() {
return o.Message.getFieldWithDefault(this, 2, "");
};
proto.RespHeader.prototype.setTraceId = function(e) {
return o.Message.setProto3StringField(this, 2, e);
};
proto.RespHeader.prototype.getMsg = function() {
return o.Message.getFieldWithDefault(this, 3, "");
};
proto.RespHeader.prototype.setMsg = function(e) {
return o.Message.setProto3StringField(this, 3, e);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.PingReq.prototype.toObject = function(e) {
return proto.PingReq.toObject(e, this);
};
proto.PingReq.toObject = function(e, t) {
var i, n = {
header: (i = t.getHeader()) && proto.ReqHeader.toObject(e, i),
text: o.Message.getFieldWithDefault(t, 2, "")
};
e && (n.$jspbMessageInstance = t);
return n;
};
}
proto.PingReq.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.PingReq();
return proto.PingReq.deserializeBinaryFromReader(i, t);
};
proto.PingReq.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = new proto.ReqHeader();
t.readMessage(i, proto.ReqHeader.deserializeBinaryFromReader);
e.setHeader(i);
break;

case 2:
i = t.readString();
e.setText(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.PingReq.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.PingReq.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.PingReq.serializeBinaryToWriter = function(e, t) {
var i = void 0;
null != (i = e.getHeader()) && t.writeMessage(1, i, proto.ReqHeader.serializeBinaryToWriter);
(i = e.getText()).length > 0 && t.writeString(2, i);
};
proto.PingReq.prototype.getHeader = function() {
return o.Message.getWrapperField(this, proto.ReqHeader, 1);
};
proto.PingReq.prototype.setHeader = function(e) {
return o.Message.setWrapperField(this, 1, e);
};
proto.PingReq.prototype.clearHeader = function() {
return this.setHeader(void 0);
};
proto.PingReq.prototype.hasHeader = function() {
return null != o.Message.getField(this, 1);
};
proto.PingReq.prototype.getText = function() {
return o.Message.getFieldWithDefault(this, 2, "");
};
proto.PingReq.prototype.setText = function(e) {
return o.Message.setProto3StringField(this, 2, e);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.PingResp.prototype.toObject = function(e) {
return proto.PingResp.toObject(e, this);
};
proto.PingResp.toObject = function(e, t) {
var i, n = {
header: (i = t.getHeader()) && proto.RespHeader.toObject(e, i),
text: o.Message.getFieldWithDefault(t, 2, "")
};
e && (n.$jspbMessageInstance = t);
return n;
};
}
proto.PingResp.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.PingResp();
return proto.PingResp.deserializeBinaryFromReader(i, t);
};
proto.PingResp.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = new proto.RespHeader();
t.readMessage(i, proto.RespHeader.deserializeBinaryFromReader);
e.setHeader(i);
break;

case 2:
i = t.readString();
e.setText(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.PingResp.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.PingResp.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.PingResp.serializeBinaryToWriter = function(e, t) {
var i = void 0;
null != (i = e.getHeader()) && t.writeMessage(1, i, proto.RespHeader.serializeBinaryToWriter);
(i = e.getText()).length > 0 && t.writeString(2, i);
};
proto.PingResp.prototype.getHeader = function() {
return o.Message.getWrapperField(this, proto.RespHeader, 1);
};
proto.PingResp.prototype.setHeader = function(e) {
return o.Message.setWrapperField(this, 1, e);
};
proto.PingResp.prototype.clearHeader = function() {
return this.setHeader(void 0);
};
proto.PingResp.prototype.hasHeader = function() {
return null != o.Message.getField(this, 1);
};
proto.PingResp.prototype.getText = function() {
return o.Message.getFieldWithDefault(this, 2, "");
};
proto.PingResp.prototype.setText = function(e) {
return o.Message.setProto3StringField(this, 2, e);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.VerifyCodeReq.prototype.toObject = function(e) {
return proto.VerifyCodeReq.toObject(e, this);
};
proto.VerifyCodeReq.toObject = function(e, t) {
var i, n = {
header: (i = t.getHeader()) && proto.ReqHeader.toObject(e, i),
phone: o.Message.getFieldWithDefault(t, 2, ""),
codetype: o.Message.getFieldWithDefault(t, 3, 0)
};
e && (n.$jspbMessageInstance = t);
return n;
};
}
proto.VerifyCodeReq.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.VerifyCodeReq();
return proto.VerifyCodeReq.deserializeBinaryFromReader(i, t);
};
proto.VerifyCodeReq.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = new proto.ReqHeader();
t.readMessage(i, proto.ReqHeader.deserializeBinaryFromReader);
e.setHeader(i);
break;

case 2:
i = t.readString();
e.setPhone(i);
break;

case 3:
i = t.readInt32();
e.setCodetype(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.VerifyCodeReq.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.VerifyCodeReq.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.VerifyCodeReq.serializeBinaryToWriter = function(e, t) {
var i = void 0;
null != (i = e.getHeader()) && t.writeMessage(1, i, proto.ReqHeader.serializeBinaryToWriter);
(i = e.getPhone()).length > 0 && t.writeString(2, i);
0 !== (i = e.getCodetype()) && t.writeInt32(3, i);
};
proto.VerifyCodeReq.prototype.getHeader = function() {
return o.Message.getWrapperField(this, proto.ReqHeader, 1);
};
proto.VerifyCodeReq.prototype.setHeader = function(e) {
return o.Message.setWrapperField(this, 1, e);
};
proto.VerifyCodeReq.prototype.clearHeader = function() {
return this.setHeader(void 0);
};
proto.VerifyCodeReq.prototype.hasHeader = function() {
return null != o.Message.getField(this, 1);
};
proto.VerifyCodeReq.prototype.getPhone = function() {
return o.Message.getFieldWithDefault(this, 2, "");
};
proto.VerifyCodeReq.prototype.setPhone = function(e) {
return o.Message.setProto3StringField(this, 2, e);
};
proto.VerifyCodeReq.prototype.getCodetype = function() {
return o.Message.getFieldWithDefault(this, 3, 0);
};
proto.VerifyCodeReq.prototype.setCodetype = function(e) {
return o.Message.setProto3IntField(this, 3, e);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.VerifyCodeResp.prototype.toObject = function(e) {
return proto.VerifyCodeResp.toObject(e, this);
};
proto.VerifyCodeResp.toObject = function(e, t) {
var i, o = {
header: (i = t.getHeader()) && proto.RespHeader.toObject(e, i)
};
e && (o.$jspbMessageInstance = t);
return o;
};
}
proto.VerifyCodeResp.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.VerifyCodeResp();
return proto.VerifyCodeResp.deserializeBinaryFromReader(i, t);
};
proto.VerifyCodeResp.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = new proto.RespHeader();
t.readMessage(i, proto.RespHeader.deserializeBinaryFromReader);
e.setHeader(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.VerifyCodeResp.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.VerifyCodeResp.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.VerifyCodeResp.serializeBinaryToWriter = function(e, t) {
var i;
null != (i = e.getHeader()) && t.writeMessage(1, i, proto.RespHeader.serializeBinaryToWriter);
};
proto.VerifyCodeResp.prototype.getHeader = function() {
return o.Message.getWrapperField(this, proto.RespHeader, 1);
};
proto.VerifyCodeResp.prototype.setHeader = function(e) {
return o.Message.setWrapperField(this, 1, e);
};
proto.VerifyCodeResp.prototype.clearHeader = function() {
return this.setHeader(void 0);
};
proto.VerifyCodeResp.prototype.hasHeader = function() {
return null != o.Message.getField(this, 1);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.RegisterReq.prototype.toObject = function(e) {
return proto.RegisterReq.toObject(e, this);
};
proto.RegisterReq.toObject = function(e, t) {
var i, n = {
header: (i = t.getHeader()) && proto.ReqHeader.toObject(e, i),
phone: o.Message.getFieldWithDefault(t, 2, ""),
verifycode: o.Message.getFieldWithDefault(t, 3, ""),
password: o.Message.getFieldWithDefault(t, 4, "")
};
e && (n.$jspbMessageInstance = t);
return n;
};
}
proto.RegisterReq.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.RegisterReq();
return proto.RegisterReq.deserializeBinaryFromReader(i, t);
};
proto.RegisterReq.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = new proto.ReqHeader();
t.readMessage(i, proto.ReqHeader.deserializeBinaryFromReader);
e.setHeader(i);
break;

case 2:
i = t.readString();
e.setPhone(i);
break;

case 3:
i = t.readString();
e.setVerifycode(i);
break;

case 4:
i = t.readString();
e.setPassword(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.RegisterReq.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.RegisterReq.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.RegisterReq.serializeBinaryToWriter = function(e, t) {
var i = void 0;
null != (i = e.getHeader()) && t.writeMessage(1, i, proto.ReqHeader.serializeBinaryToWriter);
(i = e.getPhone()).length > 0 && t.writeString(2, i);
(i = e.getVerifycode()).length > 0 && t.writeString(3, i);
(i = e.getPassword()).length > 0 && t.writeString(4, i);
};
proto.RegisterReq.prototype.getHeader = function() {
return o.Message.getWrapperField(this, proto.ReqHeader, 1);
};
proto.RegisterReq.prototype.setHeader = function(e) {
return o.Message.setWrapperField(this, 1, e);
};
proto.RegisterReq.prototype.clearHeader = function() {
return this.setHeader(void 0);
};
proto.RegisterReq.prototype.hasHeader = function() {
return null != o.Message.getField(this, 1);
};
proto.RegisterReq.prototype.getPhone = function() {
return o.Message.getFieldWithDefault(this, 2, "");
};
proto.RegisterReq.prototype.setPhone = function(e) {
return o.Message.setProto3StringField(this, 2, e);
};
proto.RegisterReq.prototype.getVerifycode = function() {
return o.Message.getFieldWithDefault(this, 3, "");
};
proto.RegisterReq.prototype.setVerifycode = function(e) {
return o.Message.setProto3StringField(this, 3, e);
};
proto.RegisterReq.prototype.getPassword = function() {
return o.Message.getFieldWithDefault(this, 4, "");
};
proto.RegisterReq.prototype.setPassword = function(e) {
return o.Message.setProto3StringField(this, 4, e);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.RegisterResp.prototype.toObject = function(e) {
return proto.RegisterResp.toObject(e, this);
};
proto.RegisterResp.toObject = function(e, t) {
var i, n = {
header: (i = t.getHeader()) && proto.RespHeader.toObject(e, i),
userId: o.Message.getFieldWithDefault(t, 2, 0),
token: o.Message.getFieldWithDefault(t, 3, ""),
gold: o.Message.getFieldWithDefault(t, 4, 0)
};
e && (n.$jspbMessageInstance = t);
return n;
};
}
proto.RegisterResp.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.RegisterResp();
return proto.RegisterResp.deserializeBinaryFromReader(i, t);
};
proto.RegisterResp.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = new proto.RespHeader();
t.readMessage(i, proto.RespHeader.deserializeBinaryFromReader);
e.setHeader(i);
break;

case 2:
i = t.readInt64();
e.setUserId(i);
break;

case 3:
i = t.readString();
e.setToken(i);
break;

case 4:
i = t.readInt64();
e.setGold(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.RegisterResp.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.RegisterResp.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.RegisterResp.serializeBinaryToWriter = function(e, t) {
var i = void 0;
null != (i = e.getHeader()) && t.writeMessage(1, i, proto.RespHeader.serializeBinaryToWriter);
0 !== (i = e.getUserId()) && t.writeInt64(2, i);
(i = e.getToken()).length > 0 && t.writeString(3, i);
0 !== (i = e.getGold()) && t.writeInt64(4, i);
};
proto.RegisterResp.prototype.getHeader = function() {
return o.Message.getWrapperField(this, proto.RespHeader, 1);
};
proto.RegisterResp.prototype.setHeader = function(e) {
return o.Message.setWrapperField(this, 1, e);
};
proto.RegisterResp.prototype.clearHeader = function() {
return this.setHeader(void 0);
};
proto.RegisterResp.prototype.hasHeader = function() {
return null != o.Message.getField(this, 1);
};
proto.RegisterResp.prototype.getUserId = function() {
return o.Message.getFieldWithDefault(this, 2, 0);
};
proto.RegisterResp.prototype.setUserId = function(e) {
return o.Message.setProto3IntField(this, 2, e);
};
proto.RegisterResp.prototype.getToken = function() {
return o.Message.getFieldWithDefault(this, 3, "");
};
proto.RegisterResp.prototype.setToken = function(e) {
return o.Message.setProto3StringField(this, 3, e);
};
proto.RegisterResp.prototype.getGold = function() {
return o.Message.getFieldWithDefault(this, 4, 0);
};
proto.RegisterResp.prototype.setGold = function(e) {
return o.Message.setProto3IntField(this, 4, e);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.AnonymousLoginReq.prototype.toObject = function(e) {
return proto.AnonymousLoginReq.toObject(e, this);
};
proto.AnonymousLoginReq.toObject = function(e, t) {
var i, n = {
header: (i = t.getHeader()) && proto.ReqHeader.toObject(e, i),
referId: o.Message.getFieldWithDefault(t, 2, 0)
};
e && (n.$jspbMessageInstance = t);
return n;
};
}
proto.AnonymousLoginReq.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.AnonymousLoginReq();
return proto.AnonymousLoginReq.deserializeBinaryFromReader(i, t);
};
proto.AnonymousLoginReq.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = new proto.ReqHeader();
t.readMessage(i, proto.ReqHeader.deserializeBinaryFromReader);
e.setHeader(i);
break;

case 2:
i = t.readInt64();
e.setReferId(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.AnonymousLoginReq.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.AnonymousLoginReq.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.AnonymousLoginReq.serializeBinaryToWriter = function(e, t) {
var i = void 0;
null != (i = e.getHeader()) && t.writeMessage(1, i, proto.ReqHeader.serializeBinaryToWriter);
0 !== (i = e.getReferId()) && t.writeInt64(2, i);
};
proto.AnonymousLoginReq.prototype.getHeader = function() {
return o.Message.getWrapperField(this, proto.ReqHeader, 1);
};
proto.AnonymousLoginReq.prototype.setHeader = function(e) {
return o.Message.setWrapperField(this, 1, e);
};
proto.AnonymousLoginReq.prototype.clearHeader = function() {
return this.setHeader(void 0);
};
proto.AnonymousLoginReq.prototype.hasHeader = function() {
return null != o.Message.getField(this, 1);
};
proto.AnonymousLoginReq.prototype.getReferId = function() {
return o.Message.getFieldWithDefault(this, 2, 0);
};
proto.AnonymousLoginReq.prototype.setReferId = function(e) {
return o.Message.setProto3IntField(this, 2, e);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.AnonymousLoginResp.prototype.toObject = function(e) {
return proto.AnonymousLoginResp.toObject(e, this);
};
proto.AnonymousLoginResp.toObject = function(e, t) {
var i, n = {
header: (i = t.getHeader()) && proto.RespHeader.toObject(e, i),
userId: o.Message.getFieldWithDefault(t, 2, 0),
token: o.Message.getFieldWithDefault(t, 3, ""),
isNew: o.Message.getBooleanFieldWithDefault(t, 4, !1),
gold: o.Message.getFieldWithDefault(t, 5, 0)
};
e && (n.$jspbMessageInstance = t);
return n;
};
}
proto.AnonymousLoginResp.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.AnonymousLoginResp();
return proto.AnonymousLoginResp.deserializeBinaryFromReader(i, t);
};
proto.AnonymousLoginResp.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = new proto.RespHeader();
t.readMessage(i, proto.RespHeader.deserializeBinaryFromReader);
e.setHeader(i);
break;

case 2:
i = t.readInt64();
e.setUserId(i);
break;

case 3:
i = t.readString();
e.setToken(i);
break;

case 4:
i = t.readBool();
e.setIsNew(i);
break;

case 5:
i = t.readInt64();
e.setGold(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.AnonymousLoginResp.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.AnonymousLoginResp.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.AnonymousLoginResp.serializeBinaryToWriter = function(e, t) {
var i = void 0;
null != (i = e.getHeader()) && t.writeMessage(1, i, proto.RespHeader.serializeBinaryToWriter);
0 !== (i = e.getUserId()) && t.writeInt64(2, i);
(i = e.getToken()).length > 0 && t.writeString(3, i);
(i = e.getIsNew()) && t.writeBool(4, i);
0 !== (i = e.getGold()) && t.writeInt64(5, i);
};
proto.AnonymousLoginResp.prototype.getHeader = function() {
return o.Message.getWrapperField(this, proto.RespHeader, 1);
};
proto.AnonymousLoginResp.prototype.setHeader = function(e) {
return o.Message.setWrapperField(this, 1, e);
};
proto.AnonymousLoginResp.prototype.clearHeader = function() {
return this.setHeader(void 0);
};
proto.AnonymousLoginResp.prototype.hasHeader = function() {
return null != o.Message.getField(this, 1);
};
proto.AnonymousLoginResp.prototype.getUserId = function() {
return o.Message.getFieldWithDefault(this, 2, 0);
};
proto.AnonymousLoginResp.prototype.setUserId = function(e) {
return o.Message.setProto3IntField(this, 2, e);
};
proto.AnonymousLoginResp.prototype.getToken = function() {
return o.Message.getFieldWithDefault(this, 3, "");
};
proto.AnonymousLoginResp.prototype.setToken = function(e) {
return o.Message.setProto3StringField(this, 3, e);
};
proto.AnonymousLoginResp.prototype.getIsNew = function() {
return o.Message.getBooleanFieldWithDefault(this, 4, !1);
};
proto.AnonymousLoginResp.prototype.setIsNew = function(e) {
return o.Message.setProto3BooleanField(this, 4, e);
};
proto.AnonymousLoginResp.prototype.getGold = function() {
return o.Message.getFieldWithDefault(this, 5, 0);
};
proto.AnonymousLoginResp.prototype.setGold = function(e) {
return o.Message.setProto3IntField(this, 5, e);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.LoginReq.prototype.toObject = function(e) {
return proto.LoginReq.toObject(e, this);
};
proto.LoginReq.toObject = function(e, t) {
var i, n = {
header: (i = t.getHeader()) && proto.ReqHeader.toObject(e, i),
phone: o.Message.getFieldWithDefault(t, 2, ""),
password: o.Message.getFieldWithDefault(t, 3, "")
};
e && (n.$jspbMessageInstance = t);
return n;
};
}
proto.LoginReq.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.LoginReq();
return proto.LoginReq.deserializeBinaryFromReader(i, t);
};
proto.LoginReq.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = new proto.ReqHeader();
t.readMessage(i, proto.ReqHeader.deserializeBinaryFromReader);
e.setHeader(i);
break;

case 2:
i = t.readString();
e.setPhone(i);
break;

case 3:
i = t.readString();
e.setPassword(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.LoginReq.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.LoginReq.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.LoginReq.serializeBinaryToWriter = function(e, t) {
var i = void 0;
null != (i = e.getHeader()) && t.writeMessage(1, i, proto.ReqHeader.serializeBinaryToWriter);
(i = e.getPhone()).length > 0 && t.writeString(2, i);
(i = e.getPassword()).length > 0 && t.writeString(3, i);
};
proto.LoginReq.prototype.getHeader = function() {
return o.Message.getWrapperField(this, proto.ReqHeader, 1);
};
proto.LoginReq.prototype.setHeader = function(e) {
return o.Message.setWrapperField(this, 1, e);
};
proto.LoginReq.prototype.clearHeader = function() {
return this.setHeader(void 0);
};
proto.LoginReq.prototype.hasHeader = function() {
return null != o.Message.getField(this, 1);
};
proto.LoginReq.prototype.getPhone = function() {
return o.Message.getFieldWithDefault(this, 2, "");
};
proto.LoginReq.prototype.setPhone = function(e) {
return o.Message.setProto3StringField(this, 2, e);
};
proto.LoginReq.prototype.getPassword = function() {
return o.Message.getFieldWithDefault(this, 3, "");
};
proto.LoginReq.prototype.setPassword = function(e) {
return o.Message.setProto3StringField(this, 3, e);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.LoginResp.prototype.toObject = function(e) {
return proto.LoginResp.toObject(e, this);
};
proto.LoginResp.toObject = function(e, t) {
var i, n = {
header: (i = t.getHeader()) && proto.RespHeader.toObject(e, i),
userId: o.Message.getFieldWithDefault(t, 2, 0),
token: o.Message.getFieldWithDefault(t, 3, "")
};
e && (n.$jspbMessageInstance = t);
return n;
};
}
proto.LoginResp.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.LoginResp();
return proto.LoginResp.deserializeBinaryFromReader(i, t);
};
proto.LoginResp.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = new proto.RespHeader();
t.readMessage(i, proto.RespHeader.deserializeBinaryFromReader);
e.setHeader(i);
break;

case 2:
i = t.readInt64();
e.setUserId(i);
break;

case 3:
i = t.readString();
e.setToken(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.LoginResp.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.LoginResp.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.LoginResp.serializeBinaryToWriter = function(e, t) {
var i = void 0;
null != (i = e.getHeader()) && t.writeMessage(1, i, proto.RespHeader.serializeBinaryToWriter);
0 !== (i = e.getUserId()) && t.writeInt64(2, i);
(i = e.getToken()).length > 0 && t.writeString(3, i);
};
proto.LoginResp.prototype.getHeader = function() {
return o.Message.getWrapperField(this, proto.RespHeader, 1);
};
proto.LoginResp.prototype.setHeader = function(e) {
return o.Message.setWrapperField(this, 1, e);
};
proto.LoginResp.prototype.clearHeader = function() {
return this.setHeader(void 0);
};
proto.LoginResp.prototype.hasHeader = function() {
return null != o.Message.getField(this, 1);
};
proto.LoginResp.prototype.getUserId = function() {
return o.Message.getFieldWithDefault(this, 2, 0);
};
proto.LoginResp.prototype.setUserId = function(e) {
return o.Message.setProto3IntField(this, 2, e);
};
proto.LoginResp.prototype.getToken = function() {
return o.Message.getFieldWithDefault(this, 3, "");
};
proto.LoginResp.prototype.setToken = function(e) {
return o.Message.setProto3StringField(this, 3, e);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.LoginConfReq.prototype.toObject = function(e) {
return proto.LoginConfReq.toObject(e, this);
};
proto.LoginConfReq.toObject = function(e, t) {
var i, o = {
header: (i = t.getHeader()) && proto.ReqHeader.toObject(e, i)
};
e && (o.$jspbMessageInstance = t);
return o;
};
}
proto.LoginConfReq.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.LoginConfReq();
return proto.LoginConfReq.deserializeBinaryFromReader(i, t);
};
proto.LoginConfReq.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = new proto.ReqHeader();
t.readMessage(i, proto.ReqHeader.deserializeBinaryFromReader);
e.setHeader(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.LoginConfReq.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.LoginConfReq.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.LoginConfReq.serializeBinaryToWriter = function(e, t) {
var i;
null != (i = e.getHeader()) && t.writeMessage(1, i, proto.ReqHeader.serializeBinaryToWriter);
};
proto.LoginConfReq.prototype.getHeader = function() {
return o.Message.getWrapperField(this, proto.ReqHeader, 1);
};
proto.LoginConfReq.prototype.setHeader = function(e) {
return o.Message.setWrapperField(this, 1, e);
};
proto.LoginConfReq.prototype.clearHeader = function() {
return this.setHeader(void 0);
};
proto.LoginConfReq.prototype.hasHeader = function() {
return null != o.Message.getField(this, 1);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.LoginConfResp.prototype.toObject = function(e) {
return proto.LoginConfResp.toObject(e, this);
};
proto.LoginConfResp.toObject = function(e, t) {
var i, o = {
header: (i = t.getHeader()) && proto.RespHeader.toObject(e, i),
loginAppeal: (i = t.getLoginAppeal()) && proto.LoginConfResp.LoginAppeal.toObject(e, i)
};
e && (o.$jspbMessageInstance = t);
return o;
};
}
proto.LoginConfResp.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.LoginConfResp();
return proto.LoginConfResp.deserializeBinaryFromReader(i, t);
};
proto.LoginConfResp.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = new proto.RespHeader();
t.readMessage(i, proto.RespHeader.deserializeBinaryFromReader);
e.setHeader(i);
break;

case 2:
i = new proto.LoginConfResp.LoginAppeal();
t.readMessage(i, proto.LoginConfResp.LoginAppeal.deserializeBinaryFromReader);
e.setLoginAppeal(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.LoginConfResp.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.LoginConfResp.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.LoginConfResp.serializeBinaryToWriter = function(e, t) {
var i = void 0;
null != (i = e.getHeader()) && t.writeMessage(1, i, proto.RespHeader.serializeBinaryToWriter);
null != (i = e.getLoginAppeal()) && t.writeMessage(2, i, proto.LoginConfResp.LoginAppeal.serializeBinaryToWriter);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.LoginConfResp.LoginAppeal.prototype.toObject = function(e) {
return proto.LoginConfResp.LoginAppeal.toObject(e, this);
};
proto.LoginConfResp.LoginAppeal.toObject = function(e, t) {
var i = {
url: o.Message.getFieldWithDefault(t, 1, ""),
direction: o.Message.getFieldWithDefault(t, 2, 0),
browser: o.Message.getFieldWithDefault(t, 3, 0)
};
e && (i.$jspbMessageInstance = t);
return i;
};
}
proto.LoginConfResp.LoginAppeal.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.LoginConfResp.LoginAppeal();
return proto.LoginConfResp.LoginAppeal.deserializeBinaryFromReader(i, t);
};
proto.LoginConfResp.LoginAppeal.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = t.readString();
e.setUrl(i);
break;

case 2:
i = t.readInt32();
e.setDirection(i);
break;

case 3:
i = t.readInt32();
e.setBrowser(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.LoginConfResp.LoginAppeal.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.LoginConfResp.LoginAppeal.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.LoginConfResp.LoginAppeal.serializeBinaryToWriter = function(e, t) {
var i = void 0;
(i = e.getUrl()).length > 0 && t.writeString(1, i);
0 !== (i = e.getDirection()) && t.writeInt32(2, i);
0 !== (i = e.getBrowser()) && t.writeInt32(3, i);
};
proto.LoginConfResp.LoginAppeal.prototype.getUrl = function() {
return o.Message.getFieldWithDefault(this, 1, "");
};
proto.LoginConfResp.LoginAppeal.prototype.setUrl = function(e) {
return o.Message.setProto3StringField(this, 1, e);
};
proto.LoginConfResp.LoginAppeal.prototype.getDirection = function() {
return o.Message.getFieldWithDefault(this, 2, 0);
};
proto.LoginConfResp.LoginAppeal.prototype.setDirection = function(e) {
return o.Message.setProto3IntField(this, 2, e);
};
proto.LoginConfResp.LoginAppeal.prototype.getBrowser = function() {
return o.Message.getFieldWithDefault(this, 3, 0);
};
proto.LoginConfResp.LoginAppeal.prototype.setBrowser = function(e) {
return o.Message.setProto3IntField(this, 3, e);
};
proto.LoginConfResp.prototype.getHeader = function() {
return o.Message.getWrapperField(this, proto.RespHeader, 1);
};
proto.LoginConfResp.prototype.setHeader = function(e) {
return o.Message.setWrapperField(this, 1, e);
};
proto.LoginConfResp.prototype.clearHeader = function() {
return this.setHeader(void 0);
};
proto.LoginConfResp.prototype.hasHeader = function() {
return null != o.Message.getField(this, 1);
};
proto.LoginConfResp.prototype.getLoginAppeal = function() {
return o.Message.getWrapperField(this, proto.LoginConfResp.LoginAppeal, 2);
};
proto.LoginConfResp.prototype.setLoginAppeal = function(e) {
return o.Message.setWrapperField(this, 2, e);
};
proto.LoginConfResp.prototype.clearLoginAppeal = function() {
return this.setLoginAppeal(void 0);
};
proto.LoginConfResp.prototype.hasLoginAppeal = function() {
return null != o.Message.getField(this, 2);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.UserInfoReq.prototype.toObject = function(e) {
return proto.UserInfoReq.toObject(e, this);
};
proto.UserInfoReq.toObject = function(e, t) {
var i, n = {
header: (i = t.getHeader()) && proto.ReqHeader.toObject(e, i),
userId: o.Message.getFieldWithDefault(t, 2, 0)
};
e && (n.$jspbMessageInstance = t);
return n;
};
}
proto.UserInfoReq.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.UserInfoReq();
return proto.UserInfoReq.deserializeBinaryFromReader(i, t);
};
proto.UserInfoReq.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = new proto.ReqHeader();
t.readMessage(i, proto.ReqHeader.deserializeBinaryFromReader);
e.setHeader(i);
break;

case 2:
i = t.readInt64();
e.setUserId(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.UserInfoReq.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.UserInfoReq.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.UserInfoReq.serializeBinaryToWriter = function(e, t) {
var i = void 0;
null != (i = e.getHeader()) && t.writeMessage(1, i, proto.ReqHeader.serializeBinaryToWriter);
0 !== (i = e.getUserId()) && t.writeInt64(2, i);
};
proto.UserInfoReq.prototype.getHeader = function() {
return o.Message.getWrapperField(this, proto.ReqHeader, 1);
};
proto.UserInfoReq.prototype.setHeader = function(e) {
return o.Message.setWrapperField(this, 1, e);
};
proto.UserInfoReq.prototype.clearHeader = function() {
return this.setHeader(void 0);
};
proto.UserInfoReq.prototype.hasHeader = function() {
return null != o.Message.getField(this, 1);
};
proto.UserInfoReq.prototype.getUserId = function() {
return o.Message.getFieldWithDefault(this, 2, 0);
};
proto.UserInfoReq.prototype.setUserId = function(e) {
return o.Message.setProto3IntField(this, 2, e);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.UserInfoResp.prototype.toObject = function(e) {
return proto.UserInfoResp.toObject(e, this);
};
proto.UserInfoResp.toObject = function(e, t) {
var i, n = {
header: (i = t.getHeader()) && proto.RespHeader.toObject(e, i),
userId: o.Message.getFieldWithDefault(t, 2, 0),
userName: o.Message.getFieldWithDefault(t, 3, ""),
chn: o.Message.getFieldWithDefault(t, 4, ""),
phone: o.Message.getFieldWithDefault(t, 5, ""),
bio: o.Message.getFieldWithDefault(t, 6, ""),
gender: o.Message.getFieldWithDefault(t, 7, 0),
avatar: o.Message.getFieldWithDefault(t, 8, ""),
gold: o.Message.getFieldWithDefault(t, 9, 0),
level: o.Message.getFieldWithDefault(t, 11, 0),
levelIcon: o.Message.getFieldWithDefault(t, 12, ""),
levelName: o.Message.getFieldWithDefault(t, 13, ""),
exp: o.Message.getFieldWithDefault(t, 14, 0),
isGuest: o.Message.getFieldWithDefault(t, 15, 0),
safeBox: o.Message.getFloatingPointFieldWithDefault(t, 16, 0),
location: o.Message.getFieldWithDefault(t, 17, ""),
isFormal: o.Message.getFieldWithDefault(t, 18, 0),
name: o.Message.getFieldWithDefault(t, 19, ""),
email: o.Message.getFieldWithDefault(t, 20, ""),
rechargeTrackMap: (i = t.getRechargeTrackMap()) ? i.toObject(e, void 0) : [],
window: (i = t.getWindow()) && proto.PopupWindow.toObject(e, i)
};
e && (n.$jspbMessageInstance = t);
return n;
};
}
proto.UserInfoResp.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.UserInfoResp();
return proto.UserInfoResp.deserializeBinaryFromReader(i, t);
};
proto.UserInfoResp.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = new proto.RespHeader();
t.readMessage(i, proto.RespHeader.deserializeBinaryFromReader);
e.setHeader(i);
break;

case 2:
i = t.readInt64();
e.setUserId(i);
break;

case 3:
i = t.readString();
e.setUserName(i);
break;

case 4:
i = t.readString();
e.setChn(i);
break;

case 5:
i = t.readString();
e.setPhone(i);
break;

case 6:
i = t.readString();
e.setBio(i);
break;

case 7:
i = t.readInt32();
e.setGender(i);
break;

case 8:
i = t.readString();
e.setAvatar(i);
break;

case 9:
i = t.readInt64();
e.setGold(i);
break;

case 11:
i = t.readInt32();
e.setLevel(i);
break;

case 12:
i = t.readString();
e.setLevelIcon(i);
break;

case 13:
i = t.readString();
e.setLevelName(i);
break;

case 14:
i = t.readInt32();
e.setExp(i);
break;

case 15:
i = t.readInt32();
e.setIsGuest(i);
break;

case 16:
i = t.readDouble();
e.setSafeBox(i);
break;

case 17:
i = t.readString();
e.setLocation(i);
break;

case 18:
i = t.readInt32();
e.setIsFormal(i);
break;

case 19:
i = t.readString();
e.setName(i);
break;

case 20:
i = t.readString();
e.setEmail(i);
break;

case 21:
i = e.getRechargeTrackMap();
t.readMessage(i, function(e, t) {
o.Map.deserializeBinary(e, t, o.BinaryReader.prototype.readString, o.BinaryReader.prototype.readString, null, "", "");
});
break;

case 22:
i = new proto.PopupWindow();
t.readMessage(i, proto.PopupWindow.deserializeBinaryFromReader);
e.setWindow(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.UserInfoResp.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.UserInfoResp.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.UserInfoResp.serializeBinaryToWriter = function(e, t) {
var i = void 0;
null != (i = e.getHeader()) && t.writeMessage(1, i, proto.RespHeader.serializeBinaryToWriter);
0 !== (i = e.getUserId()) && t.writeInt64(2, i);
(i = e.getUserName()).length > 0 && t.writeString(3, i);
(i = e.getChn()).length > 0 && t.writeString(4, i);
(i = e.getPhone()).length > 0 && t.writeString(5, i);
(i = e.getBio()).length > 0 && t.writeString(6, i);
0 !== (i = e.getGender()) && t.writeInt32(7, i);
(i = e.getAvatar()).length > 0 && t.writeString(8, i);
0 !== (i = e.getGold()) && t.writeInt64(9, i);
0 !== (i = e.getLevel()) && t.writeInt32(11, i);
(i = e.getLevelIcon()).length > 0 && t.writeString(12, i);
(i = e.getLevelName()).length > 0 && t.writeString(13, i);
0 !== (i = e.getExp()) && t.writeInt32(14, i);
0 !== (i = e.getIsGuest()) && t.writeInt32(15, i);
0 !== (i = e.getSafeBox()) && t.writeDouble(16, i);
(i = e.getLocation()).length > 0 && t.writeString(17, i);
0 !== (i = e.getIsFormal()) && t.writeInt32(18, i);
(i = e.getName()).length > 0 && t.writeString(19, i);
(i = e.getEmail()).length > 0 && t.writeString(20, i);
(i = e.getRechargeTrackMap(!0)) && i.getLength() > 0 && i.serializeBinary(21, t, o.BinaryWriter.prototype.writeString, o.BinaryWriter.prototype.writeString);
null != (i = e.getWindow()) && t.writeMessage(22, i, proto.PopupWindow.serializeBinaryToWriter);
};
proto.UserInfoResp.prototype.getHeader = function() {
return o.Message.getWrapperField(this, proto.RespHeader, 1);
};
proto.UserInfoResp.prototype.setHeader = function(e) {
return o.Message.setWrapperField(this, 1, e);
};
proto.UserInfoResp.prototype.clearHeader = function() {
return this.setHeader(void 0);
};
proto.UserInfoResp.prototype.hasHeader = function() {
return null != o.Message.getField(this, 1);
};
proto.UserInfoResp.prototype.getUserId = function() {
return o.Message.getFieldWithDefault(this, 2, 0);
};
proto.UserInfoResp.prototype.setUserId = function(e) {
return o.Message.setProto3IntField(this, 2, e);
};
proto.UserInfoResp.prototype.getUserName = function() {
return o.Message.getFieldWithDefault(this, 3, "");
};
proto.UserInfoResp.prototype.setUserName = function(e) {
return o.Message.setProto3StringField(this, 3, e);
};
proto.UserInfoResp.prototype.getChn = function() {
return o.Message.getFieldWithDefault(this, 4, "");
};
proto.UserInfoResp.prototype.setChn = function(e) {
return o.Message.setProto3StringField(this, 4, e);
};
proto.UserInfoResp.prototype.getPhone = function() {
return o.Message.getFieldWithDefault(this, 5, "");
};
proto.UserInfoResp.prototype.setPhone = function(e) {
return o.Message.setProto3StringField(this, 5, e);
};
proto.UserInfoResp.prototype.getBio = function() {
return o.Message.getFieldWithDefault(this, 6, "");
};
proto.UserInfoResp.prototype.setBio = function(e) {
return o.Message.setProto3StringField(this, 6, e);
};
proto.UserInfoResp.prototype.getGender = function() {
return o.Message.getFieldWithDefault(this, 7, 0);
};
proto.UserInfoResp.prototype.setGender = function(e) {
return o.Message.setProto3IntField(this, 7, e);
};
proto.UserInfoResp.prototype.getAvatar = function() {
return o.Message.getFieldWithDefault(this, 8, "");
};
proto.UserInfoResp.prototype.setAvatar = function(e) {
return o.Message.setProto3StringField(this, 8, e);
};
proto.UserInfoResp.prototype.getGold = function() {
return o.Message.getFieldWithDefault(this, 9, 0);
};
proto.UserInfoResp.prototype.setGold = function(e) {
return o.Message.setProto3IntField(this, 9, e);
};
proto.UserInfoResp.prototype.getLevel = function() {
return o.Message.getFieldWithDefault(this, 11, 0);
};
proto.UserInfoResp.prototype.setLevel = function(e) {
return o.Message.setProto3IntField(this, 11, e);
};
proto.UserInfoResp.prototype.getLevelIcon = function() {
return o.Message.getFieldWithDefault(this, 12, "");
};
proto.UserInfoResp.prototype.setLevelIcon = function(e) {
return o.Message.setProto3StringField(this, 12, e);
};
proto.UserInfoResp.prototype.getLevelName = function() {
return o.Message.getFieldWithDefault(this, 13, "");
};
proto.UserInfoResp.prototype.setLevelName = function(e) {
return o.Message.setProto3StringField(this, 13, e);
};
proto.UserInfoResp.prototype.getExp = function() {
return o.Message.getFieldWithDefault(this, 14, 0);
};
proto.UserInfoResp.prototype.setExp = function(e) {
return o.Message.setProto3IntField(this, 14, e);
};
proto.UserInfoResp.prototype.getIsGuest = function() {
return o.Message.getFieldWithDefault(this, 15, 0);
};
proto.UserInfoResp.prototype.setIsGuest = function(e) {
return o.Message.setProto3IntField(this, 15, e);
};
proto.UserInfoResp.prototype.getSafeBox = function() {
return o.Message.getFloatingPointFieldWithDefault(this, 16, 0);
};
proto.UserInfoResp.prototype.setSafeBox = function(e) {
return o.Message.setProto3FloatField(this, 16, e);
};
proto.UserInfoResp.prototype.getLocation = function() {
return o.Message.getFieldWithDefault(this, 17, "");
};
proto.UserInfoResp.prototype.setLocation = function(e) {
return o.Message.setProto3StringField(this, 17, e);
};
proto.UserInfoResp.prototype.getIsFormal = function() {
return o.Message.getFieldWithDefault(this, 18, 0);
};
proto.UserInfoResp.prototype.setIsFormal = function(e) {
return o.Message.setProto3IntField(this, 18, e);
};
proto.UserInfoResp.prototype.getName = function() {
return o.Message.getFieldWithDefault(this, 19, "");
};
proto.UserInfoResp.prototype.setName = function(e) {
return o.Message.setProto3StringField(this, 19, e);
};
proto.UserInfoResp.prototype.getEmail = function() {
return o.Message.getFieldWithDefault(this, 20, "");
};
proto.UserInfoResp.prototype.setEmail = function(e) {
return o.Message.setProto3StringField(this, 20, e);
};
proto.UserInfoResp.prototype.getRechargeTrackMap = function(e) {
return o.Message.getMapField(this, 21, e, null);
};
proto.UserInfoResp.prototype.clearRechargeTrackMap = function() {
this.getRechargeTrackMap().clear();
return this;
};
proto.UserInfoResp.prototype.getWindow = function() {
return o.Message.getWrapperField(this, proto.PopupWindow, 22);
};
proto.UserInfoResp.prototype.setWindow = function(e) {
return o.Message.setWrapperField(this, 22, e);
};
proto.UserInfoResp.prototype.clearWindow = function() {
return this.setWindow(void 0);
};
proto.UserInfoResp.prototype.hasWindow = function() {
return null != o.Message.getField(this, 22);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.PopupWindow.prototype.toObject = function(e) {
return proto.PopupWindow.toObject(e, this);
};
proto.PopupWindow.toObject = function(e, t) {
var i = {
type: o.Message.getFieldWithDefault(t, 1, 0),
text: o.Message.getFieldWithDefault(t, 2, "")
};
e && (i.$jspbMessageInstance = t);
return i;
};
}
proto.PopupWindow.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.PopupWindow();
return proto.PopupWindow.deserializeBinaryFromReader(i, t);
};
proto.PopupWindow.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = t.readInt32();
e.setType(i);
break;

case 2:
i = t.readString();
e.setText(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.PopupWindow.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.PopupWindow.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.PopupWindow.serializeBinaryToWriter = function(e, t) {
var i = void 0;
0 !== (i = e.getType()) && t.writeInt32(1, i);
(i = e.getText()).length > 0 && t.writeString(2, i);
};
proto.PopupWindow.prototype.getType = function() {
return o.Message.getFieldWithDefault(this, 1, 0);
};
proto.PopupWindow.prototype.setType = function(e) {
return o.Message.setProto3IntField(this, 1, e);
};
proto.PopupWindow.prototype.getText = function() {
return o.Message.getFieldWithDefault(this, 2, "");
};
proto.PopupWindow.prototype.setText = function(e) {
return o.Message.setProto3StringField(this, 2, e);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.ModifyUserReq.prototype.toObject = function(e) {
return proto.ModifyUserReq.toObject(e, this);
};
proto.ModifyUserReq.toObject = function(e, t) {
var i, n = {
header: (i = t.getHeader()) && proto.ReqHeader.toObject(e, i),
userId: o.Message.getFieldWithDefault(t, 2, 0),
phone: o.Message.getFieldWithDefault(t, 3, ""),
userName: o.Message.getFieldWithDefault(t, 4, ""),
email: o.Message.getFieldWithDefault(t, 5, ""),
bio: o.Message.getFieldWithDefault(t, 6, ""),
gender: o.Message.getFieldWithDefault(t, 7, 0),
avatar: o.Message.getFieldWithDefault(t, 8, ""),
avatarCircle: o.Message.getFieldWithDefault(t, 9, ""),
vCode: o.Message.getFieldWithDefault(t, 10, ""),
name: o.Message.getFieldWithDefault(t, 11, ""),
password: o.Message.getFieldWithDefault(t, 12, "")
};
e && (n.$jspbMessageInstance = t);
return n;
};
}
proto.ModifyUserReq.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.ModifyUserReq();
return proto.ModifyUserReq.deserializeBinaryFromReader(i, t);
};
proto.ModifyUserReq.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = new proto.ReqHeader();
t.readMessage(i, proto.ReqHeader.deserializeBinaryFromReader);
e.setHeader(i);
break;

case 2:
i = t.readInt64();
e.setUserId(i);
break;

case 3:
i = t.readString();
e.setPhone(i);
break;

case 4:
i = t.readString();
e.setUserName(i);
break;

case 5:
i = t.readString();
e.setEmail(i);
break;

case 6:
i = t.readString();
e.setBio(i);
break;

case 7:
i = t.readInt32();
e.setGender(i);
break;

case 8:
i = t.readString();
e.setAvatar(i);
break;

case 9:
i = t.readString();
e.setAvatarCircle(i);
break;

case 10:
i = t.readString();
e.setVCode(i);
break;

case 11:
i = t.readString();
e.setName(i);
break;

case 12:
i = t.readString();
e.setPassword(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.ModifyUserReq.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.ModifyUserReq.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.ModifyUserReq.serializeBinaryToWriter = function(e, t) {
var i = void 0;
null != (i = e.getHeader()) && t.writeMessage(1, i, proto.ReqHeader.serializeBinaryToWriter);
0 !== (i = e.getUserId()) && t.writeInt64(2, i);
(i = e.getPhone()).length > 0 && t.writeString(3, i);
(i = e.getUserName()).length > 0 && t.writeString(4, i);
(i = e.getEmail()).length > 0 && t.writeString(5, i);
(i = e.getBio()).length > 0 && t.writeString(6, i);
0 !== (i = e.getGender()) && t.writeInt32(7, i);
(i = e.getAvatar()).length > 0 && t.writeString(8, i);
(i = e.getAvatarCircle()).length > 0 && t.writeString(9, i);
(i = e.getVCode()).length > 0 && t.writeString(10, i);
(i = e.getName()).length > 0 && t.writeString(11, i);
(i = e.getPassword()).length > 0 && t.writeString(12, i);
};
proto.ModifyUserReq.prototype.getHeader = function() {
return o.Message.getWrapperField(this, proto.ReqHeader, 1);
};
proto.ModifyUserReq.prototype.setHeader = function(e) {
return o.Message.setWrapperField(this, 1, e);
};
proto.ModifyUserReq.prototype.clearHeader = function() {
return this.setHeader(void 0);
};
proto.ModifyUserReq.prototype.hasHeader = function() {
return null != o.Message.getField(this, 1);
};
proto.ModifyUserReq.prototype.getUserId = function() {
return o.Message.getFieldWithDefault(this, 2, 0);
};
proto.ModifyUserReq.prototype.setUserId = function(e) {
return o.Message.setProto3IntField(this, 2, e);
};
proto.ModifyUserReq.prototype.getPhone = function() {
return o.Message.getFieldWithDefault(this, 3, "");
};
proto.ModifyUserReq.prototype.setPhone = function(e) {
return o.Message.setProto3StringField(this, 3, e);
};
proto.ModifyUserReq.prototype.getUserName = function() {
return o.Message.getFieldWithDefault(this, 4, "");
};
proto.ModifyUserReq.prototype.setUserName = function(e) {
return o.Message.setProto3StringField(this, 4, e);
};
proto.ModifyUserReq.prototype.getEmail = function() {
return o.Message.getFieldWithDefault(this, 5, "");
};
proto.ModifyUserReq.prototype.setEmail = function(e) {
return o.Message.setProto3StringField(this, 5, e);
};
proto.ModifyUserReq.prototype.getBio = function() {
return o.Message.getFieldWithDefault(this, 6, "");
};
proto.ModifyUserReq.prototype.setBio = function(e) {
return o.Message.setProto3StringField(this, 6, e);
};
proto.ModifyUserReq.prototype.getGender = function() {
return o.Message.getFieldWithDefault(this, 7, 0);
};
proto.ModifyUserReq.prototype.setGender = function(e) {
return o.Message.setProto3IntField(this, 7, e);
};
proto.ModifyUserReq.prototype.getAvatar = function() {
return o.Message.getFieldWithDefault(this, 8, "");
};
proto.ModifyUserReq.prototype.setAvatar = function(e) {
return o.Message.setProto3StringField(this, 8, e);
};
proto.ModifyUserReq.prototype.getAvatarCircle = function() {
return o.Message.getFieldWithDefault(this, 9, "");
};
proto.ModifyUserReq.prototype.setAvatarCircle = function(e) {
return o.Message.setProto3StringField(this, 9, e);
};
proto.ModifyUserReq.prototype.getVCode = function() {
return o.Message.getFieldWithDefault(this, 10, "");
};
proto.ModifyUserReq.prototype.setVCode = function(e) {
return o.Message.setProto3StringField(this, 10, e);
};
proto.ModifyUserReq.prototype.getName = function() {
return o.Message.getFieldWithDefault(this, 11, "");
};
proto.ModifyUserReq.prototype.setName = function(e) {
return o.Message.setProto3StringField(this, 11, e);
};
proto.ModifyUserReq.prototype.getPassword = function() {
return o.Message.getFieldWithDefault(this, 12, "");
};
proto.ModifyUserReq.prototype.setPassword = function(e) {
return o.Message.setProto3StringField(this, 12, e);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.ModifyUserResp.prototype.toObject = function(e) {
return proto.ModifyUserResp.toObject(e, this);
};
proto.ModifyUserResp.toObject = function(e, t) {
var i, o = {
header: (i = t.getHeader()) && proto.RespHeader.toObject(e, i)
};
e && (o.$jspbMessageInstance = t);
return o;
};
}
proto.ModifyUserResp.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.ModifyUserResp();
return proto.ModifyUserResp.deserializeBinaryFromReader(i, t);
};
proto.ModifyUserResp.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = new proto.RespHeader();
t.readMessage(i, proto.RespHeader.deserializeBinaryFromReader);
e.setHeader(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.ModifyUserResp.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.ModifyUserResp.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.ModifyUserResp.serializeBinaryToWriter = function(e, t) {
var i;
null != (i = e.getHeader()) && t.writeMessage(1, i, proto.RespHeader.serializeBinaryToWriter);
};
proto.ModifyUserResp.prototype.getHeader = function() {
return o.Message.getWrapperField(this, proto.RespHeader, 1);
};
proto.ModifyUserResp.prototype.setHeader = function(e) {
return o.Message.setWrapperField(this, 1, e);
};
proto.ModifyUserResp.prototype.clearHeader = function() {
return this.setHeader(void 0);
};
proto.ModifyUserResp.prototype.hasHeader = function() {
return null != o.Message.getField(this, 1);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.RoomInfoReq.prototype.toObject = function(e) {
return proto.RoomInfoReq.toObject(e, this);
};
proto.RoomInfoReq.toObject = function(e, t) {
var i, n = {
header: (i = t.getHeader()) && proto.ReqHeader.toObject(e, i),
userId: o.Message.getFieldWithDefault(t, 2, 0),
gameId: o.Message.getFieldWithDefault(t, 3, 0)
};
e && (n.$jspbMessageInstance = t);
return n;
};
}
proto.RoomInfoReq.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.RoomInfoReq();
return proto.RoomInfoReq.deserializeBinaryFromReader(i, t);
};
proto.RoomInfoReq.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = new proto.ReqHeader();
t.readMessage(i, proto.ReqHeader.deserializeBinaryFromReader);
e.setHeader(i);
break;

case 2:
i = t.readInt64();
e.setUserId(i);
break;

case 3:
i = t.readInt32();
e.setGameId(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.RoomInfoReq.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.RoomInfoReq.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.RoomInfoReq.serializeBinaryToWriter = function(e, t) {
var i = void 0;
null != (i = e.getHeader()) && t.writeMessage(1, i, proto.ReqHeader.serializeBinaryToWriter);
0 !== (i = e.getUserId()) && t.writeInt64(2, i);
0 !== (i = e.getGameId()) && t.writeInt32(3, i);
};
proto.RoomInfoReq.prototype.getHeader = function() {
return o.Message.getWrapperField(this, proto.ReqHeader, 1);
};
proto.RoomInfoReq.prototype.setHeader = function(e) {
return o.Message.setWrapperField(this, 1, e);
};
proto.RoomInfoReq.prototype.clearHeader = function() {
return this.setHeader(void 0);
};
proto.RoomInfoReq.prototype.hasHeader = function() {
return null != o.Message.getField(this, 1);
};
proto.RoomInfoReq.prototype.getUserId = function() {
return o.Message.getFieldWithDefault(this, 2, 0);
};
proto.RoomInfoReq.prototype.setUserId = function(e) {
return o.Message.setProto3IntField(this, 2, e);
};
proto.RoomInfoReq.prototype.getGameId = function() {
return o.Message.getFieldWithDefault(this, 3, 0);
};
proto.RoomInfoReq.prototype.setGameId = function(e) {
return o.Message.setProto3IntField(this, 3, e);
};
proto.RoomInfo.repeatedFields_ = [ 4, 8 ];
if (o.Message.GENERATE_TO_OBJECT) {
proto.RoomInfo.prototype.toObject = function(e) {
return proto.RoomInfo.toObject(e, this);
};
proto.RoomInfo.toObject = function(e, t) {
var i, n = {
id: o.Message.getFieldWithDefault(t, 1, 0),
name: o.Message.getFieldWithDefault(t, 2, ""),
betLimit: o.Message.getFieldWithDefault(t, 3, 0),
enterLimitList: null == (i = o.Message.getRepeatedField(t, 4)) ? void 0 : i,
status: o.Message.getFieldWithDefault(t, 5, 0),
base: o.Message.getFieldWithDefault(t, 6, 0),
see: o.Message.getBooleanFieldWithDefault(t, 7, !1),
chipsList: null == (i = o.Message.getRepeatedField(t, 8)) ? void 0 : i,
multi: o.Message.getFieldWithDefault(t, 9, 0),
bankerlimit: o.Message.getFieldWithDefault(t, 10, 0)
};
e && (n.$jspbMessageInstance = t);
return n;
};
}
proto.RoomInfo.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.RoomInfo();
return proto.RoomInfo.deserializeBinaryFromReader(i, t);
};
proto.RoomInfo.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = t.readInt32();
e.setId(i);
break;

case 2:
i = t.readString();
e.setName(i);
break;

case 3:
i = t.readInt32();
e.setBetLimit(i);
break;

case 4:
i = t.readPackedInt32();
e.setEnterLimitList(i);
break;

case 5:
i = t.readInt32();
e.setStatus(i);
break;

case 6:
i = t.readInt32();
e.setBase(i);
break;

case 7:
i = t.readBool();
e.setSee(i);
break;

case 8:
i = t.readPackedInt32();
e.setChipsList(i);
break;

case 9:
i = t.readInt32();
e.setMulti(i);
break;

case 10:
i = t.readInt32();
e.setBankerlimit(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.RoomInfo.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.RoomInfo.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.RoomInfo.serializeBinaryToWriter = function(e, t) {
var i = void 0;
0 !== (i = e.getId()) && t.writeInt32(1, i);
(i = e.getName()).length > 0 && t.writeString(2, i);
0 !== (i = e.getBetLimit()) && t.writeInt32(3, i);
(i = e.getEnterLimitList()).length > 0 && t.writePackedInt32(4, i);
0 !== (i = e.getStatus()) && t.writeInt32(5, i);
0 !== (i = e.getBase()) && t.writeInt32(6, i);
(i = e.getSee()) && t.writeBool(7, i);
(i = e.getChipsList()).length > 0 && t.writePackedInt32(8, i);
0 !== (i = e.getMulti()) && t.writeInt32(9, i);
0 !== (i = e.getBankerlimit()) && t.writeInt32(10, i);
};
proto.RoomInfo.prototype.getId = function() {
return o.Message.getFieldWithDefault(this, 1, 0);
};
proto.RoomInfo.prototype.setId = function(e) {
return o.Message.setProto3IntField(this, 1, e);
};
proto.RoomInfo.prototype.getName = function() {
return o.Message.getFieldWithDefault(this, 2, "");
};
proto.RoomInfo.prototype.setName = function(e) {
return o.Message.setProto3StringField(this, 2, e);
};
proto.RoomInfo.prototype.getBetLimit = function() {
return o.Message.getFieldWithDefault(this, 3, 0);
};
proto.RoomInfo.prototype.setBetLimit = function(e) {
return o.Message.setProto3IntField(this, 3, e);
};
proto.RoomInfo.prototype.getEnterLimitList = function() {
return o.Message.getRepeatedField(this, 4);
};
proto.RoomInfo.prototype.setEnterLimitList = function(e) {
return o.Message.setField(this, 4, e || []);
};
proto.RoomInfo.prototype.addEnterLimit = function(e, t) {
return o.Message.addToRepeatedField(this, 4, e, t);
};
proto.RoomInfo.prototype.clearEnterLimitList = function() {
return this.setEnterLimitList([]);
};
proto.RoomInfo.prototype.getStatus = function() {
return o.Message.getFieldWithDefault(this, 5, 0);
};
proto.RoomInfo.prototype.setStatus = function(e) {
return o.Message.setProto3IntField(this, 5, e);
};
proto.RoomInfo.prototype.getBase = function() {
return o.Message.getFieldWithDefault(this, 6, 0);
};
proto.RoomInfo.prototype.setBase = function(e) {
return o.Message.setProto3IntField(this, 6, e);
};
proto.RoomInfo.prototype.getSee = function() {
return o.Message.getBooleanFieldWithDefault(this, 7, !1);
};
proto.RoomInfo.prototype.setSee = function(e) {
return o.Message.setProto3BooleanField(this, 7, e);
};
proto.RoomInfo.prototype.getChipsList = function() {
return o.Message.getRepeatedField(this, 8);
};
proto.RoomInfo.prototype.setChipsList = function(e) {
return o.Message.setField(this, 8, e || []);
};
proto.RoomInfo.prototype.addChips = function(e, t) {
return o.Message.addToRepeatedField(this, 8, e, t);
};
proto.RoomInfo.prototype.clearChipsList = function() {
return this.setChipsList([]);
};
proto.RoomInfo.prototype.getMulti = function() {
return o.Message.getFieldWithDefault(this, 9, 0);
};
proto.RoomInfo.prototype.setMulti = function(e) {
return o.Message.setProto3IntField(this, 9, e);
};
proto.RoomInfo.prototype.getBankerlimit = function() {
return o.Message.getFieldWithDefault(this, 10, 0);
};
proto.RoomInfo.prototype.setBankerlimit = function(e) {
return o.Message.setProto3IntField(this, 10, e);
};
proto.RoomInfoResp.repeatedFields_ = [ 7 ];
if (o.Message.GENERATE_TO_OBJECT) {
proto.RoomInfoResp.prototype.toObject = function(e) {
return proto.RoomInfoResp.toObject(e, this);
};
proto.RoomInfoResp.toObject = function(e, t) {
var i, n = {
header: (i = t.getHeader()) && proto.RespHeader.toObject(e, i),
frameUrl: o.Message.getFieldWithDefault(t, 2, ""),
h5Url: o.Message.getFieldWithDefault(t, 3, ""),
userH5: o.Message.getBooleanFieldWithDefault(t, 4, !1),
roomIndex: o.Message.getFieldWithDefault(t, 5, 0),
lastGame: o.Message.getFieldWithDefault(t, 6, ""),
roomInfoListList: o.Message.toObjectList(t.getRoomInfoListList(), proto.RoomInfo.toObject, e)
};
e && (n.$jspbMessageInstance = t);
return n;
};
}
proto.RoomInfoResp.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.RoomInfoResp();
return proto.RoomInfoResp.deserializeBinaryFromReader(i, t);
};
proto.RoomInfoResp.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = new proto.RespHeader();
t.readMessage(i, proto.RespHeader.deserializeBinaryFromReader);
e.setHeader(i);
break;

case 2:
i = t.readString();
e.setFrameUrl(i);
break;

case 3:
i = t.readString();
e.setH5Url(i);
break;

case 4:
i = t.readBool();
e.setUserH5(i);
break;

case 5:
i = t.readInt32();
e.setRoomIndex(i);
break;

case 6:
i = t.readString();
e.setLastGame(i);
break;

case 7:
i = new proto.RoomInfo();
t.readMessage(i, proto.RoomInfo.deserializeBinaryFromReader);
e.addRoomInfoList(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.RoomInfoResp.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.RoomInfoResp.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.RoomInfoResp.serializeBinaryToWriter = function(e, t) {
var i = void 0;
null != (i = e.getHeader()) && t.writeMessage(1, i, proto.RespHeader.serializeBinaryToWriter);
(i = e.getFrameUrl()).length > 0 && t.writeString(2, i);
(i = e.getH5Url()).length > 0 && t.writeString(3, i);
(i = e.getUserH5()) && t.writeBool(4, i);
0 !== (i = e.getRoomIndex()) && t.writeInt32(5, i);
(i = e.getLastGame()).length > 0 && t.writeString(6, i);
(i = e.getRoomInfoListList()).length > 0 && t.writeRepeatedMessage(7, i, proto.RoomInfo.serializeBinaryToWriter);
};
proto.RoomInfoResp.prototype.getHeader = function() {
return o.Message.getWrapperField(this, proto.RespHeader, 1);
};
proto.RoomInfoResp.prototype.setHeader = function(e) {
return o.Message.setWrapperField(this, 1, e);
};
proto.RoomInfoResp.prototype.clearHeader = function() {
return this.setHeader(void 0);
};
proto.RoomInfoResp.prototype.hasHeader = function() {
return null != o.Message.getField(this, 1);
};
proto.RoomInfoResp.prototype.getFrameUrl = function() {
return o.Message.getFieldWithDefault(this, 2, "");
};
proto.RoomInfoResp.prototype.setFrameUrl = function(e) {
return o.Message.setProto3StringField(this, 2, e);
};
proto.RoomInfoResp.prototype.getH5Url = function() {
return o.Message.getFieldWithDefault(this, 3, "");
};
proto.RoomInfoResp.prototype.setH5Url = function(e) {
return o.Message.setProto3StringField(this, 3, e);
};
proto.RoomInfoResp.prototype.getUserH5 = function() {
return o.Message.getBooleanFieldWithDefault(this, 4, !1);
};
proto.RoomInfoResp.prototype.setUserH5 = function(e) {
return o.Message.setProto3BooleanField(this, 4, e);
};
proto.RoomInfoResp.prototype.getRoomIndex = function() {
return o.Message.getFieldWithDefault(this, 5, 0);
};
proto.RoomInfoResp.prototype.setRoomIndex = function(e) {
return o.Message.setProto3IntField(this, 5, e);
};
proto.RoomInfoResp.prototype.getLastGame = function() {
return o.Message.getFieldWithDefault(this, 6, "");
};
proto.RoomInfoResp.prototype.setLastGame = function(e) {
return o.Message.setProto3StringField(this, 6, e);
};
proto.RoomInfoResp.prototype.getRoomInfoListList = function() {
return o.Message.getRepeatedWrapperField(this, proto.RoomInfo, 7);
};
proto.RoomInfoResp.prototype.setRoomInfoListList = function(e) {
return o.Message.setRepeatedWrapperField(this, 7, e);
};
proto.RoomInfoResp.prototype.addRoomInfoList = function(e, t) {
return o.Message.addToRepeatedWrapperField(this, 7, e, proto.RoomInfo, t);
};
proto.RoomInfoResp.prototype.clearRoomInfoListList = function() {
return this.setRoomInfoListList([]);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.RechargeReq.prototype.toObject = function(e) {
return proto.RechargeReq.toObject(e, this);
};
proto.RechargeReq.toObject = function(e, t) {
var i, n = {
header: (i = t.getHeader()) && proto.ReqHeader.toObject(e, i),
amount: o.Message.getFieldWithDefault(t, 2, 0),
paytype: o.Message.getFieldWithDefault(t, 3, 0),
paychannel: o.Message.getFieldWithDefault(t, 4, 0),
confid: o.Message.getFieldWithDefault(t, 5, 0)
};
e && (n.$jspbMessageInstance = t);
return n;
};
}
proto.RechargeReq.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.RechargeReq();
return proto.RechargeReq.deserializeBinaryFromReader(i, t);
};
proto.RechargeReq.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = new proto.ReqHeader();
t.readMessage(i, proto.ReqHeader.deserializeBinaryFromReader);
e.setHeader(i);
break;

case 2:
i = t.readInt64();
e.setAmount(i);
break;

case 3:
i = t.readInt32();
e.setPaytype(i);
break;

case 4:
i = t.readInt32();
e.setPaychannel(i);
break;

case 5:
i = t.readInt32();
e.setConfid(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.RechargeReq.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.RechargeReq.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.RechargeReq.serializeBinaryToWriter = function(e, t) {
var i = void 0;
null != (i = e.getHeader()) && t.writeMessage(1, i, proto.ReqHeader.serializeBinaryToWriter);
0 !== (i = e.getAmount()) && t.writeInt64(2, i);
0 !== (i = e.getPaytype()) && t.writeInt32(3, i);
0 !== (i = e.getPaychannel()) && t.writeInt32(4, i);
0 !== (i = e.getConfid()) && t.writeInt32(5, i);
};
proto.RechargeReq.prototype.getHeader = function() {
return o.Message.getWrapperField(this, proto.ReqHeader, 1);
};
proto.RechargeReq.prototype.setHeader = function(e) {
return o.Message.setWrapperField(this, 1, e);
};
proto.RechargeReq.prototype.clearHeader = function() {
return this.setHeader(void 0);
};
proto.RechargeReq.prototype.hasHeader = function() {
return null != o.Message.getField(this, 1);
};
proto.RechargeReq.prototype.getAmount = function() {
return o.Message.getFieldWithDefault(this, 2, 0);
};
proto.RechargeReq.prototype.setAmount = function(e) {
return o.Message.setProto3IntField(this, 2, e);
};
proto.RechargeReq.prototype.getPaytype = function() {
return o.Message.getFieldWithDefault(this, 3, 0);
};
proto.RechargeReq.prototype.setPaytype = function(e) {
return o.Message.setProto3IntField(this, 3, e);
};
proto.RechargeReq.prototype.getPaychannel = function() {
return o.Message.getFieldWithDefault(this, 4, 0);
};
proto.RechargeReq.prototype.setPaychannel = function(e) {
return o.Message.setProto3IntField(this, 4, e);
};
proto.RechargeReq.prototype.getConfid = function() {
return o.Message.getFieldWithDefault(this, 5, 0);
};
proto.RechargeReq.prototype.setConfid = function(e) {
return o.Message.setProto3IntField(this, 5, e);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.RechargeResp.prototype.toObject = function(e) {
return proto.RechargeResp.toObject(e, this);
};
proto.RechargeResp.toObject = function(e, t) {
var i, n = {
header: (i = t.getHeader()) && proto.RespHeader.toObject(e, i),
type: o.Message.getFieldWithDefault(t, 2, ""),
charge: o.Message.getFieldWithDefault(t, 3, "")
};
e && (n.$jspbMessageInstance = t);
return n;
};
}
proto.RechargeResp.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.RechargeResp();
return proto.RechargeResp.deserializeBinaryFromReader(i, t);
};
proto.RechargeResp.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = new proto.RespHeader();
t.readMessage(i, proto.RespHeader.deserializeBinaryFromReader);
e.setHeader(i);
break;

case 2:
i = t.readString();
e.setType(i);
break;

case 3:
i = t.readString();
e.setCharge(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.RechargeResp.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.RechargeResp.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.RechargeResp.serializeBinaryToWriter = function(e, t) {
var i = void 0;
null != (i = e.getHeader()) && t.writeMessage(1, i, proto.RespHeader.serializeBinaryToWriter);
(i = e.getType()).length > 0 && t.writeString(2, i);
(i = e.getCharge()).length > 0 && t.writeString(3, i);
};
proto.RechargeResp.prototype.getHeader = function() {
return o.Message.getWrapperField(this, proto.RespHeader, 1);
};
proto.RechargeResp.prototype.setHeader = function(e) {
return o.Message.setWrapperField(this, 1, e);
};
proto.RechargeResp.prototype.clearHeader = function() {
return this.setHeader(void 0);
};
proto.RechargeResp.prototype.hasHeader = function() {
return null != o.Message.getField(this, 1);
};
proto.RechargeResp.prototype.getType = function() {
return o.Message.getFieldWithDefault(this, 2, "");
};
proto.RechargeResp.prototype.setType = function(e) {
return o.Message.setProto3StringField(this, 2, e);
};
proto.RechargeResp.prototype.getCharge = function() {
return o.Message.getFieldWithDefault(this, 3, "");
};
proto.RechargeResp.prototype.setCharge = function(e) {
return o.Message.setProto3StringField(this, 3, e);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.RechargeTypeReq.prototype.toObject = function(e) {
return proto.RechargeTypeReq.toObject(e, this);
};
proto.RechargeTypeReq.toObject = function(e, t) {
var i, n = {
header: (i = t.getHeader()) && proto.ReqHeader.toObject(e, i),
userId: o.Message.getFieldWithDefault(t, 2, 0)
};
e && (n.$jspbMessageInstance = t);
return n;
};
}
proto.RechargeTypeReq.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.RechargeTypeReq();
return proto.RechargeTypeReq.deserializeBinaryFromReader(i, t);
};
proto.RechargeTypeReq.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = new proto.ReqHeader();
t.readMessage(i, proto.ReqHeader.deserializeBinaryFromReader);
e.setHeader(i);
break;

case 2:
i = t.readInt64();
e.setUserId(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.RechargeTypeReq.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.RechargeTypeReq.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.RechargeTypeReq.serializeBinaryToWriter = function(e, t) {
var i = void 0;
null != (i = e.getHeader()) && t.writeMessage(1, i, proto.ReqHeader.serializeBinaryToWriter);
0 !== (i = e.getUserId()) && t.writeInt64(2, i);
};
proto.RechargeTypeReq.prototype.getHeader = function() {
return o.Message.getWrapperField(this, proto.ReqHeader, 1);
};
proto.RechargeTypeReq.prototype.setHeader = function(e) {
return o.Message.setWrapperField(this, 1, e);
};
proto.RechargeTypeReq.prototype.clearHeader = function() {
return this.setHeader(void 0);
};
proto.RechargeTypeReq.prototype.hasHeader = function() {
return null != o.Message.getField(this, 1);
};
proto.RechargeTypeReq.prototype.getUserId = function() {
return o.Message.getFieldWithDefault(this, 2, 0);
};
proto.RechargeTypeReq.prototype.setUserId = function(e) {
return o.Message.setProto3IntField(this, 2, e);
};
proto.RechargeTypeInfo.repeatedFields_ = [ 6 ];
if (o.Message.GENERATE_TO_OBJECT) {
proto.RechargeTypeInfo.prototype.toObject = function(e) {
return proto.RechargeTypeInfo.toObject(e, this);
};
proto.RechargeTypeInfo.toObject = function(e, t) {
var i, n = {
confid: o.Message.getFieldWithDefault(t, 1, 0),
name: o.Message.getFieldWithDefault(t, 2, ""),
adurl: o.Message.getFieldWithDefault(t, 3, ""),
paytype: o.Message.getFieldWithDefault(t, 4, 0),
paychannel: o.Message.getFieldWithDefault(t, 5, 0),
amountsList: null == (i = o.Message.getRepeatedField(t, 6)) ? void 0 : i,
icon: o.Message.getFieldWithDefault(t, 7, ""),
minamount: o.Message.getFieldWithDefault(t, 8, 0),
maxamount: o.Message.getFieldWithDefault(t, 9, 0)
};
e && (n.$jspbMessageInstance = t);
return n;
};
}
proto.RechargeTypeInfo.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.RechargeTypeInfo();
return proto.RechargeTypeInfo.deserializeBinaryFromReader(i, t);
};
proto.RechargeTypeInfo.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = t.readInt32();
e.setConfid(i);
break;

case 2:
i = t.readString();
e.setName(i);
break;

case 3:
i = t.readString();
e.setAdurl(i);
break;

case 4:
i = t.readInt32();
e.setPaytype(i);
break;

case 5:
i = t.readInt32();
e.setPaychannel(i);
break;

case 6:
i = t.readPackedInt32();
e.setAmountsList(i);
break;

case 7:
i = t.readString();
e.setIcon(i);
break;

case 8:
i = t.readInt32();
e.setMinamount(i);
break;

case 9:
i = t.readInt32();
e.setMaxamount(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.RechargeTypeInfo.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.RechargeTypeInfo.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.RechargeTypeInfo.serializeBinaryToWriter = function(e, t) {
var i = void 0;
0 !== (i = e.getConfid()) && t.writeInt32(1, i);
(i = e.getName()).length > 0 && t.writeString(2, i);
(i = e.getAdurl()).length > 0 && t.writeString(3, i);
0 !== (i = e.getPaytype()) && t.writeInt32(4, i);
0 !== (i = e.getPaychannel()) && t.writeInt32(5, i);
(i = e.getAmountsList()).length > 0 && t.writePackedInt32(6, i);
(i = e.getIcon()).length > 0 && t.writeString(7, i);
0 !== (i = e.getMinamount()) && t.writeInt32(8, i);
0 !== (i = e.getMaxamount()) && t.writeInt32(9, i);
};
proto.RechargeTypeInfo.prototype.getConfid = function() {
return o.Message.getFieldWithDefault(this, 1, 0);
};
proto.RechargeTypeInfo.prototype.setConfid = function(e) {
return o.Message.setProto3IntField(this, 1, e);
};
proto.RechargeTypeInfo.prototype.getName = function() {
return o.Message.getFieldWithDefault(this, 2, "");
};
proto.RechargeTypeInfo.prototype.setName = function(e) {
return o.Message.setProto3StringField(this, 2, e);
};
proto.RechargeTypeInfo.prototype.getAdurl = function() {
return o.Message.getFieldWithDefault(this, 3, "");
};
proto.RechargeTypeInfo.prototype.setAdurl = function(e) {
return o.Message.setProto3StringField(this, 3, e);
};
proto.RechargeTypeInfo.prototype.getPaytype = function() {
return o.Message.getFieldWithDefault(this, 4, 0);
};
proto.RechargeTypeInfo.prototype.setPaytype = function(e) {
return o.Message.setProto3IntField(this, 4, e);
};
proto.RechargeTypeInfo.prototype.getPaychannel = function() {
return o.Message.getFieldWithDefault(this, 5, 0);
};
proto.RechargeTypeInfo.prototype.setPaychannel = function(e) {
return o.Message.setProto3IntField(this, 5, e);
};
proto.RechargeTypeInfo.prototype.getAmountsList = function() {
return o.Message.getRepeatedField(this, 6);
};
proto.RechargeTypeInfo.prototype.setAmountsList = function(e) {
return o.Message.setField(this, 6, e || []);
};
proto.RechargeTypeInfo.prototype.addAmounts = function(e, t) {
return o.Message.addToRepeatedField(this, 6, e, t);
};
proto.RechargeTypeInfo.prototype.clearAmountsList = function() {
return this.setAmountsList([]);
};
proto.RechargeTypeInfo.prototype.getIcon = function() {
return o.Message.getFieldWithDefault(this, 7, "");
};
proto.RechargeTypeInfo.prototype.setIcon = function(e) {
return o.Message.setProto3StringField(this, 7, e);
};
proto.RechargeTypeInfo.prototype.getMinamount = function() {
return o.Message.getFieldWithDefault(this, 8, 0);
};
proto.RechargeTypeInfo.prototype.setMinamount = function(e) {
return o.Message.setProto3IntField(this, 8, e);
};
proto.RechargeTypeInfo.prototype.getMaxamount = function() {
return o.Message.getFieldWithDefault(this, 9, 0);
};
proto.RechargeTypeInfo.prototype.setMaxamount = function(e) {
return o.Message.setProto3IntField(this, 9, e);
};
proto.RechargeTypeCategory.repeatedFields_ = [ 3 ];
if (o.Message.GENERATE_TO_OBJECT) {
proto.RechargeTypeCategory.prototype.toObject = function(e) {
return proto.RechargeTypeCategory.toObject(e, this);
};
proto.RechargeTypeCategory.toObject = function(e, t) {
var i = {
name: o.Message.getFieldWithDefault(t, 1, ""),
icon: o.Message.getFieldWithDefault(t, 2, ""),
rechargetypeinfosList: o.Message.toObjectList(t.getRechargetypeinfosList(), proto.RechargeTypeInfo.toObject, e),
sort: o.Message.getFieldWithDefault(t, 4, 0)
};
e && (i.$jspbMessageInstance = t);
return i;
};
}
proto.RechargeTypeCategory.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.RechargeTypeCategory();
return proto.RechargeTypeCategory.deserializeBinaryFromReader(i, t);
};
proto.RechargeTypeCategory.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = t.readString();
e.setName(i);
break;

case 2:
i = t.readString();
e.setIcon(i);
break;

case 3:
i = new proto.RechargeTypeInfo();
t.readMessage(i, proto.RechargeTypeInfo.deserializeBinaryFromReader);
e.addRechargetypeinfos(i);
break;

case 4:
i = t.readInt32();
e.setSort(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.RechargeTypeCategory.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.RechargeTypeCategory.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.RechargeTypeCategory.serializeBinaryToWriter = function(e, t) {
var i = void 0;
(i = e.getName()).length > 0 && t.writeString(1, i);
(i = e.getIcon()).length > 0 && t.writeString(2, i);
(i = e.getRechargetypeinfosList()).length > 0 && t.writeRepeatedMessage(3, i, proto.RechargeTypeInfo.serializeBinaryToWriter);
0 !== (i = e.getSort()) && t.writeInt32(4, i);
};
proto.RechargeTypeCategory.prototype.getName = function() {
return o.Message.getFieldWithDefault(this, 1, "");
};
proto.RechargeTypeCategory.prototype.setName = function(e) {
return o.Message.setProto3StringField(this, 1, e);
};
proto.RechargeTypeCategory.prototype.getIcon = function() {
return o.Message.getFieldWithDefault(this, 2, "");
};
proto.RechargeTypeCategory.prototype.setIcon = function(e) {
return o.Message.setProto3StringField(this, 2, e);
};
proto.RechargeTypeCategory.prototype.getRechargetypeinfosList = function() {
return o.Message.getRepeatedWrapperField(this, proto.RechargeTypeInfo, 3);
};
proto.RechargeTypeCategory.prototype.setRechargetypeinfosList = function(e) {
return o.Message.setRepeatedWrapperField(this, 3, e);
};
proto.RechargeTypeCategory.prototype.addRechargetypeinfos = function(e, t) {
return o.Message.addToRepeatedWrapperField(this, 3, e, proto.RechargeTypeInfo, t);
};
proto.RechargeTypeCategory.prototype.clearRechargetypeinfosList = function() {
return this.setRechargetypeinfosList([]);
};
proto.RechargeTypeCategory.prototype.getSort = function() {
return o.Message.getFieldWithDefault(this, 4, 0);
};
proto.RechargeTypeCategory.prototype.setSort = function(e) {
return o.Message.setProto3IntField(this, 4, e);
};
proto.RechargeTypeResp.repeatedFields_ = [ 2 ];
if (o.Message.GENERATE_TO_OBJECT) {
proto.RechargeTypeResp.prototype.toObject = function(e) {
return proto.RechargeTypeResp.toObject(e, this);
};
proto.RechargeTypeResp.toObject = function(e, t) {
var i, n = {
header: (i = t.getHeader()) && proto.RespHeader.toObject(e, i),
rechargetypecategoryList: o.Message.toObjectList(t.getRechargetypecategoryList(), proto.RechargeTypeCategory.toObject, e)
};
e && (n.$jspbMessageInstance = t);
return n;
};
}
proto.RechargeTypeResp.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.RechargeTypeResp();
return proto.RechargeTypeResp.deserializeBinaryFromReader(i, t);
};
proto.RechargeTypeResp.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = new proto.RespHeader();
t.readMessage(i, proto.RespHeader.deserializeBinaryFromReader);
e.setHeader(i);
break;

case 2:
i = new proto.RechargeTypeCategory();
t.readMessage(i, proto.RechargeTypeCategory.deserializeBinaryFromReader);
e.addRechargetypecategory(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.RechargeTypeResp.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.RechargeTypeResp.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.RechargeTypeResp.serializeBinaryToWriter = function(e, t) {
var i = void 0;
null != (i = e.getHeader()) && t.writeMessage(1, i, proto.RespHeader.serializeBinaryToWriter);
(i = e.getRechargetypecategoryList()).length > 0 && t.writeRepeatedMessage(2, i, proto.RechargeTypeCategory.serializeBinaryToWriter);
};
proto.RechargeTypeResp.prototype.getHeader = function() {
return o.Message.getWrapperField(this, proto.RespHeader, 1);
};
proto.RechargeTypeResp.prototype.setHeader = function(e) {
return o.Message.setWrapperField(this, 1, e);
};
proto.RechargeTypeResp.prototype.clearHeader = function() {
return this.setHeader(void 0);
};
proto.RechargeTypeResp.prototype.hasHeader = function() {
return null != o.Message.getField(this, 1);
};
proto.RechargeTypeResp.prototype.getRechargetypecategoryList = function() {
return o.Message.getRepeatedWrapperField(this, proto.RechargeTypeCategory, 2);
};
proto.RechargeTypeResp.prototype.setRechargetypecategoryList = function(e) {
return o.Message.setRepeatedWrapperField(this, 2, e);
};
proto.RechargeTypeResp.prototype.addRechargetypecategory = function(e, t) {
return o.Message.addToRepeatedWrapperField(this, 2, e, proto.RechargeTypeCategory, t);
};
proto.RechargeTypeResp.prototype.clearRechargetypecategoryList = function() {
return this.setRechargetypecategoryList([]);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.WithdrawTypesReq.prototype.toObject = function(e) {
return proto.WithdrawTypesReq.toObject(e, this);
};
proto.WithdrawTypesReq.toObject = function(e, t) {
var i, o = {
header: (i = t.getHeader()) && proto.ReqHeader.toObject(e, i)
};
e && (o.$jspbMessageInstance = t);
return o;
};
}
proto.WithdrawTypesReq.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.WithdrawTypesReq();
return proto.WithdrawTypesReq.deserializeBinaryFromReader(i, t);
};
proto.WithdrawTypesReq.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = new proto.ReqHeader();
t.readMessage(i, proto.ReqHeader.deserializeBinaryFromReader);
e.setHeader(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.WithdrawTypesReq.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.WithdrawTypesReq.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.WithdrawTypesReq.serializeBinaryToWriter = function(e, t) {
var i;
null != (i = e.getHeader()) && t.writeMessage(1, i, proto.ReqHeader.serializeBinaryToWriter);
};
proto.WithdrawTypesReq.prototype.getHeader = function() {
return o.Message.getWrapperField(this, proto.ReqHeader, 1);
};
proto.WithdrawTypesReq.prototype.setHeader = function(e) {
return o.Message.setWrapperField(this, 1, e);
};
proto.WithdrawTypesReq.prototype.clearHeader = function() {
return this.setHeader(void 0);
};
proto.WithdrawTypesReq.prototype.hasHeader = function() {
return null != o.Message.getField(this, 1);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.WithdrawType.prototype.toObject = function(e) {
return proto.WithdrawType.toObject(e, this);
};
proto.WithdrawType.toObject = function(e, t) {
var i = {
paytype: o.Message.getFieldWithDefault(t, 1, 0),
paychannel: o.Message.getFieldWithDefault(t, 2, 0),
name: o.Message.getFieldWithDefault(t, 3, ""),
minamount: o.Message.getFieldWithDefault(t, 4, 0),
minbalance: o.Message.getFieldWithDefault(t, 5, 0),
maxamount: o.Message.getFieldWithDefault(t, 7, 0),
commison: o.Message.getFieldWithDefault(t, 8, "")
};
e && (i.$jspbMessageInstance = t);
return i;
};
}
proto.WithdrawType.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.WithdrawType();
return proto.WithdrawType.deserializeBinaryFromReader(i, t);
};
proto.WithdrawType.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = t.readEnum();
e.setPaytype(i);
break;

case 2:
i = t.readInt32();
e.setPaychannel(i);
break;

case 3:
i = t.readString();
e.setName(i);
break;

case 4:
i = t.readInt32();
e.setMinamount(i);
break;

case 5:
i = t.readInt32();
e.setMinbalance(i);
break;

case 7:
i = t.readInt32();
e.setMaxamount(i);
break;

case 8:
i = t.readString();
e.setCommison(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.WithdrawType.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.WithdrawType.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.WithdrawType.serializeBinaryToWriter = function(e, t) {
var i = void 0;
0 !== (i = e.getPaytype()) && t.writeEnum(1, i);
0 !== (i = e.getPaychannel()) && t.writeInt32(2, i);
(i = e.getName()).length > 0 && t.writeString(3, i);
0 !== (i = e.getMinamount()) && t.writeInt32(4, i);
0 !== (i = e.getMinbalance()) && t.writeInt32(5, i);
0 !== (i = e.getMaxamount()) && t.writeInt32(7, i);
(i = e.getCommison()).length > 0 && t.writeString(8, i);
};
proto.WithdrawType.PayType = {
PAYTM: 0,
BANKCARD: 1
};
proto.WithdrawType.prototype.getPaytype = function() {
return o.Message.getFieldWithDefault(this, 1, 0);
};
proto.WithdrawType.prototype.setPaytype = function(e) {
return o.Message.setProto3EnumField(this, 1, e);
};
proto.WithdrawType.prototype.getPaychannel = function() {
return o.Message.getFieldWithDefault(this, 2, 0);
};
proto.WithdrawType.prototype.setPaychannel = function(e) {
return o.Message.setProto3IntField(this, 2, e);
};
proto.WithdrawType.prototype.getName = function() {
return o.Message.getFieldWithDefault(this, 3, "");
};
proto.WithdrawType.prototype.setName = function(e) {
return o.Message.setProto3StringField(this, 3, e);
};
proto.WithdrawType.prototype.getMinamount = function() {
return o.Message.getFieldWithDefault(this, 4, 0);
};
proto.WithdrawType.prototype.setMinamount = function(e) {
return o.Message.setProto3IntField(this, 4, e);
};
proto.WithdrawType.prototype.getMinbalance = function() {
return o.Message.getFieldWithDefault(this, 5, 0);
};
proto.WithdrawType.prototype.setMinbalance = function(e) {
return o.Message.setProto3IntField(this, 5, e);
};
proto.WithdrawType.prototype.getMaxamount = function() {
return o.Message.getFieldWithDefault(this, 7, 0);
};
proto.WithdrawType.prototype.setMaxamount = function(e) {
return o.Message.setProto3IntField(this, 7, e);
};
proto.WithdrawType.prototype.getCommison = function() {
return o.Message.getFieldWithDefault(this, 8, "");
};
proto.WithdrawType.prototype.setCommison = function(e) {
return o.Message.setProto3StringField(this, 8, e);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.WithdrawBinds.prototype.toObject = function(e) {
return proto.WithdrawBinds.toObject(e, this);
};
proto.WithdrawBinds.toObject = function(e, t) {
var i, o = {
withdrawpaytm: (i = t.getWithdrawpaytm()) && proto.WithdrawPayTM.toObject(e, i),
withdrawdebitcard: (i = t.getWithdrawdebitcard()) && proto.WithdrawDebitCard.toObject(e, i)
};
e && (o.$jspbMessageInstance = t);
return o;
};
}
proto.WithdrawBinds.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.WithdrawBinds();
return proto.WithdrawBinds.deserializeBinaryFromReader(i, t);
};
proto.WithdrawBinds.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 2:
var i = new proto.WithdrawPayTM();
t.readMessage(i, proto.WithdrawPayTM.deserializeBinaryFromReader);
e.setWithdrawpaytm(i);
break;

case 3:
i = new proto.WithdrawDebitCard();
t.readMessage(i, proto.WithdrawDebitCard.deserializeBinaryFromReader);
e.setWithdrawdebitcard(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.WithdrawBinds.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.WithdrawBinds.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.WithdrawBinds.serializeBinaryToWriter = function(e, t) {
var i = void 0;
null != (i = e.getWithdrawpaytm()) && t.writeMessage(2, i, proto.WithdrawPayTM.serializeBinaryToWriter);
null != (i = e.getWithdrawdebitcard()) && t.writeMessage(3, i, proto.WithdrawDebitCard.serializeBinaryToWriter);
};
proto.WithdrawBinds.prototype.getWithdrawpaytm = function() {
return o.Message.getWrapperField(this, proto.WithdrawPayTM, 2);
};
proto.WithdrawBinds.prototype.setWithdrawpaytm = function(e) {
return o.Message.setWrapperField(this, 2, e);
};
proto.WithdrawBinds.prototype.clearWithdrawpaytm = function() {
return this.setWithdrawpaytm(void 0);
};
proto.WithdrawBinds.prototype.hasWithdrawpaytm = function() {
return null != o.Message.getField(this, 2);
};
proto.WithdrawBinds.prototype.getWithdrawdebitcard = function() {
return o.Message.getWrapperField(this, proto.WithdrawDebitCard, 3);
};
proto.WithdrawBinds.prototype.setWithdrawdebitcard = function(e) {
return o.Message.setWrapperField(this, 3, e);
};
proto.WithdrawBinds.prototype.clearWithdrawdebitcard = function() {
return this.setWithdrawdebitcard(void 0);
};
proto.WithdrawBinds.prototype.hasWithdrawdebitcard = function() {
return null != o.Message.getField(this, 3);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.WithdrawBindReq.prototype.toObject = function(e) {
return proto.WithdrawBindReq.toObject(e, this);
};
proto.WithdrawBindReq.toObject = function(e, t) {
var i, o = {
header: (i = t.getHeader()) && proto.ReqHeader.toObject(e, i),
withdrawbinds: (i = t.getWithdrawbinds()) && proto.WithdrawBinds.toObject(e, i)
};
e && (o.$jspbMessageInstance = t);
return o;
};
}
proto.WithdrawBindReq.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.WithdrawBindReq();
return proto.WithdrawBindReq.deserializeBinaryFromReader(i, t);
};
proto.WithdrawBindReq.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = new proto.ReqHeader();
t.readMessage(i, proto.ReqHeader.deserializeBinaryFromReader);
e.setHeader(i);
break;

case 2:
i = new proto.WithdrawBinds();
t.readMessage(i, proto.WithdrawBinds.deserializeBinaryFromReader);
e.setWithdrawbinds(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.WithdrawBindReq.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.WithdrawBindReq.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.WithdrawBindReq.serializeBinaryToWriter = function(e, t) {
var i = void 0;
null != (i = e.getHeader()) && t.writeMessage(1, i, proto.ReqHeader.serializeBinaryToWriter);
null != (i = e.getWithdrawbinds()) && t.writeMessage(2, i, proto.WithdrawBinds.serializeBinaryToWriter);
};
proto.WithdrawBindReq.prototype.getHeader = function() {
return o.Message.getWrapperField(this, proto.ReqHeader, 1);
};
proto.WithdrawBindReq.prototype.setHeader = function(e) {
return o.Message.setWrapperField(this, 1, e);
};
proto.WithdrawBindReq.prototype.clearHeader = function() {
return this.setHeader(void 0);
};
proto.WithdrawBindReq.prototype.hasHeader = function() {
return null != o.Message.getField(this, 1);
};
proto.WithdrawBindReq.prototype.getWithdrawbinds = function() {
return o.Message.getWrapperField(this, proto.WithdrawBinds, 2);
};
proto.WithdrawBindReq.prototype.setWithdrawbinds = function(e) {
return o.Message.setWrapperField(this, 2, e);
};
proto.WithdrawBindReq.prototype.clearWithdrawbinds = function() {
return this.setWithdrawbinds(void 0);
};
proto.WithdrawBindReq.prototype.hasWithdrawbinds = function() {
return null != o.Message.getField(this, 2);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.WithdrawBindResp.prototype.toObject = function(e) {
return proto.WithdrawBindResp.toObject(e, this);
};
proto.WithdrawBindResp.toObject = function(e, t) {
var i, o = {
header: (i = t.getHeader()) && proto.RespHeader.toObject(e, i),
withdrawbinds: (i = t.getWithdrawbinds()) && proto.WithdrawBinds.toObject(e, i)
};
e && (o.$jspbMessageInstance = t);
return o;
};
}
proto.WithdrawBindResp.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.WithdrawBindResp();
return proto.WithdrawBindResp.deserializeBinaryFromReader(i, t);
};
proto.WithdrawBindResp.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = new proto.RespHeader();
t.readMessage(i, proto.RespHeader.deserializeBinaryFromReader);
e.setHeader(i);
break;

case 2:
i = new proto.WithdrawBinds();
t.readMessage(i, proto.WithdrawBinds.deserializeBinaryFromReader);
e.setWithdrawbinds(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.WithdrawBindResp.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.WithdrawBindResp.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.WithdrawBindResp.serializeBinaryToWriter = function(e, t) {
var i = void 0;
null != (i = e.getHeader()) && t.writeMessage(1, i, proto.RespHeader.serializeBinaryToWriter);
null != (i = e.getWithdrawbinds()) && t.writeMessage(2, i, proto.WithdrawBinds.serializeBinaryToWriter);
};
proto.WithdrawBindResp.prototype.getHeader = function() {
return o.Message.getWrapperField(this, proto.RespHeader, 1);
};
proto.WithdrawBindResp.prototype.setHeader = function(e) {
return o.Message.setWrapperField(this, 1, e);
};
proto.WithdrawBindResp.prototype.clearHeader = function() {
return this.setHeader(void 0);
};
proto.WithdrawBindResp.prototype.hasHeader = function() {
return null != o.Message.getField(this, 1);
};
proto.WithdrawBindResp.prototype.getWithdrawbinds = function() {
return o.Message.getWrapperField(this, proto.WithdrawBinds, 2);
};
proto.WithdrawBindResp.prototype.setWithdrawbinds = function(e) {
return o.Message.setWrapperField(this, 2, e);
};
proto.WithdrawBindResp.prototype.clearWithdrawbinds = function() {
return this.setWithdrawbinds(void 0);
};
proto.WithdrawBindResp.prototype.hasWithdrawbinds = function() {
return null != o.Message.getField(this, 2);
};
proto.WithdrawTypesResp.repeatedFields_ = [ 2 ];
if (o.Message.GENERATE_TO_OBJECT) {
proto.WithdrawTypesResp.prototype.toObject = function(e) {
return proto.WithdrawTypesResp.toObject(e, this);
};
proto.WithdrawTypesResp.toObject = function(e, t) {
var i, n = {
header: (i = t.getHeader()) && proto.RespHeader.toObject(e, i),
withdrawtypeList: o.Message.toObjectList(t.getWithdrawtypeList(), proto.WithdrawType.toObject, e),
withdrawbinds: (i = t.getWithdrawbinds()) && proto.WithdrawBinds.toObject(e, i)
};
e && (n.$jspbMessageInstance = t);
return n;
};
}
proto.WithdrawTypesResp.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.WithdrawTypesResp();
return proto.WithdrawTypesResp.deserializeBinaryFromReader(i, t);
};
proto.WithdrawTypesResp.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = new proto.RespHeader();
t.readMessage(i, proto.RespHeader.deserializeBinaryFromReader);
e.setHeader(i);
break;

case 2:
i = new proto.WithdrawType();
t.readMessage(i, proto.WithdrawType.deserializeBinaryFromReader);
e.addWithdrawtype(i);
break;

case 3:
i = new proto.WithdrawBinds();
t.readMessage(i, proto.WithdrawBinds.deserializeBinaryFromReader);
e.setWithdrawbinds(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.WithdrawTypesResp.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.WithdrawTypesResp.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.WithdrawTypesResp.serializeBinaryToWriter = function(e, t) {
var i = void 0;
null != (i = e.getHeader()) && t.writeMessage(1, i, proto.RespHeader.serializeBinaryToWriter);
(i = e.getWithdrawtypeList()).length > 0 && t.writeRepeatedMessage(2, i, proto.WithdrawType.serializeBinaryToWriter);
null != (i = e.getWithdrawbinds()) && t.writeMessage(3, i, proto.WithdrawBinds.serializeBinaryToWriter);
};
proto.WithdrawTypesResp.prototype.getHeader = function() {
return o.Message.getWrapperField(this, proto.RespHeader, 1);
};
proto.WithdrawTypesResp.prototype.setHeader = function(e) {
return o.Message.setWrapperField(this, 1, e);
};
proto.WithdrawTypesResp.prototype.clearHeader = function() {
return this.setHeader(void 0);
};
proto.WithdrawTypesResp.prototype.hasHeader = function() {
return null != o.Message.getField(this, 1);
};
proto.WithdrawTypesResp.prototype.getWithdrawtypeList = function() {
return o.Message.getRepeatedWrapperField(this, proto.WithdrawType, 2);
};
proto.WithdrawTypesResp.prototype.setWithdrawtypeList = function(e) {
return o.Message.setRepeatedWrapperField(this, 2, e);
};
proto.WithdrawTypesResp.prototype.addWithdrawtype = function(e, t) {
return o.Message.addToRepeatedWrapperField(this, 2, e, proto.WithdrawType, t);
};
proto.WithdrawTypesResp.prototype.clearWithdrawtypeList = function() {
return this.setWithdrawtypeList([]);
};
proto.WithdrawTypesResp.prototype.getWithdrawbinds = function() {
return o.Message.getWrapperField(this, proto.WithdrawBinds, 3);
};
proto.WithdrawTypesResp.prototype.setWithdrawbinds = function(e) {
return o.Message.setWrapperField(this, 3, e);
};
proto.WithdrawTypesResp.prototype.clearWithdrawbinds = function() {
return this.setWithdrawbinds(void 0);
};
proto.WithdrawTypesResp.prototype.hasWithdrawbinds = function() {
return null != o.Message.getField(this, 3);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.WithdrawPayTM.prototype.toObject = function(e) {
return proto.WithdrawPayTM.toObject(e, this);
};
proto.WithdrawPayTM.toObject = function(e, t) {
var i = {
payeemobile: o.Message.getFieldWithDefault(t, 2, ""),
payeeemail: o.Message.getFieldWithDefault(t, 3, "")
};
e && (i.$jspbMessageInstance = t);
return i;
};
}
proto.WithdrawPayTM.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.WithdrawPayTM();
return proto.WithdrawPayTM.deserializeBinaryFromReader(i, t);
};
proto.WithdrawPayTM.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 2:
var i = t.readString();
e.setPayeemobile(i);
break;

case 3:
i = t.readString();
e.setPayeeemail(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.WithdrawPayTM.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.WithdrawPayTM.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.WithdrawPayTM.serializeBinaryToWriter = function(e, t) {
var i = void 0;
(i = e.getPayeemobile()).length > 0 && t.writeString(2, i);
(i = e.getPayeeemail()).length > 0 && t.writeString(3, i);
};
proto.WithdrawPayTM.prototype.getPayeemobile = function() {
return o.Message.getFieldWithDefault(this, 2, "");
};
proto.WithdrawPayTM.prototype.setPayeemobile = function(e) {
return o.Message.setProto3StringField(this, 2, e);
};
proto.WithdrawPayTM.prototype.getPayeeemail = function() {
return o.Message.getFieldWithDefault(this, 3, "");
};
proto.WithdrawPayTM.prototype.setPayeeemail = function(e) {
return o.Message.setProto3StringField(this, 3, e);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.WithdrawDebitCard.prototype.toObject = function(e) {
return proto.WithdrawDebitCard.toObject(e, this);
};
proto.WithdrawDebitCard.toObject = function(e, t) {
var i = {
accountnumber: o.Message.getFieldWithDefault(t, 1, ""),
accountholdername: o.Message.getFieldWithDefault(t, 2, ""),
bankcode: o.Message.getFieldWithDefault(t, 3, ""),
payeeemail: o.Message.getFieldWithDefault(t, 4, ""),
payeemobile: o.Message.getFieldWithDefault(t, 5, ""),
bankcodeno: o.Message.getFieldWithDefault(t, 6, ""),
ifsccode: o.Message.getFieldWithDefault(t, 7, "")
};
e && (i.$jspbMessageInstance = t);
return i;
};
}
proto.WithdrawDebitCard.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.WithdrawDebitCard();
return proto.WithdrawDebitCard.deserializeBinaryFromReader(i, t);
};
proto.WithdrawDebitCard.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = t.readString();
e.setAccountnumber(i);
break;

case 2:
i = t.readString();
e.setAccountholdername(i);
break;

case 3:
i = t.readString();
e.setBankcode(i);
break;

case 4:
i = t.readString();
e.setPayeeemail(i);
break;

case 5:
i = t.readString();
e.setPayeemobile(i);
break;

case 6:
i = t.readString();
e.setBankcodeno(i);
break;

case 7:
i = t.readString();
e.setIfsccode(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.WithdrawDebitCard.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.WithdrawDebitCard.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.WithdrawDebitCard.serializeBinaryToWriter = function(e, t) {
var i = void 0;
(i = e.getAccountnumber()).length > 0 && t.writeString(1, i);
(i = e.getAccountholdername()).length > 0 && t.writeString(2, i);
(i = e.getBankcode()).length > 0 && t.writeString(3, i);
(i = e.getPayeeemail()).length > 0 && t.writeString(4, i);
(i = e.getPayeemobile()).length > 0 && t.writeString(5, i);
(i = e.getBankcodeno()).length > 0 && t.writeString(6, i);
(i = e.getIfsccode()).length > 0 && t.writeString(7, i);
};
proto.WithdrawDebitCard.prototype.getAccountnumber = function() {
return o.Message.getFieldWithDefault(this, 1, "");
};
proto.WithdrawDebitCard.prototype.setAccountnumber = function(e) {
return o.Message.setProto3StringField(this, 1, e);
};
proto.WithdrawDebitCard.prototype.getAccountholdername = function() {
return o.Message.getFieldWithDefault(this, 2, "");
};
proto.WithdrawDebitCard.prototype.setAccountholdername = function(e) {
return o.Message.setProto3StringField(this, 2, e);
};
proto.WithdrawDebitCard.prototype.getBankcode = function() {
return o.Message.getFieldWithDefault(this, 3, "");
};
proto.WithdrawDebitCard.prototype.setBankcode = function(e) {
return o.Message.setProto3StringField(this, 3, e);
};
proto.WithdrawDebitCard.prototype.getPayeeemail = function() {
return o.Message.getFieldWithDefault(this, 4, "");
};
proto.WithdrawDebitCard.prototype.setPayeeemail = function(e) {
return o.Message.setProto3StringField(this, 4, e);
};
proto.WithdrawDebitCard.prototype.getPayeemobile = function() {
return o.Message.getFieldWithDefault(this, 5, "");
};
proto.WithdrawDebitCard.prototype.setPayeemobile = function(e) {
return o.Message.setProto3StringField(this, 5, e);
};
proto.WithdrawDebitCard.prototype.getBankcodeno = function() {
return o.Message.getFieldWithDefault(this, 6, "");
};
proto.WithdrawDebitCard.prototype.setBankcodeno = function(e) {
return o.Message.setProto3StringField(this, 6, e);
};
proto.WithdrawDebitCard.prototype.getIfsccode = function() {
return o.Message.getFieldWithDefault(this, 7, "");
};
proto.WithdrawDebitCard.prototype.setIfsccode = function(e) {
return o.Message.setProto3StringField(this, 7, e);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.WithdrawApplyReq.prototype.toObject = function(e) {
return proto.WithdrawApplyReq.toObject(e, this);
};
proto.WithdrawApplyReq.toObject = function(e, t) {
var i, n = {
header: (i = t.getHeader()) && proto.ReqHeader.toObject(e, i),
amount: o.Message.getFieldWithDefault(t, 2, 0),
paytype: o.Message.getFieldWithDefault(t, 3, 0),
paychannel: o.Message.getFieldWithDefault(t, 4, 0)
};
e && (n.$jspbMessageInstance = t);
return n;
};
}
proto.WithdrawApplyReq.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.WithdrawApplyReq();
return proto.WithdrawApplyReq.deserializeBinaryFromReader(i, t);
};
proto.WithdrawApplyReq.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = new proto.ReqHeader();
t.readMessage(i, proto.ReqHeader.deserializeBinaryFromReader);
e.setHeader(i);
break;

case 2:
i = t.readInt64();
e.setAmount(i);
break;

case 3:
i = t.readInt32();
e.setPaytype(i);
break;

case 4:
i = t.readInt32();
e.setPaychannel(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.WithdrawApplyReq.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.WithdrawApplyReq.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.WithdrawApplyReq.serializeBinaryToWriter = function(e, t) {
var i = void 0;
null != (i = e.getHeader()) && t.writeMessage(1, i, proto.ReqHeader.serializeBinaryToWriter);
0 !== (i = e.getAmount()) && t.writeInt64(2, i);
0 !== (i = e.getPaytype()) && t.writeInt32(3, i);
0 !== (i = e.getPaychannel()) && t.writeInt32(4, i);
};
proto.WithdrawApplyReq.prototype.getHeader = function() {
return o.Message.getWrapperField(this, proto.ReqHeader, 1);
};
proto.WithdrawApplyReq.prototype.setHeader = function(e) {
return o.Message.setWrapperField(this, 1, e);
};
proto.WithdrawApplyReq.prototype.clearHeader = function() {
return this.setHeader(void 0);
};
proto.WithdrawApplyReq.prototype.hasHeader = function() {
return null != o.Message.getField(this, 1);
};
proto.WithdrawApplyReq.prototype.getAmount = function() {
return o.Message.getFieldWithDefault(this, 2, 0);
};
proto.WithdrawApplyReq.prototype.setAmount = function(e) {
return o.Message.setProto3IntField(this, 2, e);
};
proto.WithdrawApplyReq.prototype.getPaytype = function() {
return o.Message.getFieldWithDefault(this, 3, 0);
};
proto.WithdrawApplyReq.prototype.setPaytype = function(e) {
return o.Message.setProto3IntField(this, 3, e);
};
proto.WithdrawApplyReq.prototype.getPaychannel = function() {
return o.Message.getFieldWithDefault(this, 4, 0);
};
proto.WithdrawApplyReq.prototype.setPaychannel = function(e) {
return o.Message.setProto3IntField(this, 4, e);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.WithdrawApplyResp.prototype.toObject = function(e) {
return proto.WithdrawApplyResp.toObject(e, this);
};
proto.WithdrawApplyResp.toObject = function(e, t) {
var i, n = {
header: (i = t.getHeader()) && proto.RespHeader.toObject(e, i),
commison: o.Message.getFieldWithDefault(t, 2, 0),
balance: o.Message.getFieldWithDefault(t, 3, 0)
};
e && (n.$jspbMessageInstance = t);
return n;
};
}
proto.WithdrawApplyResp.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.WithdrawApplyResp();
return proto.WithdrawApplyResp.deserializeBinaryFromReader(i, t);
};
proto.WithdrawApplyResp.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = new proto.RespHeader();
t.readMessage(i, proto.RespHeader.deserializeBinaryFromReader);
e.setHeader(i);
break;

case 2:
i = t.readInt32();
e.setCommison(i);
break;

case 3:
i = t.readInt32();
e.setBalance(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.WithdrawApplyResp.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.WithdrawApplyResp.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.WithdrawApplyResp.serializeBinaryToWriter = function(e, t) {
var i = void 0;
null != (i = e.getHeader()) && t.writeMessage(1, i, proto.RespHeader.serializeBinaryToWriter);
0 !== (i = e.getCommison()) && t.writeInt32(2, i);
0 !== (i = e.getBalance()) && t.writeInt32(3, i);
};
proto.WithdrawApplyResp.prototype.getHeader = function() {
return o.Message.getWrapperField(this, proto.RespHeader, 1);
};
proto.WithdrawApplyResp.prototype.setHeader = function(e) {
return o.Message.setWrapperField(this, 1, e);
};
proto.WithdrawApplyResp.prototype.clearHeader = function() {
return this.setHeader(void 0);
};
proto.WithdrawApplyResp.prototype.hasHeader = function() {
return null != o.Message.getField(this, 1);
};
proto.WithdrawApplyResp.prototype.getCommison = function() {
return o.Message.getFieldWithDefault(this, 2, 0);
};
proto.WithdrawApplyResp.prototype.setCommison = function(e) {
return o.Message.setProto3IntField(this, 2, e);
};
proto.WithdrawApplyResp.prototype.getBalance = function() {
return o.Message.getFieldWithDefault(this, 3, 0);
};
proto.WithdrawApplyResp.prototype.setBalance = function(e) {
return o.Message.setProto3IntField(this, 3, e);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.WithdrawRecordReq.prototype.toObject = function(e) {
return proto.WithdrawRecordReq.toObject(e, this);
};
proto.WithdrawRecordReq.toObject = function(e, t) {
var i, n = {
header: (i = t.getHeader()) && proto.ReqHeader.toObject(e, i),
page: o.Message.getFieldWithDefault(t, 2, 0),
size: o.Message.getFieldWithDefault(t, 3, 0)
};
e && (n.$jspbMessageInstance = t);
return n;
};
}
proto.WithdrawRecordReq.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.WithdrawRecordReq();
return proto.WithdrawRecordReq.deserializeBinaryFromReader(i, t);
};
proto.WithdrawRecordReq.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = new proto.ReqHeader();
t.readMessage(i, proto.ReqHeader.deserializeBinaryFromReader);
e.setHeader(i);
break;

case 2:
i = t.readInt32();
e.setPage(i);
break;

case 3:
i = t.readInt32();
e.setSize(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.WithdrawRecordReq.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.WithdrawRecordReq.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.WithdrawRecordReq.serializeBinaryToWriter = function(e, t) {
var i = void 0;
null != (i = e.getHeader()) && t.writeMessage(1, i, proto.ReqHeader.serializeBinaryToWriter);
0 !== (i = e.getPage()) && t.writeInt32(2, i);
0 !== (i = e.getSize()) && t.writeInt32(3, i);
};
proto.WithdrawRecordReq.prototype.getHeader = function() {
return o.Message.getWrapperField(this, proto.ReqHeader, 1);
};
proto.WithdrawRecordReq.prototype.setHeader = function(e) {
return o.Message.setWrapperField(this, 1, e);
};
proto.WithdrawRecordReq.prototype.clearHeader = function() {
return this.setHeader(void 0);
};
proto.WithdrawRecordReq.prototype.hasHeader = function() {
return null != o.Message.getField(this, 1);
};
proto.WithdrawRecordReq.prototype.getPage = function() {
return o.Message.getFieldWithDefault(this, 2, 0);
};
proto.WithdrawRecordReq.prototype.setPage = function(e) {
return o.Message.setProto3IntField(this, 2, e);
};
proto.WithdrawRecordReq.prototype.getSize = function() {
return o.Message.getFieldWithDefault(this, 3, 0);
};
proto.WithdrawRecordReq.prototype.setSize = function(e) {
return o.Message.setProto3IntField(this, 3, e);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.WithdrawRecordItem.prototype.toObject = function(e) {
return proto.WithdrawRecordItem.toObject(e, this);
};
proto.WithdrawRecordItem.toObject = function(e, t) {
var i = {
gold: o.Message.getFieldWithDefault(t, 1, 0),
beforewithdraw: o.Message.getFieldWithDefault(t, 2, 0),
afterwithdraw: o.Message.getFieldWithDefault(t, 3, 0),
status: o.Message.getFieldWithDefault(t, 4, 0),
createat: o.Message.getFieldWithDefault(t, 5, 0),
commison: o.Message.getFieldWithDefault(t, 6, 0)
};
e && (i.$jspbMessageInstance = t);
return i;
};
}
proto.WithdrawRecordItem.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.WithdrawRecordItem();
return proto.WithdrawRecordItem.deserializeBinaryFromReader(i, t);
};
proto.WithdrawRecordItem.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = t.readInt64();
e.setGold(i);
break;

case 2:
i = t.readInt64();
e.setBeforewithdraw(i);
break;

case 3:
i = t.readInt64();
e.setAfterwithdraw(i);
break;

case 4:
i = t.readEnum();
e.setStatus(i);
break;

case 5:
i = t.readInt64();
e.setCreateat(i);
break;

case 6:
i = t.readInt32();
e.setCommison(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.WithdrawRecordItem.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.WithdrawRecordItem.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.WithdrawRecordItem.serializeBinaryToWriter = function(e, t) {
var i = void 0;
0 !== (i = e.getGold()) && t.writeInt64(1, i);
0 !== (i = e.getBeforewithdraw()) && t.writeInt64(2, i);
0 !== (i = e.getAfterwithdraw()) && t.writeInt64(3, i);
0 !== (i = e.getStatus()) && t.writeEnum(4, i);
0 !== (i = e.getCreateat()) && t.writeInt64(5, i);
0 !== (i = e.getCommison()) && t.writeInt32(6, i);
};
proto.WithdrawRecordItem.prototype.getGold = function() {
return o.Message.getFieldWithDefault(this, 1, 0);
};
proto.WithdrawRecordItem.prototype.setGold = function(e) {
return o.Message.setProto3IntField(this, 1, e);
};
proto.WithdrawRecordItem.prototype.getBeforewithdraw = function() {
return o.Message.getFieldWithDefault(this, 2, 0);
};
proto.WithdrawRecordItem.prototype.setBeforewithdraw = function(e) {
return o.Message.setProto3IntField(this, 2, e);
};
proto.WithdrawRecordItem.prototype.getAfterwithdraw = function() {
return o.Message.getFieldWithDefault(this, 3, 0);
};
proto.WithdrawRecordItem.prototype.setAfterwithdraw = function(e) {
return o.Message.setProto3IntField(this, 3, e);
};
proto.WithdrawRecordItem.prototype.getStatus = function() {
return o.Message.getFieldWithDefault(this, 4, 0);
};
proto.WithdrawRecordItem.prototype.setStatus = function(e) {
return o.Message.setProto3EnumField(this, 4, e);
};
proto.WithdrawRecordItem.prototype.getCreateat = function() {
return o.Message.getFieldWithDefault(this, 5, 0);
};
proto.WithdrawRecordItem.prototype.setCreateat = function(e) {
return o.Message.setProto3IntField(this, 5, e);
};
proto.WithdrawRecordItem.prototype.getCommison = function() {
return o.Message.getFieldWithDefault(this, 6, 0);
};
proto.WithdrawRecordItem.prototype.setCommison = function(e) {
return o.Message.setProto3IntField(this, 6, e);
};
proto.WithdrawRecordResp.repeatedFields_ = [ 4 ];
if (o.Message.GENERATE_TO_OBJECT) {
proto.WithdrawRecordResp.prototype.toObject = function(e) {
return proto.WithdrawRecordResp.toObject(e, this);
};
proto.WithdrawRecordResp.toObject = function(e, t) {
var i, n = {
header: (i = t.getHeader()) && proto.RespHeader.toObject(e, i),
totalcount: o.Message.getFieldWithDefault(t, 2, 0),
pagecount: o.Message.getFieldWithDefault(t, 3, 0),
withdrawitemsList: o.Message.toObjectList(t.getWithdrawitemsList(), proto.WithdrawRecordItem.toObject, e)
};
e && (n.$jspbMessageInstance = t);
return n;
};
}
proto.WithdrawRecordResp.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.WithdrawRecordResp();
return proto.WithdrawRecordResp.deserializeBinaryFromReader(i, t);
};
proto.WithdrawRecordResp.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = new proto.RespHeader();
t.readMessage(i, proto.RespHeader.deserializeBinaryFromReader);
e.setHeader(i);
break;

case 2:
i = t.readInt32();
e.setTotalcount(i);
break;

case 3:
i = t.readInt32();
e.setPagecount(i);
break;

case 4:
i = new proto.WithdrawRecordItem();
t.readMessage(i, proto.WithdrawRecordItem.deserializeBinaryFromReader);
e.addWithdrawitems(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.WithdrawRecordResp.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.WithdrawRecordResp.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.WithdrawRecordResp.serializeBinaryToWriter = function(e, t) {
var i = void 0;
null != (i = e.getHeader()) && t.writeMessage(1, i, proto.RespHeader.serializeBinaryToWriter);
0 !== (i = e.getTotalcount()) && t.writeInt32(2, i);
0 !== (i = e.getPagecount()) && t.writeInt32(3, i);
(i = e.getWithdrawitemsList()).length > 0 && t.writeRepeatedMessage(4, i, proto.WithdrawRecordItem.serializeBinaryToWriter);
};
proto.WithdrawRecordResp.prototype.getHeader = function() {
return o.Message.getWrapperField(this, proto.RespHeader, 1);
};
proto.WithdrawRecordResp.prototype.setHeader = function(e) {
return o.Message.setWrapperField(this, 1, e);
};
proto.WithdrawRecordResp.prototype.clearHeader = function() {
return this.setHeader(void 0);
};
proto.WithdrawRecordResp.prototype.hasHeader = function() {
return null != o.Message.getField(this, 1);
};
proto.WithdrawRecordResp.prototype.getTotalcount = function() {
return o.Message.getFieldWithDefault(this, 2, 0);
};
proto.WithdrawRecordResp.prototype.setTotalcount = function(e) {
return o.Message.setProto3IntField(this, 2, e);
};
proto.WithdrawRecordResp.prototype.getPagecount = function() {
return o.Message.getFieldWithDefault(this, 3, 0);
};
proto.WithdrawRecordResp.prototype.setPagecount = function(e) {
return o.Message.setProto3IntField(this, 3, e);
};
proto.WithdrawRecordResp.prototype.getWithdrawitemsList = function() {
return o.Message.getRepeatedWrapperField(this, proto.WithdrawRecordItem, 4);
};
proto.WithdrawRecordResp.prototype.setWithdrawitemsList = function(e) {
return o.Message.setRepeatedWrapperField(this, 4, e);
};
proto.WithdrawRecordResp.prototype.addWithdrawitems = function(e, t) {
return o.Message.addToRepeatedWrapperField(this, 4, e, proto.WithdrawRecordItem, t);
};
proto.WithdrawRecordResp.prototype.clearWithdrawitemsList = function() {
return this.setWithdrawitemsList([]);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.SettingsReq.prototype.toObject = function(e) {
return proto.SettingsReq.toObject(e, this);
};
proto.SettingsReq.toObject = function(e, t) {
var i, n = {
header: (i = t.getHeader()) && proto.ReqHeader.toObject(e, i),
version: o.Message.getFieldWithDefault(t, 2, 0),
gv: o.Message.getFieldWithDefault(t, 3, "")
};
e && (n.$jspbMessageInstance = t);
return n;
};
}
proto.SettingsReq.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.SettingsReq();
return proto.SettingsReq.deserializeBinaryFromReader(i, t);
};
proto.SettingsReq.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = new proto.ReqHeader();
t.readMessage(i, proto.ReqHeader.deserializeBinaryFromReader);
e.setHeader(i);
break;

case 2:
i = t.readInt32();
e.setVersion(i);
break;

case 3:
i = t.readString();
e.setGv(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.SettingsReq.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.SettingsReq.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.SettingsReq.serializeBinaryToWriter = function(e, t) {
var i = void 0;
null != (i = e.getHeader()) && t.writeMessage(1, i, proto.ReqHeader.serializeBinaryToWriter);
0 !== (i = e.getVersion()) && t.writeInt32(2, i);
(i = e.getGv()).length > 0 && t.writeString(3, i);
};
proto.SettingsReq.prototype.getHeader = function() {
return o.Message.getWrapperField(this, proto.ReqHeader, 1);
};
proto.SettingsReq.prototype.setHeader = function(e) {
return o.Message.setWrapperField(this, 1, e);
};
proto.SettingsReq.prototype.clearHeader = function() {
return this.setHeader(void 0);
};
proto.SettingsReq.prototype.hasHeader = function() {
return null != o.Message.getField(this, 1);
};
proto.SettingsReq.prototype.getVersion = function() {
return o.Message.getFieldWithDefault(this, 2, 0);
};
proto.SettingsReq.prototype.setVersion = function(e) {
return o.Message.setProto3IntField(this, 2, e);
};
proto.SettingsReq.prototype.getGv = function() {
return o.Message.getFieldWithDefault(this, 3, "");
};
proto.SettingsReq.prototype.setGv = function(e) {
return o.Message.setProto3StringField(this, 3, e);
};
proto.SettingsResp.repeatedFields_ = [ 4, 11 ];
if (o.Message.GENERATE_TO_OBJECT) {
proto.SettingsResp.prototype.toObject = function(e) {
return proto.SettingsResp.toObject(e, this);
};
proto.SettingsResp.toObject = function(e, t) {
var i, n = {
header: (i = t.getHeader()) && proto.RespHeader.toObject(e, i),
payConfig: (i = t.getPayConfig()) && proto.SettingsResp.PayConf.toObject(e, i),
loading: o.Message.getFieldWithDefault(t, 3, ""),
kgsList: o.Message.toObjectList(t.getKgsList(), proto.SettingsResp.Kg.toObject, e),
withdrawGuide: o.Message.getBooleanFieldWithDefault(t, 5, !1),
forceGuide: o.Message.getFieldWithDefault(t, 6, ""),
safeBoxCd: o.Message.getFieldWithDefault(t, 7, 0),
layout: (i = t.getLayout()) && proto.SettingsResp.ViewLayout.toObject(e, i),
customerInfo: (i = t.getCustomerInfo()) && proto.SettingsResp.CustomerInfo.toObject(e, i),
homepage: o.Message.getFieldWithDefault(t, 10, ""),
freshGuideList: null == (i = o.Message.getRepeatedField(t, 11)) ? void 0 : i,
appMode: o.Message.getFieldWithDefault(t, 12, 0)
};
e && (n.$jspbMessageInstance = t);
return n;
};
}
proto.SettingsResp.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.SettingsResp();
return proto.SettingsResp.deserializeBinaryFromReader(i, t);
};
proto.SettingsResp.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = new proto.RespHeader();
t.readMessage(i, proto.RespHeader.deserializeBinaryFromReader);
e.setHeader(i);
break;

case 2:
i = new proto.SettingsResp.PayConf();
t.readMessage(i, proto.SettingsResp.PayConf.deserializeBinaryFromReader);
e.setPayConfig(i);
break;

case 3:
i = t.readString();
e.setLoading(i);
break;

case 4:
i = new proto.SettingsResp.Kg();
t.readMessage(i, proto.SettingsResp.Kg.deserializeBinaryFromReader);
e.addKgs(i);
break;

case 5:
i = t.readBool();
e.setWithdrawGuide(i);
break;

case 6:
i = t.readString();
e.setForceGuide(i);
break;

case 7:
i = t.readInt32();
e.setSafeBoxCd(i);
break;

case 8:
i = new proto.SettingsResp.ViewLayout();
t.readMessage(i, proto.SettingsResp.ViewLayout.deserializeBinaryFromReader);
e.setLayout(i);
break;

case 9:
i = new proto.SettingsResp.CustomerInfo();
t.readMessage(i, proto.SettingsResp.CustomerInfo.deserializeBinaryFromReader);
e.setCustomerInfo(i);
break;

case 10:
i = t.readString();
e.setHomepage(i);
break;

case 11:
i = t.readString();
e.addFreshGuide(i);
break;

case 12:
i = t.readInt32();
e.setAppMode(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.SettingsResp.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.SettingsResp.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.SettingsResp.serializeBinaryToWriter = function(e, t) {
var i = void 0;
null != (i = e.getHeader()) && t.writeMessage(1, i, proto.RespHeader.serializeBinaryToWriter);
null != (i = e.getPayConfig()) && t.writeMessage(2, i, proto.SettingsResp.PayConf.serializeBinaryToWriter);
(i = e.getLoading()).length > 0 && t.writeString(3, i);
(i = e.getKgsList()).length > 0 && t.writeRepeatedMessage(4, i, proto.SettingsResp.Kg.serializeBinaryToWriter);
(i = e.getWithdrawGuide()) && t.writeBool(5, i);
(i = e.getForceGuide()).length > 0 && t.writeString(6, i);
0 !== (i = e.getSafeBoxCd()) && t.writeInt32(7, i);
null != (i = e.getLayout()) && t.writeMessage(8, i, proto.SettingsResp.ViewLayout.serializeBinaryToWriter);
null != (i = e.getCustomerInfo()) && t.writeMessage(9, i, proto.SettingsResp.CustomerInfo.serializeBinaryToWriter);
(i = e.getHomepage()).length > 0 && t.writeString(10, i);
(i = e.getFreshGuideList()).length > 0 && t.writeRepeatedString(11, i);
0 !== (i = e.getAppMode()) && t.writeInt32(12, i);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.SettingsResp.PayConf.prototype.toObject = function(e) {
return proto.SettingsResp.PayConf.toObject(e, this);
};
proto.SettingsResp.PayConf.toObject = function(e, t) {
var i = {
appealLink: o.Message.getFieldWithDefault(t, 1, "")
};
e && (i.$jspbMessageInstance = t);
return i;
};
}
proto.SettingsResp.PayConf.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.SettingsResp.PayConf();
return proto.SettingsResp.PayConf.deserializeBinaryFromReader(i, t);
};
proto.SettingsResp.PayConf.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = t.readString();
e.setAppealLink(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.SettingsResp.PayConf.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.SettingsResp.PayConf.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.SettingsResp.PayConf.serializeBinaryToWriter = function(e, t) {
var i;
(i = e.getAppealLink()).length > 0 && t.writeString(1, i);
};
proto.SettingsResp.PayConf.prototype.getAppealLink = function() {
return o.Message.getFieldWithDefault(this, 1, "");
};
proto.SettingsResp.PayConf.prototype.setAppealLink = function(e) {
return o.Message.setProto3StringField(this, 1, e);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.SettingsResp.Kg.prototype.toObject = function(e) {
return proto.SettingsResp.Kg.toObject(e, this);
};
proto.SettingsResp.Kg.toObject = function(e, t) {
var i = {
status: o.Message.getBooleanFieldWithDefault(t, 1, !1),
name: o.Message.getFieldWithDefault(t, 2, "")
};
e && (i.$jspbMessageInstance = t);
return i;
};
}
proto.SettingsResp.Kg.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.SettingsResp.Kg();
return proto.SettingsResp.Kg.deserializeBinaryFromReader(i, t);
};
proto.SettingsResp.Kg.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = t.readBool();
e.setStatus(i);
break;

case 2:
i = t.readString();
e.setName(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.SettingsResp.Kg.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.SettingsResp.Kg.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.SettingsResp.Kg.serializeBinaryToWriter = function(e, t) {
var i = void 0;
(i = e.getStatus()) && t.writeBool(1, i);
(i = e.getName()).length > 0 && t.writeString(2, i);
};
proto.SettingsResp.Kg.prototype.getStatus = function() {
return o.Message.getBooleanFieldWithDefault(this, 1, !1);
};
proto.SettingsResp.Kg.prototype.setStatus = function(e) {
return o.Message.setProto3BooleanField(this, 1, e);
};
proto.SettingsResp.Kg.prototype.getName = function() {
return o.Message.getFieldWithDefault(this, 2, "");
};
proto.SettingsResp.Kg.prototype.setName = function(e) {
return o.Message.setProto3StringField(this, 2, e);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.SettingsResp.GameSetting.prototype.toObject = function(e) {
return proto.SettingsResp.GameSetting.toObject(e, this);
};
proto.SettingsResp.GameSetting.toObject = function(e, t) {
var i = {
name: o.Message.getFieldWithDefault(t, 1, ""),
tag: o.Message.getFieldWithDefault(t, 2, ""),
tagHot: o.Message.getFieldWithDefault(t, 3, ""),
tagEvent: o.Message.getFieldWithDefault(t, 4, ""),
tagNew: o.Message.getFieldWithDefault(t, 5, ""),
tagEarth: o.Message.getFieldWithDefault(t, 6, ""),
icon: o.Message.getFieldWithDefault(t, 7, "")
};
e && (i.$jspbMessageInstance = t);
return i;
};
}
proto.SettingsResp.GameSetting.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.SettingsResp.GameSetting();
return proto.SettingsResp.GameSetting.deserializeBinaryFromReader(i, t);
};
proto.SettingsResp.GameSetting.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = t.readString();
e.setName(i);
break;

case 2:
i = t.readString();
e.setTag(i);
break;

case 3:
i = t.readString();
e.setTagHot(i);
break;

case 4:
i = t.readString();
e.setTagEvent(i);
break;

case 5:
i = t.readString();
e.setTagNew(i);
break;

case 6:
i = t.readString();
e.setTagEarth(i);
break;

case 7:
i = t.readString();
e.setIcon(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.SettingsResp.GameSetting.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.SettingsResp.GameSetting.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.SettingsResp.GameSetting.serializeBinaryToWriter = function(e, t) {
var i = void 0;
(i = e.getName()).length > 0 && t.writeString(1, i);
(i = e.getTag()).length > 0 && t.writeString(2, i);
(i = e.getTagHot()).length > 0 && t.writeString(3, i);
(i = e.getTagEvent()).length > 0 && t.writeString(4, i);
(i = e.getTagNew()).length > 0 && t.writeString(5, i);
(i = e.getTagEarth()).length > 0 && t.writeString(6, i);
(i = e.getIcon()).length > 0 && t.writeString(7, i);
};
proto.SettingsResp.GameSetting.prototype.getName = function() {
return o.Message.getFieldWithDefault(this, 1, "");
};
proto.SettingsResp.GameSetting.prototype.setName = function(e) {
return o.Message.setProto3StringField(this, 1, e);
};
proto.SettingsResp.GameSetting.prototype.getTag = function() {
return o.Message.getFieldWithDefault(this, 2, "");
};
proto.SettingsResp.GameSetting.prototype.setTag = function(e) {
return o.Message.setProto3StringField(this, 2, e);
};
proto.SettingsResp.GameSetting.prototype.getTagHot = function() {
return o.Message.getFieldWithDefault(this, 3, "");
};
proto.SettingsResp.GameSetting.prototype.setTagHot = function(e) {
return o.Message.setProto3StringField(this, 3, e);
};
proto.SettingsResp.GameSetting.prototype.getTagEvent = function() {
return o.Message.getFieldWithDefault(this, 4, "");
};
proto.SettingsResp.GameSetting.prototype.setTagEvent = function(e) {
return o.Message.setProto3StringField(this, 4, e);
};
proto.SettingsResp.GameSetting.prototype.getTagNew = function() {
return o.Message.getFieldWithDefault(this, 5, "");
};
proto.SettingsResp.GameSetting.prototype.setTagNew = function(e) {
return o.Message.setProto3StringField(this, 5, e);
};
proto.SettingsResp.GameSetting.prototype.getTagEarth = function() {
return o.Message.getFieldWithDefault(this, 6, "");
};
proto.SettingsResp.GameSetting.prototype.setTagEarth = function(e) {
return o.Message.setProto3StringField(this, 6, e);
};
proto.SettingsResp.GameSetting.prototype.getIcon = function() {
return o.Message.getFieldWithDefault(this, 7, "");
};
proto.SettingsResp.GameSetting.prototype.setIcon = function(e) {
return o.Message.setProto3StringField(this, 7, e);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.SettingsResp.BarItemSetting.prototype.toObject = function(e) {
return proto.SettingsResp.BarItemSetting.toObject(e, this);
};
proto.SettingsResp.BarItemSetting.toObject = function(e, t) {
var i = {
name: o.Message.getFieldWithDefault(t, 1, ""),
tag: o.Message.getFieldWithDefault(t, 2, ""),
tag1: o.Message.getFieldWithDefault(t, 3, ""),
tag2: o.Message.getFieldWithDefault(t, 4, ""),
icon: o.Message.getFieldWithDefault(t, 5, "")
};
e && (i.$jspbMessageInstance = t);
return i;
};
}
proto.SettingsResp.BarItemSetting.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.SettingsResp.BarItemSetting();
return proto.SettingsResp.BarItemSetting.deserializeBinaryFromReader(i, t);
};
proto.SettingsResp.BarItemSetting.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = t.readString();
e.setName(i);
break;

case 2:
i = t.readString();
e.setTag(i);
break;

case 3:
i = t.readString();
e.setTag1(i);
break;

case 4:
i = t.readString();
e.setTag2(i);
break;

case 5:
i = t.readString();
e.setIcon(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.SettingsResp.BarItemSetting.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.SettingsResp.BarItemSetting.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.SettingsResp.BarItemSetting.serializeBinaryToWriter = function(e, t) {
var i = void 0;
(i = e.getName()).length > 0 && t.writeString(1, i);
(i = e.getTag()).length > 0 && t.writeString(2, i);
(i = e.getTag1()).length > 0 && t.writeString(3, i);
(i = e.getTag2()).length > 0 && t.writeString(4, i);
(i = e.getIcon()).length > 0 && t.writeString(5, i);
};
proto.SettingsResp.BarItemSetting.prototype.getName = function() {
return o.Message.getFieldWithDefault(this, 1, "");
};
proto.SettingsResp.BarItemSetting.prototype.setName = function(e) {
return o.Message.setProto3StringField(this, 1, e);
};
proto.SettingsResp.BarItemSetting.prototype.getTag = function() {
return o.Message.getFieldWithDefault(this, 2, "");
};
proto.SettingsResp.BarItemSetting.prototype.setTag = function(e) {
return o.Message.setProto3StringField(this, 2, e);
};
proto.SettingsResp.BarItemSetting.prototype.getTag1 = function() {
return o.Message.getFieldWithDefault(this, 3, "");
};
proto.SettingsResp.BarItemSetting.prototype.setTag1 = function(e) {
return o.Message.setProto3StringField(this, 3, e);
};
proto.SettingsResp.BarItemSetting.prototype.getTag2 = function() {
return o.Message.getFieldWithDefault(this, 4, "");
};
proto.SettingsResp.BarItemSetting.prototype.setTag2 = function(e) {
return o.Message.setProto3StringField(this, 4, e);
};
proto.SettingsResp.BarItemSetting.prototype.getIcon = function() {
return o.Message.getFieldWithDefault(this, 5, "");
};
proto.SettingsResp.BarItemSetting.prototype.setIcon = function(e) {
return o.Message.setProto3StringField(this, 5, e);
};
proto.SettingsResp.ViewLayout.repeatedFields_ = [ 1, 2, 3 ];
if (o.Message.GENERATE_TO_OBJECT) {
proto.SettingsResp.ViewLayout.prototype.toObject = function(e) {
return proto.SettingsResp.ViewLayout.toObject(e, this);
};
proto.SettingsResp.ViewLayout.toObject = function(e, t) {
var i = {
gameListList: o.Message.toObjectList(t.getGameListList(), proto.SettingsResp.GameSetting.toObject, e),
topBarItemsList: o.Message.toObjectList(t.getTopBarItemsList(), proto.SettingsResp.BarItemSetting.toObject, e),
bottomBarItemsList: o.Message.toObjectList(t.getBottomBarItemsList(), proto.SettingsResp.BarItemSetting.toObject, e)
};
e && (i.$jspbMessageInstance = t);
return i;
};
}
proto.SettingsResp.ViewLayout.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.SettingsResp.ViewLayout();
return proto.SettingsResp.ViewLayout.deserializeBinaryFromReader(i, t);
};
proto.SettingsResp.ViewLayout.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = new proto.SettingsResp.GameSetting();
t.readMessage(i, proto.SettingsResp.GameSetting.deserializeBinaryFromReader);
e.addGameList(i);
break;

case 2:
i = new proto.SettingsResp.BarItemSetting();
t.readMessage(i, proto.SettingsResp.BarItemSetting.deserializeBinaryFromReader);
e.addTopBarItems(i);
break;

case 3:
i = new proto.SettingsResp.BarItemSetting();
t.readMessage(i, proto.SettingsResp.BarItemSetting.deserializeBinaryFromReader);
e.addBottomBarItems(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.SettingsResp.ViewLayout.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.SettingsResp.ViewLayout.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.SettingsResp.ViewLayout.serializeBinaryToWriter = function(e, t) {
var i = void 0;
(i = e.getGameListList()).length > 0 && t.writeRepeatedMessage(1, i, proto.SettingsResp.GameSetting.serializeBinaryToWriter);
(i = e.getTopBarItemsList()).length > 0 && t.writeRepeatedMessage(2, i, proto.SettingsResp.BarItemSetting.serializeBinaryToWriter);
(i = e.getBottomBarItemsList()).length > 0 && t.writeRepeatedMessage(3, i, proto.SettingsResp.BarItemSetting.serializeBinaryToWriter);
};
proto.SettingsResp.ViewLayout.prototype.getGameListList = function() {
return o.Message.getRepeatedWrapperField(this, proto.SettingsResp.GameSetting, 1);
};
proto.SettingsResp.ViewLayout.prototype.setGameListList = function(e) {
return o.Message.setRepeatedWrapperField(this, 1, e);
};
proto.SettingsResp.ViewLayout.prototype.addGameList = function(e, t) {
return o.Message.addToRepeatedWrapperField(this, 1, e, proto.SettingsResp.GameSetting, t);
};
proto.SettingsResp.ViewLayout.prototype.clearGameListList = function() {
return this.setGameListList([]);
};
proto.SettingsResp.ViewLayout.prototype.getTopBarItemsList = function() {
return o.Message.getRepeatedWrapperField(this, proto.SettingsResp.BarItemSetting, 2);
};
proto.SettingsResp.ViewLayout.prototype.setTopBarItemsList = function(e) {
return o.Message.setRepeatedWrapperField(this, 2, e);
};
proto.SettingsResp.ViewLayout.prototype.addTopBarItems = function(e, t) {
return o.Message.addToRepeatedWrapperField(this, 2, e, proto.SettingsResp.BarItemSetting, t);
};
proto.SettingsResp.ViewLayout.prototype.clearTopBarItemsList = function() {
return this.setTopBarItemsList([]);
};
proto.SettingsResp.ViewLayout.prototype.getBottomBarItemsList = function() {
return o.Message.getRepeatedWrapperField(this, proto.SettingsResp.BarItemSetting, 3);
};
proto.SettingsResp.ViewLayout.prototype.setBottomBarItemsList = function(e) {
return o.Message.setRepeatedWrapperField(this, 3, e);
};
proto.SettingsResp.ViewLayout.prototype.addBottomBarItems = function(e, t) {
return o.Message.addToRepeatedWrapperField(this, 3, e, proto.SettingsResp.BarItemSetting, t);
};
proto.SettingsResp.ViewLayout.prototype.clearBottomBarItemsList = function() {
return this.setBottomBarItemsList([]);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.SettingsResp.CustomerInfo.prototype.toObject = function(e) {
return proto.SettingsResp.CustomerInfo.toObject(e, this);
};
proto.SettingsResp.CustomerInfo.toObject = function(e, t) {
var i, n = {
payConfig: (i = t.getPayConfig()) && proto.SettingsResp.PayConf.toObject(e, i),
direction: o.Message.getFieldWithDefault(t, 2, 0),
maxLevel: o.Message.getFieldWithDefault(t, 3, 0),
withdrawUrl: o.Message.getFieldWithDefault(t, 4, ""),
customerUrl: o.Message.getFieldWithDefault(t, 5, ""),
browser: o.Message.getFieldWithDefault(t, 6, 0)
};
e && (n.$jspbMessageInstance = t);
return n;
};
}
proto.SettingsResp.CustomerInfo.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.SettingsResp.CustomerInfo();
return proto.SettingsResp.CustomerInfo.deserializeBinaryFromReader(i, t);
};
proto.SettingsResp.CustomerInfo.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = new proto.SettingsResp.PayConf();
t.readMessage(i, proto.SettingsResp.PayConf.deserializeBinaryFromReader);
e.setPayConfig(i);
break;

case 2:
i = t.readInt32();
e.setDirection(i);
break;

case 3:
i = t.readInt32();
e.setMaxLevel(i);
break;

case 4:
i = t.readString();
e.setWithdrawUrl(i);
break;

case 5:
i = t.readString();
e.setCustomerUrl(i);
break;

case 6:
i = t.readInt32();
e.setBrowser(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.SettingsResp.CustomerInfo.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.SettingsResp.CustomerInfo.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.SettingsResp.CustomerInfo.serializeBinaryToWriter = function(e, t) {
var i = void 0;
null != (i = e.getPayConfig()) && t.writeMessage(1, i, proto.SettingsResp.PayConf.serializeBinaryToWriter);
0 !== (i = e.getDirection()) && t.writeInt32(2, i);
0 !== (i = e.getMaxLevel()) && t.writeInt32(3, i);
(i = e.getWithdrawUrl()).length > 0 && t.writeString(4, i);
(i = e.getCustomerUrl()).length > 0 && t.writeString(5, i);
0 !== (i = e.getBrowser()) && t.writeInt32(6, i);
};
proto.SettingsResp.CustomerInfo.prototype.getPayConfig = function() {
return o.Message.getWrapperField(this, proto.SettingsResp.PayConf, 1);
};
proto.SettingsResp.CustomerInfo.prototype.setPayConfig = function(e) {
return o.Message.setWrapperField(this, 1, e);
};
proto.SettingsResp.CustomerInfo.prototype.clearPayConfig = function() {
return this.setPayConfig(void 0);
};
proto.SettingsResp.CustomerInfo.prototype.hasPayConfig = function() {
return null != o.Message.getField(this, 1);
};
proto.SettingsResp.CustomerInfo.prototype.getDirection = function() {
return o.Message.getFieldWithDefault(this, 2, 0);
};
proto.SettingsResp.CustomerInfo.prototype.setDirection = function(e) {
return o.Message.setProto3IntField(this, 2, e);
};
proto.SettingsResp.CustomerInfo.prototype.getMaxLevel = function() {
return o.Message.getFieldWithDefault(this, 3, 0);
};
proto.SettingsResp.CustomerInfo.prototype.setMaxLevel = function(e) {
return o.Message.setProto3IntField(this, 3, e);
};
proto.SettingsResp.CustomerInfo.prototype.getWithdrawUrl = function() {
return o.Message.getFieldWithDefault(this, 4, "");
};
proto.SettingsResp.CustomerInfo.prototype.setWithdrawUrl = function(e) {
return o.Message.setProto3StringField(this, 4, e);
};
proto.SettingsResp.CustomerInfo.prototype.getCustomerUrl = function() {
return o.Message.getFieldWithDefault(this, 5, "");
};
proto.SettingsResp.CustomerInfo.prototype.setCustomerUrl = function(e) {
return o.Message.setProto3StringField(this, 5, e);
};
proto.SettingsResp.CustomerInfo.prototype.getBrowser = function() {
return o.Message.getFieldWithDefault(this, 6, 0);
};
proto.SettingsResp.CustomerInfo.prototype.setBrowser = function(e) {
return o.Message.setProto3IntField(this, 6, e);
};
proto.SettingsResp.prototype.getHeader = function() {
return o.Message.getWrapperField(this, proto.RespHeader, 1);
};
proto.SettingsResp.prototype.setHeader = function(e) {
return o.Message.setWrapperField(this, 1, e);
};
proto.SettingsResp.prototype.clearHeader = function() {
return this.setHeader(void 0);
};
proto.SettingsResp.prototype.hasHeader = function() {
return null != o.Message.getField(this, 1);
};
proto.SettingsResp.prototype.getPayConfig = function() {
return o.Message.getWrapperField(this, proto.SettingsResp.PayConf, 2);
};
proto.SettingsResp.prototype.setPayConfig = function(e) {
return o.Message.setWrapperField(this, 2, e);
};
proto.SettingsResp.prototype.clearPayConfig = function() {
return this.setPayConfig(void 0);
};
proto.SettingsResp.prototype.hasPayConfig = function() {
return null != o.Message.getField(this, 2);
};
proto.SettingsResp.prototype.getLoading = function() {
return o.Message.getFieldWithDefault(this, 3, "");
};
proto.SettingsResp.prototype.setLoading = function(e) {
return o.Message.setProto3StringField(this, 3, e);
};
proto.SettingsResp.prototype.getKgsList = function() {
return o.Message.getRepeatedWrapperField(this, proto.SettingsResp.Kg, 4);
};
proto.SettingsResp.prototype.setKgsList = function(e) {
return o.Message.setRepeatedWrapperField(this, 4, e);
};
proto.SettingsResp.prototype.addKgs = function(e, t) {
return o.Message.addToRepeatedWrapperField(this, 4, e, proto.SettingsResp.Kg, t);
};
proto.SettingsResp.prototype.clearKgsList = function() {
return this.setKgsList([]);
};
proto.SettingsResp.prototype.getWithdrawGuide = function() {
return o.Message.getBooleanFieldWithDefault(this, 5, !1);
};
proto.SettingsResp.prototype.setWithdrawGuide = function(e) {
return o.Message.setProto3BooleanField(this, 5, e);
};
proto.SettingsResp.prototype.getForceGuide = function() {
return o.Message.getFieldWithDefault(this, 6, "");
};
proto.SettingsResp.prototype.setForceGuide = function(e) {
return o.Message.setProto3StringField(this, 6, e);
};
proto.SettingsResp.prototype.getSafeBoxCd = function() {
return o.Message.getFieldWithDefault(this, 7, 0);
};
proto.SettingsResp.prototype.setSafeBoxCd = function(e) {
return o.Message.setProto3IntField(this, 7, e);
};
proto.SettingsResp.prototype.getLayout = function() {
return o.Message.getWrapperField(this, proto.SettingsResp.ViewLayout, 8);
};
proto.SettingsResp.prototype.setLayout = function(e) {
return o.Message.setWrapperField(this, 8, e);
};
proto.SettingsResp.prototype.clearLayout = function() {
return this.setLayout(void 0);
};
proto.SettingsResp.prototype.hasLayout = function() {
return null != o.Message.getField(this, 8);
};
proto.SettingsResp.prototype.getCustomerInfo = function() {
return o.Message.getWrapperField(this, proto.SettingsResp.CustomerInfo, 9);
};
proto.SettingsResp.prototype.setCustomerInfo = function(e) {
return o.Message.setWrapperField(this, 9, e);
};
proto.SettingsResp.prototype.clearCustomerInfo = function() {
return this.setCustomerInfo(void 0);
};
proto.SettingsResp.prototype.hasCustomerInfo = function() {
return null != o.Message.getField(this, 9);
};
proto.SettingsResp.prototype.getHomepage = function() {
return o.Message.getFieldWithDefault(this, 10, "");
};
proto.SettingsResp.prototype.setHomepage = function(e) {
return o.Message.setProto3StringField(this, 10, e);
};
proto.SettingsResp.prototype.getFreshGuideList = function() {
return o.Message.getRepeatedField(this, 11);
};
proto.SettingsResp.prototype.setFreshGuideList = function(e) {
return o.Message.setField(this, 11, e || []);
};
proto.SettingsResp.prototype.addFreshGuide = function(e, t) {
return o.Message.addToRepeatedField(this, 11, e, t);
};
proto.SettingsResp.prototype.clearFreshGuideList = function() {
return this.setFreshGuideList([]);
};
proto.SettingsResp.prototype.getAppMode = function() {
return o.Message.getFieldWithDefault(this, 12, 0);
};
proto.SettingsResp.prototype.setAppMode = function(e) {
return o.Message.setProto3IntField(this, 12, e);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.CostumerServiceReq.prototype.toObject = function(e) {
return proto.CostumerServiceReq.toObject(e, this);
};
proto.CostumerServiceReq.toObject = function(e, t) {
var i, o = {
header: (i = t.getHeader()) && proto.ReqHeader.toObject(e, i)
};
e && (o.$jspbMessageInstance = t);
return o;
};
}
proto.CostumerServiceReq.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.CostumerServiceReq();
return proto.CostumerServiceReq.deserializeBinaryFromReader(i, t);
};
proto.CostumerServiceReq.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = new proto.ReqHeader();
t.readMessage(i, proto.ReqHeader.deserializeBinaryFromReader);
e.setHeader(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.CostumerServiceReq.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.CostumerServiceReq.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.CostumerServiceReq.serializeBinaryToWriter = function(e, t) {
var i;
null != (i = e.getHeader()) && t.writeMessage(1, i, proto.ReqHeader.serializeBinaryToWriter);
};
proto.CostumerServiceReq.prototype.getHeader = function() {
return o.Message.getWrapperField(this, proto.ReqHeader, 1);
};
proto.CostumerServiceReq.prototype.setHeader = function(e) {
return o.Message.setWrapperField(this, 1, e);
};
proto.CostumerServiceReq.prototype.clearHeader = function() {
return this.setHeader(void 0);
};
proto.CostumerServiceReq.prototype.hasHeader = function() {
return null != o.Message.getField(this, 1);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.Whatsapp.prototype.toObject = function(e) {
return proto.Whatsapp.toObject(e, this);
};
proto.Whatsapp.toObject = function(e, t) {
var i = {
phone: o.Message.getFieldWithDefault(t, 1, "")
};
e && (i.$jspbMessageInstance = t);
return i;
};
}
proto.Whatsapp.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.Whatsapp();
return proto.Whatsapp.deserializeBinaryFromReader(i, t);
};
proto.Whatsapp.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = t.readString();
e.setPhone(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.Whatsapp.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.Whatsapp.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.Whatsapp.serializeBinaryToWriter = function(e, t) {
var i;
(i = e.getPhone()).length > 0 && t.writeString(1, i);
};
proto.Whatsapp.prototype.getPhone = function() {
return o.Message.getFieldWithDefault(this, 1, "");
};
proto.Whatsapp.prototype.setPhone = function(e) {
return o.Message.setProto3StringField(this, 1, e);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.Email.prototype.toObject = function(e) {
return proto.Email.toObject(e, this);
};
proto.Email.toObject = function(e, t) {
var i = {
address: o.Message.getFieldWithDefault(t, 1, "")
};
e && (i.$jspbMessageInstance = t);
return i;
};
}
proto.Email.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.Email();
return proto.Email.deserializeBinaryFromReader(i, t);
};
proto.Email.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = t.readString();
e.setAddress(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.Email.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.Email.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.Email.serializeBinaryToWriter = function(e, t) {
var i;
(i = e.getAddress()).length > 0 && t.writeString(1, i);
};
proto.Email.prototype.getAddress = function() {
return o.Message.getFieldWithDefault(this, 1, "");
};
proto.Email.prototype.setAddress = function(e) {
return o.Message.setProto3StringField(this, 1, e);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.CostumerServiceResp.prototype.toObject = function(e) {
return proto.CostumerServiceResp.toObject(e, this);
};
proto.CostumerServiceResp.toObject = function(e, t) {
var i, o = {
header: (i = t.getHeader()) && proto.RespHeader.toObject(e, i),
whatsapp: (i = t.getWhatsapp()) && proto.Whatsapp.toObject(e, i),
email: (i = t.getEmail()) && proto.Email.toObject(e, i)
};
e && (o.$jspbMessageInstance = t);
return o;
};
}
proto.CostumerServiceResp.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.CostumerServiceResp();
return proto.CostumerServiceResp.deserializeBinaryFromReader(i, t);
};
proto.CostumerServiceResp.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = new proto.RespHeader();
t.readMessage(i, proto.RespHeader.deserializeBinaryFromReader);
e.setHeader(i);
break;

case 2:
i = new proto.Whatsapp();
t.readMessage(i, proto.Whatsapp.deserializeBinaryFromReader);
e.setWhatsapp(i);
break;

case 3:
i = new proto.Email();
t.readMessage(i, proto.Email.deserializeBinaryFromReader);
e.setEmail(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.CostumerServiceResp.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.CostumerServiceResp.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.CostumerServiceResp.serializeBinaryToWriter = function(e, t) {
var i = void 0;
null != (i = e.getHeader()) && t.writeMessage(1, i, proto.RespHeader.serializeBinaryToWriter);
null != (i = e.getWhatsapp()) && t.writeMessage(2, i, proto.Whatsapp.serializeBinaryToWriter);
null != (i = e.getEmail()) && t.writeMessage(3, i, proto.Email.serializeBinaryToWriter);
};
proto.CostumerServiceResp.prototype.getHeader = function() {
return o.Message.getWrapperField(this, proto.RespHeader, 1);
};
proto.CostumerServiceResp.prototype.setHeader = function(e) {
return o.Message.setWrapperField(this, 1, e);
};
proto.CostumerServiceResp.prototype.clearHeader = function() {
return this.setHeader(void 0);
};
proto.CostumerServiceResp.prototype.hasHeader = function() {
return null != o.Message.getField(this, 1);
};
proto.CostumerServiceResp.prototype.getWhatsapp = function() {
return o.Message.getWrapperField(this, proto.Whatsapp, 2);
};
proto.CostumerServiceResp.prototype.setWhatsapp = function(e) {
return o.Message.setWrapperField(this, 2, e);
};
proto.CostumerServiceResp.prototype.clearWhatsapp = function() {
return this.setWhatsapp(void 0);
};
proto.CostumerServiceResp.prototype.hasWhatsapp = function() {
return null != o.Message.getField(this, 2);
};
proto.CostumerServiceResp.prototype.getEmail = function() {
return o.Message.getWrapperField(this, proto.Email, 3);
};
proto.CostumerServiceResp.prototype.setEmail = function(e) {
return o.Message.setWrapperField(this, 3, e);
};
proto.CostumerServiceResp.prototype.clearEmail = function() {
return this.setEmail(void 0);
};
proto.CostumerServiceResp.prototype.hasEmail = function() {
return null != o.Message.getField(this, 3);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.NoticeReq.prototype.toObject = function(e) {
return proto.NoticeReq.toObject(e, this);
};
proto.NoticeReq.toObject = function(e, t) {
var i, n = {
header: (i = t.getHeader()) && proto.ReqHeader.toObject(e, i),
lastid: o.Message.getFieldWithDefault(t, 2, 0),
size: o.Message.getFieldWithDefault(t, 3, 0),
sort: o.Message.getFieldWithDefault(t, 4, 0)
};
e && (n.$jspbMessageInstance = t);
return n;
};
}
proto.NoticeReq.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.NoticeReq();
return proto.NoticeReq.deserializeBinaryFromReader(i, t);
};
proto.NoticeReq.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = new proto.ReqHeader();
t.readMessage(i, proto.ReqHeader.deserializeBinaryFromReader);
e.setHeader(i);
break;

case 2:
i = t.readInt32();
e.setLastid(i);
break;

case 3:
i = t.readInt32();
e.setSize(i);
break;

case 4:
i = t.readInt32();
e.setSort(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.NoticeReq.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.NoticeReq.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.NoticeReq.serializeBinaryToWriter = function(e, t) {
var i = void 0;
null != (i = e.getHeader()) && t.writeMessage(1, i, proto.ReqHeader.serializeBinaryToWriter);
0 !== (i = e.getLastid()) && t.writeInt32(2, i);
0 !== (i = e.getSize()) && t.writeInt32(3, i);
0 !== (i = e.getSort()) && t.writeInt32(4, i);
};
proto.NoticeReq.prototype.getHeader = function() {
return o.Message.getWrapperField(this, proto.ReqHeader, 1);
};
proto.NoticeReq.prototype.setHeader = function(e) {
return o.Message.setWrapperField(this, 1, e);
};
proto.NoticeReq.prototype.clearHeader = function() {
return this.setHeader(void 0);
};
proto.NoticeReq.prototype.hasHeader = function() {
return null != o.Message.getField(this, 1);
};
proto.NoticeReq.prototype.getLastid = function() {
return o.Message.getFieldWithDefault(this, 2, 0);
};
proto.NoticeReq.prototype.setLastid = function(e) {
return o.Message.setProto3IntField(this, 2, e);
};
proto.NoticeReq.prototype.getSize = function() {
return o.Message.getFieldWithDefault(this, 3, 0);
};
proto.NoticeReq.prototype.setSize = function(e) {
return o.Message.setProto3IntField(this, 3, e);
};
proto.NoticeReq.prototype.getSort = function() {
return o.Message.getFieldWithDefault(this, 4, 0);
};
proto.NoticeReq.prototype.setSort = function(e) {
return o.Message.setProto3IntField(this, 4, e);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.NoticeItem.prototype.toObject = function(e) {
return proto.NoticeItem.toObject(e, this);
};
proto.NoticeItem.toObject = function(e, t) {
var i = {
id: o.Message.getFieldWithDefault(t, 2, 0),
title: o.Message.getFieldWithDefault(t, 3, ""),
tag: o.Message.getFieldWithDefault(t, 4, ""),
content: o.Message.getFieldWithDefault(t, 5, ""),
contenttype: o.Message.getFieldWithDefault(t, 6, 0),
cmd: o.Message.getFieldWithDefault(t, 7, "")
};
e && (i.$jspbMessageInstance = t);
return i;
};
}
proto.NoticeItem.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.NoticeItem();
return proto.NoticeItem.deserializeBinaryFromReader(i, t);
};
proto.NoticeItem.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 2:
var i = t.readInt32();
e.setId(i);
break;

case 3:
i = t.readString();
e.setTitle(i);
break;

case 4:
i = t.readString();
e.setTag(i);
break;

case 5:
i = t.readString();
e.setContent(i);
break;

case 6:
i = t.readEnum();
e.setContenttype(i);
break;

case 7:
i = t.readString();
e.setCmd(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.NoticeItem.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.NoticeItem.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.NoticeItem.serializeBinaryToWriter = function(e, t) {
var i = void 0;
0 !== (i = e.getId()) && t.writeInt32(2, i);
(i = e.getTitle()).length > 0 && t.writeString(3, i);
(i = e.getTag()).length > 0 && t.writeString(4, i);
(i = e.getContent()).length > 0 && t.writeString(5, i);
0 !== (i = e.getContenttype()) && t.writeEnum(6, i);
(i = e.getCmd()).length > 0 && t.writeString(7, i);
};
proto.NoticeItem.ContentType = {
TEXT: 0,
IMAGE: 1
};
proto.NoticeItem.prototype.getId = function() {
return o.Message.getFieldWithDefault(this, 2, 0);
};
proto.NoticeItem.prototype.setId = function(e) {
return o.Message.setProto3IntField(this, 2, e);
};
proto.NoticeItem.prototype.getTitle = function() {
return o.Message.getFieldWithDefault(this, 3, "");
};
proto.NoticeItem.prototype.setTitle = function(e) {
return o.Message.setProto3StringField(this, 3, e);
};
proto.NoticeItem.prototype.getTag = function() {
return o.Message.getFieldWithDefault(this, 4, "");
};
proto.NoticeItem.prototype.setTag = function(e) {
return o.Message.setProto3StringField(this, 4, e);
};
proto.NoticeItem.prototype.getContent = function() {
return o.Message.getFieldWithDefault(this, 5, "");
};
proto.NoticeItem.prototype.setContent = function(e) {
return o.Message.setProto3StringField(this, 5, e);
};
proto.NoticeItem.prototype.getContenttype = function() {
return o.Message.getFieldWithDefault(this, 6, 0);
};
proto.NoticeItem.prototype.setContenttype = function(e) {
return o.Message.setProto3EnumField(this, 6, e);
};
proto.NoticeItem.prototype.getCmd = function() {
return o.Message.getFieldWithDefault(this, 7, "");
};
proto.NoticeItem.prototype.setCmd = function(e) {
return o.Message.setProto3StringField(this, 7, e);
};
proto.NoticeResp.repeatedFields_ = [ 2 ];
if (o.Message.GENERATE_TO_OBJECT) {
proto.NoticeResp.prototype.toObject = function(e) {
return proto.NoticeResp.toObject(e, this);
};
proto.NoticeResp.toObject = function(e, t) {
var i, n = {
header: (i = t.getHeader()) && proto.RespHeader.toObject(e, i),
noticeitemList: o.Message.toObjectList(t.getNoticeitemList(), proto.NoticeItem.toObject, e)
};
e && (n.$jspbMessageInstance = t);
return n;
};
}
proto.NoticeResp.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.NoticeResp();
return proto.NoticeResp.deserializeBinaryFromReader(i, t);
};
proto.NoticeResp.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = new proto.RespHeader();
t.readMessage(i, proto.RespHeader.deserializeBinaryFromReader);
e.setHeader(i);
break;

case 2:
i = new proto.NoticeItem();
t.readMessage(i, proto.NoticeItem.deserializeBinaryFromReader);
e.addNoticeitem(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.NoticeResp.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.NoticeResp.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.NoticeResp.serializeBinaryToWriter = function(e, t) {
var i = void 0;
null != (i = e.getHeader()) && t.writeMessage(1, i, proto.RespHeader.serializeBinaryToWriter);
(i = e.getNoticeitemList()).length > 0 && t.writeRepeatedMessage(2, i, proto.NoticeItem.serializeBinaryToWriter);
};
proto.NoticeResp.prototype.getHeader = function() {
return o.Message.getWrapperField(this, proto.RespHeader, 1);
};
proto.NoticeResp.prototype.setHeader = function(e) {
return o.Message.setWrapperField(this, 1, e);
};
proto.NoticeResp.prototype.clearHeader = function() {
return this.setHeader(void 0);
};
proto.NoticeResp.prototype.hasHeader = function() {
return null != o.Message.getField(this, 1);
};
proto.NoticeResp.prototype.getNoticeitemList = function() {
return o.Message.getRepeatedWrapperField(this, proto.NoticeItem, 2);
};
proto.NoticeResp.prototype.setNoticeitemList = function(e) {
return o.Message.setRepeatedWrapperField(this, 2, e);
};
proto.NoticeResp.prototype.addNoticeitem = function(e, t) {
return o.Message.addToRepeatedWrapperField(this, 2, e, proto.NoticeItem, t);
};
proto.NoticeResp.prototype.clearNoticeitemList = function() {
return this.setNoticeitemList([]);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.MailReq.prototype.toObject = function(e) {
return proto.MailReq.toObject(e, this);
};
proto.MailReq.toObject = function(e, t) {
var i, n = {
header: (i = t.getHeader()) && proto.ReqHeader.toObject(e, i),
lastid: o.Message.getFieldWithDefault(t, 2, 0),
size: o.Message.getFieldWithDefault(t, 3, 0),
sort: o.Message.getFieldWithDefault(t, 4, 0)
};
e && (n.$jspbMessageInstance = t);
return n;
};
}
proto.MailReq.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.MailReq();
return proto.MailReq.deserializeBinaryFromReader(i, t);
};
proto.MailReq.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = new proto.ReqHeader();
t.readMessage(i, proto.ReqHeader.deserializeBinaryFromReader);
e.setHeader(i);
break;

case 2:
i = t.readInt32();
e.setLastid(i);
break;

case 3:
i = t.readInt32();
e.setSize(i);
break;

case 4:
i = t.readInt32();
e.setSort(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.MailReq.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.MailReq.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.MailReq.serializeBinaryToWriter = function(e, t) {
var i = void 0;
null != (i = e.getHeader()) && t.writeMessage(1, i, proto.ReqHeader.serializeBinaryToWriter);
0 !== (i = e.getLastid()) && t.writeInt32(2, i);
0 !== (i = e.getSize()) && t.writeInt32(3, i);
0 !== (i = e.getSort()) && t.writeInt32(4, i);
};
proto.MailReq.prototype.getHeader = function() {
return o.Message.getWrapperField(this, proto.ReqHeader, 1);
};
proto.MailReq.prototype.setHeader = function(e) {
return o.Message.setWrapperField(this, 1, e);
};
proto.MailReq.prototype.clearHeader = function() {
return this.setHeader(void 0);
};
proto.MailReq.prototype.hasHeader = function() {
return null != o.Message.getField(this, 1);
};
proto.MailReq.prototype.getLastid = function() {
return o.Message.getFieldWithDefault(this, 2, 0);
};
proto.MailReq.prototype.setLastid = function(e) {
return o.Message.setProto3IntField(this, 2, e);
};
proto.MailReq.prototype.getSize = function() {
return o.Message.getFieldWithDefault(this, 3, 0);
};
proto.MailReq.prototype.setSize = function(e) {
return o.Message.setProto3IntField(this, 3, e);
};
proto.MailReq.prototype.getSort = function() {
return o.Message.getFieldWithDefault(this, 4, 0);
};
proto.MailReq.prototype.setSort = function(e) {
return o.Message.setProto3IntField(this, 4, e);
};
proto.MailResp.repeatedFields_ = [ 2 ];
if (o.Message.GENERATE_TO_OBJECT) {
proto.MailResp.prototype.toObject = function(e) {
return proto.MailResp.toObject(e, this);
};
proto.MailResp.toObject = function(e, t) {
var i, n = {
header: (i = t.getHeader()) && proto.RespHeader.toObject(e, i),
mailitemList: o.Message.toObjectList(t.getMailitemList(), proto.MailItem.toObject, e)
};
e && (n.$jspbMessageInstance = t);
return n;
};
}
proto.MailResp.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.MailResp();
return proto.MailResp.deserializeBinaryFromReader(i, t);
};
proto.MailResp.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = new proto.RespHeader();
t.readMessage(i, proto.RespHeader.deserializeBinaryFromReader);
e.setHeader(i);
break;

case 2:
i = new proto.MailItem();
t.readMessage(i, proto.MailItem.deserializeBinaryFromReader);
e.addMailitem(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.MailResp.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.MailResp.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.MailResp.serializeBinaryToWriter = function(e, t) {
var i = void 0;
null != (i = e.getHeader()) && t.writeMessage(1, i, proto.RespHeader.serializeBinaryToWriter);
(i = e.getMailitemList()).length > 0 && t.writeRepeatedMessage(2, i, proto.MailItem.serializeBinaryToWriter);
};
proto.MailResp.prototype.getHeader = function() {
return o.Message.getWrapperField(this, proto.RespHeader, 1);
};
proto.MailResp.prototype.setHeader = function(e) {
return o.Message.setWrapperField(this, 1, e);
};
proto.MailResp.prototype.clearHeader = function() {
return this.setHeader(void 0);
};
proto.MailResp.prototype.hasHeader = function() {
return null != o.Message.getField(this, 1);
};
proto.MailResp.prototype.getMailitemList = function() {
return o.Message.getRepeatedWrapperField(this, proto.MailItem, 2);
};
proto.MailResp.prototype.setMailitemList = function(e) {
return o.Message.setRepeatedWrapperField(this, 2, e);
};
proto.MailResp.prototype.addMailitem = function(e, t) {
return o.Message.addToRepeatedWrapperField(this, 2, e, proto.MailItem, t);
};
proto.MailResp.prototype.clearMailitemList = function() {
return this.setMailitemList([]);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.MailItem.prototype.toObject = function(e) {
return proto.MailItem.toObject(e, this);
};
proto.MailItem.toObject = function(e, t) {
var i = {
id: o.Message.getFieldWithDefault(t, 1, 0),
title: o.Message.getFieldWithDefault(t, 2, ""),
content: o.Message.getFieldWithDefault(t, 3, ""),
contenttype: o.Message.getFieldWithDefault(t, 4, 0),
cmd: o.Message.getFieldWithDefault(t, 5, ""),
read: o.Message.getBooleanFieldWithDefault(t, 6, !1),
amount: o.Message.getFieldWithDefault(t, 7, 0),
attachmenttype: o.Message.getFieldWithDefault(t, 8, 0),
createat: o.Message.getFieldWithDefault(t, 9, 0),
reward: o.Message.getBooleanFieldWithDefault(t, 10, !1)
};
e && (i.$jspbMessageInstance = t);
return i;
};
}
proto.MailItem.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.MailItem();
return proto.MailItem.deserializeBinaryFromReader(i, t);
};
proto.MailItem.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = t.readInt32();
e.setId(i);
break;

case 2:
i = t.readString();
e.setTitle(i);
break;

case 3:
i = t.readString();
e.setContent(i);
break;

case 4:
i = t.readEnum();
e.setContenttype(i);
break;

case 5:
i = t.readString();
e.setCmd(i);
break;

case 6:
i = t.readBool();
e.setRead(i);
break;

case 7:
i = t.readInt32();
e.setAmount(i);
break;

case 8:
i = t.readEnum();
e.setAttachmenttype(i);
break;

case 9:
i = t.readInt64();
e.setCreateat(i);
break;

case 10:
i = t.readBool();
e.setReward(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.MailItem.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.MailItem.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.MailItem.serializeBinaryToWriter = function(e, t) {
var i = void 0;
0 !== (i = e.getId()) && t.writeInt32(1, i);
(i = e.getTitle()).length > 0 && t.writeString(2, i);
(i = e.getContent()).length > 0 && t.writeString(3, i);
0 !== (i = e.getContenttype()) && t.writeEnum(4, i);
(i = e.getCmd()).length > 0 && t.writeString(5, i);
(i = e.getRead()) && t.writeBool(6, i);
0 !== (i = e.getAmount()) && t.writeInt32(7, i);
0 !== (i = e.getAttachmenttype()) && t.writeEnum(8, i);
0 !== (i = e.getCreateat()) && t.writeInt64(9, i);
(i = e.getReward()) && t.writeBool(10, i);
};
proto.MailItem.ContentType = {
TEXT: 0,
IMAGE: 1
};
proto.MailItem.AttachmentType = {
NULL: 0,
AMOUNT: 1
};
proto.MailItem.prototype.getId = function() {
return o.Message.getFieldWithDefault(this, 1, 0);
};
proto.MailItem.prototype.setId = function(e) {
return o.Message.setProto3IntField(this, 1, e);
};
proto.MailItem.prototype.getTitle = function() {
return o.Message.getFieldWithDefault(this, 2, "");
};
proto.MailItem.prototype.setTitle = function(e) {
return o.Message.setProto3StringField(this, 2, e);
};
proto.MailItem.prototype.getContent = function() {
return o.Message.getFieldWithDefault(this, 3, "");
};
proto.MailItem.prototype.setContent = function(e) {
return o.Message.setProto3StringField(this, 3, e);
};
proto.MailItem.prototype.getContenttype = function() {
return o.Message.getFieldWithDefault(this, 4, 0);
};
proto.MailItem.prototype.setContenttype = function(e) {
return o.Message.setProto3EnumField(this, 4, e);
};
proto.MailItem.prototype.getCmd = function() {
return o.Message.getFieldWithDefault(this, 5, "");
};
proto.MailItem.prototype.setCmd = function(e) {
return o.Message.setProto3StringField(this, 5, e);
};
proto.MailItem.prototype.getRead = function() {
return o.Message.getBooleanFieldWithDefault(this, 6, !1);
};
proto.MailItem.prototype.setRead = function(e) {
return o.Message.setProto3BooleanField(this, 6, e);
};
proto.MailItem.prototype.getAmount = function() {
return o.Message.getFieldWithDefault(this, 7, 0);
};
proto.MailItem.prototype.setAmount = function(e) {
return o.Message.setProto3IntField(this, 7, e);
};
proto.MailItem.prototype.getAttachmenttype = function() {
return o.Message.getFieldWithDefault(this, 8, 0);
};
proto.MailItem.prototype.setAttachmenttype = function(e) {
return o.Message.setProto3EnumField(this, 8, e);
};
proto.MailItem.prototype.getCreateat = function() {
return o.Message.getFieldWithDefault(this, 9, 0);
};
proto.MailItem.prototype.setCreateat = function(e) {
return o.Message.setProto3IntField(this, 9, e);
};
proto.MailItem.prototype.getReward = function() {
return o.Message.getBooleanFieldWithDefault(this, 10, !1);
};
proto.MailItem.prototype.setReward = function(e) {
return o.Message.setProto3BooleanField(this, 10, e);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.EmptyReq.prototype.toObject = function(e) {
return proto.EmptyReq.toObject(e, this);
};
proto.EmptyReq.toObject = function(e, t) {
var i, o = {
header: (i = t.getHeader()) && proto.ReqHeader.toObject(e, i)
};
e && (o.$jspbMessageInstance = t);
return o;
};
}
proto.EmptyReq.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.EmptyReq();
return proto.EmptyReq.deserializeBinaryFromReader(i, t);
};
proto.EmptyReq.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = new proto.ReqHeader();
t.readMessage(i, proto.ReqHeader.deserializeBinaryFromReader);
e.setHeader(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.EmptyReq.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.EmptyReq.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.EmptyReq.serializeBinaryToWriter = function(e, t) {
var i;
null != (i = e.getHeader()) && t.writeMessage(1, i, proto.ReqHeader.serializeBinaryToWriter);
};
proto.EmptyReq.prototype.getHeader = function() {
return o.Message.getWrapperField(this, proto.ReqHeader, 1);
};
proto.EmptyReq.prototype.setHeader = function(e) {
return o.Message.setWrapperField(this, 1, e);
};
proto.EmptyReq.prototype.clearHeader = function() {
return this.setHeader(void 0);
};
proto.EmptyReq.prototype.hasHeader = function() {
return null != o.Message.getField(this, 1);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.EmptyResp.prototype.toObject = function(e) {
return proto.EmptyResp.toObject(e, this);
};
proto.EmptyResp.toObject = function(e, t) {
var i, o = {
header: (i = t.getHeader()) && proto.RespHeader.toObject(e, i)
};
e && (o.$jspbMessageInstance = t);
return o;
};
}
proto.EmptyResp.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.EmptyResp();
return proto.EmptyResp.deserializeBinaryFromReader(i, t);
};
proto.EmptyResp.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = new proto.RespHeader();
t.readMessage(i, proto.RespHeader.deserializeBinaryFromReader);
e.setHeader(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.EmptyResp.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.EmptyResp.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.EmptyResp.serializeBinaryToWriter = function(e, t) {
var i;
null != (i = e.getHeader()) && t.writeMessage(1, i, proto.RespHeader.serializeBinaryToWriter);
};
proto.EmptyResp.prototype.getHeader = function() {
return o.Message.getWrapperField(this, proto.RespHeader, 1);
};
proto.EmptyResp.prototype.setHeader = function(e) {
return o.Message.setWrapperField(this, 1, e);
};
proto.EmptyResp.prototype.clearHeader = function() {
return this.setHeader(void 0);
};
proto.EmptyResp.prototype.hasHeader = function() {
return null != o.Message.getField(this, 1);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.FeedbackReq.prototype.toObject = function(e) {
return proto.FeedbackReq.toObject(e, this);
};
proto.FeedbackReq.toObject = function(e, t) {
var i, n = {
header: (i = t.getHeader()) && proto.ReqHeader.toObject(e, i),
email: o.Message.getFieldWithDefault(t, 2, ""),
text: o.Message.getFieldWithDefault(t, 3, "")
};
e && (n.$jspbMessageInstance = t);
return n;
};
}
proto.FeedbackReq.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.FeedbackReq();
return proto.FeedbackReq.deserializeBinaryFromReader(i, t);
};
proto.FeedbackReq.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = new proto.ReqHeader();
t.readMessage(i, proto.ReqHeader.deserializeBinaryFromReader);
e.setHeader(i);
break;

case 2:
i = t.readString();
e.setEmail(i);
break;

case 3:
i = t.readString();
e.setText(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.FeedbackReq.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.FeedbackReq.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.FeedbackReq.serializeBinaryToWriter = function(e, t) {
var i = void 0;
null != (i = e.getHeader()) && t.writeMessage(1, i, proto.ReqHeader.serializeBinaryToWriter);
(i = e.getEmail()).length > 0 && t.writeString(2, i);
(i = e.getText()).length > 0 && t.writeString(3, i);
};
proto.FeedbackReq.prototype.getHeader = function() {
return o.Message.getWrapperField(this, proto.ReqHeader, 1);
};
proto.FeedbackReq.prototype.setHeader = function(e) {
return o.Message.setWrapperField(this, 1, e);
};
proto.FeedbackReq.prototype.clearHeader = function() {
return this.setHeader(void 0);
};
proto.FeedbackReq.prototype.hasHeader = function() {
return null != o.Message.getField(this, 1);
};
proto.FeedbackReq.prototype.getEmail = function() {
return o.Message.getFieldWithDefault(this, 2, "");
};
proto.FeedbackReq.prototype.setEmail = function(e) {
return o.Message.setProto3StringField(this, 2, e);
};
proto.FeedbackReq.prototype.getText = function() {
return o.Message.getFieldWithDefault(this, 3, "");
};
proto.FeedbackReq.prototype.setText = function(e) {
return o.Message.setProto3StringField(this, 3, e);
};
if (o.Message.GENERATE_TO_OBJECT) {
proto.RedPointResp.prototype.toObject = function(e) {
return proto.RedPointResp.toObject(e, this);
};
proto.RedPointResp.toObject = function(e, t) {
var i, n = {
header: (i = t.getHeader()) && proto.RespHeader.toObject(e, i),
notice: o.Message.getBooleanFieldWithDefault(t, 2, !1),
mail: o.Message.getBooleanFieldWithDefault(t, 3, !1)
};
e && (n.$jspbMessageInstance = t);
return n;
};
}
proto.RedPointResp.deserializeBinary = function(e) {
var t = new o.BinaryReader(e), i = new proto.RedPointResp();
return proto.RedPointResp.deserializeBinaryFromReader(i, t);
};
proto.RedPointResp.deserializeBinaryFromReader = function(e, t) {
for (;t.nextField() && !t.isEndGroup(); ) {
switch (t.getFieldNumber()) {
case 1:
var i = new proto.RespHeader();
t.readMessage(i, proto.RespHeader.deserializeBinaryFromReader);
e.setHeader(i);
break;

case 2:
i = t.readBool();
e.setNotice(i);
break;

case 3:
i = t.readBool();
e.setMail(i);
break;

default:
t.skipField();
}
}
return e;
};
proto.RedPointResp.prototype.serializeBinary = function() {
var e = new o.BinaryWriter();
proto.RedPointResp.serializeBinaryToWriter(this, e);
return e.getResultBuffer();
};
proto.RedPointResp.serializeBinaryToWriter = function(e, t) {
var i = void 0;
null != (i = e.getHeader()) && t.writeMessage(1, i, proto.RespHeader.serializeBinaryToWriter);
(i = e.getNotice()) && t.writeBool(2, i);
(i = e.getMail()) && t.writeBool(3, i);
};
proto.RedPointResp.prototype.getHeader = function() {
return o.Message.getWrapperField(this, proto.RespHeader, 1);
};
proto.RedPointResp.prototype.setHeader = function(e) {
return o.Message.setWrapperField(this, 1, e);
};
proto.RedPointResp.prototype.clearHeader = function() {
return this.setHeader(void 0);
};
proto.RedPointResp.prototype.hasHeader = function() {
return null != o.Message.getField(this, 1);
};
proto.RedPointResp.prototype.getNotice = function() {
return o.Message.getBooleanFieldWithDefault(this, 2, !1);
};
proto.RedPointResp.prototype.setNotice = function(e) {
return o.Message.setProto3BooleanField(this, 2, e);
};
proto.RedPointResp.prototype.getMail = function() {
return o.Message.getBooleanFieldWithDefault(this, 3, !1);
};
proto.RedPointResp.prototype.setMail = function(e) {
return o.Message.setProto3BooleanField(this, 3, e);
};
proto.WithdrawStatus = {
FAIL: 0,
SUCCESS: 1,
IN_PROCESS: 2
};
n.object.extend(i, proto);
cc._RF.pop();
}, {
"google-protobuf": 157
} ],
Api: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "3fb46nrH7FOmIbuMr+bz/Ti", "Api");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = function() {
function e() {}
e.Common = {
logEvent: "/api/third/qqt",
getPopWindowPull: "/api/pop_window/pull"
};
e.Launcher = {
bind_device: "/api/bind_device",
login_config: "/api/version/login_config",
uiConfig: "/api/conf/settings_conf",
severce_config: "api/conf/costumer/service"
};
e.Hall = {
getPhotoAvatar: "/api/get_headers",
changeUserInfo: "/api/user/modify_user_info",
getSpringBonus: "/api/spring/bonus",
getHubNotice: "/api/hub/notice",
getPushInfo: "/api/push",
getRoomConfig: "/api/game/get_room_info",
getWebWechatMsg: "/api/wechat/check_msg",
submitContactUs: "/api/sys/feedback",
redNoticePoint: "/api/sys/red_point"
};
e.Account = {
getGraphValidCode: "/api/code/image",
checkValidCode: "/api/code/image/check",
getNewPhoneCode: "/api/user/verify_code",
formalUser: "/api/lanched_account/",
guestLogin: "/api/user/anonymous_login",
smsLogin: "/api/sms_login",
passwordLogin: "/api/user/login",
register: "/api/user/register",
findPassword: "/api/forget_password",
getUserInfo: "/api/user/get_user_info"
};
e.TopUp = {
payChannels: "/api/version/pay_channels",
payReady: "/api/pay/ready/",
paySubmit: "/api/pay/",
orderHistory: "/api/pay/status/",
checkNewFastPayMsg: "/api/pay/mf_pay/check_msg",
reportAgency: "/api/pay/report_agency",
bankChannels: "/api/pay/bank/channels",
payList: "/api/pay/list",
payApplyAgency: "/api/pay/apply_agency",
newPayChannels: "/api/pay/get_agency",
getAgentList: "/api/pay/mf_pay/agent_list",
postAppeal: "/api/pay/mf_pay/appeal",
postComment: "/api/pay/mf_pay/comment",
payUnread: "/api/pay/unread",
getAgencyPay: "/api/pay/agency_pay/for_all",
fastPayFetchToken: "/api/pay/mf_pay/fetch_token",
recharge_types: "/api/pay/recharge_types",
dorecharge: "/api/pay/recharge"
};
e.Withdraw = {
bindWeChat: "/api/bind/wechat",
bindAlipay: "/api/bind/alipay",
bindBankCard: "/api/bind/bankcard",
getBindConfig: "/api/bind/config",
resetBind: "/api/bind/reset/",
getBankList: "/api/banks",
getWithdrawTypes: "/api/pay/withdraw_types",
postExchangeWithdraw: "/api/pay/withdraw/apply",
getWithdrawList: "/api/withdraws",
exchangeCode: "/api/exchange/code/",
getExchangeView: "/api/version/exchange_view",
bindEditInfo: "/api/pay/withdraw_bind",
withdrawrecords: "/api/pay/withdraw/list",
withdrawpreapply: "/api/pay/withdraw/pre_apply"
};
e.Fishing = {
getBatteryConfig: "/api/fishing/v2/gun/config",
getFishTypeConfig: "/api/fishing/v2/fish/config"
};
e.Brc = {
getHistoryReveal: "/api/v1/cube/history",
getTableUsers: "/api/v1/cube/table/users"
};
e.Banner = {
getBannerNotice: "/api/banner"
};
e.Bonus = {
getBonusCenterInfo: "/api/bonus_center/info",
getOnlineRank: "/api/bonus_center/online/rank"
};
e.Customer = {
chatHistory: "/api/chat/v1/chat/userhistory",
fetchCustomerServiceToken: "/api/wechat/fetch_token"
};
e.Mail = {
mailList: "/api/sys/mail",
getMailGift: "/api/sys/mail/reward",
getAllMailGift: "/api/mail/accept_all",
deleteMail: "/api/sys/mail/delete",
deleteAllMail: "/api/mail/delete_all",
checkMail: "/api/mail/check",
checkNewEmail: "/api/mail/new",
readMail: "/api/sys/mail/read"
};
e.Notice = {
checkNewNotice: "/api/sys/notice"
};
e.Promoter = {
getMyPromoter: "/api/act/pyramid/info",
getPromoterDetail: "/api/act/pyramid/underline",
getPromoterWeekRank: "/api/act/pyramid/board",
receivePrize: "/api/act/pyramid/receive",
partnerRank: "/api/act/pyramid/partner/rank",
getPyramidConfig: "/api/act/pyramid/config"
};
e.SafeBox = {
putin: "/api/safe_box/put_in",
takeout: "/api/safe_box/take_out",
takeTtl: "/api/safe_box/take_ttl",
hasPassword: "/api/safe_box/exist_password",
resetPassword: "/api/safe_box/set_password",
verifyPwdWithTakeOut: "/api/safe_box/verify_password"
};
e.WaterMargin = {
getWaterMarginGameInfo: "/api/v1/hero/info",
waterMarginDoBet: "/api/v1/hero/bet/",
getWaterMarginBigWinner: "/api/v1/hero/bigwinner/"
};
e.SlotApi = {
gameInfo: "/api/slot/v1/game/items"
};
e.testProtobuf = {
ping: "/api/sys/ping/"
};
return e;
}();
i.default = o;
cc._RF.pop();
}, {} ],
ApplePayRecharge: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "05c48xF5JRJvbUmaEQAbh6H", "ApplePayRecharge");
var o = a(e("../../../../Script/Audio/CommonAudioMgr")), n = a(e("../../../../Script/Audio/CommonAudio")), r = a(e("../../../../Script/UserManager"));
function a(e) {
return e && e.__esModule ? e : {
default: e
};
}
var s = e("GameEngineUtil");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {},
init: function(e) {
this.paydata = e;
},
start: function() {},
dealApplePayMethod: function(e, t) {
var i = parseInt(t);
cc.log("this area index is" + i);
var o = this.paydata[0].rechargetypeinfosList[0].amountsList;
if (cc.sys.isNative && cc.sys.os == cc.sys.OS_IOS) {
var n = o[i];
cc.log("this amount is " + n);
var a = r.default.uid, c = r.default.token;
s.openNativeApplePay(n, a, c);
}
},
dismiss: function() {
o.default.playEffect(n.default.common.btnMusic);
if (this.node.getComponent("CommonDialog")) this.node.getComponent("CommonDialog").dismiss(); else {
this.node.active = !1;
this.node.removeFromParent();
}
},
onDisable: function() {
cc.director.off("PAYSTATUS");
}
});
cc._RF.pop();
}, {
"../../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../../../Script/UserManager": "UserManager",
GameEngineUtil: "GameEngineUtil"
} ],
AutoLoginModel: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "e27641UDhpByIDMKitCfK0r", "AutoLoginModel");
var o, n;
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var a = (n = o = function e() {
r(this, e);
}, o.user_id = 2, o.token = "", o.is_new = 0, o.gold = 5, n);
t.exports = a;
cc._RF.pop();
}, {} ],
AutoLoginUtil: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "2775bE7NfFH7rZykWZXaptE", "AutoLoginUtil");
var o, n, r = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}(), a = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("../../LocalStorage/LocalStorageUtil"));
function s(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var c = e("GameEngineUtil"), l = (n = o = function() {
function e() {
s(this, e);
}
r(e, null, [ {
key: "addAccount",
value: function(e, t, i, o) {
null == i && (i = a.default.readDeviceID());
e += "";
if (i && i.length > 8) {
var n = a.default.loadKeyChainAccount(), r = [], s = 0;
e && e.length >= 1 && t && t.length >= 10 && (s = 1);
r.push([ e, t, i, o, s ]);
if (n) for (var l = n.length, u = 0; u < l; u++) {
var d = n[u];
if (d) {
if (e && d[0] == e) continue;
if (i && d[2] == i) continue;
d.length > 4 && (d[4] = 0);
r.push(d);
}
}
a.default.saveKeyChainAccount(r);
c.saveAccountsToNative(JSON.stringify(r));
}
}
}, {
key: "deleteAccount",
value: function(e) {
var t = a.default.loadKeyChainAccount(), i = [];
if (t) for (var o = t.length, n = 0; n < o; n++) {
var r = t[n];
if (r) {
if (r[2] == e) continue;
i.push(r);
}
}
a.default.saveKeyChainAccount(i);
c.saveAccountsToNative(JSON.stringify(i));
}
}, {
key: "getPwdByPhone",
value: function(e) {
var t = a.default.loadKeyChainAccount();
if (!t) {
t = c.getAccountsFromNative();
a.default.saveKeyChainAccount(t);
}
if (t) for (var i = t.length, o = 0; o < i; o++) {
var n = t[o];
if (n) {
var r = n[2];
if (r) {
if (11 == r.length) {
if (0 == r.indexOf("1")) {
var s = r.indexOf(":");
if (!(s >= 0 || (s = r.indexOf("-")) >= 0 || e != r)) {
return n[3];
}
}
}
}
}
}
return "";
}
}, {
key: "getLastAccount",
value: function() {
var e = a.default.loadKeyChainAccount();
if (!e && (e = c.getAccountsFromNative())) {
e = JSON.parse(e);
a.default.saveKeyChainAccount(e);
}
return e ? e[0] : null;
}
}, {
key: "updateLastAccount",
value: function(e) {
var t = a.default.loadKeyChainAccount();
t && (t[0][1] = e);
a.default.saveKeyChainAccount(t);
c.saveAccountsToNative(JSON.stringify(t));
}
}, {
key: "loadPhoneNumberAccounts",
value: function() {
var e = a.default.loadKeyChainAccount();
if (!e) {
e = c.getAccountsFromNative();
a.default.saveKeyChainAccount(e);
}
var t = [];
if (e) for (var i = e.length, o = 0; o < i; o++) {
var n = e[o];
if (n) {
var r = n[2];
if (r) {
if (11 == r.length) {
if (0 == r.indexOf("1")) {
var s = r.indexOf(":");
s >= 0 || (s = r.indexOf("-")) >= 0 || t.push(n);
}
}
}
}
}
return t;
}
}, {
key: "hasHistoryAccount",
value: function() {
var e = a.default.loadKeyChainAccount();
if (!e) {
e = c.getAccountsFromNative();
a.default.saveKeyChainAccount(e);
}
return e && e.length > 0;
}
}, {
key: "hasGuestaccount",
value: function() {
var e = !1, t = a.default.loadKeyChainAccount();
if (!t) {
t = c.getAccountsFromNative();
a.default.saveKeyChainAccount(t);
}
if (t && t.length > 0) for (var i = 0; i < t.length; i++) if (!t[i][3]) {
e = !0;
break;
}
return e;
}
}, {
key: "hasUpgradeFormalUser",
value: function() {
var e = a.default.getUpgradeFormalUserTag();
e ? e += "" : e = "";
return e.length > 0;
}
}, {
key: "setUpgradeFormalUser",
value: function() {
var e = a.default.readUserID();
e ? e += "" : e = "";
a.default.saveUpgradeFormalUserTag(e);
}
} ]);
return e;
}(), o.KEY_ACCOUNT_HISTORY = "KEY_ACCOUNT_HISTORY", n);
t.exports = l;
cc._RF.pop();
}, {
"../../LocalStorage/LocalStorageUtil": "LocalStorageUtil",
GameEngineUtil: "GameEngineUtil"
} ],
AutoLogin: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "a5c49mP2QROVbSWluhnX8+U", "AutoLogin");
var o, n, r = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}(), a = f(e("../../../../Script/LocalStorage/LocalStorageUtil")), s = f(e("../../../../Script/UserManager")), c = f(e("../../../../Script/UI/CommonPrefabMgr")), l = f(e("../../../../Script/ProjectConfig")), u = f(e("../../../../Script/Socket/FastPlayMgr")), d = f(e("./../../../../Script/GameFramework/ApiMgr"));
function f(e) {
return e && e.__esModule ? e : {
default: e
};
}
function h(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var p = e("AutoLoginUtil"), g = e("CommonLanguage"), m = e("LauncherModel"), y = e("LoginPrefabManager"), b = e("LauncherView"), _ = e("GameEngineUtil"), v = e("NamingServiceMgr"), S = e("RechargeSecondModel"), C = e("NewGameInfo"), w = e("AutoLoginModel"), A = (e("GameRestore"), 
n = o = function() {
function e() {
h(this, e);
}
r(e, null, [ {
key: "startLogin",
value: function(e, t) {
this.login_tag = e;
if (t) {
this.guestButton = t.guestButton;
this.accountButton = t.accountButton;
this.loading = t.loading;
}
if (!_.isEmulator()) if (a.default.isLogin()) {
a.default.saveGuestLogin(!0);
s.default.initAccount();
this.autoLogin();
} else {
a.default.saveGuestLogin(!0);
this.guestLogin("auto");
}
}
}, {
key: "loadLastLoginAccount",
value: function() {
if (!this.launchGame) {
this.launchGame = !0;
var e = p.getLastAccount();
console.log("this accout is" + e);
if (e) {
var t = e[0];
t && (t += "");
var i = e[1];
i && (i += "");
if (t && t.length > 0 && i && i.length > 0 && 1 == e[4]) {
a.default.saveUserID(t);
a.default.saveUserToken(i);
}
}
}
}
}, {
key: "autoLogin",
value: function() {
var e = this;
d.default.refreshUserInfoWithLoading(function(t) {
s.default.initUser(t);
e.is_formal = s.default.is_formal;
var i = p.getLastAccount();
if (i) {
var o = i[2];
if (o) {
o = o.toString();
a.default.saveLastLoginAccount(o);
}
}
e.loadGameHallScene(e.is_formal);
}, function(t) {
t.status;
a.default.readGameType() != l.default.GAME_TYPE.LAUNCHER ? c.default.createAlert("your account has logged on the other device, please check and sign in again.", g.currentlanguage.commondialog.btnone, function() {
s.default.exitLogin();
}) : s.default.exitLogin(function() {
a.default.saveGuestLogin(!0);
e.guestLogin("auto");
});
}, !0, !0);
}
}, {
key: "guestLogin",
value: function(e) {
var t = this;
c.default.createToast("发送游客登录消息");
d.default.guestLogin(function(i) {
c.default.createToast("登录，123");
0 == i.header.code && console.log("login status");
var o = new w();
o.user_id = i.userId;
o.token = i.token;
o.is_new = i.isNew;
o.gold = i.gold;
if (o.user_id && o.token) {
console.log("this login response data is " + JSON.stringify(o));
a.default.saveUserDataEvent(o);
s.default.initAccount();
null != o.gold && (m.new_user_credit = o.gold);
null != o.is_new && (m.user_is_new = o.is_new);
var n = m.user_is_new.toString();
a.default.saveIsNew(n);
p.addAccount(o.user_id, o.token, null, null);
t.loadGameHallScene();
} else "auto" == e ? t.showLoginView() : c.default.createToast("login error");
}, function(e) {
c.default.createToast("登录失败，123");
e.msg && c.default.createAlert(e.msg, g.currentlanguage.commondialog.btnone, function() {
t.showLoginView(!0);
});
});
}
}, {
key: "hasOldAccountInfo",
value: function() {
var e = p.loadPhoneNumberAccounts(), t = !1;
if (e) for (var i = e.length, o = 0; o < i; o++) {
var n = e[o];
n && n[2] && n[2].length > 2 && (t = !0);
}
return t;
}
}, {
key: "pwdLoginAfterTokenError",
value: function(e, t) {
var i = this, o = {
phone: e,
password: t
};
d.default.passwordLogin(o, function(t) {
a.default.saveUserDataEvent(t);
s.default.initAccount();
p.updateLastAccount(t.token);
i.loadGameHallScene(!0);
a.default.saveLastLoginAccount(e);
}, function(e) {
i.showLoginView();
});
}
}, {
key: "showLoginView",
value: function(e) {
if ("Launcher" != this.login_tag) {
if (p.hasGuestaccount() || e) {
this.guestButton.active = !0;
this.accountButton.active = !0;
this.guestButton.x = -170;
this.accountButton.x = 170;
} else {
this.guestButton.active = !1;
this.accountButton.x = 0;
}
this.loading.active = !0;
this.loading.runAction(cc.fadeIn(.2));
this.hasOldAccountInfo() && y.createPasswordLogin();
} else {
s.default.clearAccount();
a.default.clearUserLoginData();
a.default.clearData("WithDrawDtypes");
a.default.clearData("GameSafeBoxPwd");
a.default.clearNoticeIds();
u.default._startGame(l.default.GAME_TYPE.LOGIN);
}
}
}, {
key: "showError",
value: function(e) {
var t = cc.director.getScene().name;
v.initAccessServerByDefault(e);
t.startsWith("Launcher") ? v.requestNamingService() : c.default.createAlert("未知错误,立即重试", "确定", function() {
cc.game.restart();
});
}
}, {
key: "showNetworkErrorDialog",
value: function() {
c.default.createAlert("请检查手机网络后重试!", "确定", function() {});
}
}, {
key: "loadGameHallScene",
value: function() {
var e = this, t = l.default.GAME_TYPE.RUMMY, i = {
game_id: t,
user_id: a.default.readUserID()
};
d.default.getRoomConfig(i, function(e) {
e.last_game, e.room_index;
var i = e.roomInfoListList;
C.user_h5 = e.user_h5;
C.h5_url = e.h5_url;
C.frame_url = e.frame_url;
C.updateRoomList(t, i);
S.clearInfo();
b.loadUIConfig(function(e) {
console.log("this enter launch");
u.default.runGameWithID(l.default.GAME_TYPE.GAME_HALL, !1, null, !0);
v.requestNamingService();
});
}, function(t) {
c.default.createAlert("Connection error55. Please try later.", "Retry", function() {
e.loadGameHallScene();
}, void 0, void 0, !1, void 0, void 0);
}, !1);
}
} ]);
return e;
}(), o.launchGame = !1, o.guestButton = cc.Node, o.accountButton = cc.Node, o.loading = cc.Node, 
o.login_tag = null, n);
t.exports = A;
cc._RF.pop();
}, {
"../../../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../../../Script/ProjectConfig": "ProjectConfig",
"../../../../Script/Socket/FastPlayMgr": "FastPlayMgr",
"../../../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"../../../../Script/UserManager": "UserManager",
"./../../../../Script/GameFramework/ApiMgr": "ApiMgr",
AutoLoginModel: "AutoLoginModel",
AutoLoginUtil: "AutoLoginUtil",
CommonLanguage: "CommonLanguage",
GameEngineUtil: "GameEngineUtil",
GameRestore: "GameRestore",
LauncherModel: "LauncherModel",
LauncherView: "LauncherView",
LoginPrefabManager: "LoginPrefabManager",
NamingServiceMgr: "NamingServiceMgr",
NewGameInfo: "NewGameInfo",
RechargeSecondModel: "RechargeSecondModel"
} ],
BannerItem: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "b6bbaxMXVhLeY6HDCJt/l7E", "BannerItem");
var o = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("../../Script/Socket/FastPlayMgr"));
var n = e("HallRes");
cc.Class({
extends: cc.Component,
properties: {
imgSprite: cc.Sprite
},
onLoad: function() {
this.initBannerNoticeTexture();
},
initBannerNoticeTexture: function() {
var e = this, t = n.pathPhoto;
n.path;
o.default.resArr.Hall.forEach(function(i) {
var o = t.bannerNoticeBg.split("/").pop();
i.name == o && (e.imgSprite.spriteFrame = i);
});
},
initData: function(e, t, i) {
var o = this;
o.itemData = t;
o.itemIndex = e;
o.itemClickCallback = i;
if (o.itemData) {
var n = o.itemData.pic;
cc.loader.load(n, function(e, t) {
var i = new cc.SpriteFrame(t);
i && o.imgSprite && (o.imgSprite.spriteFrame = i);
});
}
},
onImageClick: function() {
this.itemClickCallback && this.itemClickCallback(this.itemIndex);
}
});
cc._RF.pop();
}, {
"../../Script/Socket/FastPlayMgr": "FastPlayMgr",
HallRes: "HallRes"
} ],
Banner: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "99640YdaGtKGo0k+jKe8Xax", "Banner");
var o = s(e("../../Script/LocalStorage/LocalStorageUtil")), n = s(e("../../Script/UI/CommonPrefabMgr")), r = s(e("../../Script/Audio/CommonAudioMgr")), a = s(e("../../Script/Audio/CommonAudio"));
function s(e) {
return e && e.__esModule ? e : {
default: e
};
}
e("GameEngineUtil"), e("CommonEventName"), e("NoticeUIMgr");
var c = e("CommonFunction");
cc.Class({
extends: cc.Component,
properties: {
pageView: cc.PageView,
pageViewContent: cc.Node,
pageItemPrefab: cc.Prefab
},
onLoad: function() {
this.init();
},
init: function() {
this.bannerDataList = [];
this.scrollTime = 0;
this.loadLocalStorageData();
},
initView: function() {
this.pageView.removeAllPages();
var e = cc.instantiate(this.pageItemPrefab);
this.pageView.addPage(e);
},
loadLocalStorageData: function() {
this.bannerDataList = o.default.getBannerNoticeData() || [];
this.bannerDataList.length <= 0 ? this.initView() : this.notifyBannerDataChange();
},
notifyBannerDataChange: function() {
if (this.bannerDataList) {
if (this.pageView) {
this.pageView.removeAllPages();
var e = this.bannerDataList.length;
if (e <= 0) this.initView(); else for (var t = 0; t < e; t++) this.refreshBannerItemView(t, this.bannerDataList[t]);
}
} else this.initView();
},
refreshBannerItemView: function(e, t) {
var i = this, o = cc.instantiate(i.pageItemPrefab);
o.getComponent("BannerItem").initData(e, t, function(e) {
i.onBannerItemClick(e);
});
i.pageView.addPage(o);
},
onBannerItemClick: function(e) {
if (!(null == this.bannerDataList || this.bannerDataList.length <= 0)) {
var t = this.bannerDataList[e % this.bannerDataList.length];
if (t) {
var i = t.kind, o = t.target, s = t.direction, l = t.browser;
if (8 == i) n.default.showNoticeDialog(parseInt(o)); else {
1 == i && cc.vv.souhu && r.default.playMultiEffect(a.default.common.copyHomeUrl);
9 == i && (o = t.pic);
c.clickEventHandler(i, o, s, l, !0);
}
}
}
},
update: function(e) {
this.scrollTime += e;
if (this.scrollTime >= 10) {
this.scrollTime = 0;
this.scrollToNextPage();
}
},
scrollToNextPage: function() {
if (this.pageView) {
var e = this.pageView.getPages().length, t = (this.pageView.getCurrentPageIndex() + 1) % e;
this.pageView.scrollToPage(t, .4);
}
},
contrastBannerDataAction: function(e) {
var t = o.default.getBannerNoticeData() || [];
if (e.length != t.length) return !1;
for (var i = 0, n = t.length; i < n; i++) {
var r = t[i], a = e[i];
if (null == r || null == a) return !1;
var s = r.kind, c = r.name, l = r.pic, u = r._id, d = r.target, f = a.kind, h = a.name, p = a.pic, g = a._id, m = a.target;
if (s != f) return !1;
if (c != h) return !1;
if (l != p) return !1;
if (u != g) return !1;
if (d != m) return !1;
}
return !0;
}
});
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
CommonEventName: "CommonEventName",
CommonFunction: "CommonFunction",
GameEngineUtil: "GameEngineUtil",
NoticeUIMgr: "NoticeUIMgr"
} ],
BaseFormat: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "87d8dpcLLxDLKXIX9F9g2xO", "BaseFormat");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = e("md5"), n = (e("Language"), e("CommonLanguage")), r = e("../Script/UI/CommonPrefabMgr"), a = e("../Script/ProjectConfig"), s = e("base64"), c = e("crypto"), l = e("TeenPattiInfo"), u = function() {
function e() {}
e.formatAmount = function(e, t) {
void 0 === t && (t = 2);
if (null == e || isNaN(e)) return "0.00";
var i = this.accMulti(e, Math.pow(10, t)), o = Math.floor(i), n = this.accDiv(o, Math.pow(10, t)).toString(), r = n.indexOf(".");
if (r < 0) {
r = n.length;
n += ".";
}
for (;n.length <= r + 2; ) n += "0";
return n;
};
e.accAdd = function(e, t) {
var i, o, n, r;
try {
i = e.toString().split(".")[1].length;
} catch (e) {
i = 0;
}
try {
o = t.toString().split(".")[1].length;
} catch (e) {
o = 0;
}
r = Math.abs(i - o);
n = Math.pow(10, Math.max(i, o));
if (r > 0) {
var a = Math.pow(10, r);
if (i > o) {
e = Number(e.toString().replace(".", ""));
t = Number(t.toString().replace(".", "")) * a;
} else {
e = Number(e.toString().replace(".", "")) * a;
t = Number(t.toString().replace(".", ""));
}
} else {
e = Number(e.toString().replace(".", ""));
t = Number(t.toString().replace(".", ""));
}
return (e + t) / n;
};
e.numSub = function(e, t) {
var i, o, n;
try {
o = e.toString().split(".")[1].length;
} catch (e) {
o = 0;
}
try {
n = t.toString().split(".")[1].length;
} catch (e) {
n = 0;
}
return ((e * (i = Math.pow(10, Math.max(o, n))) - e * i) / i).toFixed(o >= n ? o : n);
};
e.accMulti = function(e, t) {
var i = 0;
try {
i += e.toString().split(".")[1].length;
} catch (e) {}
try {
i += t.toString().split(".")[1].length;
} catch (e) {}
return Number(e.toString().replace(".", "")) * Number(t.toString().replace(".", "")) / Math.pow(10, i);
};
e.accDiv = function(e, t) {
var i = 0, o = 0;
try {
i = e.toString().split(".")[1].length;
} catch (e) {}
try {
o = t.toString().split(".")[1].length;
} catch (e) {}
return Number(e.toString().replace(".", "")) / Number(t.toString().replace(".", "")) * Math.pow(10, o - i);
};
e.foramtGold = function(e) {
if (null == e || isNaN(e)) return e;
var t = a.default.variable.goldconfig[a.default.variable.curSkin], i = t.isgold, o = t.base, n = t.digits;
if (i) {
var r = this.accDiv(e, o), s = this.accMulti(r, Math.pow(10, n)), c = Math.floor(s);
return this.accDiv(c, Math.pow(10, n));
}
s = this.accMulti(e, Math.pow(10, n)), c = Math.floor(s);
return this.accDiv(c, Math.pow(10, n));
};
e.formatCashOrGold = function(e) {
return l.isCashOrGold ? this.formatAmount(e / 1e3) : this.formatAmount(e);
};
e.formatCoin = function(e) {
return Number(e).toFixed(2);
};
e.iTofixed = function(e, t) {
return null == e || isNaN(e) ? "" : Math.round(e * Math.pow(10, t)) / Math.pow(10, t);
};
e.checkUserAccount = function(e) {
if (!/^[0-9]{10,15}$/.test(e)) {
r.default.createToast(n.currentlanguage.login.invalidPhone);
return !1;
}
return !0;
};
e.checkUserPassword = function(e) {
if (!/^[a-zA-Z0-9]{6,20}$/.test(e)) {
r.default.createToast(n.currentlanguage.login.passwordRuleError);
return !1;
}
return !0;
};
e.checkUserCode = function(e) {
if (e.length < 5) {
r.default.createToast(n.currentlanguage.login.invalidCode);
return !1;
}
return !0;
};
e.checkNameLengh = function(e, t) {
void 0 === t && (t = 15);
var i = 0;
if (e) {
if (2 * e.length <= t) return !0;
for (var o = 0; o < e.length; o++) e.charCodeAt(o) > 128 ? i += 2 : i++;
}
return i < t;
};
e.getWordLength = function(e) {
var t = 0;
if (e) for (var i = 0; i < e.length; i++) {
null != e.charAt(i).match(/[^\x00-\xff]/gi) ? t += 2 : t += 1;
}
return t;
};
e.checkWordLength = function(e, t) {
var i = 0;
if (e) for (var o = 0; o < e.length; o++) {
null != e.charAt(o).match(/[^\x00-\xff]/gi) ? i += 2 : i += 1;
}
return i < t;
};
e.findWordRealIndex = function(e, t) {
var i = 0;
if (e) {
for (var o = 0; o < e.length; o++) {
null != e.charAt(o).match(/[^\x00-\xff]/gi) ? i += 2 : i += 1;
if (i >= t) return o;
}
return e.length;
}
return 0;
};
e.formatName = function(e, t) {
void 0 === t && (t = 10);
var i = 0, o = "";
if (2 * e.length <= t) return e;
if (e) for (var n = 0; n < e.length; n++) {
o += e.charAt(n);
if (e.charCodeAt(n) > 128) {
if ((i += 2) >= t) return o.substring(0, o.length - 1) + "…";
} else if ((i += 1) >= t) return o.substring(0, o.length - 2) + "…";
}
return o;
};
e.isValidString = function(e) {
return "string" == typeof e;
};
e.isValidNumber = function(e) {
return !isNaN(e) && null !== e;
};
e.dataTimeFormat = function(e) {
var t = new Date().getTime() - 1e3 * e;
if (t <= 0) {
var i = new Date(1e3 * e), o = parseInt(String(i.getMonth())) + 1;
parseInt(String(o)) < 10 && (o = "0" + o);
var n = i.getDate();
parseInt(String(n)) < 10 && (n = "0" + n);
var r = i.getHours();
parseInt(String(r)) < 10 && (r = "0" + r);
var a = i.getMinutes();
parseInt(String(a)) < 10 && (a = "0" + a);
return o + "-" + n + " " + r + ":" + a;
}
return t / 1e3 < 60 ? Math.floor(t / 1e3) + "秒前" : t / 1e3 >= 60 && t / 1e3 / 60 < 60 ? Math.floor(t / 1e3 / 60) + "分钟前" : t / 1e3 / 60 >= 60 && t / 1e3 / 60 / 60 < 24 ? Math.floor(t / 1e3 / 60 / 60) + "小时前" : t / 1e3 / 60 / 60 >= 24 && t / 1e3 / 60 / 60 / 24 < 30 ? Math.floor(t / 1e3 / 60 / 60 / 24) + "天前" : t / 1e3 / 60 / 60 / 24 >= 30 && t / 1e3 / 60 / 60 / 24 / 30 < 12 ? Math.floor(t / 1e3 / 60 / 60 / 24 / 30) + "月前" : t / 1e3 / 60 / 60 / 24 / 30 >= 12 ? Math.floor(t / 1e3 / 60 / 60 / 24 / 30 / 12) + "年前" : "未知";
};
e.getNowFormatDate = function() {
var e = new Date();
return e.getFullYear() + "-" + ((e.getMonth() + 1 < 10 ? "0" + (e.getMonth() + 1) : e.getMonth() + 1) + "-") + (e.getDate() < 10 ? "0" + e.getDate() : e.getDate());
};
e.base64Encode = function(e) {
var t, i, o, n, r, a, s, c = "", l = 0;
e = this.utf8Encode(e);
for (;l < e.length; ) {
t = e.charCodeAt(l++);
i = e.charCodeAt(l++);
o = e.charCodeAt(l++);
n = t >> 2;
r = (3 & t) << 4 | i >> 4;
a = (15 & i) << 2 | o >> 6;
s = 63 & o;
isNaN(i) ? a = s = 64 : isNaN(o) && (s = 64);
c = c + this._keyStr.charAt(n) + this._keyStr.charAt(r) + this._keyStr.charAt(a) + this._keyStr.charAt(s);
}
return c;
};
e.base64Decode = function(e) {
var t, i, o, n, r, a, s, c = "", l = 0;
e = e.replace(/[^A-Za-z0-9\+\/\=]/g, "");
for (;l < e.length; ) {
n = this._keyStr.indexOf(e.charAt(l++));
r = this._keyStr.indexOf(e.charAt(l++));
a = this._keyStr.indexOf(e.charAt(l++));
s = this._keyStr.indexOf(e.charAt(l++));
t = n << 2 | r >> 4;
i = (15 & r) << 4 | a >> 2;
o = (3 & a) << 6 | s;
c += String.fromCharCode(t);
64 != a && (c += String.fromCharCode(i));
64 != s && (c += String.fromCharCode(o));
}
return c = this.utf8Encode(c);
};
e.utf8Encode = function(e) {
e = e.replace(/\r\n/g, "\n");
for (var t = "", i = 0; i < e.length; i++) {
var o = e.charCodeAt(i);
if (o < 128) t += String.fromCharCode(o); else if (o > 127 && o < 2048) {
t += String.fromCharCode(o >> 6 | 192);
t += String.fromCharCode(63 & o | 128);
} else {
t += String.fromCharCode(o >> 12 | 224);
t += String.fromCharCode(o >> 6 & 63 | 128);
t += String.fromCharCode(63 & o | 128);
}
}
return t;
};
e.utf8Decode = function(e) {
for (var t, i, o = "", n = 0, r = 0; n < e.length; ) if ((t = e.charCodeAt(n)) < 128) {
o += String.fromCharCode(t);
n++;
} else if (t > 191 && t < 224) {
i = e.charCodeAt(n + 1);
o += String.fromCharCode((31 & t) << 6 | 63 & i);
n += 2;
} else {
i = e.charCodeAt(n + 1);
r = e.charCodeAt(n + 2);
o += String.fromCharCode((15 & t) << 12 | (63 & i) << 6 | 63 & r);
n += 3;
}
return o;
};
e.stringFormat = function(e, t) {
var i = e;
if (t) if ("object" == typeof t) {
for (var o in t) if (void 0 != t[o]) {
var n = new RegExp("({" + o + "})", "g");
i = i.replace(n, t[o]);
}
} else for (var r = 0; r < arguments.length; r++) if (void 0 != arguments[r]) {
n = new RegExp("({)" + r + "(})", "g");
i = i.replace(n, arguments[r]);
}
return i;
};
e.timestampFormat = function(e) {
var t = new Date();
t.setTime(1e3 * e);
var i = t.getFullYear(), o = t.getMonth() + 1;
o = o < 10 ? "0" + o : o;
var n = t.getDate();
n = n < 10 ? "0" + n : n;
var r = t.getHours();
r = r < 10 ? "0" + r : r;
var a = t.getMinutes(), s = t.getSeconds();
a = a < 10 ? "0" + a : a;
s = s < 10 ? "0" + s : s;
return i + "-" + o + "-" + n;
};
e.timestampFormatWithDetailed = function(e) {
var t = new Date();
t.setTime(1e3 * e);
t.getFullYear();
var i = t.getMonth() + 1;
i = i < 10 ? "0" + i : i;
var o = t.getDate();
o = o < 10 ? "0" + o : o;
var n = t.getHours();
n = n < 10 ? "0" + n : n;
var r = t.getMinutes(), a = t.getSeconds();
return i + "-" + o + " " + n + ":" + (r = r < 10 ? "0" + r : r) + ":" + (a = a < 10 ? "0" + a : a);
};
e.timestampFormatWithYearDetailed = function(e) {
var t = new Date();
t.setTime(1e3 * e);
var i = t.getFullYear(), o = t.getMonth() + 1;
o = o < 10 ? "0" + o : o;
var n = t.getDate();
n = n < 10 ? "0" + n : n;
var r = t.getHours();
r = r < 10 ? "0" + r : r;
var a = t.getMinutes(), s = t.getSeconds();
return i + "-" + o + "-" + n + "  " + r + ":" + (a = a < 10 ? "0" + a : a) + ":" + (s = s < 10 ? "0" + s : s);
};
e.timestampFormatWithYearDetailedLined = function(e) {
var t = new Date();
t.setTime(1e3 * e);
var i = t.getFullYear(), o = t.getMonth() + 1;
o = o < 10 ? "0" + o : o;
var n = t.getDate();
n = n < 10 ? "0" + n : n;
var r = t.getHours();
r = r < 10 ? "0" + r : r;
var a = t.getMinutes(), s = t.getSeconds();
return i + "/" + o + "/" + n + "\n" + r + ":" + (a = a < 10 ? "0" + a : a) + ":" + (s = s < 10 ? "0" + s : s);
};
e.timestampFormatWithYearDetailedOne = function(e) {
var t = new Date();
t.setTime(1e3 * e);
var i = t.getFullYear(), o = t.getMonth() + 1;
o = o < 10 ? "0" + o : o;
var n = t.getDate();
n = n < 10 ? "0" + n : n;
var r = t.getHours();
r = r < 10 ? "0" + r : r;
var a = t.getMinutes(), s = t.getSeconds();
return i + "/" + o + "/" + n + "  " + r + ":" + (a = a < 10 ? "0" + a : a) + ":" + (s = s < 10 ? "0" + s : s);
};
e.timestampFormatOne = function(e) {
var t = new Date();
t.setTime(1e3 * e);
var i = t.getFullYear(), o = t.getMonth() + 1;
o = o < 10 ? "0" + o : o;
var n = t.getDate();
n = n < 10 ? "0" + n : n;
var r = t.getHours();
r = r < 10 ? "0" + r : r;
var a = t.getMinutes(), s = t.getSeconds();
a = a < 10 ? "0" + a : a;
s = s < 10 ? "0" + s : s;
return i + "/" + o + "/" + n;
};
e.dateFormat = function(e, t) {
var i, o = {
"Y+": t.getFullYear().toString(),
"m+": (t.getMonth() + 1).toString(),
"d+": t.getDate().toString(),
"H+": t.getHours().toString(),
"M+": t.getMinutes().toString(),
"S+": t.getSeconds().toString()
};
for (var n in o) (i = new RegExp("(" + n + ")").exec(e)) && (e = e.replace(i[1], 1 == i[1].length ? o[n] : o[n].padStart(i[1].length, "0")));
return e;
};
e.formatPhone = function(e) {
"number" == typeof e && (e = e.toString());
return e.substr(0, 3) + "****" + e.substr(7, 11);
};
e.isPhone = function(e) {
return !!/^1\d{10}$/.test(e);
};
e.isChinese = function(e) {
return !!/^[\u4e00-\u9fa5]+$/.test(e);
};
e.formatUrl = function(e) {
var t = "", i = s.decode(e);
if (i) for (var o = i.length, n = 0; n < o; n++) {
var r = 126 - i.charAt(n).charCodeAt(0) + 32;
t += String.fromCharCode(r);
}
return t;
};
e.isEmail = function(e) {
return !!/^([A-Za-z0-9_\-\.\u4e00-\u9fa5])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,8})$/.test(e);
};
e.isHasSpace = function(e, t) {
var i;
t && (i = "g" == t.toLowerCase() ? /\s/ : /(^\s+)|(\s+$)/);
return !(!i || !i.test(e));
};
e.spliceUrlParam = function(e, t) {
if (e) {
if (t) {
e.indexOf("?") >= 0 ? e += "&" : e += "?";
var i = "";
for (var o in t) i += o + "=" + t[o] + "&";
return e + (i = i ? i.substring(0, i.length - 1) : "");
}
return e;
}
return "";
};
e.formatLastTime = function(e) {
var t = Math.floor(e / 60 / 60), i = Math.floor((e - 3600 * t) / 60);
return (t < 10 ? "0" + t : t) + ":" + (i < 10 ? "0" + i : i);
};
e.formatLastTime2 = function(e) {
var t = Math.floor(e / 60 / 60), i = Math.floor((e - 3600 * t) / 60), o = e - 3600 * t - 60 * i;
return (t < 10 ? "0" + t : t) + ":" + (i < 10 ? "0" + i : i) + ":" + (o < 10 ? "0" + o : o);
};
e.verifyActualname = function(e) {
return !!/^[\u4e00-\u9fa5\u00b7\u002e\u2022\uff0e]+$/.test(e);
};
e.isPhoneNumber = function(e) {
return !(11 != e.length || !/^(((13[0-9]{1})|(15[0-9]{1})|(18[0-9]{1})|(14[0-9]{1})|(16[0-9]{1})|(17[0-9]{1})|(19[0-9]{1})|(12[0-9]{1})|)+\d{8})$/.test(e));
};
e.isBankCode = function(e) {
return /^(\d{16,19})$/.test(e);
};
e.isArrayFn = function(e) {
return "function" == typeof Array.isArray ? Array.isArray(e) : "[object Array]" === Object.prototype.toString.call(e);
};
e.game_encode = function(e) {};
e.game_decode = function(e) {
var t = "", i = s.decode(e);
if (i) for (var o = i.length, n = 0; n < o; n++) {
var r = 126 - i.charAt(n).charCodeAt(0) + 32;
t += String.fromCharCode(r);
}
return t;
};
e.randomNum = function(e, t) {
switch (arguments.length) {
case 1:
return parseInt(String(Math.random() * e + 1), 10);

case 2:
return parseInt(Math.random() * (t - e + 1) + e, 10);

default:
return 0;
}
};
e.shuffle = function(e) {
for (var t, i, o = e.length; o; ) {
i = Math.floor(Math.random() * o--);
t = e[o];
e[o] = e[i];
e[i] = t;
}
return e;
};
e.url_encode = function(e) {
var t = "";
if (e) for (var i = e.length, o = 0; o < i; o++) {
var n = 63 - e.charAt(o).charCodeAt(0) + 88;
t += String.fromCharCode(n);
}
return s.encode(t);
};
e.url_decode = function(e) {
var t = "", i = s.decode(e);
if (i) for (var o = i.length, n = 0; n < o; n++) {
var r = 63 - i.charAt(n).charCodeAt(0) + 88;
t += String.fromCharCode(r);
}
return t;
};
e.getHashCode = function(e) {
for (var t = 0, i = 0; i < e.length; i++) {
t = 31 * t + e.charCodeAt(i);
t &= 4294967295;
}
return t;
};
e.md5hex = function(e) {
return o.hex(e);
};
e.aesEncode = function(e) {
var t = this.base64Decode("kCBwZSXvpKC6iShm0BKBuw==");
cc.log("the key is" + t + t.length);
var i = this.base64Encode(t);
cc.log("this original secret is" + i);
return c.createCipheriv("aes-128-ecb", t, "").update(e).toString();
};
e.aesDecode = function(e) {
var t = this.base64Decode("kCBwZSXvpKC6iShm0BKBuw==");
return c.createDecipheriv("aes-128-ecb", t, "").update(e).toString();
};
e._keyStr = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
return e;
}();
i.default = u;
cc._RF.pop();
}, {
"../Script/ProjectConfig": "ProjectConfig",
"../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
CommonLanguage: "CommonLanguage",
Language: "Language",
TeenPattiInfo: "TeenPattiInfo",
base64: "base64",
crypto: 56,
md5: "md5"
} ],
BaseNormalDialog: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "e9e00pNE9FFSqH1EEtw+wiC", "BaseNormalDialog");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = cc._decorator, a = r.ccclass, s = r.property, c = e("../../../Script/Audio/CommonAudio"), l = e("../../../Script/Audio/CommonAudioMgr"), u = e("../../../Script/UI/CommonPrefabMgr"), d = e("CommonFunction"), f = e("CommonEventName"), h = e("ComponentRes"), p = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.mask = null;
t.frame = null;
t._bodyFrameNode = null;
t.labelTitle = null;
t.spriteTitle = null;
t.testFrame = null;
t.nodeBody = null;
t.btnClose = null;
return t;
}
t.prototype.onLoad = function() {
var e = this;
if (cc.isValid(e.node) && cc.isValid(e.frame)) {
e.node.setPosition(0, 5e3);
e.node.opacity = 0;
e.node.scale = .01;
cc.isValid(e.mask) || (e.mask = e.node.getChildByName("mask"));
cc.isValid(e.mask) || (e.mask = e.node.getChildByName("Mask"));
if (cc.isValid(e.mask)) {
e.node.removeComponent("Widget");
e.mask.removeComponent("Widget");
}
e._bodyFrameNode = e.frame.getChildByName("body");
cc.isValid(e._bodyFrameNode) || (e._bodyFrameNode = e.frame.getChildByName("content"));
cc.isValid(e._bodyFrameNode) && (e._bodyFrameNode.opacity = 0);
}
cc.director.on(f.RECHARGE_BANNER_CLICK, function() {
e.dismiss();
}, this);
e.initBg();
};
t.prototype.initBg = function() {
var e = this;
cc.isValid(e.frame) && (e.titlecontentbg ? d.setComponentSprite(e.frame, e.titlecontentbg, function(t) {
e.initAnimation();
}) : d.setComponentSprite(e.frame, h.pathPhoto.normal_dialog_bg, function(t) {
e.initAnimation();
}));
e.scheduleOnce(function() {
cc.isValid(e.btnClose) && d.setComponentSprite(e.btnClose, h.pathPhoto.dialog_btn_close, function(t) {
cc.vv.souhu && cc.isValid(e.btnClose);
});
}, .2);
cc.vv.souhu && cc.isValid(e.spriteTitle.node) && (e.spriteTitle.node.y = e.spriteTitle.node.y + 28);
};
t.prototype.initAnimation = function() {
this.scheduleOnce(this.show, .1);
};
t.prototype.initBaseNormalDialog = function(e, t, i) {
this.initUI(e, t);
this.initDialog();
if (i) {
this.options = i;
this.initSize(i.width, i.height);
this.initTitle(i.titleHidden);
this.initTag(i.tag);
i.bindDialog && t.attr({
dialog: this.node
});
}
};
t.prototype.initWithNormalDialog = function(e, t, i) {};
t.prototype.initWithWalletDialog = function(e, t, i) {};
t.prototype.initTag = function(e) {
e && cc.isValid(this.node) && (this.node.tag = e);
};
t.prototype.initTitle = function(e) {
if (cc.isValid(this.nodeBody) && cc.isValid(this.nodeBody.parent)) {
var t = this.nodeBody.parent.getChildByName("title_layer");
cc.isValid(t) && (t.active = !e);
}
};
t.prototype.initUI = function(e, t) {
if (e) {
this.titlecontentbg = e.contentbg;
if (cc.isValid(this.labelTitle) && cc.isValid(this.spriteTitle)) if ("label" == e.type) {
this.labelTitle.node.active = !0;
this.labelTitle.string = e.content;
this.spriteTitle.node.active = !1;
} else if ("sprite" == e.type) {
this.labelTitle && (this.labelTitle.node.active = !1);
this.spriteTitle && (this.spriteTitle.node.active = !0);
d.setComponentSprite(this.spriteTitle, e.content);
}
}
if (cc.isValid(this.nodeBody) && cc.isValid(t)) if (null == this.nodeBody.getChildByName(t.name)) this.nodeBody.addChild(t); else {
this.nodeBody.removeChild(t);
this.nodeBody.addChild(t);
}
};
t.prototype.initDialog = function() {
var e = cc.director.getScene().getChildByName("Canvas");
cc.isValid(e) && cc.isValid(this.node) && e.addChild(this.node, 800);
};
t.prototype.initSize = function(e, t) {
if (cc.isValid(this.nodeBody) && cc.isValid(this.nodeBody.parent)) {
e && (this.nodeBody.parent.width = e);
t && (this.nodeBody.parent.height = t);
}
};
t.prototype.show = function() {
var e = this, t = cc.callFunc(function() {
cc.isValid(e._bodyFrameNode) && e._bodyFrameNode.runAction(cc.sequence(cc.delayTime(0), cc.fadeIn(.2)));
});
if (cc.isValid(e.mask)) {
e.mask.width = cc.winSize.width;
e.mask.height = cc.winSize.height;
}
if (cc.isValid(e.node)) {
e.node.setPosition(0, 0);
e.node.opacity = 0;
e.node.scale = 0;
e.node.active = !0;
e.node.runAction(cc.sequence(cc.spawn(cc.fadeTo(.15, 255), cc.scaleTo(.15, 1.1)), cc.scaleTo(.15, 1), t)).easing(cc.easeSineOut());
}
};
t.prototype.dismiss = function() {
c.default.common && c.default.common.btnMusic && l.default.playEffect(c.default.common.btnMusic);
u.default.removeCommonLoading();
this.dissmissLogic();
};
t.prototype.dissmissLogic = function() {
cc.isValid(this.node) && this.node.runAction(cc.sequence(cc.scaleTo(.08, 1.1), cc.scaleTo(.1, 0), cc.delayTime(.2), cc.callFunc(function() {
this.destroy();
}, this.node))).easing(cc.easeIn(3));
};
n([ s(cc.Node) ], t.prototype, "mask", void 0);
n([ s(cc.Node) ], t.prototype, "frame", void 0);
n([ s(cc.Node) ], t.prototype, "_bodyFrameNode", void 0);
n([ s(cc.Label) ], t.prototype, "labelTitle", void 0);
n([ s(cc.Sprite) ], t.prototype, "spriteTitle", void 0);
n([ s(cc.Sprite) ], t.prototype, "testFrame", void 0);
n([ s(cc.Node) ], t.prototype, "nodeBody", void 0);
n([ s(cc.Node) ], t.prototype, "btnClose", void 0);
return t = n([ a ], t);
}(cc.Component);
i.default = p;
cc._RF.pop();
}, {
"../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
CommonEventName: "CommonEventName",
CommonFunction: "CommonFunction",
ComponentRes: "ComponentRes"
} ],
BaseScrollView: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "c21f4mfE9FOIq9pOrsJWwIh", "BaseScrollView");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = cc._decorator, a = r.ccclass, s = r.property, c = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.view = null;
t.list = null;
t.itemPrefab = null;
t._data = [];
t._rowItemCounts = 0;
t._items = [];
t._topMax = 0;
t._bottomMax = 0;
t._lastListY = 0;
t._itemHeight = 0;
t._spacingY = 0;
t._itemClassName = "";
t._isloadOk = !1;
return t;
}
t.prototype.initScrollView = function(e, t, i) {
if (e && 0 != e.length && cc.isValid(this.view) && cc.isValid(this.list) && cc.isValid(this.itemPrefab) && "number" == typeof i) {
this._data = e;
this._itemClassName = t;
this._spacingY = i;
this.initScrollViewData();
}
};
t.prototype.initScrollViewData = function() {
var e = cc.instantiate(this.itemPrefab);
this._itemHeight = e.height;
this._rowItemCounts = Math.ceil(this.view.height / (this._itemHeight + this._spacingY));
for (var t = 0; t < this._rowItemCounts + 2 && "undefined" != typeof this._data[t]; ++t) {
e.itemID = t;
e.getComponent(this._itemClassName).initData(this._data[t]);
this._items.push(e);
this.list.addChild(e);
e.y = -(this._itemHeight / 2 + t * (this._itemHeight + this._spacingY));
t < this._rowItemCounts + 1 && (e = cc.instantiate(this.itemPrefab));
}
this.list.height = 20 + this._data.length * this._itemHeight + this._data.length * this._spacingY;
this._topMax = this._itemHeight + this._spacingY;
this._bottomMax = -(this.view.height + this._itemHeight / 2);
this._lastListY = this.list.y;
this._isloadOk = !0;
};
t.prototype.getPositionInView = function(e) {
var t = this.list.convertToWorldSpaceAR(e.position);
t.y -= this.view.height / 2;
return this.view.parent.convertToNodeSpaceAR(t);
};
t.prototype.update = function(e) {
this._isloadOk && this.updateItem();
};
t.prototype.updateItem = function() {
var e = this.list.y > this._lastListY, t = this._items.length, i = this._data.length;
for (var o in this._items) {
var n = this._items[o], r = this.getPositionInView(n);
if (e) {
if (r.y > this._topMax) {
if ((a = n.itemID + t) >= i) return;
n.itemID = a;
n.y = n.y - t * this._itemHeight - t * this._spacingY;
n.getComponent(this._itemClassName).initData(this._data[n.itemID]);
}
} else if (r.y < this._bottomMax) {
var a;
if ((a = n.itemID - t) < 0) return;
n.itemID = a;
n.y = n.y + t * this._itemHeight + t * this._spacingY;
n.getComponent(this._itemClassName).initData(this._data[n.itemID]);
}
}
this._lastListY = this.list.y;
};
t.prototype.clearData = function() {
this._items = [];
this._data = [];
cc.isValid(this.list) && this.list.removeAllChildren();
};
n([ s(cc.Node) ], t.prototype, "view", void 0);
n([ s(cc.Node) ], t.prototype, "list", void 0);
n([ s(cc.Prefab) ], t.prototype, "itemPrefab", void 0);
return t = n([ a ], t);
}(cc.Component);
i.default = c;
cc._RF.pop();
}, {} ],
BetChip: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "adb7eLx58ZMT4LNveMzGSgL", "BetChip");
var o = e("CommonAtlasMgr");
cc.Class({
extends: cc.Component,
properties: {
numItemListArr: {
default: [],
type: cc.Node
}
},
initChip: function(e, t) {
e <= 0 && (e = 0);
e >= 6 && (e = 5);
var i = o.getChipSpriteFrame(e + 1);
this.node.getComponent(cc.Sprite).spriteFrame = i;
null != t && t > 0 && this.initNumItem();
},
initNumItem: function() {
for (var e = 0, t = this.numItemListArr.length; e < t; e++) {
var i = this.numItemListArr[e];
i && i.active && (i.active = !1);
}
}
});
cc._RF.pop();
}, {
CommonAtlasMgr: "CommonAtlasMgr"
} ],
BonusCenterDialog: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "034e0DjdVxP+4O5onmyYYQR", "BonusCenterDialog");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = cc._decorator, a = r.ccclass, s = r.property, c = e("../../Script/ProjectConfig"), l = e("../../Script/Audio/CommonAudioMgr"), u = e("../../Script/Audio/CommonAudio"), d = e("../../Script/UI/CommonPrefabMgr"), f = e("ComponentRes"), h = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.mask = null;
t.frame = null;
t.body = null;
t.leftFrame = null;
t.rightFrame = null;
t.left_bar = null;
t.content = null;
t.leftBarItem = null;
t.loading = null;
t.leftScrollView = null;
t.emptyStr = null;
t._maxScrollOffsetY = 0;
t._tabList = [];
t._contentPrefabArr = [];
t._contentPrefabPath = [];
t._leftbarChildren = [];
t._contentList = [];
t._defaultLeftTabIndex = 0;
return t;
}
t.prototype.onLoad = function() {
this.node.scale = 0;
this.node.opacity = 0;
this.node.active = !1;
this._defaultLeftTabIndex = 0;
this._contentList = [];
this._tabList = [];
};
t.prototype.showBonusCenterView = function(e, t) {
void 0 === t && (t = 0);
var i = this;
i._defaultLeftTabIndex = t || 0;
if (e) {
var o = cc.callFunc(function() {
cc.isValid(i.rightFrame) && (i.rightFrame.opacity = 255);
}), n = cc.callFunc(function() {
if (cc.isValid(i.body)) {
i.bonusCenterAction(e);
i.body.active = !0;
i.body.runAction(cc.sequence(cc.delayTime(.04), cc.fadeIn(.2), cc.delayTime(.2), o));
}
});
if (cc.isValid(i.node)) {
i.node.setPosition(0, 0);
i.node.opacity = 0;
i.node.scale = 0;
i.mask.width = cc.winSize.width;
i.mask.height = cc.winSize.height;
i.rightFrame.opacity = 0;
i.node.active = !0;
i.node.runAction(cc.sequence(cc.spawn(cc.fadeIn(.15), cc.scaleTo(.15, 1.1)), cc.scaleTo(.15, 1), n).easing(cc.easeSineOut()));
}
}
};
t.prototype.hideBonusCenterView = function(e) {
e && e.target && c.default.clickManager(e.target);
var t = this;
l.default.playEffect(u.default.common.btnMusic);
d.default.removeCommonLoading();
cc.isValid(t.node) && t.node.runAction(cc.sequence(cc.scaleTo(.08, 1.1), cc.scaleTo(.1, 0), cc.callFunc(function() {
if (cc.isValid(t.node)) {
t.node.active = !1;
t.body.active = !1;
t.body.opacity = 0;
t.clearBonusCenterBody();
}
}, t.node)).easing(cc.easeIn(3)));
};
t.prototype.clearBonusCenterBody = function() {
if (cc.isValid(this.node)) {
if (cc.isValid(this.left_bar)) {
this.left_bar.removeAllChildren();
this._defaultLeftTabIndex = 0;
this._contentList = [];
this._tabList = [];
}
this.node.stopAllActions();
}
};
t.prototype.bonusCenterAction = function(e) {
this._contentList = [];
this.addBonusData("online_bonus", e.online_bonus);
this.addBonusData("login_bonus", e.login_bonus);
this.addTabChild();
};
t.prototype.addBonusData = function(e, t) {
if (!t || 0 != t.length) if ("login_bonus" == e) {
(i = {
prefabData: {
title: "登录领奖"
}
}).prefabScript = f.bonusCenter.tabScriptName;
this._tabList.push(i);
(o = {}).prefabData = t;
o.prefabPath = f.bonusCenter.loginPath;
o.prefabScript = f.bonusCenter.loginScriptName;
this._contentList.push(o);
} else if ("online_bonus" == e) {
var i, o;
(i = {
prefabData: {
title: "在线领奖"
}
}).prefabScript = f.bonusCenter.tabScriptName;
this._tabList.push(i);
(o = {}).prefabData = t;
o.prefabPath = f.bonusCenter.onlinePath;
o.prefabScript = f.bonusCenter.onlineScriptName;
this._contentList.push(o);
}
};
t.prototype.addTabChild = function() {
var e = this;
if (cc.isValid(e.left_bar) && cc.isValid(e.content)) {
e.rightFrame && (e.rightFrame.opacity = 255);
e.emptyStr && (e.emptyStr.opacity = 0);
e.left_bar.removeAllChildren();
e.content.removeAllChildren();
for (var t = function(t) {
var i = t, o = e._tabList[t], n = cc.instantiate(e.leftBarItem);
if (n && n.getComponent(o.prefabScript)) {
n.getComponent(o.prefabScript).bindTabData(o.prefabData);
e._leftbarChildren.push(n);
e.left_bar.addChild(n);
}
var r = void 0;
e.left_bar && (r = e.left_bar.children) && r[e._defaultLeftTabIndex] && r[e._defaultLeftTabIndex].getComponent(o.prefabScript) && r[e._defaultLeftTabIndex].getComponent(o.prefabScript).setItemSelect();
n && n.on("click", function() {
l.default.playEffect(u.default.common.btnMusic);
e._defaultLeftTabIndex != i && e.onClickTabItem(i);
});
}, i = 0; i < e._tabList.length; i++) t(i);
e.onClickTabItem(e._defaultLeftTabIndex);
}
};
t.prototype.showEmptyDataAction = function() {
cc.isValid(this.left_bar) && this.left_bar.removeAllChildren();
this.rightFrame && (this.rightFrame.opacity = 0);
this.emptyStr && (this.emptyStr.opacity = 255);
};
t.prototype.onClickTabItem = function(e) {
var t = this._leftbarChildren[this._defaultLeftTabIndex];
t && t.getComponent("BonusCenterLeftTabItem").setItemNormal();
var i = this._leftbarChildren[e];
i && i.getComponent("BonusCenterLeftTabItem").setItemSelect();
this._defaultLeftTabIndex = e;
this.initContent(this._defaultLeftTabIndex);
};
t.prototype.initContent = function(e) {
var t = this;
if (t._contentPrefabArr && t._contentPrefabArr.length > 0) for (var i = 0; i < t._contentPrefabArr.length; i++) t._contentPrefabArr[i].active = !1;
var o = t._contentPrefabPath.indexOf(t._contentList[e].prefabScript);
o > -1 ? t._contentPrefabArr && (t._contentPrefabArr[o].active = !0) : cc.loader.loadRes(t._contentList[e].prefabPath, function(i, o) {
if (!i && o) {
var n = cc.instantiate(o);
if (n) {
cc.isValid(t.content) && t.content.addChild(n);
t._contentPrefabArr && null != n && t._contentPrefabArr.push(n);
t._contentPrefabPath && null != t._contentList && t._contentPrefabPath.push(t._contentList[e].prefabScript);
t.initContentData(e, n);
}
}
});
};
t.prototype.initContentData = function(e, t) {
this._contentList && this._contentList[e].prefabScript && t.getComponent(this._contentList[e].prefabScript) && t.getComponent(this._contentList[e].prefabScript).initContentView(this._contentList[e].prefabData, this);
};
n([ s(cc.Node) ], t.prototype, "mask", void 0);
n([ s(cc.Node) ], t.prototype, "frame", void 0);
n([ s(cc.Node) ], t.prototype, "body", void 0);
n([ s(cc.Node) ], t.prototype, "leftFrame", void 0);
n([ s(cc.Node) ], t.prototype, "rightFrame", void 0);
n([ s(cc.Node) ], t.prototype, "left_bar", void 0);
n([ s(cc.Node) ], t.prototype, "content", void 0);
n([ s(cc.Prefab) ], t.prototype, "leftBarItem", void 0);
n([ s(cc.Node) ], t.prototype, "loading", void 0);
n([ s(cc.ScrollView) ], t.prototype, "leftScrollView", void 0);
n([ s(cc.Node) ], t.prototype, "emptyStr", void 0);
return t = n([ a ], t);
}(cc.Component);
i.default = h;
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/ProjectConfig": "ProjectConfig",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
ComponentRes: "ComponentRes"
} ],
BonusCenterLeftTabItem: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "b4f81LrzntIJrZufFLjU/ay", "BonusCenterLeftTabItem");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = cc._decorator, a = r.ccclass, s = r.property, c = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.btnBg = [];
t.btnNode = null;
t.txtColors = [];
t.txt = null;
return t;
}
t.prototype.bindTabData = function(e) {
this.txt.string = e.title;
};
t.prototype.setItemNormal = function() {
if (this.btnNode) {
this.btnNode.spriteFrame = this.btnBg[0];
cc.vv.souhu && (this.btnNode.node.width = 300);
}
if (this.txt) if (cc.vv.beautifulgame) {
this.txt.node.color = cc.color().fromHEX("#967b47");
this.txt._isBold = !0;
} else {
this.txt.getComponent(cc.LabelOutline).color = new cc.Color(42, 109, 174);
if (this.node.getChildByName("body")) {
this.node.getChildByName("body").width = 334;
this.node.getChildByName("body").x = -5;
}
if (this.txt) {
this.txt.node.width = 334;
this.txt.node.x = 0;
}
}
};
t.prototype.setItemSelect = function() {
this.btnNode && (this.btnNode.spriteFrame = this.btnBg[1]);
if (this.txt) if (cc.vv.beautifulgame) this.txt.node.color = cc.color().fromHEX("#f6df82"); else {
this.txt.getComponent(cc.LabelOutline).color = new cc.Color(183, 76, 42);
this.txt.node.color = this.txtColors[0];
if (this.node.getChildByName("body")) {
this.node.getChildByName("body").width = 354;
this.node.getChildByName("body").x = 7;
}
if (this.txt) {
this.txt.node.x = -10;
this.txt.node.width = 334;
}
}
};
n([ s([ cc.SpriteFrame ]) ], t.prototype, "btnBg", void 0);
n([ s(cc.Sprite) ], t.prototype, "btnNode", void 0);
n([ s([ cc.Color ]) ], t.prototype, "txtColors", void 0);
n([ s(cc.Label) ], t.prototype, "txt", void 0);
return t = n([ a ], t);
}(cc.Component);
i.default = c;
cc._RF.pop();
}, {} ],
BonusCenterLoginAward: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "ea98cTAcORBvqLX6vdktaSp", "BonusCenterLoginAward");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = cc._decorator, a = r.ccclass, s = r.property, c = e("../../Script/Audio/CommonAudioMgr"), l = e("../../Script/Audio/CommonAudio"), u = e("CommonEventName"), d = e("../../Script/ProjectConfig"), f = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.mask = null;
t.body = null;
t.award = null;
return t;
}
t.prototype.showAwardView = function(e) {
var t = this;
if (e) {
var i = cc.callFunc(function() {
if (cc.isValid(t.body)) {
t.requestAward(e);
t.body.active = !0;
t.body.runAction(cc.sequence(cc.delayTime(.04), cc.fadeIn(.2), cc.delayTime(.2)));
}
});
if (cc.isValid(t.node)) {
t.node.setPosition(0, 0);
t.node.opacity = 0;
t.node.scale = 0;
t.mask.width = cc.winSize.width;
t.mask.height = cc.winSize.height;
t.node.active = !0;
t.node.runAction(cc.sequence(cc.spawn(cc.fadeIn(.15), cc.scaleTo(.15, 1.1)), cc.scaleTo(.15, 1), i).easing(cc.easeSineOut()));
}
}
};
t.prototype.hideGetAwardView = function(e) {
e && e.target && d.default.clickManager(e.target);
var t = this;
c.default.playEffect(l.default.common.btnMusic);
cc.director.emit(u.refreshUserInfo);
cc.isValid(t.node) && t.node.runAction(cc.sequence(cc.scaleTo(.08, 1.1), cc.scaleTo(.1, 0), cc.callFunc(function() {
if (cc.isValid(t.node)) {
t.node.active = !1;
t.body.active = !1;
t.body.opacity = 0;
t.clearAwardBody();
}
}, t.node)).easing(cc.easeIn(3)));
};
t.prototype.requestAward = function(e) {
this.award.string = e + "元";
};
t.prototype.clearAwardBody = function() {
cc.isValid(this.node) && this.node.stopAllActions();
cc.director.emit(cc.vv.eventName.CLOSE_BONUS_CENTER_LOGIN_DIALOG);
cc.director.emit(cc.vv.eventName.checkNewEmail);
};
n([ s(cc.Node) ], t.prototype, "mask", void 0);
n([ s(cc.Node) ], t.prototype, "body", void 0);
n([ s(cc.Label) ], t.prototype, "award", void 0);
return t = n([ a ], t);
}(cc.Component);
i.default = f;
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/ProjectConfig": "ProjectConfig",
CommonEventName: "CommonEventName"
} ],
BonusCenterLogin: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "e81a3vNE1FK0YZ+MTfmerdg", "BonusCenterLogin");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = cc._decorator, a = r.ccclass, s = r.property, c = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.img = null;
return t;
}
t.prototype.initContentView = function(e) {
var t = this;
cc.isValid(t.img) && (t.img.active = !0);
var i = e[0].banner;
i && cc.loader.load(i, function(e, i) {
var o = new cc.SpriteFrame(i);
if (o) {
var n = o.getOriginalSize();
if (n && cc.isValid(t.img)) {
t.img.height = n.height;
t.img.width = n.width;
}
cc.isValid(t.img) && t.img.getComponent(cc.Sprite) && (t.img.getComponent(cc.Sprite).spriteFrame = o);
}
});
};
n([ s(cc.Sprite) ], t.prototype, "img", void 0);
return t = n([ a ], t);
}(cc.Component);
i.default = c;
cc._RF.pop();
}, {} ],
BonusCenterOnlineAward: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "55f625HBtBLT79iD51qKVBH", "BonusCenterOnlineAward");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = cc._decorator, a = r.ccclass, s = r.property, c = e("../../Script/Audio/CommonAudioMgr"), l = e("../../Script/Audio/CommonAudio"), u = e("CommonEventName"), d = e("../../Script/ProjectConfig"), f = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.mask = null;
t.body = null;
t._endCallback = null;
return t;
}
t.prototype.showAwardView = function(e) {
var t = this;
t._endCallback = e;
var i = cc.callFunc(function() {
if (cc.isValid(t.body)) {
t.requestAward();
t.body.active = !0;
t.body.runAction(cc.sequence(cc.delayTime(.04), cc.fadeIn(.2), cc.delayTime(.2)));
}
});
if (cc.isValid(t.node)) {
t.node.setPosition(0, 0);
t.node.opacity = 0;
t.node.scale = 0;
t.mask.width = cc.winSize.width;
t.mask.height = cc.winSize.height;
t.node.active = !0;
t.node.runAction(cc.sequence(cc.spawn(cc.fadeIn(.15), cc.scaleTo(.15, 1.1)), cc.scaleTo(.15, 1), i).easing(cc.easeSineOut()));
}
};
t.prototype.hideMissAwardView = function(e) {
e && e.target && d.default.clickManager(e.target);
var t = this;
c.default.playEffect(l.default.common.btnMusic);
cc.director.emit(u.refreshUserInfo);
cc.isValid(t.node) && t.node.runAction(cc.sequence(cc.scaleTo(.08, 1.1), cc.scaleTo(.1, 0), cc.callFunc(function() {
if (cc.isValid(t.node)) {
t.node.active = !1;
t.body.active = !1;
t.body.opacity = 0;
t.clearAwardBody();
}
}, t.node)).easing(cc.easeIn(3)));
};
t.prototype.requestAward = function() {};
t.prototype.clearAwardBody = function() {
if (cc.isValid(this.node)) {
this._endCallback && this._endCallback();
this.node.stopAllActions();
}
};
n([ s(cc.Node) ], t.prototype, "mask", void 0);
n([ s(cc.Node) ], t.prototype, "body", void 0);
return t = n([ a ], t);
}(cc.Component);
i.default = f;
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/ProjectConfig": "ProjectConfig",
CommonEventName: "CommonEventName"
} ],
BonusCenterOnlineItem: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "f8c97UO8BpGNYD0loYH4pfG", "BonusCenterOnlineItem");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = e("../../Script/BaseFormat"), a = cc._decorator, s = a.ccclass, c = a.property, l = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.date = null;
t.icon = null;
t.status = null;
t.countDownTimer = null;
t.iconArr = [];
t.statusArr = [];
t._leftTs = 0;
t._rootComponent = null;
return t;
}
t.prototype.bindOnlineData = function(e, t) {
this.date.string = t.date;
this._rootComponent = e;
this.startTimer(t.left_ts);
};
t.prototype.startTimer = function(e) {
this._leftTs = e;
if (this._leftTs >= 0) {
this.showOngoingBonus();
this._rootComponent.schedule(this.countDownTimerAction.bind(this), 1);
} else this.showOutdatedBonus();
};
t.prototype.stopTimer = function() {
cc.isValid(this._rootComponent) && this._rootComponent.unschedule(this.countDownTimerAction);
};
t.prototype.countDownTimerAction = function() {
this._leftTs--;
cc.isValid(this.countDownTimer) && (this._leftTs > 0 ? this.countDownTimer.string = r.default.formatLastTime2(this._leftTs) : this.showOutdatedBonus());
};
t.prototype.showOngoingBonus = function() {
this.countDownTimer.node.parent.active = !0;
this.countDownTimer.string = r.default.formatLastTime2(this._leftTs);
this.icon.spriteFrame = this.iconArr[0];
this.status.spriteFrame = this.statusArr[0];
};
t.prototype.showOutdatedBonus = function() {
this.icon.spriteFrame = this.iconArr[1];
this.status.spriteFrame = this.statusArr[1];
this.countDownTimer.node.parent.active = !1;
};
t.prototype.onDestroy = function() {
this.stopTimer();
};
n([ c(cc.Label) ], t.prototype, "date", void 0);
n([ c(cc.Sprite) ], t.prototype, "icon", void 0);
n([ c(cc.Sprite) ], t.prototype, "status", void 0);
n([ c(cc.Label) ], t.prototype, "countDownTimer", void 0);
n([ c([ cc.SpriteFrame ]) ], t.prototype, "iconArr", void 0);
n([ c([ cc.SpriteFrame ]) ], t.prototype, "statusArr", void 0);
return t = n([ s ], t);
}(cc.Component);
i.default = l;
cc._RF.pop();
}, {
"../../Script/BaseFormat": "BaseFormat"
} ],
BonusCenterOnlineRankItem: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "4107bpktfpNwJICanCz7N3Q", "BonusCenterOnlineRankItem");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = cc._decorator, a = r.ccclass, s = r.property, c = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.username = null;
t.redEnvelope = null;
t.date = null;
return t;
}
t.prototype.bindRankItemData = function(e) {
this.username.string = e.addr;
this.redEnvelope.string = e.amount;
this.date.string = e.date;
};
n([ s(cc.Label) ], t.prototype, "username", void 0);
n([ s(cc.Label) ], t.prototype, "redEnvelope", void 0);
n([ s(cc.Label) ], t.prototype, "date", void 0);
return t = n([ a ], t);
}(cc.Component);
i.default = c;
cc._RF.pop();
}, {} ],
BonusCenterOnlineRank: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "b684aMAmYZIxIjX01wijATP", "BonusCenterOnlineRank");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = e("./../../Script/GameFramework/ApiMgr"), a = e("../../Script/ProjectConfig"), s = cc._decorator, c = s.ccclass, l = s.property, u = e("../../Script/Audio/CommonAudioMgr"), d = e("../../Script/Audio/CommonAudio"), f = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.mask = null;
t.body = null;
t.scrollView = null;
t.content = null;
t.loading = null;
t.emptyStr = null;
t.itemPrefab = null;
return t;
}
t.prototype.showOnlineRankView = function() {
var e = this, t = cc.callFunc(function() {
if (cc.isValid(e.body)) {
e.requestRank();
e.body.active = !0;
e.body.runAction(cc.sequence(cc.delayTime(.04), cc.fadeIn(.2), cc.delayTime(.2)));
}
});
if (cc.isValid(e.node)) {
e.node.setPosition(0, 0);
e.node.opacity = 0;
e.node.scale = 0;
e.mask.width = cc.winSize.width;
e.mask.height = cc.winSize.height;
e.node.active = !0;
e.node.runAction(cc.sequence(cc.spawn(cc.fadeIn(.15), cc.scaleTo(.15, 1.1)), cc.scaleTo(.15, 1), t).easing(cc.easeSineOut()));
}
};
t.prototype.hideOnlineRankView = function(e) {
e && e.target && a.default.clickManager(e.target);
var t = this;
u.default.playEffect(d.default.common.btnMusic);
cc.isValid(t.node) && t.node.runAction(cc.sequence(cc.scaleTo(.08, 1.1), cc.scaleTo(.1, 0), cc.callFunc(function() {
if (cc.isValid(t.node)) {
t.node.active = !1;
t.body.active = !1;
t.body.opacity = 0;
t.clearOnlineRankBody();
}
}, t.node)).easing(cc.easeIn(3)));
};
t.prototype.clearOnlineRankBody = function() {
if (cc.isValid(this.node)) {
cc.isValid(this.content) && this.content.removeAllChildren();
this.node.stopAllActions();
}
};
t.prototype.requestRank = function() {
var e = this;
e.loading && (e.loading.active = !0);
e.emptyStr && (e.emptyStr.active = !1);
r.default.requestBonusCenterOnlineRank(function(t) {
e.loading && (e.loading.active = !1);
if (t.list && t.list.length > 0) {
for (var i = 0; i < t.list.length; i++) {
var o = cc.instantiate(e.itemPrefab);
if (o && o.getComponent("BonusCenterOnlineRankItem") && cc.isValid(e.content)) {
e.content.addChild(o);
o.getComponent("BonusCenterOnlineRankItem").bindRankItemData(t.list[i]);
}
}
e.scrollView && e.scrollView.scrollToTop(0);
} else e.emptyStr && (e.emptyStr.active = !0);
}, function() {
e.loading && (e.loading.active = !1);
e.emptyStr && (e.emptyStr.active = !1);
});
};
n([ l(cc.Node) ], t.prototype, "mask", void 0);
n([ l(cc.Node) ], t.prototype, "body", void 0);
n([ l(cc.ScrollView) ], t.prototype, "scrollView", void 0);
n([ l(cc.Node) ], t.prototype, "content", void 0);
n([ l(cc.Node) ], t.prototype, "loading", void 0);
n([ l(cc.Node) ], t.prototype, "emptyStr", void 0);
n([ l(cc.Prefab) ], t.prototype, "itemPrefab", void 0);
return t = n([ c ], t);
}(cc.Component);
i.default = f;
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/ProjectConfig": "ProjectConfig",
"./../../Script/GameFramework/ApiMgr": "ApiMgr"
} ],
BonusCenterOnline: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "cd895RJSRVChotSJUIzTrGt", "BonusCenterOnline");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = cc._decorator, a = r.ccclass, s = r.property, c = e("../../Script/ProjectConfig"), l = e("../../Script/UI/CommonPrefabMgr"), u = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.imgNode = null;
t.noticeNode = null;
t.scrollView = null;
t.contentNode = null;
t.rankNode = null;
t.itemPrefab = null;
t.leftArrow = null;
t.rightArrow = null;
t._data = null;
t._maxScrollOffsetX = 0;
t._rootComponent = null;
return t;
}
t.prototype.initContentView = function(e, t) {
var i = e[0].banner, o = e[0].rule;
this._data = e;
this._rootComponent = t;
this.loadImg(i);
this.noticeNode.string = o;
if (e.length <= 2) {
this.leftArrow.opacity = 0;
this.rightArrow.opacity = 0;
} else {
this.leftArrow.opacity = 0;
this.rightArrow.opacity = 255;
}
1 == e.length && (this.contentNode.parent.width = 343);
this.contentNode.removeAllChildren();
for (var n = 0; n < e.length; n++) this.addOnlineItem(e[n]);
this.scrollView.scrollToLeft(0);
};
t.prototype.loadImg = function(e) {
var t = this;
e && cc.loader.load(e, function(e, i) {
var o = new cc.SpriteFrame(i);
if (o) {
var n = o.getOriginalSize();
if (n && cc.isValid(t.imgNode)) {
t.imgNode.height = n.height;
t.imgNode.width = n.width;
}
cc.isValid(t.imgNode) && (t.imgNode.spriteFrame = o);
}
});
};
t.prototype.addOnlineItem = function(e) {
var t = cc.instantiate(this.itemPrefab);
if (cc.isValid(this._rootComponent)) {
t.getComponent("BonusCenterOnlineItem").bindOnlineData(this._rootComponent, e);
cc.isValid(this.contentNode) && this.contentNode.addChild(t);
}
};
t.prototype.onRankClick = function(e) {
e && e.target && c.default.clickManager(e.target);
l.default.createBonusCenterOnlineRank();
};
t.prototype.scrollViewEventsAction = function() {
if (!(this._data.length <= 2)) {
this._maxScrollOffsetX = this.scrollView.getMaxScrollOffset().x;
var e = this.scrollView.getScrollOffset().x / this._maxScrollOffsetX;
if (e >= -.01) {
0 != this.leftArrow.opacity && (this.leftArrow.opacity = 0);
255 != this.rightArrow.opacity && (this.rightArrow.opacity = 255);
} else if (e <= -1) {
0 != this.rightArrow.opacity && (this.rightArrow.opacity = 0);
255 != this.leftArrow.opacity && (this.leftArrow.opacity = 255);
} else {
255 != this.leftArrow.opacity && (this.leftArrow.opacity = 255);
255 != this.rightArrow.opacity && (this.rightArrow.opacity = 255);
}
}
};
n([ s(cc.Sprite) ], t.prototype, "imgNode", void 0);
n([ s(cc.Label) ], t.prototype, "noticeNode", void 0);
n([ s(cc.ScrollView) ], t.prototype, "scrollView", void 0);
n([ s(cc.Node) ], t.prototype, "contentNode", void 0);
n([ s(cc.Node) ], t.prototype, "rankNode", void 0);
n([ s(cc.Prefab) ], t.prototype, "itemPrefab", void 0);
n([ s(cc.Node) ], t.prototype, "leftArrow", void 0);
n([ s(cc.Node) ], t.prototype, "rightArrow", void 0);
return t = n([ a ], t);
}(cc.Component);
i.default = u;
cc._RF.pop();
}, {
"../../Script/ProjectConfig": "ProjectConfig",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr"
} ],
BonusCenterUtil: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "4efa0aYlopGPJKP2Os27dcB", "BonusCenterUtil");
var o = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var n = cc._decorator, r = n.ccclass, a = (n.property, e("../../Script/BaseFormat")), s = e("../../Script/UserManager"), c = e("./../../Script/GameFramework/ApiMgr"), l = e("../../Script/LocalStorage/LocalStorageUtil"), u = e("../../Script/UI/CommonPrefabMgr"), d = function() {
function e() {}
e.requestBonusCenter = function(e, t, i) {
void 0 === t && (t = null);
void 0 === i && (i = !1);
var o = this;
o.clearBonusCenterInfo();
c.default.requestBonusCenterInfo(function(t) {
o.saveBonusCenterInfo(t);
e && e(t);
}, function() {
t && t();
}, i);
};
e.saveBonusCenterInfo = function(e) {
l.default.saveBonusCenterInfo(e);
};
e.getBonusCenterInfo = function() {
return l.default.getBonusCenterInfo();
};
e.clearBonusCenterInfo = function() {
l.default.saveBonusCenterInfo(null);
};
e.showBonusCenterLoginAward = function(e) {
var t = 0;
e && e.login_bonus && e.login_bonus.length > 0 && (t = e.login_bonus[0].got_award);
return t;
};
e.showBonusCenter = function(e) {
return !(!e || !(e.login_bonus && e.login_bonus.length > 0 || e.online_bonus && e.online_bonus.length > 0));
};
e.showBonusCenterInfoOnlineLeftTs = function(e, t, i, o) {
this._componentNode = e;
this._countDownTimerNode = t;
this._timerLabel = i;
this.stopOnlineCountDownAction();
if (o && o.online_bonus && o.online_bonus.length > 0) {
var n = this.getOnlineBonusLeftTs(o);
if (n <= 0) cc.isValid(this._countDownTimerNode) && (this._countDownTimerNode.active = !1); else if (cc.isValid(this._componentNode) && cc.isValid(this._countDownTimerNode) && cc.isValid(this._timerLabel)) {
this._timerLabel.string = a.default.formatLastTime2(n);
this._countDownTimerNode.active = !0;
this._componentNode.runAction(this.onlineCountDownAction(n));
}
} else cc.isValid(this._countDownTimerNode) && (this._countDownTimerNode.active = !1);
};
e.notifyOnlineBonusLeftTs = function(e) {
var t = this.getOnlineBonusLeftTs(e);
if (this._leftTs > 0) this._leftTs = t; else if (t <= 0) ; else if (cc.isValid(this._componentNode) && cc.isValid(this._countDownTimerNode) && cc.isValid(this._timerLabel)) {
this._timerLabel.string = a.default.formatLastTime2(t);
this._countDownTimerNode.active = !0;
this._componentNode.runAction(this.onlineCountDownAction(t));
}
};
e.getOnlineBonusLeftTs = function(e) {
var t = 0;
if (e && e.online_bonus && e.online_bonus.length > 0) for (var i = 0; i < e.online_bonus.length; i++) {
var o = e.online_bonus[i];
o.left_ts > 0 && (t <= 0 ? t = o.left_ts : o.left_ts < t && (t = o.left_ts));
}
return t;
};
e.onlineCountDownAction = function(e) {
var t = this;
t._leftTs = e;
var i = cc.repeatForever(cc.sequence(cc.delayTime(1), cc.callFunc(function() {
if (t._leftTs <= 0) {
t.stopOnlineCountDownAction();
t._countDownTimerNode.active = !1;
} else {
t._leftTs--;
if (cc.isValid(t._componentNode) && cc.isValid(t._countDownTimerNode) && cc.isValid(t._timerLabel)) if (t._leftTs > 0) {
t._timerLabel.string = a.default.formatLastTime2(t._leftTs);
t._countDownTimerNode.active = !0;
5 == t._leftTs && cc.director.emit(cc.vv.eventName.BONUS_CENTER_ONLINE_COUNTDOWN_COMING_END);
} else {
t.stopOnlineCountDownAction();
t._countDownTimerNode.active = !1;
t.clearBonusCenterInfo();
}
}
})));
i.setTag(t.COUNT_DOWN_ACTION_TAG);
return i;
};
e.showBonusCenterRedDot = function() {
var e = new Date(), t = e.getFullYear() + "-" + (e.getMonth() + 1) + "-" + e.getDate();
if (t == l.default.getBonusCenterInfoLastReadDate(s.default.uid)) return !1;
l.default.saveBonusCenterInfoLastReadDate(s.default.uid, t);
return !0;
};
e.stopOnlineCountDownAction = function() {
cc.isValid(this._componentNode) && this._componentNode.stopActionByTag(this.COUNT_DOWN_ACTION_TAG);
};
e.startOpenAnim = function(e) {
var t = function() {
e && e();
};
u.default.createBonusOnlineAwardOpenAnim(function() {
u.default.createBonusOnlineAward(t);
});
};
e.COUNT_DOWN_ACTION_TAG = 110120;
e._componentNode = null;
e._countDownTimerNode = null;
e._timerLabel = null;
e._leftTs = 0;
return e = o([ r ], e);
}();
i.default = d;
cc._RF.pop();
}, {
"../../Script/BaseFormat": "BaseFormat",
"../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"../../Script/UserManager": "UserManager",
"./../../Script/GameFramework/ApiMgr": "ApiMgr"
} ],
BonusOnlineAwardOpenAnim: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "c748fRdYB9KpIXp47S9y6Az", "BonusOnlineAwardOpenAnim");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = cc._decorator, a = r.ccclass, s = r.property, c = e("../../Script/Audio/CommonAudioMgr"), l = e("../../Script/Audio/CommonAudio"), u = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.mask = null;
t.skeleton1 = null;
t.skeleton2 = null;
return t;
}
t.prototype.startAnim = function(e) {
var t = this;
t.node.setPosition(0, 0);
t.mask.width = cc.winSize.width;
t.mask.height = cc.winSize.height;
t.mask.opacity = 28;
t.skeleton1.node.active = !0;
t.skeleton2.node.active = !1;
var i = 0;
t.schedule(function() {
if (cc.isValid(t.node)) {
i++;
t.mask.opacity = 28 + 25 * i;
c.default.playMultiEffect(l.default.common.CountDown, !1, 1);
}
}, 1, 4, .1);
t.skeleton1.setCompleteListener(function() {
if (cc.isValid(t.node)) {
t.skeleton1.node.active = !1;
t.skeleton2.node.active = !0;
t.skeleton2.setAnimation(0, "treasure_chest_open", !1);
t.node.runAction(cc.sequence(cc.delayTime(1), cc.callFunc(function() {
cc.isValid(t.node) && c.default.playMultiEffect(l.default.common.bonusCenterOnline);
})));
}
});
t.skeleton2.setCompleteListener(function() {
if (cc.isValid(t.node)) {
t.skeleton1.node.active = !1;
t.skeleton2.node.active = !1;
t.dismiss();
e && e();
}
});
};
t.prototype.dismiss = function() {
if (this.node) {
this.node.active = !1;
this.node.removeFromParent();
this.destroy();
}
};
n([ s(cc.Node) ], t.prototype, "mask", void 0);
n([ s(sp.Skeleton) ], t.prototype, "skeleton1", void 0);
n([ s(sp.Skeleton) ], t.prototype, "skeleton2", void 0);
return t = n([ a ], t);
}(cc.Component);
i.default = u;
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr"
} ],
BottomBarModel: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "cf733sPjQxEibMjaaNdLcGA", "BottomBarModel");
var o, n;
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var a = (n = o = function e(t, i) {
r(this, e);
this.barName = t.name || "";
this.tag = t.tag || 0;
this.icon = t.icon || "";
this.layout = i || 0;
}, o.barName = "", o.tag = 0, o.icon = "", o.layout = 0, n);
t.exports = a;
cc._RF.pop();
}, {} ],
"Brc.proto": [ function(e, t, i) {
"use strict";
cc._RF.push(t, "c747fU13jpLB5rLIALMtSGJ", "Brc.proto");
t.exports = '\n// 百人类通用proto文件\nsyntax = "proto3";\npackage msg;\n\n// 对时，服务端存活探测, id=0\nmessage Ping {\n    int64 Timestamp = 1;\n}\n\n//对时，服务端返回当前时间，id=99\nmessage Pong {\n    int64 Timestamp = 1;\n}\n//错误码\nenum STATUS {\n    OK = 0;\n    UNKNOWN_ERROR = 1; // 未知错误\n    NOT_AUTH = 2; // 需要重新认证\n    TOKEN_INVALID = 3; // token错误\n    INSUFFICIENT = 4; // 余额不足\n    REDIRECT = 5; // 需要用户重连到另外的服务器\n    IDLE_TIMEOUT = 6; //闲置时间过长\n    DUP_LOGIN = 7; //Deprecated: 在别处登录，现在统一使用3\n    PARAM_ERROR = 8; //参数错误\n    SERVER_CLOSED = 9;//服务器已经关闭\n    CUBE_BANKER_INSUFFICIENT = 200; //上庄金额不足\n    CUBE_BANKER_FULL = 201; //上庄队列已满\n    CUBE_CHIP_ERROR = 202; //筹码错误\n    CUBE_BET_OVER_LIMIT = 203; //单个区域下注金额超出限制\n    CUBE_OFF_BANKER_FOR_CREDIT = 204; //金额不足下庄\n    CUBE_OFF_BANKER_FOR_COUNT = 205;  //连庄达到上限下庄\n    CUBE_BET_OVER_CREDIT = 206; //本局下注金额已达上限\n}\n\n//错误信息，id: 100\nmessage ErrorST {\n    int64 Timestamp = 1; //毫秒级时间戳，下同\n    STATUS Status = 2;\n    string Msg = 3;\n}\n\n// 每一期分为两个阶段\nenum TERM_STAGE {\n    BET = 0;\n    AWARD = 1;\n}\n//------各游戏不通用的数据结构-------------\n//===========红黑==============\nenum RXB_PATTERN {\n    OFFSUIT = 0; //散牌\n    PAIR = 1; //对子\n    FLUSH = 2; //金花\n    SEQ = 3; //顺子\n    FLUSH_SEQ = 4; //顺金\n    TRIPLE = 5; //豹子\n}\nmessage RxbWinInfo {\n    repeated int32 RedCards = 1;\n    RXB_PATTERN RedPattern = 2;\n    repeated int32 BlackCards = 3;\n    RXB_PATTERN BlackPattern = 4;\n    int32 WinIndex = 5; //分别用2的0,1,2次方进行或运算， 0：黑，1：红，2：幸运一击\n}\nmessage RxbST {\n    RxbWinInfo WinInfo = 1;\n    repeated int32 WinHistory = 2; //所有游戏的开奖历史最新的一期都要放在最右边\n    repeated RXB_PATTERN PatternHistory = 3;\n}\n//==========龙虎斗=============\nmessage DxtWinInfo {\n    int32 Dragon = 1;\n    int32 Tiger = 2;\n    int32 WinIndex = 3; //0-龙，1-虎，2-和\n    int32 UsedCount = 4; //已经发的牌数\n    int32 LeftCount = 5; //剩余牌数\n}\nmessage DxtST {\n    DxtWinInfo WinInfo = 1;\n    repeated int32 WinHistory = 2;\n}\n//==========百人牛牛===========\n//百牛牌型\nenum BULL_PATTERN {\n    NOBULL = 0; // 无牛\n    HASBULL = 1; //有牛\n    BOMB = 2; //炸弹\n    BELLY = 3; //五花牛\n    CHICK = 4; //五小牛\n}\nmessage BullCardGroup {\n    repeated int32 Cards = 1; // 固定五张牌\n    int32 BullRank = 2; //牛几, 0-10, 0: 无牛, 10: 牛牛\n    int32 AbsRank = 3; // 牌型的绝对大小，用于手牌比较\n    BULL_PATTERN Pattern = 4; //与上面的枚举对应\n    bool Win = 5;\n}\nmessage BullWinInfo {\n    repeated BullCardGroup Cards = 1; //依次是天地玄黄+庄家的开牌结果\n}\nmessage BullWinHistory {\n    repeated bool Data = 1;\n}\nmessage BullST {\n    BullWinInfo WinInfo = 1;\n    repeated BullWinHistory History = 2; //天地玄黄的开奖历史\n}\n//==========万人炸金花============\nmessage FlowersCardGroup {\n    repeated int32 AllCards = 1; // 固定五张牌\n    repeated int32 Cards = 2;  // 五张中选出的三张\n    RXB_PATTERN Pattern = 3; // 使用红黑相同的牌型枚举\n    bool Win = 4;\n}\nmessage FlowersWinInfo {\n    repeated FlowersCardGroup Cards = 1; //依次是天地玄黄+庄家的开牌结果\n}\nmessage FlowersWinHistory {\n    repeated bool Data = 1;\n}\nmessage FlowersST {\n    FlowersWinInfo WinInfo = 1;\n    repeated FlowersWinHistory History = 2; //天地玄黄的开奖历史\n}\n//==========金鲨银鲨============\nmessage SharkWinInfo {\n    int32 EggIndex = 1; //彩蛋\n    int64 AwardPool = 2; //奖池\n    int32 WinIndex = 3;\n    map<uint64, int64> EggAward = 4; //彩蛋奖励\n}\nmessage SharkST {\n    SharkWinInfo WinInfo = 1;\n    map<int32, int64> LastSpecialTS = 2; //特殊结果上一次开启的时间戳，金鲨、银鲨、彩蛋\n    int32 NextEgg = 3; //下一个彩蛋\n    repeated int32 WinHistory = 4; //最近若干场开奖结果\n}\n//-----------------------------------------\n// id:1, 认证请求\nmessage AuthReq {\n    int64 Timestamp = 1;\n    uint64 UserID = 2;\n    string Token = 3;\n    int32 RoomKind = 4; //房间号\n    int32 GameType = 5; //20:百牛，21:龙虎，22:红黑，23:金鲨\n    int32 Version = 6; //客户端版本，默认传入0\n}\n\nmessage ChipInfo {\n    map<int64, int32> Data = 1; //key是筹码的金额(乘以1000以后的)，value是数量\n    int64 Total = 2;\n}\n\n// id: 2, 下注请求\nmessage BetReq {\n    int64 Timestamp = 1;\n    int64 TermNumber = 2;\n    map<int32, ChipInfo> Info = 3; //protobuf不支持Nested map\n    bool ReBet = 4; //是否续押\n}\n\n// id: 3, 上庄/下庄请求\nmessage BankerReq {\n    int64 Timestamp = 1;\n    bool On = 2; //true:上庄，false：下庄\n}\n\n// id: 4, 请求同步用户信息\nmessage SyncUserReq {\n    int64 Timestamp = 1;\n}\n\n// id: 101, 用户状态\nmessage UserST {\n    uint64 ID = 1; //ID是0表示系统\n    int64 Credit = 2;\n    int32 Gender = 3;\n    string UserName = 4;\n    string Avatar = 5;\n    string Circle = 6; //头像的标签\n    string Addr = 7; // 用户地址\n    map<int32, ChipInfo> BetInfo = 8; //当前局下注\n    int64 Award = 9; //当前局输赢\n    int64 EnterAt = 10; //进入游戏的时间，秒级别时间戳\n}\n\n// id: 102，房间状态，不同游戏需要的部分字段差别较大; 客户端sdk不支持oneof，不再使用\nmessage RoomST {\n    int64 Timestamp = 1;\n    int64 ID = 2;\n    int32 Kind = 3;\n    int64 TermNumber = 4;\n    TERM_STAGE Stage = 5;\n    int64 NextTS = 6;\n    map<int32, ChipInfo> BetInfo = 7; //key是下注项，value是具体的筹码值\n    UserST Me = 8;\n    repeated UserST BankerList = 9; //庄家队列，第一个是当前庄家，id是0表示系统坐庄\n    UserST BestUser = 10;\n    repeated UserST RichUsers = 11;\n    //各游戏房间状态需要的额外字段\n    RxbST Rxb = 12;\n    DxtST Dxt = 13;\n    BullST Bull = 14;\n    SharkST Shark = 15;\n    int64 Turn = 16; //当前轮次\n    FlowersST Flowers = 17;\n    int64 BetTS = 18;\n}\n\n// id: 103, 开始下注通知\nmessage StartBetNT {\n    int64 Timestamp = 1;\n    int64 TermNumber = 2;\n    int64 NextTS = 3;\n    UserST Banker = 4; //新一局的庄家，系统坐庄id为0\n    bool ReElection = 5; //庄家是否是连任\n    int64 Turn = 6; //当前轮次，目前仅对龙虎有用，其他游戏都是0\n    FlowersWinInfo FlowerCards = 7;  //开始下注时展示的牌，只有万人炸金花会展示两张牌\n}\n\n// id: 104, 停止下注通知\nmessage StopBetNT {\n    int64 Timestamp = 1;\n    int64 TermNumber = 2;\n}\n\nmessage UserAward {\n    int64 Cost = 1; //本局成本\n    int64 Award = 2; //本局赢到的金额\n    int64 After = 3; //最后余额\n}\n//id: 105，奖励详情\nmessage AwardNT {\n    int64 Timestamp = 1;\n    int64 TermNumber = 2;\n    map<uint64, UserAward> AwardInfo = 3;\n    map<int32, ChipInfo> BetInfo = 4; //用户本局下注\n    int64 NextTS = 5;\n    RxbWinInfo Rxb = 6;\n    DxtWinInfo Dxt = 7;\n    BullWinInfo Bull = 8;\n    SharkWinInfo Shark = 9;\n    FlowersWinInfo Flowers = 10;\n}\n\n// id: 106, 下注广播（即时）\nmessage UserBetEV {\n    int64 Timestamp = 1;\n    int64 TermNumber = 2;\n    uint64 UserID = 3;\n    map<int32, ChipInfo> Info = 4;\n    int64 After = 5;\n    bool ReBet = 6;\n}\n\n// id: 107，同步庄家队列\nmessage BankerST {\n    int64 Timestamp = 1;\n    repeated UserST Banker = 2;\n}\n\n// id: 108, 同步坐席\nmessage TopPlayerST {\n    UserST BestUser = 11;\n    repeated UserST RichUsers = 12;\n}\n\nmessage BetInfo {\n    map<int32, ChipInfo> IndexChips = 1;\n    int64 After = 2;\n    bool ReBet = 3;\n}\n// id: 109, 批量同步下注\nmessage BatchUserBetEV {\n    int64 Timestamp = 1;\n    int64 TermNumber = 2;\n    map<uint64, BetInfo> UserBets = 3;\n}\n';
cc._RF.pop();
}, {} ],
BrcGraphicsMgr: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "5748cKs5m1FLqZUAIKEdT8E", "BrcGraphicsMgr");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = e("../../Script/ProjectConfig"), n = function() {
function e() {}
e.drawTrendTableView = function(e, t, i, n) {
if (e) {
e.clear();
if ("beautifulgame" == o.default.variable.curSkin) {
e.fillColor = cc.color().fromHEX("#462b00");
e.strokeColor = cc.color().fromHEX("#462b00");
} else if ("handsome" == o.default.variable.curSkin) {
e.fillColor = cc.color().fromHEX("#86bbce");
e.strokeColor = cc.color().fromHEX("#86bbce");
}
e.lineWidth = 2;
e.lineJoin = cc.Graphics.LineJoin.ROUND;
e.lineCap = cc.Graphics.LineCap.ROUND;
for (var r = 0, a = t * i, s = 0; s < i + 1; s++) {
e.moveTo(r, a - t * s);
e.lineTo(t * n + r, a - t * s);
}
r = 0;
a = 0;
for (var c = 0; c < n + 1; c++) {
e.moveTo(r + t * c, a);
e.lineTo(r + t * c, a + 6 * t);
}
e.stroke();
}
};
return e;
}();
t.exports = n;
i.default = n;
cc._RF.pop();
}, {
"../../Script/ProjectConfig": "ProjectConfig"
} ],
BrcModel: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "11261ihjT5GNZdWCi014HTe", "BrcModel");
var o, n, r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
return typeof e;
} : function(e) {
return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e;
}, a = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}();
function s(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var c = (n = o = function() {
function e() {
s(this, e);
}
a(e, null, [ {
key: "calculateZoneDeltBet",
value: function(e, t) {
if ("object" === ("undefined" == typeof t ? "undefined" : r(t)) && "object" === ("undefined" == typeof e ? "undefined" : r(e))) {
for (var i in t) {
var o = t[i].Total;
if (i in e) e[i].Total && (e[i].Total += o); else {
e[i] = {};
e[i].Total = o;
}
if (e[i].Data) for (var n in t[i].Data) n in e[i].Data ? e[i].Data[n] += t[i].Data[n] : e[i].Data[n] = t[i].Data[n]; else e[i].Data = JSON.parse(JSON.stringify(t[i].Data));
}
return e;
}
}
}, {
key: "getSeatListInfo",
value: function(e) {
var t = [], i = e.BestUser;
i ? t.push(i) : t.push({});
for (var o = e.RichUsers || [], n = 0; n < 5; n++) {
var r = o[n];
r ? t.push(r) : t.push({});
}
return t;
}
}, {
key: "transformRoomStInfoWithAwardInfo",
value: function(e) {
for (var t = {}, i = {}, o = e.BankerList || [], n = e.RichUsers || [], r = e.BestUser || [], a = e.Me || {}, s = function(e) {
var t = (e.ID || 0) + "", o = e.Credit || 0, n = e.Award || 0, r = e.BetInfo || {}, a = 0;
for (var s in r) r[s].Total && (a += r[s].Total);
i[t] = {};
i[t].Cost = a;
i[t].Award = n;
i[t].After = o;
}, c = 0, l = o.length; c < l; c++) {
s(o[c]);
}
for (var u = 0, d = n.length; u < d; u++) {
s(n[u]);
}
for (var f = 0, h = r.length; f < h; f++) {
s(r[f]);
}
s(a);
t.AwardInfo = i;
t.BetInfo = a.BetInfo;
t.Timestamp = e.Timestamp;
t.NextTS = e.NextTS;
t.TermNumber = e.TermNumber;
var p = e.Rxb;
p && (t.Rxb = p.WinInfo);
var g = e.Dxt;
g && (t.Dxt = g.WinInfo);
var m = e.Bull;
m && (t.Bull = m.WinInfo);
var y = e.Shark;
y && (t.Shark = y.WinInfo);
var b = e.Flowers;
b && (t.Flowers = b.WinInfo);
return t;
}
} ]);
return e;
}(), o.TERM_STAGE = {
BET: "BET",
AWARD: "AWARD"
}, o.MSG_TYPE = cc.Enum({
Pong: 99,
ErrorST: 100,
UserST: 101,
RoomST: 102,
StartBetNT: 103,
StopBetNT: 104,
AwardNT: 105,
UserBetEV: 106,
BankerST: 107,
TopPlayerST: 108,
BatchUserBetEV: 109
}), o.MSG_SEND_TYPE = {
AuthReq: 1,
BetReq: 2,
BankerReq: 3,
SyncUserReq: 4
}, o.RXB_PATTERN = cc.Enum({
OFFSUIT: 0,
PAIR: 1,
FLUSH: 2,
SEQ: 3,
FLUSH_SEQ: 4,
TRIPLE: 5
}), o.BULL_PATTERN = cc.Enum({
NOBULL: "NOBULL",
HASBULL: "HASBULL",
BOMB: "BOMB",
BELLY: "BELLY",
CHICK: "CHICK"
}), n);
t.exports = c;
cc._RF.pop();
}, {} ],
BrcPrefabMgr: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "d1398xLPLVFbK1QvWW3quCU", "BrcPrefabMgr");
var o, n, r = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}();
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var s = (n = o = function() {
function e() {
a(this, e);
}
r(e, null, [ {
key: "showTablePlayerList",
value: function(e) {
cc.vv.beautifulgame && (this.tablePlayerPrefab = "beautifulgame/common/prefab/seat/TableSeatList");
cc.vv.souhu && (this.tablePlayerPrefab = "handsome/common/prefab/seat/TableSeatList");
cc.loader.loadRes(this.tablePlayerPrefab, function(t, i) {
if (!t && i) {
var o = cc.instantiate(i);
o && o.getComponent("TableSeatList") && o.getComponent("TableSeatList").showDialog(e);
}
});
}
} ]);
return e;
}(), o.tablePlayerPrefab = "", n);
t.exports = s;
cc._RF.pop();
}, {} ],
BrcSocketMgr: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "9a3f7dTD2JMw4stz5xtZZ8o", "BrcSocketMgr");
var o, n, r = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}(), a = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("../../Script/LocalStorage/LocalStorageUtil"));
function s(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var c = e("CommonProtoBuf3"), l = e("Brc.proto"), u = e("CommonSocket"), d = e("NewGameInfo"), f = e("BrcModel"), h = e("CommonFunction"), p = (n = o = function() {
function e() {
s(this, e);
}
r(e, null, [ {
key: "initBrcSocket",
value: function(e, t, i) {
var o = this;
o.close();
if (null == o.brcSocket) {
var n = o.buildInitParams(), r = f.MSG_TYPE;
o.protoBuf = new c(l, cc.url.raw("resources/protobufs/Brc.proto"), r);
o.brcSocket = new u(e, o.brcSocketUrl, n, function(e) {
var i = o.protoBuf.decode(e);
i && r[i.index] && "function" == typeof t && t(i.index, i.msgData);
}, function() {
i && i();
o.authReqSend();
});
}
}
}, {
key: "authReqSend",
value: function() {
var e = parseInt(a.default.readUserID()), t = a.default.readUserToken(), i = parseInt(GAMECONFIG.VERSION_CODE.replace(/\./g, ""));
if (e && t) {
var o = {
Timestamp: new Date().getTime(),
UserID: e,
Token: t.toString(),
RoomKind: 0,
GameType: 103,
Version: i
};
this.send(f.MSG_SEND_TYPE.AuthReq, "msg.AuthReq", o);
}
}
}, {
key: "send",
value: function(e, t, i) {
var o = this.protoBuf.encode(e, t, i);
this.brcSocket && this.brcSocket.send(o);
}
}, {
key: "buildInitParams",
value: function() {
var e = {}, t = a.default.readUserID(), i = a.default.readUserToken();
t && i && (e = {
user_id: t,
token: i,
room: d.current.room,
rsa: h.getRSA(t, i)
});
return e;
}
}, {
key: "close",
value: function() {
if (null != this.brcSocket) {
this.brcSocket.close();
this.brcSocket = null;
}
}
} ]);
return e;
}(), o.brcSocket = null, o.brcSocketUrl = "", n);
t.exports = p;
cc._RF.pop();
}, {
"../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"Brc.proto": "Brc.proto",
BrcModel: "BrcModel",
CommonFunction: "CommonFunction",
CommonProtoBuf3: "CommonProtoBuf3",
CommonSocket: "CommonSocket",
NewGameInfo: "NewGameInfo"
} ],
BrcSocketSend: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "a43b39oSTJJBJLBcCiweJ8a", "BrcSocketSend");
var o = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}();
function n(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var r = e("BrcSocketMgr"), a = e("BrcModel"), s = function() {
function e() {
n(this, e);
}
o(e, null, [ {
key: "AuthReq",
value: function() {}
}, {
key: "BetReq",
value: function(e, t, i) {
r.send(a.MSG_SEND_TYPE.BetReq, "msg.BetReq", {
Timestamp: new Date().getTime(),
TermNumber: e,
Info: t,
ReBet: void 0 !== i && i
});
}
}, {
key: "BankerReq",
value: function(e) {
r.send(a.MSG_SEND_TYPE.BankerReq, "msg.BankerReq", {
Timestamp: new Date().getTime(),
On: e
});
}
}, {
key: "SyncUserReq",
value: function() {
r.send(a.MSG_SEND_TYPE.SyncUserReq, "msg.SyncUserReq", {
Timestamp: new Date().getTime()
});
}
} ]);
return e;
}();
t.exports = s;
cc._RF.pop();
}, {
BrcModel: "BrcModel",
BrcSocketMgr: "BrcSocketMgr"
} ],
CashierPayDialog: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "b165a6+eNlEAKrnNH6T/yhV", "CashierPayDialog");
var o = a(e("../../../Script/Audio/CommonAudioMgr")), n = a(e("../../../Script/Audio/CommonAudio")), r = a(e("../../../Script/UI/CommonPrefabMgr"));
function a(e) {
return e && e.__esModule ? e : {
default: e
};
}
var s = e("CommonEventName");
cc.Class({
extends: cc.Component,
properties: {
addcashcontentmodel: cc.Prefab,
contentnode: cc.Node
},
onLoad: function() {
var e = this;
if (cc.isValid(e.contentnode)) {
var t = e.paydata[0], i = t.rechargetypeinfosList[0], o = cc.instantiate(e.addcashcontentmodel);
o && o.getComponent("AddCashContentModel") && o.getComponent("AddCashContentModel").initData(i, t);
e.contentnode.addChild(o);
}
cc.director.on("PAYSTATUS", function(t) {
if ("0" == t) {
e.dismiss();
r.default.createAlert("Recharge success", "OK ", function() {
cc.director.emit(s.refreshUserInfo);
}, void 0, void 0, !1, void 0, void 0, !1);
} else if ("1" == t) {
e.dismiss();
r.default.createAlert("Recharge failed", "OK ", function() {
cc.director.emit(s.refreshUserInfo);
}, void 0, void 0, !1, void 0, void 0, !1);
}
}, this);
},
init: function(e) {
this.paydata = e;
},
start: function() {},
dismiss: function() {
o.default.playEffect(n.default.common.btnMusic);
if (this.node.getComponent("CommonDialog")) this.node.getComponent("CommonDialog").dismiss(); else {
this.node.active = !1;
this.node.removeFromParent();
}
},
onDisable: function() {
cc.director.off("PAYSTATUS");
}
});
cc._RF.pop();
}, {
"../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
CommonEventName: "CommonEventName"
} ],
ChipFrame: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "1eb4fzqnHVHAaL+5hBbiWAx", "ChipFrame");
var o = e("CommonAtlasMgr");
cc.Class({
extends: cc.Component,
properties: {
animNode: cc.Node,
chipNumLabel: cc.Node,
numItemListArr: {
default: [],
type: cc.Node
},
_status: !0,
_chipIndex: -1
},
initValueWithInfoAction: function(e, t, i) {
if (null != e && e > 0) {
2 == i && cc.isValid(this.chipNumLabel) && (this.chipNumLabel.getComponent(cc.Label).string = e);
}
this._chipIndex = t;
cc.isValid(this.node) && (this.node.getComponent(cc.Sprite).spriteFrame = o.getChipSpriteFrame(t + 1));
},
initNumItem: function() {
for (var e = 0, t = this.numItemListArr.length; e < t; e++) {
var i = this.numItemListArr[e];
i && i.active && (i.active = !1);
}
},
showSelectedAnimAction: function() {
cc.isValid(this.animNode) && (this.animNode.opacity = 255);
},
hideSelectedAnimAction: function() {
cc.isValid(this.animNode) && (this.animNode.opacity = 0);
},
showDisableAction: function() {
cc.isValid(this.node) && (this.node.getComponent(cc.Sprite).spriteFrame = o.getChipSpriteFrame(7));
if (cc.isValid(this.node)) {
this.hideSelectedAnimAction();
this._status = !1;
}
},
showNomalAction: function() {
cc.isValid(this.node) && (this.node.getComponent(cc.Sprite).spriteFrame = o.getChipSpriteFrame(this._chipIndex + 1));
cc.isValid(this.node) && (this._status = !0);
},
setEnable: function(e) {
this.node && this.node.getComponent(cc.Button) && (this.node.getComponent(cc.Button).interactable = e);
}
});
cc._RF.pop();
}, {
CommonAtlasMgr: "CommonAtlasMgr"
} ],
CommonAtlasMgr: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "43c39mDhKtAJp8A+HfYVbc4", "CommonAtlasMgr");
var o, n, r = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}(), a = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("../Script/ProjectConfig"));
function s(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var c = e("ReleaseRes"), l = (n = o = function() {
function e() {
s(this, e);
}
r(e, null, [ {
key: "loadAtlasResources",
value: function(t) {
this.loadItemAtlasResources(e.atlasRes[a.default.variable.curSkin][0], function(t) {
e._atlas = t;
}, t);
this.loadItemAtlasResources(e.atlasRes[a.default.variable.curSkin][1], function(t) {
e._cattleAtlas = t;
}, t);
cc.loader.loadResDir("beautifulgame/common/texture/usercenter/userheader", cc.SpriteFrame, function(t, i, o) {
e.userHeadAtlas = i;
});
cc.loader.loadResDir("beautifulgame/common/texture/bestfivePork", cc.SpriteFrame, function(t, i, o) {
e.porkerAtlas = i;
});
}
}, {
key: "loadItemAtlasResources",
value: function(t, i, o) {
cc.loader.loadRes(t, cc.SpriteAtlas, function(t, n) {
if (null == t) {
i && i(n);
e.successCallBackListener(o);
} else e.errCallBackListener(o);
});
}
}, {
key: "errCallBackListener",
value: function(t) {
if (t && 0 == e.hasLoadErr) {
e.hasLoadErr = !0;
t(!1);
}
}
}, {
key: "successCallBackListener",
value: function(t) {
e.loadSuccessCnt += 1;
if (t && e.loadSuccessCnt == e.atlasRes[a.default.variable.curSkin].length) {
t(!0);
e.loadSuccessCnt = 0;
}
}
}, {
key: "getNiuniuResultSpriteFrame",
value: function(t) {
var i = "niu_" + t;
return e._cattleAtlas ? e._cattleAtlas.getSpriteFrame(i) : null;
}
}, {
key: "getAvatarFrame",
value: function(t) {
if (e.userHeadAtlas) for (var i = 0; i < e.userHeadAtlas.length; i++) {
var o = e.userHeadAtlas[i];
if (o._name == t) return o;
} else if (e._atlas) return e._atlas.getSpriteFrame(t);
return null;
}
}, {
key: "getChipSpriteFrame",
value: function(t) {
var i = "common_chip_0" + t;
return e._atlas ? e._atlas.getSpriteFrame(i) : null;
}
}, {
key: "getChipNumSpriteFrame",
value: function(t) {
var i = "";
cc.vv.beautifulgame && (i = "chip_number_0" + t);
cc.vv.souhu && (i = t);
return e._atlas ? e._atlas.getSpriteFrame(i) : null;
}
}, {
key: "getPokerSpriteFrame",
value: function(t) {
if (e._atlas) {
var i = e.getGenuineName(t);
return e._atlas.getSpriteFrame(i);
}
return null;
}
}, {
key: "getGenuineName",
value: function(t) {
var i = "";
if (-1 != t.indexOf("txt")) {
var o = t.split("_");
if (3 == o.length) {
i = o[0] + "_" + e.pokerNumArr[parseInt(o[1]) - 1] + "_" + e.pokerColorArr[parseInt(o[2])];
} else 2 == o.length && (14 == o[1] ? i = "txt_joker_hei" : 15 == o[1] && (i = "txt_joker_hong"));
}
if (-1 != t.indexOf("img")) {
var n = t.split("_");
if (3 == n.length) {
i = n[0] + "_" + e.pokerNumArr[parseInt(n[1]) - 1] + "_" + e.pokerColorArr[parseInt(n[2])];
} else if (2 == n.length) {
var r = n[1];
14 == r ? i = "img_puke_xiaowang" : 15 == r ? i = "img_puke_dawang" : 1 == r ? i = "img_puke_heitao" : 2 == r ? i = "img_puke_hongtao" : 3 == r ? i = "img_puke_fangkuai" : 4 == r && (i = "img_puke_meihua");
}
}
if (-1 != t.indexOf("bigImg")) {
var a = t.split("_");
if (2 == a.length) {
var s = a[1];
1 == s ? i = "img_puke_heitaoD" : 2 == s ? i = "img_puke_hongtaoD" : 3 == s ? i = "img_puke_fangkuaiD" : 4 == s && (i = "img_puke_meihuaD");
}
}
return i;
}
}, {
key: "getPokerBackFrame",
value: function() {
return e.porkerAtlas ? e.porkerAtlas[1] : null;
}
}, {
key: "getPokerFaceFrame",
value: function() {
return e._atlas ? e._atlas.getSpriteFrame("img_puke_di") : null;
}
}, {
key: "getPokerFailFrame",
value: function() {
return e.porkerAtlas ? e.porkerAtlas[0] : null;
}
}, {
key: "getPokerGiveupFrame",
value: function() {
return e.porkerAtlas ? e.porkerAtlas[0] : null;
}
}, {
key: "releaseCommonAtlas",
value: function() {
this.releaseResourcesByAtlas(e._atlas);
this.releaseResourcesByAtlas(e._cattleAtlas);
this.releaseResourcesByAtlas(e.userHeadAtlas);
this.releaseResourcesByAtlas(e.porkerAtlas);
cc.loader.release(c.commonReleasePrefab.betChip);
cc.loader.release(c.commonReleasePrefab.chipFrame);
cc.loader.release(c.commonReleasePrefab.messageWithService);
cc.loader.release(c.commonReleasePrefab.messageWithMe);
cc.loader.release(c.commonReleasePrefab.rechargeCustomer);
cc.loader.release(c.commonReleasePrefab.rechargeSecondPay);
cc.loader.release(c.commonReleasePrefab.rechargeSecondPayItem);
cc.loader.release(c.commonReleasePrefab.rechargeEvaluationAgent);
cc.loader.release(c.commonReleasePrefab.rechargeEvaluationDetails);
cc.loader.release(c.commonReleasePrefab.rechargeService);
cc.loader.release(c.commonReleasePrefab.rechargeComplaintAgent);
cc.loader.release(c.commonReleasePrefab.rechargeOrder);
cc.loader.release(c.commonReleasePrefab.rechargeOrderItem);
cc.loader.release(c.commonReleasePrefab.rechargeRecording);
cc.loader.release(c.commonReleasePrefab.rechargeRecordingItem);
cc.loader.release(c.commonReleasePrefab.promoter);
cc.loader.release(c.commonReleasePrefab.promoterActivityRank);
cc.loader.release(c.commonReleasePrefab.promoterActivityRankItem);
cc.loader.release(c.commonReleasePrefab.weekItem);
}
}, {
key: "releaseResourcesByAtlas",
value: function(e) {
if (e) {
var t = cc.loader.getDependsRecursively(e);
cc.loader.release(t);
a.default.loadComAtlasSucceed = !1;
}
}
} ]);
return e;
}(), o.atlasRes = {
beautifulgame: [ "beautifulgame/common/pathPhoto/commongame/common_game", "beautifulgame/common/pathPhoto/cattlecardtype/cattle_card_type" ],
handsome: [ "handsome/common/pathPhoto/commongame/common_game", "handsome/common/pathPhoto/cattlecardtype/cattle_card_type", "handsome/common/pathPhoto/common_game_head/common_game_head" ]
}, o._atlas = null, o._cattleAtlas = null, o.userHeadAtlas = null, o.pokerNumArr = [ "A", "2", "3", "4", "5", "6", "7", "8", "9", "10", "J", "Q", "K" ], 
o.pokerColorArr = [ "hong", "hei" ], o.hasLoadErr = !1, o.loadSuccessCnt = 0, o.porkerAtlas = null, 
n);
t.exports = l;
cc._RF.pop();
}, {
"../Script/ProjectConfig": "ProjectConfig",
ReleaseRes: "ReleaseRes"
} ],
CommonAudioMgr: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "cf931KkfAZCuJANnW3A+h3/", "CommonAudioMgr");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = e("../LocalStorage/LocalStorageUtil"), n = function() {
function e() {}
e.init = function() {
this.EffectListArr = [];
this.AudioMusicArray = [];
this.AudioEffectArray = [];
this.AudioMusicFile = null;
this.MaxAudioMusicLength = 1;
this.MaxAudioEffectLength = 3;
this.AUDIO_MUSIC_VOLUME = 1;
this.AUDIO_EFFECT_VOLUME = .5;
};
e.changeEffectSwitch = function() {
var e = o.default.readEffectSwitch();
this.IS_OPEN_EFFECT = !e || "true" == e;
};
e.playEffect = function(e, t, i) {
void 0 === t && (t = !1);
void 0 === i && (i = this.AUDIO_EFFECT_VOLUME);
if (this.IS_OPEN_EFFECT) {
void 0 == t && (t = !1);
void 0 == i && (i = this.AUDIO_EFFECT_VOLUME);
cc.loader.loadRes(e, function(e, o) {
if (!e) {
var n = cc.audioEngine.play(o, t, i);
this.AudioEffectArray.push(n);
}
}.bind(this));
if (this.AudioEffectArray.length >= this.MaxAudioEffectLength) {
var o = this.AudioEffectArray.shift();
cc.audioEngine.stop(o);
}
}
};
e.playMultiEffect = function(e, t, i, o) {
if (this.IS_OPEN_EFFECT) {
void 0 == t && (t = !1);
void 0 == i && (i = this.AUDIO_EFFECT_VOLUME);
if (this.EffectListArr.length >= 22) return;
cc.loader.loadRes(e, function(e, n) {
if (!e) {
var r = cc.audioEngine.play(n, t, i);
this.EffectListArr.push(r);
cc.audioEngine.setFinishCallback(r, function() {
var e = this.EffectListArr.indexOf(r);
e > -1 && this.EffectListArr.splice(e, 1);
}.bind(this));
o && o(r);
}
}.bind(this));
}
};
e.playMusic = function(e, t, i) {
var n = this, r = "true", a = o.default.readMusicSwitch();
null != a && (r = a);
if ("false" != r) {
if (this.AudioMusicFile != e) {
this.AudioMusicFile = e;
void 0 == t && (t = !0);
void 0 == i && (i = this.AUDIO_MUSIC_VOLUME);
null != o.default.readData("sound") && (r = o.default.readData("sound"));
"true" == r && cc.loader.loadRes(e, function(e, o) {
if (!e) {
n.stopMusic();
cc.audioEngine.playMusic(o, t);
cc.audioEngine.setMusicVolume(i);
}
});
}
} else this.stopMusic();
};
e.playMusicWithNoLoop = function(e, t, i, n) {
var r = this, a = "true", s = o.default.readMusicSwitch();
null != s && (a = s);
if ("false" != a) {
void 0 == i && (i = !1);
void 0 == n && (n = this.AUDIO_MUSIC_VOLUME);
"true" == a && cc.loader.loadRes(e, function(e, o) {
if (!e) {
r.stopMusic();
var a = cc.audioEngine.playMusic(o, i);
cc.audioEngine.setMusicVolume(n);
t && cc.audioEngine.setFinishCallback(a, t);
}
});
} else this.stopMusic();
};
e.stopMusic = function() {
this.AudioMusicFile = null;
cc.audioEngine.stopMusic();
};
e.stopEffect = function(e) {
cc.audioEngine.stop(e);
};
e.pauseAll = function() {
cc.audioEngine.pauseAll();
};
e.resumeAll = function() {
cc.audioEngine.resumeAll();
};
e.stopAll = function() {
this.AudioMusicFile = null;
cc.audioEngine.stopAll();
};
e.playVibrateWithCommonCheck = function(e) {
"false" == o.default.readMobileVibratorSwitch() || cc.sys.isNative && jsb.Device.vibrate(e);
};
e.playVibrate = function(e) {
cc.sys.isNative && jsb.Device.vibrate(e);
};
e.AUDIO_MUSIC_VOLUME = 1;
e.AUDIO_EFFECT_VOLUME = .5;
e.AudioEffectArray = [];
e.MaxAudioEffectLength = 3;
e.AudioMusicArray = [];
e.MaxAudioMusicLength = 1;
e.AudioMusicFile = null;
e.IS_OPEN_EFFECT = !0;
e.EffectListArr = [];
return e;
}();
i.default = n;
cc._RF.pop();
}, {
"../LocalStorage/LocalStorageUtil": "LocalStorageUtil"
} ],
CommonAudioSkinRes: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "90feakuYq5P35jmd0XejtCS", "CommonAudioSkinRes");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = function() {
function e() {}
e.common = {
handsome: {
btnMusic: "handsome/common/audio/click",
loadingCount: "",
prize: "handsome/common/audio/Coin_Result",
regist: "handsome/common/audio/register",
copyHomeUrl: "handsome/common/audio/bd_CopyHomeUrl",
share: "main/audio/share",
shareSys: "main/audio/share_promoter",
bonusCenterOnline: "handsome/common/audio/bd_bonus_center_award",
CountDown: "main/audio/brc/countdown"
},
beautifulgame: {
btnMusic: "beautifulgame/common/audio/click",
loadingCount: "beautifulgame/common/audio/count",
prize: "beautifulgame/common/audio/prize",
regist: "handsome/common/audio/click",
copyHomeUrl: "",
share: "main/audio/share",
shareSys: "main/audio/share_promoter",
bonusCenterOnline: "beautifulgame/common/audio/ds_bonus_center_award",
CountDown: "main/audio/brc/countdown"
}
};
e.dzc = {
handsome: {
boss: "handsome/common/audio/music/boss"
},
beautifulgame: {
boss: "beautifulgame/common/audio/music/boss"
}
};
e.brc = {
handsome: {
Bgm: "handsome/common/audio/brc/bgm_brc",
Bgm1: "handsome/common/audio/brc/bgm_brc",
Bgm2: "handsome/common/audio/brc/bgm_brc",
Alert: "main/audio/brc/alert",
BetCoin: "main/audio/brc/betcoin",
CountDown: "main/audio/brc/countdown",
FlipCard: "main/audio/brc/flipcard",
OnBet: "main/audio/brc/on_bet",
SendCard: "main/audio/brc/sendcard",
Show: "main/audio/brc/show",
Start: "main/audio/brc/start_bet",
Stop: "main/audio/brc/stop_bet",
WinBet: "main/audio/brc/win_bet"
},
beautifulgame: {
Bgm: "beautifulgame/common/audio/brc/bgm_brc",
Bgm1: "beautifulgame/common/audio/brc/bgm_brc_01",
Bgm2: "beautifulgame/common/audio/brc/bgm_brc_02",
Alert: "main/audio/brc/alert",
BetCoin: "main/audio/brc/betcoin",
CountDown: "main/audio/brc/countdown",
FlipCard: "main/audio/brc/flipcard",
OnBet: "main/audio/brc/on_bet",
SendCard: "main/audio/brc/sendcard",
Show: "main/audio/brc/show",
Start: "main/audio/brc/start_bet",
Stop: "main/audio/brc/stop_bet",
WinBet: "main/audio/brc/win_bet"
}
};
return e;
}();
i.default = o;
cc._RF.pop();
}, {} ],
CommonAudio: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "b0613Kn9q9DZ7kMOsKxSAZG", "CommonAudio");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = e("../../Script/ProjectConfig"), n = e("./CommonAudioSkinRes"), r = function() {
function e() {}
e.common = n.default.common[o.default.variable.curSkin];
e.brc = n.default.brc[o.default.variable.curSkin];
e.dzc = n.default.dzc[o.default.variable.curSkin];
return e;
}();
i.default = r;
cc._RF.pop();
}, {
"../../Script/ProjectConfig": "ProjectConfig",
"./CommonAudioSkinRes": "CommonAudioSkinRes"
} ],
CommonBrcAudioMgr: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "a4f29g0p/1Fwp6HsC9UHGwd", "CommonBrcAudioMgr");
var o = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}(), n = a(e("../../Script/Audio/CommonAudioMgr")), r = a(e("../../Script/Audio/CommonAudio"));
a(e("../../Script/ProjectConfig"));
function a(e) {
return e && e.__esModule ? e : {
default: e
};
}
function s(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var c = e("TeenPattiRes").audio, l = function() {
function e() {
s(this, e);
}
o(e, null, [ {
key: "playBgm",
value: function() {
n.default.playMusic(c.Bgm);
}
}, {
key: "playCountDown",
value: function() {
n.default.playEffect(r.default.brc.CountDown);
}
}, {
key: "playAlert",
value: function() {
n.default.playEffect(r.default.brc.Alert);
}
}, {
key: "playStart",
value: function() {
n.default.playEffect(r.default.brc.Start);
}
}, {
key: "playStop",
value: function() {
n.default.playEffect(r.default.brc.Stop);
}
}, {
key: "playShow",
value: function() {
n.default.playEffect(r.default.brc.Show);
}
}, {
key: "playSeatBet",
value: function() {
n.default.playEffect(r.default.brc.OnBet);
}
}, {
key: "playMePeopleBet",
value: function() {
n.default.playEffect(r.default.brc.BetCoin);
}
}, {
key: "playSendCard",
value: function() {
n.default.playEffect(r.default.brc.SendCard);
}
}, {
key: "playFlipCard",
value: function() {
n.default.playEffect(r.default.brc.FlipCard);
}
}, {
key: "playWinBet",
value: function() {
n.default.playEffect(r.default.brc.WinBet);
}
} ]);
return e;
}();
t.exports = l;
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/ProjectConfig": "ProjectConfig",
TeenPattiRes: "TeenPattiRes"
} ],
CommonCmdUtil: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "b37bfKfOUJPlL50zSfkNSql", "CommonCmdUtil");
var o = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var n = e("../Script/UserManager"), r = e("../Script/UI/CommonPrefabMgr"), a = e("GameEngineUtil"), s = cc._decorator, c = s.ccclass, l = (s.property, 
function() {
function e() {}
e.doCmd = function(e) {
if (e == this.registcmd) n.default.is_formal || r.default.createRegisterForGifts(); else {
var t = e.split("&");
if (t.length > 1) {
var i = t[0], o = t[1];
i == this.jumpurl && a.openUrlByDefaultBrowser(o);
}
}
};
e.registcmd = "1";
e.jumpurl = "2";
return e = o([ c ], e);
}());
i.default = l;
cc._RF.pop();
}, {
"../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"../Script/UserManager": "UserManager",
GameEngineUtil: "GameEngineUtil"
} ],
CommonDepend: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "386500aCbpMSqMPLqKdmROs", "CommonDepend");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = function() {
return function() {};
}();
i.default = o;
cc._RF.pop();
}, {} ],
CommonDialog: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "74521qEB9dH1rgVC6md3+vK", "CommonDialog");
var o = a(e("./CommonPrefabMgr")), n = a(e("../../Script/Audio/CommonAudioMgr")), r = a(e("../../Script/Audio/CommonAudio"));
function a(e) {
return e && e.__esModule ? e : {
default: e
};
}
var s = e("CommonEventName");
cc.Class({
extends: cc.Component,
properties: {
mask: cc.Node,
frame: cc.Node,
_bodyFrameNode: cc.Node
},
onLoad: function() {
var e = this;
if (e.frame) {
e.node.setPosition(0, 5e3);
e.node.opacity = 0;
e.node.scale = .01;
cc.isValid(e.mask) || (e.mask = e.node.getChildByName("mask"));
cc.isValid(e.mask) || (e.mask = e.node.getChildByName("Mask"));
if (cc.isValid(e.mask)) {
e.node.removeComponent("Widget");
e.mask.removeComponent("Widget");
}
e._bodyFrameNode = e.frame.getChildByName("body");
cc.isValid(e._bodyFrameNode) || (e._bodyFrameNode = e.frame.getChildByName("content"));
cc.isValid(e._bodyFrameNode) && (e._bodyFrameNode.opacity = 0);
}
e.scheduleOnce(e.show, .1);
cc.director.on(s.RECHARGE_BANNER_CLICK, function() {
e.dismiss();
}, e);
},
show: function() {
var e = this, t = cc.callFunc(function() {
cc.isValid(e._bodyFrameNode) && e._bodyFrameNode.runAction(cc.sequence(cc.delayTime(0), cc.fadeIn(.2)));
});
if (cc.isValid(e.mask)) {
e.mask.width = cc.winSize.width;
e.mask.height = cc.winSize.height;
}
if (cc.isValid(e.node)) {
e.node.setPosition(0, 0);
e.node.opacity = 0;
e.node.scale = 0;
e.node.active = !0;
e.node.runAction(cc.sequence(cc.spawn(cc.fadeTo(.15, 255), cc.scaleTo(.15, 1.1)), cc.scaleTo(.15, 1), t)).easing(cc.easeSineOut());
}
},
dismiss: function() {
r.default.common && r.default.common.btnMusic && n.default.playEffect(r.default.common.btnMusic);
o.default.removeCommonLoading();
cc.isValid(this.node) && this.node.runAction(cc.sequence(cc.scaleTo(.08, 1.1), cc.scaleTo(.1, 0), cc.delayTime(.2), cc.callFunc(function() {
this.destroy();
}, this.node))).easing(cc.easeIn(3));
}
});
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"./CommonPrefabMgr": "CommonPrefabMgr",
CommonEventName: "CommonEventName"
} ],
CommonEventManager: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "93f0dS3DIpCypufvnc8oCzA", "CommonEventManager");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = e("../../Script/ProjectConfig"), n = e("NewGameInfo"), r = e("../../Script/UI/CommonPrefabMgr"), a = e("CommonEventName"), s = function() {
function e(e, t, i, o) {
void 0 === o && (o = -1);
this.hideListener = null;
this.showListener = null;
this.socketCloseFuc = null;
this.socketInitFuc = null;
this.socketCloseFucWhenInterruption = null;
this.hide_flag = 0;
this.show_flag = 0;
this.netWork_flag = 0;
this.bindGameId = -1;
this.isBackground = !1;
this.hideListener = null;
this.showListener = null;
this.socketCloseFuc = e;
this.socketInitFuc = t;
this.socketCloseFucWhenInterruption = i;
this.hide_flag = 0;
this.show_flag = 0;
this.netWork_flag = 0;
this.bindGameId = o;
this.initEvent();
}
e.prototype.initEvent = function() {
var e = this, t = n.current.gameID;
cc.game.on(cc.game.EVENT_HIDE, function() {
if (0 == e.hide_flag) {
e.isBackground = !0;
e.onHideGame();
}
e.show_flag = 0;
e.hide_flag += 1;
}, e);
cc.game.on(cc.game.EVENT_SHOW, function() {
if (0 == e.show_flag) {
e.isBackground = !1;
e.onShowGame();
}
e.hide_flag = 0;
e.show_flag += 1;
}, e);
cc.director.on(a.NetworkStateChanged, function() {
if (o.default.hasNetWork()) {
e.execInitSocket();
r.default.removeAlert();
} else e.showNetworkInterruption();
}, e);
window.addEventListener("online", function() {
o.default.variable.network = 1;
e.execInitSocket();
r.default.removeAlert();
});
window.addEventListener("offline", function() {
o.default.variable.network = 0;
e.showNetworkInterruption();
});
if (o.default.isFishGame(t)) {
cc.director.on(a.MAKE_HIDE_GAME, e.onHideGame, e);
cc.director.on(a.MAKE_SHOW_GAME, e.onShowGame, e);
}
};
e.prototype.closeEvent = function() {
var e = n.current.gameID;
cc.game.off(cc.game.EVENT_HIDE);
cc.game.off(cc.game.EVENT_SHOW);
cc.director.off(a.NetworkStateChanged);
if (o.default.isFishGame(e)) {
cc.director.off(a.MAKE_HIDE_GAME);
cc.director.off(a.MAKE_SHOW_GAME);
}
};
e.prototype.onHideGame = function() {
this.execCloseSocket();
};
e.prototype.onShowGame = function() {
if (o.default.hasNetWork()) {
r.default.removeAlert();
this.execInitSocket();
}
};
e.prototype.execInitSocket = function() {
var e = n.current.gameID;
if ("function" == typeof this.socketInitFuc) {
e == o.default.GAME_TYPE.NEWDOUDIZHU && o.default.GAME_TYPE.NEWDOUDIZHU == this.bindGameId && (n.isReconnect = !0);
this.socketInitFuc(e);
}
};
e.prototype.execCloseSocket = function() {
var e = n.current.gameID;
"function" == typeof this.socketCloseFuc && this.socketCloseFuc(e);
};
e.prototype.execCloseSocketInterruption = function() {
var e = n.current.gameID;
"function" == typeof this.socketCloseFuc && this.socketCloseFuc(e);
"function" == typeof this.socketCloseFucWhenInterruption && this.socketCloseFucWhenInterruption(e);
};
e.prototype.showNetworkInterruption = function() {
this.execCloseSocketInterruption();
};
return e;
}();
t.exports = s;
cc._RF.pop();
}, {
"../../Script/ProjectConfig": "ProjectConfig",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
CommonEventName: "CommonEventName",
NewGameInfo: "NewGameInfo"
} ],
CommonEventName: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "dd2aanoRBxMoqQlIPoJ777q", "CommonEventName");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = {
closeDialog: "closeDialog",
checkNewEmail: "checkNewEmail",
checkNewNotice: "checkNewNotice",
refreshUserInfo: "refreshUserInfo",
refreshCoinByTopUp: "REFRESH_COIN_BY_TOPUP",
APPLY_LOCAL_USER_INFO: "APPLY_LOCAL_USER_INFO",
MENUBAR_SHOW_GAMEROOM_LAYOUT: "MENUBAR_SHOW_GAMEROOM_LAYOUT",
MENUBAR_SHOW_HALL_LAYOUT: "MENUBAR_SHOW_HALL_LAYOUT",
refreshLevel: "REFRESHLEVEL",
rollingCompleted: "rollingCompleted",
rollingCompletedSpec: "rollingCompletedSpec",
reconnectFailed: "reconnectFailed",
LOGIN_SUCCESS: "LOGIN_SUCCESS",
refreshUISettings: "refreshUISettings",
updateUserBalance: "updateUserBalance",
onUserInfoUpdated: "onUserInfoUpdated",
RedEnvelopeEnable: "RedEnvelopeEnable",
RedEnvelopeDisable: "RedEnvelopeDisable",
RedEnvelopeRefresh: "RedEnvelopeRefresh",
NetworkStateChanged: "CommonEventName_network_state_changed",
CHECk_NEW: "CHECk_NEW",
CompelGuidance: "Compel_Guidance_Click_Game",
CHECk_CHAT: "CHECk_CHAT",
CLOSE_CUSTOMER_SERVICE: "CLOSE_CUSTOMER_SERVICE",
HALL_GAME_ENTRY: "HALL_GAME_ENTRY",
ToCharge: "ToCharge",
ToExchange: "ToExchange",
ToSafeBox: "ToSafeBox",
EVENT_IM_NEW_MESSAGE: "EVENT_IM_NEW_MESSAGE",
EVENT_MARQUEE_NOTICE_MSG: "EVENT_MARQUEE_NOTICE_MSG",
TAKE_OUT_SAFE_SUCCESS: "TAKE_OUT_SAFE_SUCCESS",
CHECK_SECOND_MSG_NEW: "CHECK_SECOND_MSG_NEW",
RECHARGE_BANNER_CLICK: "RECHARGE_BANNER_CLICK",
REFRESH_PAY_UNREAD_MSG: "REFRESH_PAY_UNREAD_MSG",
REFRESH_FAST_PAY_LIST_RED_DOT: "REFRESH_FAST_PAY_LIST_RED_DOT",
REFRESH_PAY_RECORD_LIST_ALL: "REFRESH_PAY_RECORD_LIST_ALL",
REFRESH_PAY_RECORD_LIST_COMMENT: "REFRESH_PAY_RECORD_LIST_COMMENT",
HOT_UPDATE_SHOW_NEW: "HOT_UPDATE_SHOW_NEW_",
HOT_UPDATE_DO_UPDATE: "HOT_UPDATE_DO_UPDATE_",
HOT_UPDATE_STATUS: "HOT_UPDATE_STATUS_",
HOT_UPDATE_PROGRESS: "HOT_UPDATE_PROGRESS_",
HOT_UPDATE_NEED_RESTART: "HOT_UPDATE_NEED_RESTART",
IP_BLACK_LIST: "IP_BLACK_LIST",
CLOSE_SOCKET_TeenPatti: "CLOSE_SOCKET_TeenPatti",
CLOSE_SOCKET_BIGBATTLE: "CLOSE_SOCKET_BIGBATTLE",
CLOSE_SOCKET_BLOOD: "CLOSE_SOCKET_BLOOD",
CLOSE_SOCKET_BLOODBULL: "CLOSE_SOCKET_BLOODBULL",
CLOSE_SOCKET_FLOWER: "CLOSE_SOCKET_FLOWER",
CLOSE_SOCKET_LANDLORD: "CLOSE_SOCKET_LANDLORD",
CLOSE_SOCKET_NIUNIU: "CLOSE_SOCKET_NIUNIU",
CLOSE_SOCKET_POKER: "CLOSE_SOCKET_POKER",
CLOSE_SOCKET_REDBLACK: "CLOSE_SOCKET_REDBLACK",
CLOSE_SOCKET_SHARK: "CLOSE_SOCKET_SHARK",
EXCHANGE_GUIDE_END: "EXCHANGE_GUIDE_END",
UPDATE_NOTICE_ACTION: "UPDATE_NOTICE_ACTION",
EVENT_UPDATE_NOTICEACTION: "EVENT_UPDATE_NOTICEACTION",
WITHDRAW_SELECT_BANK_CODE: "WITHDRAW_SELECT_BANK_CODE",
EVENT_NAMING_QUTH_MSG: "EVENT_NAMING_QUTH_MSG",
EVENT_NAMING_ACCESSLIST_MSG: "EVENT_NAMING_ACCESSLIST_MSG",
EVENT_NAMING_GATEWAY_MSG: "EVENT_NAMING_GATEWAY_MSG",
EVENT_NAMING_UPDATENEW_MSG: "EVENT_NAMING_UPDATENEW_MSG",
EVENT_NAMING_SERVERLIST_MSG: "EVENT_NAMING_SERVERLIST_MSG",
EVENT_NAMING_GAME_UPDATE_MSG: "EVENT_NAMING_GAME_UPDATE_MSG",
EVENT_UPDATENEW_APP_UPDATE_MSG: "EVENT_APP_UPDATE_MSG",
UPDATE_HOT_UPDATE_START: "UPDATE_HOT_UPDATE_START",
UPDATE_HOT_UPDATE_STATUS: "UPDATE_HOT_UPDATE_STATUS",
UPDATE_HOT_UPDATE_PROGRESS: "UPDATE_HOT_UPDATE_PROGRESS",
UPDATE_HOT_UPDATE_PASSED: "UPDATE_HOT_UPDATE_PASSED",
FISHING_NORMAL_HOT_UPDATE_FINISHED: "FISHING_NORMAL_HOT_UPDATE_FINISHED",
FISHING_FULL_HOT_UPDATE_FINISHED: "FISHING_FULL_HOT_UPDATE_FINISHED",
FISHING_FULL_RESOURCES_LOADED: "FISHING_FULL_RESOURCES_LOADED",
HALL_BANNER_DATA_UPDATE: "HALL_BANNER_DATA_UPDATE",
EVENT_PLAY_HALL_BGM: "EVENT_PLAY_HALL_BGM",
EVENT_PYRAMID_REDDOT: "EVENT_PYRAMID_REDDOT",
EVENT_PYRAMID_SHARE_WX: "EVENT_PYRAMID_SHARE_WX",
EVENT_PYRAMID_ENTRY: "EVENT_PYRAMID_ENTRY",
EVENT_PYRAMID_EXIT: "EVENT_PYRAMID_EXIT",
LOGIN_SUCCESS_DIALOG_LOGIC: "LOGIN_SUCCESS_DIALOG_LOGIC",
REFRESH_BONUS_CENTER_INFO: "REFRESH_BONUS_CENTER_INFO",
REQUEST_BONUS_CENTER_INFO: "REQUEST_BONUS_CENTER_INFO",
BONUS_CENTER_ONLINE_COUNTDOWN_COMING_END: "BONUS_CENTER_ONLINE_COUNTDOWN_COMING_END",
CLOSE_BONUS_CENTER_LOGIN_DIALOG: "CLOSE_BONUS_CENTER_LOGIN_DIALOG",
RECEIVE_NOTIFICATION_RESPONSE: "RECEIVE_NOTIFICATION_RESPONSE",
PUSH_NOTIFICATION_SUCCEED: "PUSH_NOTIFICATION_SUCCEED",
SHOW_INSTALLAPK_DIALOG: "SHOW_INSTALLAPK_DIALOG",
UPDATEAPKERROR: "UPDATEAPKERROR",
REDPOINT: "REDPOINT",
channel: {
all: 1001,
niuniu: 1002,
flower: 1003,
poker: 1004,
hall: 1005,
lottery: 1006,
slot: 1007,
blood: 1008
},
server_type: cc.Enum({
dating: 0,
poker: 1,
slot: 2,
lottery: 3,
niuniu: 4,
flower: 5,
blood: 6,
wechat: 7
}),
LOAD_MENU_DATA: "LOAD_MENU_DATA",
MAKE_HIDE_GAME: "MAKE_HIDE_GAME",
MAKE_SHOW_GAME: "MAKE_SHOW_GAME"
};
t.exports = o;
i.default = o;
cc._RF.pop();
}, {} ],
CommonFontFamily: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "aae57MGdXtGPZdOzlVzgMZ9", "CommonFontFamily");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = cc._decorator, a = r.ccclass, s = r.property, c = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.fontFamily = "PingFangSC-Semibold,STHeitiSC-Medium,Helvetica-Bold,Noto Sans SC Bold,Droid Sans Fallback,Microsoft YaHei Bold";
t.bold = !0;
return t;
}
t.prototype.onLoad = function() {
for (var e = 0, t = this.node.getComponentsInChildren(cc.Label); e < t.length; e++) {
var i = t[e];
i.font || (i.fontFamily = this.fontFamily);
}
for (var o = 0, n = this.node.getComponentsInChildren(cc.RichText); o < n.length; o++) {
var r = n[o];
r.font || (r.fontFamily = this.fontFamily);
}
};
n([ s ], t.prototype, "fontFamily", void 0);
n([ s ], t.prototype, "bold", void 0);
return t = n([ a ], t);
}(cc.Component);
i.default = c;
cc._RF.pop();
}, {} ],
CommonFunction: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "b780dMHsWRNupSbXvZXG4Cy", "CommonFunction");
var o = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}(), n = l(e("../Script/ProjectConfig")), r = l(e("../Script/BaseFormat")), a = l(e("../Script/UI/CommonPrefabMgr")), s = l(e("../Script/UserManager")), c = l(e("../Script/LocalStorage/LocalStorageUtil"));
l(e("../Script/Audio/CommonAudio")), l(e("../Script/Audio/CommonAudioMgr"));
function l(e) {
return e && e.__esModule ? e : {
default: e
};
}
function u(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var d = e("GameEngineUtil"), f = e("CommonEventName"), h = e("CommonAtlasMgr"), p = e("TopUpUIMgr"), g = (e("SafeBoxUIMgr"), 
e("UISettingModel")), m = e("Language"), y = function() {
function e() {
u(this, e);
}
o(e, null, [ {
key: "getFrameFromLocal",
value: function(e, t, i) {
var o = n.default.getAvatar(), r = 1 == t ? o.boyAvatar : o.girlAvatar;
if (e) {
var a = e.replace(/(.*\/)*([^.]+).*/gi, "$2");
-1 != [ "head_boy1", "head_boy2", "head_boy3", "head_boy4", "head_boy5", "head_boy6", "head_boy7", "head_boy8", "head_girl1", "head_girl2", "head_girl3", "head_girl4", "head_girl5", "head_girl6", "head_girl7", "head_girl8" ].indexOf("" + a) && (r = "beautifulgame/common/texture/usercenter/avatar/" + a);
}
cc.loader.loadRes(r, cc.SpriteFrame, function(e, t) {
i && i(e, t);
});
}
}, {
key: "getAvatarFromAtlas",
value: function(e, t) {
var i = void 0, o = [ "head_boy1", "head_boy2", "head_boy3", "head_boy4", "head_boy5", "head_boy6", "head_boy7", "head_boy8", "head_girl1", "head_girl2", "head_girl3", "head_girl4", "head_girl5", "head_girl6", "head_girl7", "head_girl8" ];
if (e) {
var n = e.replace(/(.*\/)*([^.]+).*/gi, "$2");
-1 == o.indexOf("" + n) && (n = 1 == t ? o[0] : o[4]);
i = h.getAvatarFrame(n);
} else {
var r = 1 == t ? o[0] : o[4];
i = h.getAvatarFrame(r);
}
return i;
}
}, {
key: "getBankIconFromAtlas",
value: function(e, t, i) {
var o = "beautifulgame/common/texture/wallet/newDrawcash/" + [ "bank_icon_1", "bank_icon_2", "bank_icon_3", "bank_icon_4", "bank_icon_5", "bank_icon_6", "bank_icon_7", "bank_icon_8", "bank_icon_9", "bank_icon_10", "bank_icon_11", "bank_icon_12", "bank_icon_13", "bank_icon_14", "bank_icon_15", "bank_icon_16" ][t];
cc.loader.loadRes(o, cc.SpriteFrame, function(e, t) {
i && i(e, t);
});
}
}, {
key: "setComponentMask",
value: function(e, t, i) {
cc.isValid(e) && t && cc.loader.loadRes(t, cc.SpriteFrame, function(t, o) {
t || cc.isValid(e) && e.getComponent(cc.Mask) && (e.getComponent(cc.Mask).spriteFrame = o);
i && i(t);
});
}
}, {
key: "setComponentSprite",
value: function(e, t, i) {
cc.isValid(e) && t && cc.loader.loadRes(t, cc.SpriteFrame, function(t, o) {
t || cc.isValid(e) && e.getComponent(cc.Sprite) && (e.getComponent(cc.Sprite).spriteFrame = o);
i && i(t);
});
}
}, {
key: "setSprite",
value: function(e, t, i) {
cc.isValid(e) && t && cc.loader.loadRes(t, cc.SpriteFrame, function(t, o) {
t || cc.isValid(e) && (e.spriteFrame = o);
i && i(t);
});
}
}, {
key: "calculateUseChipWithSumAction",
value: function(e, t) {
var i = [];
if (null == e || null == t) return [];
var o = e.length, n = o - 1, r = e[n], a = o - 2, s = e[a], c = o - 3, l = e[c], u = o - 4, d = e[u], f = o - 5, h = e[f], p = o - 6, g = e[p], m = void 0, y = void 0, b = void 0, _ = void 0, v = void 0, S = void 0;
r && (m = parseInt(t / r));
r && s && (y = parseInt(t % r / s));
s && l && (b = parseInt(t % s / l));
l && d && (_ = parseInt(t % l / d));
d && h && (v = parseInt(t % d / h));
h && g && (S = parseInt(t % h / g));
m > 0 && i.push({
chipIndex: n,
interval: m > 1 ? 1 / (m - 1) : .3,
repeat: m - 1
});
y > 0 && i.push({
chipIndex: a,
interval: y > 1 ? 1 / (y - 1) : .3,
repeat: y - 1
});
b > 0 && i.push({
chipIndex: c,
interval: b > 1 ? 1 / (b - 1) : .2,
repeat: b - 1
});
_ > 0 && i.push({
chipIndex: u,
interval: _ > 1 ? 1 / (_ - 1) : .2,
repeat: _ - 1
});
v > 0 && i.push({
chipIndex: f,
interval: v > 1 ? 1 / (v - 1) : .1,
repeat: v - 1
});
S > 0 && i.push({
chipIndex: p,
interval: S > 1 ? 1 / (S - 1) : .1,
repeat: S - 1
});
return i;
}
}, {
key: "getRSA",
value: function(e, t) {
var i = Math.floor(247 * Math.random()) + 2, o = r.default.md5hex(e + "" + i + t);
return r.default.base64Encode(o + "##" + i);
}
}, {
key: "clickEventHandler",
value: function(e, t, i, o, n, r) {
if (0 == e) ; else if (1 == e) {
d.copyText(t);
a.default.createToast("复制成功");
} else if (2 == e) {
if (n && 1 == n) {
var l = "userid=" + s.default.uid + "&token=" + s.default.token + "&p=" + c.default.readDeviceInfo();
t = t.indexOf("?") >= 0 ? t + "&" + l : t + "?" + l;
}
0 == o ? d.openUrlBannerWebView(t, i) : d.openUrlByDefaultBrowser(t);
} else if (3 == e) {
d.copyText(t);
d.startApp("2:" + t);
} else if (4 == e) {
d.copyText(t);
d.openUrlByDefaultBrowser("mqq://im/chat?chat_type=wpa&uin=" + t + "&version=1&src_type=web");
} else if (5 == e) {
d.copyText(t);
a.default.createToast("已成功复制链接");
d.openUrlByDefaultBrowser(t);
} else if (6 == e) "charge" == t ? cc.director.emit(f.ToCharge, !1) : "exchange" == t ? cc.director.emit(f.ToExchange, !1) : "act-2019-spring-0" == t ? a.default.showAnniversaryActivity(0) : "act-2019-spring-1" == t ? a.default.showAnniversaryActivity(1) : "act-2019-spring-2" == t ? a.default.showAnniversaryActivity(2) : "act-2019-spring-3" == t ? a.default.showAnniversaryActivity(3) : "pyramid" == t ? a.default.showPromoterDialog() : "partner" == t ? a.default.showPromoterActivity() : "" == t || isNaN(t) || cc.director.emit(f.HALL_GAME_ENTRY, t); else if (9 == e) {
cc.vv.gameEngineUtil.saveImage2SystemPhoto(t) || a.default.createSignleButtonAlert(m.saveImage2, "确定");
} else if (9999 == e) {
if (n && 1 == n) {
var u = "userid=" + s.default.uid + "&token=" + s.default.token + "&orderid=" + r + "&p=" + c.default.readDeviceInfo();
t = t.indexOf("?") >= 0 ? t + "&" + u : t + "?" + u;
}
0 == o ? d.openUrlBannerWebView(t, i) : d.openUrlByDefaultBrowser(t);
}
}
}, {
key: "toTopup",
value: function(e) {
p.showGameTopUpView();
null != e && "function" == typeof e && e();
}
}, {
key: "loadUrlImageWithBuffer",
value: function(e, t) {
if (cc.sys.isNative) {
var i = function() {
cc.loader.load(n, function(i, o) {
if (i) cc.loader.load(e, function(e, i) {
var o = new cc.SpriteFrame(i);
t(o, e);
}); else {
var n = new cc.SpriteFrame(o);
n && t(n, i);
}
});
}, o = jsb.fileUtils.getWritablePath() + "img/", n = o + r.default.md5hex(e) + ".png";
if (jsb.fileUtils.isFileExist(n)) {
i();
return;
}
cc.loader.load(e, function(e, i) {
var o = new cc.SpriteFrame(i);
t(o, e);
});
var a = function(r) {
if ("undefined" != typeof r) {
jsb.fileUtils.isDirectoryExist(o) || jsb.fileUtils.createDirectory(o);
jsb.fileUtils.writeDataToFile(new Uint8Array(r), n) ? i() : cc.loader.load(e, function(e, i) {
var o = new cc.SpriteFrame(i);
t(o, e);
});
} else cc.loader.load(e, function(e, i) {
var o = new cc.SpriteFrame(i);
t(o, e);
});
}, s = new XMLHttpRequest();
s.onreadystatechange = function() {
4 === s.readyState && (200 === s.status ? a(s.response) : a(null));
}.bind(this);
s.responseType = "arraybuffer";
s.open("GET", e, !0);
s.send();
} else cc.loader.load(e, function(e, i) {
var o = new cc.SpriteFrame(i);
t(o, e);
});
}
}, {
key: "checkNetwork",
value: function() {
return !!n.default.hasNetWork();
}
}, {
key: "showNeedCoin",
value: function(e) {
g.isShowBay || a.default.createBalanceToast();
}
}, {
key: "twoArraysEqual",
value: function(e, t) {
if (e.length !== t.length) return !1;
for (var i = 0, o = e.len; i < o; i++) if (e[i] !== t[i]) return !1;
return !0;
}
} ]);
return e;
}();
t.exports = y;
cc._RF.pop();
}, {
"../Script/Audio/CommonAudio": "CommonAudio",
"../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../Script/BaseFormat": "BaseFormat",
"../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../Script/ProjectConfig": "ProjectConfig",
"../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"../Script/UserManager": "UserManager",
CommonAtlasMgr: "CommonAtlasMgr",
CommonEventName: "CommonEventName",
GameEngineUtil: "GameEngineUtil",
Language: "Language",
SafeBoxUIMgr: "SafeBoxUIMgr",
TopUpUIMgr: "TopUpUIMgr",
UISettingModel: "UISettingModel"
} ],
CommonHttp: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "e1bb8o64MZAVpSmjkFoAPID", "CommonHttp");
var o = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}(), n = l(e("../../Script/LocalStorage/LocalStorageUtil")), r = l(e("../../Script/UserManager")), a = l(e("../../Script/ProjectConfig")), s = l(e("../UI/CommonPrefabMgr")), c = l(e("./HttpErrorManager"));
function l(e) {
return e && e.__esModule ? e : {
default: e
};
}
function u(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var d = function() {
function e() {
u(this, e);
this._createRequest();
this.showLoadingAniTime = 1200;
this.loadingTimer = null;
this.timeoutStatus = !1;
this.closeLoading = !0;
this.showLoading = !1;
this.closeToast = !1;
this.backupHost = null;
this.host = null;
this.requestUrl = null;
this.requestType = null;
this.sendData = null;
this.option = null;
this.ignoreTokenError = !1;
this.successCallback = null;
this.errorCallback = null;
this._canRetry = !1;
}
o(e, [ {
key: "getJSON",
value: function(e, t, i, o, n, r, a) {
var c = arguments.length > 7 && void 0 !== arguments[7] && arguments[7], l = arguments.length > 8 && void 0 !== arguments[8] ? arguments[8] : {}, u = arguments[9], d = !(arguments.length > 10 && void 0 !== arguments[10]) || arguments[10], f = arguments.length > 11 && void 0 !== arguments[11] && arguments[11];
arguments.length > 12 && void 0 !== arguments[12] && arguments[12];
this.closeLoading = d;
this.showLoading = c;
this.closeToast = f;
this.ignoreTokenError = u;
if (this.httpRequest) {
this.showLoading && s.default.createCommonLoading("loading...");
this._parseBackupHost(t);
this.host = e;
this.requestType = o;
this.option = l;
this.successCallback = r;
this.errorCallback = a;
this.sendData = this._buildSendData(this.option, n);
this.requestUrl = this._buildFullUrl(e, i, this.requestType, this.sendData);
this._startRequest();
}
}
}, {
key: "_createRequest",
value: function() {
var e = cc.loader.getXMLHttpRequest();
null == e || (this.httpRequest = e);
}
}, {
key: "_startRequest",
value: function() {
var e = this;
e.timeoutStatus = !1;
e.httpRequest.open(e.requestType, e.requestUrl, !0);
e._setHeader(e.option);
e._sendRequest(e.requestType, e.option, e.sendData);
e.httpRequest.onreadystatechange = function() {
e._onResponse(e.successCallback, e.errorCallback, e.ignoreTokenError);
};
e.httpRequest.timeout = 5e3;
e.httpRequest.ontimeout = function(t) {
e._onTimeout(e.errorCallback);
};
e.httpRequest.onerror = function(t) {
e._onTimeout(e.errorCallback);
};
}
}, {
key: "_abortRequest",
value: function() {
this.httpRequest && (this.httpRequest = null);
this._createRequest();
}
}, {
key: "_onResponse",
value: function(e, t, i) {
var o = this;
(function() {
var n = o.httpRequest.readyState, r = o.httpRequest.status;
if (4 == n) {
o._hideLoading();
o.timer && clearTimeout(o.timer);
if (1 == o.timeoutStatus) return;
var c = null;
o.httpRequest && (c = o.httpRequest.responseText);
cc.log("this response is " + c);
if (c && "" != c) {
c.indexOf("<!DOCTYPE html>") >= 0 && (c = "{}");
c.indexOf("<html>") >= 0 && (c = "{}");
0 == c.indexOf("<") && (c = "{}");
var l = JSON.parse(c), u = l.data, d = l.status;
if (200 == r && 0 == d) {
if (u) {
a.default.variable.network = 1;
"function" == typeof e && e(u);
s.default.removeCommonLoading();
}
} else if (r) if ("{}" == c) {
if (o._canRetryWithBackupUrl("err_fun")) {
o._retryWithBackupUrl();
}
} else o._errFun(l, t, i, r);
} else o._errFun("", t);
}
})();
}
}, {
key: "_buildFullUrl",
value: function(e, t, i, o) {
if (e) {
(e = e.toString()).indexOf("http") < 0 && (e = "http://" + e);
"/" == e.charAt(e.length - 1) && (e = e.substring(0, e.length - 1));
}
"/" != t.charAt(0) && (t = "/" + t);
var r = e + t, a = new Date().getTime(), s = "?gv=" + GAMECONFIG.VERSION_CODE + "&qt_utc=" + a;
n.default.readDeviceInfo();
if ("POST" == i.toUpperCase() || "PUT" == i.toUpperCase()) r += s; else {
if (o && "" != o) {
r += "?";
r += o;
}
r += s;
}
cc.log("this url is " + r);
return r;
}
}, {
key: "_setHeader",
value: function(e) {
if (this.httpRequest) {
this.httpRequest.setRequestHeader("content-type", "application/x-www-form-urlencoded");
var t = r.default.uid, i = r.default.token;
if (!t || !i) {
t = n.default.readUserID();
i = n.default.readUserToken();
}
if (t && i) {
this.httpRequest.setRequestHeader("X-AUTH-USER", t.toString());
this.httpRequest.setRequestHeader("X-AUTH-TOKEN", i.toString());
}
e && e.CowRoomIndex > -1 && this.httpRequest.setRequestHeader("X-COW-ROOM-ID", e.CowRoomIndex.toString());
var o = n.default.readDeviceInfo();
this.httpRequest.setRequestHeader("X-Auth-Track", o);
}
}
}, {
key: "_buildSendData",
value: function(e, t) {
var i = "";
if (e.json) i = t; else {
for (var o in t) {
"" != i && (i += "&");
i += o + "=" + t[o];
}
cc.log("this data is " + i);
}
return i;
}
}, {
key: "_sendRequest",
value: function(e, t, i) {
this.httpRequest && ("POST" == e.toUpperCase() || "PUT" == e.toUpperCase() ? t && t.json ? this.httpRequest.send(JSON.stringify(i)) : this.httpRequest.send(i) : this.httpRequest.send());
}
}, {
key: "_parseBackupHost",
value: function(e) {
this.backupHost = [];
if (e) for (var t = e.length, i = 0; i < t; i++) {
var o = e[i];
o && this.backupHost.push(o);
}
}
}, {
key: "_canRetryWithBackupUrl",
value: function(e) {
var t = !1;
this.backupHost && this.backupHost.length > 0 && (t = !0);
this._canRetry = t;
return t;
}
}, {
key: "_changeHost",
value: function() {
if (this.backupHost && this.backupHost.length > 0) {
var e = this.backupHost.shift(), t = this.host;
t && "/" == t.charAt(t.length - 1) && (t = t.substring(0, t.length - 1));
var i = e;
i && "/" == i.charAt(i.length - 1) && (i = i.substring(0, i.length - 1));
this.requestUrl = this.requestUrl.replace(t, i);
this.host = e;
}
}
}, {
key: "_retryWithBackupUrl",
value: function() {
this._changeHost();
this._abortRequest();
this._startRequest();
}
}, {
key: "_hideLoading",
value: function() {
this._canRetry || this.closeLoading && this.showLoading && s.default.removeCommonLoading();
}
}, {
key: "_onTimeout",
value: function(e) {
this.timeoutStatus = !0;
if (this._canRetryWithBackupUrl("time_out")) this._retryWithBackupUrl(); else {
s.default.removeCommonLoading();
"function" == typeof e && e(-1);
this._showToast();
}
}
}, {
key: "_errFun",
value: function(e, t, i, o) {
if (o && 502 != o && 404 != o && 503 != o && 200 != o) {
s.default.removeCommonLoading();
"function" == typeof t && t(e);
c.default.disposeHttpErrorWithStatus(o, e, i);
} else if (this.timeoutStatus) {
s.default.removeCommonLoading();
this._showToast();
} else if (this._canRetryWithBackupUrl("err_fun")) this._retryWithBackupUrl(); else {
s.default.removeCommonLoading();
"function" == typeof t && t(e);
c.default.disposeHttpErrorWithStatus(o, e, i);
this._showToast();
}
}
}, {
key: "_showToast",
value: function() {
this.closeToast || s.default.createToast("Request timed out");
}
} ]);
return e;
}();
t.exports = d;
cc._RF.pop();
}, {
"../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../Script/ProjectConfig": "ProjectConfig",
"../../Script/UserManager": "UserManager",
"../UI/CommonPrefabMgr": "CommonPrefabMgr",
"./HttpErrorManager": "HttpErrorManager"
} ],
CommonLanguage: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "6d13amAnX5BCKGVL2irIrT8", "CommonLanguage");
var o = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("../Script/ProjectConfig"));
var n = e("GameLanguage"), r = e("TeenpattiLanguage"), a = {
currentlanguage: n[o.default.variable.curLanguage],
teenpattilanguage: r[o.default.variable.curLanguage]
};
t.exports = a;
cc._RF.pop();
}, {
"../Script/ProjectConfig": "ProjectConfig",
GameLanguage: "GameLanguage",
TeenpattiLanguage: "TeenpattiLanguage"
} ],
CommonObjectPool: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "1c40bMg/2hNFLdzdqDhD4TE", "CommonObjectPool");
function o() {
this.Pool = new cc.NodePool();
this.prefab = null;
}
o.prototype.create = function(e, t) {
null == this.Pool && (this.Pool = new cc.NodePool());
if (e > 0 && null != t && void 0 != t) {
this.prefab = t;
for (var i = 0; i < e; ++i) {
var o = cc.instantiate(t);
o && this.Pool && this.Pool.put(o);
}
}
};
o.prototype.setObj = function(e, t) {
if (this.Pool && this.Pool.size() <= 0 && null != this.prefab) {
var i = cc.instantiate(this.prefab);
i && this.Pool.put(i);
}
if (void 0 !== t && e.childrenCount >= t) {
var o = e.children[0];
this.Pool.put(o);
e.removeChild(o);
}
var n = this.Pool.get();
null == n && null != this.prefab && (n = cc.instantiate(this.prefab));
null != n && (n.parent = e);
return n;
};
o.prototype.reuse = function(e) {
null != this.Pool && void 0 != this.Pool && null != e && void 0 != e && this.Pool.put(e);
};
o.prototype.size = function() {
return this.Pool.size();
};
o.prototype.clear = function() {
if (null != this.Pool && void 0 != this.Pool) {
this.Pool.clear();
this.Pool = null;
}
};
t.exports = o;
cc._RF.pop();
}, {} ],
CommonPrefabMgr: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "beee639+qJCXoGo3J5j88H0", "CommonPrefabMgr");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = e("../Socket/FastPlayMgr"), n = e("../../Script/ProjectConfig"), r = e("SafeBoxUIMgr"), a = e("../../Script/LocalStorage/LocalStorageUtil"), s = e("../UserManager"), c = e("CommonLanguage"), l = e("CustomerUIMgr"), u = e("ComponentRes"), d = (e("ComponentSkinRes"), 
e("GameEngineUtil"), function() {
function e() {}
e.showGameSettingUi = function(e) {
var t = n.default.getSceneCanvas();
cc.loader.releaseRes(u.prefab.settingui);
cc.loader.loadRes(u.prefab.settingui, function(i, o) {
var n = null;
if (o) {
n = cc.instantiate(o);
if (cc.isValid(n)) {
n.getComponent("SettingView") && n.getComponent("SettingView").init(e);
cc.isValid(t) && t.addChild(n, 1e3);
}
}
});
};
e.removeGameSettingUi = function() {
var e = n.default.getSceneCanvas();
if (cc.isValid(e)) {
var t = e.getChildByName("RummySettingUI");
t && e.removeChild(t);
}
};
e.createAlert = function(e, t, i, o, r, a, s, c, l) {
void 0 === a && (a = !1);
void 0 === l && (l = !1);
var d = n.default.getSceneCanvas();
this.removeAlert("Dialog");
cc.loader.releaseRes(u.prefab.alert);
cc.loader.loadRes(u.prefab.alert, function(n, u) {
var f = null;
if (u) {
f = cc.instantiate(u);
if (cc.isValid(f)) {
s && f.setName(s);
if (c) {
var h = cc.find("content/title", f);
cc.isValid(h) && (h.getComponent(cc.RichText).string = c);
}
f.getComponent("SystemDialog") && f.getComponent("SystemDialog").init(e, t, i, o, r, a, l);
cc.isValid(d) && d.addChild(f, 1e3);
}
}
});
};
e.createNoTitleAlert = function(e, t, i, o, r) {
var a = n.default.getSceneCanvas();
this.removeAlert("Dialog");
cc.loader.releaseRes(u.prefab.noTitleDialog);
cc.loader.loadRes(u.prefab.noTitleDialog, function(n, s) {
var c = null;
if (s) {
c = cc.instantiate(s);
if (cc.isValid(c)) {
c.getComponent("SystemDialog") && c.getComponent("SystemDialog").init(e, t, i, o, r, !1);
cc.isValid(a) && a.addChild(c, 1e3);
}
}
});
};
e.createLeaveAlert = function(e, t) {
var i = n.default.getSceneCanvas();
this.removeAlert();
cc.loader.loadRes(u.prefab.leaveAlert, function(o, n) {
var r = null;
if (n) {
r = cc.instantiate(n);
if (cc.isValid(r)) {
r.getComponent("LeaveAlert") && r.getComponent("LeaveAlert").init(e, t);
cc.isValid(i) && i.addChild(r, 1e3);
}
}
});
};
e.createDialog = function(e, t, i, o, r, a) {
void 0 === a && (a = !1);
var s = n.default.getSceneCanvas();
this.removeAlert();
cc.loader.releaseRes(u.prefab.dialog);
cc.loader.loadRes(u.prefab.dialog, function(n, c) {
var l = null;
if (c) {
l = cc.instantiate(c);
if (cc.isValid(l)) {
l.getComponent("SystemDialog") && l.getComponent("SystemDialog").init(e, t, i, o, r, a);
cc.isValid(s) && s.addChild(l, 1e3);
}
}
});
};
e.removeAlert = function(e) {
var t = n.default.getSceneCanvas();
if (cc.isValid(t)) {
e || (e = "Dialog");
var i = t.getChildByName(e);
i && t.removeChild(i);
(i = t.getChildByName("LeaveAlert")) && t.removeChild(i);
}
};
e.removeDialog = function() {
var e = n.default.getSceneCanvas();
if (cc.isValid(e)) {
var t = e.getChildByName("SystemDialog");
t && e.removeChild(t);
}
};
e.createAlertWithCountdown = function(t, i, o, r, a, s, c, l, d) {
void 0 === d && (d = this.layerZOrder.dialog);
var f = n.default.getSceneCanvas();
cc.loader.releaseRes(u.prefab.alert);
cc.loader.loadRes(u.prefab.alert, function(n, u) {
var d = null;
u && (d = cc.instantiate(u));
if (cc.isValid(d)) {
d.getComponent("SystemDialog") && d.getComponent("SystemDialog").initWithCountdown(t, i, o, r, a, s, c, l);
cc.isValid(f) && f.addChild(d, e.layerZOrder.dialog);
}
});
};
e.createSignleButtonAlert = function(t, i, o) {
var r = n.default.getSceneCanvas();
this.removeAlert(void 0);
cc.loader.releaseRes(u.prefab.alert);
cc.loader.loadRes(u.prefab.alert, function(n, a) {
var s = null;
a && (s = cc.instantiate(a));
if (cc.isValid(s)) {
s.getComponent("Alert") && s.getComponent("Alert").initWithSaveImageTip(t, i, function() {
o && o();
});
cc.isValid(r) && r.addChild(s, e.layerZOrder.toast);
}
});
};
e.createToast = function(e, t) {
void 0 === t && (t = this.layerZOrder.toast);
var i = n.default.getSceneCanvas();
this.removeAlert("Dialog");
cc.loader.releaseRes(u.prefab.alert);
cc.loader.loadRes(u.prefab.alert, function(t, o) {
var n = null;
if (o) {
n = cc.instantiate(o);
if (cc.isValid(n)) {
n.getComponent("SystemDialog") && n.getComponent("SystemDialog").init(e, c.currentlanguage.commondialog.btnone, function() {}, void 0, void 0, !1, !1);
cc.isValid(i) && i.addChild(n, 1e3);
}
}
});
};
e.createMutiToast = function(e, t) {
void 0 === t && (t = this.layerZOrder.toast);
var i = n.default.getSceneCanvas();
if (cc.isValid(i)) {
var o = i.getChildByName("ToastMuti");
o && i.removeChild(o);
}
cc.loader.loadRes(u.prefab.toastMuti, function(o, n) {
if (n) {
var r = cc.instantiate(n);
if (r && cc.isValid(i)) {
i.addChild(r, t);
r.getComponent("Toast") && r.getComponent("Toast").init(e);
r.x = 0;
r.y = 0;
}
}
});
};
e.createCommonLoading = function(t) {
var i = n.default.getSceneCanvas();
if (cc.isValid(i)) {
var o = i.getChildByName("Loading");
o && i.removeChild(o);
}
cc.loader.loadRes(u.prefab.loading, function(o, n) {
if (n) {
var r = cc.instantiate(n);
if (r && cc.isValid(i)) {
i.addChild(r, e.layerZOrder.toast);
r.getComponent("Loading") && r.getComponent("Loading").init(t);
r.x = 0;
r.y = 0;
}
}
});
};
e.createLoadingWithBiDuoBrc = function() {
var t = n.default.getSceneCanvas();
if (cc.isValid(t)) {
var i = t.getChildByName("LoadingWithFont");
i && t.removeChild(i);
}
cc.loader.loadRes(u.prefab.loadingWithFont, function(i, o) {
if (o) {
var n = cc.instantiate(o);
if (n && cc.isValid(t)) {
t.addChild(n, e.layerZOrder.toast);
n.x = 0;
n.y = 0;
}
}
});
};
e.removeCommonLoadingWithBiDuoBrc = function() {
var e = n.default.getSceneCanvas();
if (cc.isValid(e)) {
var t = e.getChildByName("LoadingWithFont");
t && e.removeChild(t);
}
};
e.removeCommonLoading = function() {
var e = !1;
i();
if (0 == e) var t = setTimeout(function() {
i();
clearTimeout(t);
}, 500);
function i() {
var t = n.default.getSceneCanvas(), i = t.getChildByName("Loading");
if (i && cc.isValid(t)) {
t.removeChild(i);
e = !0;
}
}
};
e.createPoker = function(e) {
cc.loader.loadRes(u.prefab.poker, function(t, i) {
if (i) {
var o = cc.instantiate(i);
"function" == typeof e && e(o);
}
});
};
e.createRechargeRecord = function() {
var t = n.default.getSceneCanvas();
cc.loader.loadRes(u.prefab.rechargeRecrod, function(i, o) {
if (o) {
var n = cc.instantiate(o);
n && cc.isValid(t) && t.addChild(n, e.layerZOrder.dialog);
}
});
};
e.createBaoXianGui = function(e) {
void 0 === e && (e = 0);
r.initSafeBoxUI(e);
};
e.createRechargeAlert = function(e, t) {
this.removeAlert(void 0);
this.createNoTitleAlert("The minimum entry required to play this game is ₹ " + e + ".", "Add Cash", t, null, null);
};
e.createGuesterRegisterAlert = function(e, t) {
this.removeAlert(void 0);
this.createNoTitleAlert("The minimum entry required to play this game is ₹ " + e + ".", "Add Cash", t, null, null);
};
e.createFishRechargeAlert = function(e) {
this.removeAlert(void 0);
this.createAlert("Not enough balance，do you want to recharge？", "No", null, "Yes", e, null, null, null);
};
e.createContinueBetAlert = function(e, t) {
this.removeAlert(void 0);
this.createNoTitleAlert("Balance not enough ₹ " + e + ",Do you want to recharge?", "Add Cash", t, null, null);
};
e.createRummyDropAlert = function(e, t, i) {
this.removeAlert(void 0);
this.createNoTitleAlert(e, t, i, null, null);
};
e.createToastClick = function() {
this.createToast("Your hand is too fast！");
};
e.creatorBlackIpAlert = function(e) {
this.createAlert("Unable to log in due to limited area\n" + e, "Sure", null, null, null, null, null, null);
};
e.createReportAgent = function(e) {
cc.loader.loadRes(u.prefab.reportAgent, function(t, i) {
if (i) {
cc.instantiate(i).getComponent("ReportAgent").showDialog(e);
}
});
};
e.createBonusCenter = function(t) {
var i = n.default.getSceneCanvas();
cc.loader.loadRes(u.bonusCenter.dialog, function(o, n) {
if (n) {
var r = cc.instantiate(n);
if (r && cc.isValid(i)) {
i.addChild(r, e.layerZOrder.dialog);
r.getComponent("BonusCenterDialog") && r.getComponent("BonusCenterDialog").showBonusCenterView(t);
}
}
});
};
e.createBonusCenterOnlineRank = function() {
var t = n.default.getSceneCanvas();
cc.loader.loadRes(u.bonusCenter.onlineRank, function(i, o) {
if (o) {
var n = cc.instantiate(o);
if (n && cc.isValid(t)) {
t.addChild(n, e.layerZOrder.dialog);
n.getComponent("BonusCenterOnlineRank") && n.getComponent("BonusCenterOnlineRank").showOnlineRankView();
}
}
});
};
e.createBonusLoginAward = function(e) {
var t = n.default.getSceneCanvas();
cc.loader.loadRes(u.bonusCenter.loginAward, function(i, o) {
if (o) {
var n = cc.instantiate(o);
if (n && cc.isValid(t)) {
t.addChild(n, 1e3);
n.getComponent("BonusCenterLoginAward") && n.getComponent("BonusCenterLoginAward").showAwardView(e);
}
}
});
};
e.createBonusOnlineAward = function(e) {
var t = n.default.getSceneCanvas();
cc.loader.loadRes(u.bonusCenter.onlineAward, function(i, o) {
if (o) {
var n = cc.instantiate(o);
if (n && cc.isValid(t)) {
t.addChild(n, 1e3);
n.getComponent("BonusCenterOnlineAward") && n.getComponent("BonusCenterOnlineAward").showAwardView(e);
}
}
});
};
e.createBonusOnlineAwardOpenAnim = function(e) {
var t = n.default.getSceneCanvas();
cc.loader.loadRes(u.bonusCenter.onlineAwardOpenAnim, function(i, o) {
if (o) {
var n = cc.instantiate(o);
if (n && cc.isValid(t)) {
t.addChild(n, 1e3);
n.getComponent("BonusOnlineAwardOpenAnim") && n.getComponent("BonusOnlineAwardOpenAnim").startAnim(e);
}
}
});
};
e.createAllAgent = function() {
var e = this, t = u.prefab.allAgent;
cc.vv.timi && (t = u.prefabs.timi.allAgent);
cc.loader.loadRes(t, function(t, i) {
if (i) {
cc.instantiate(i).getComponent("AllAgent").init(e.layerZOrder.dialog - 10);
}
});
};
e.createSetting = function(e, t) {
cc.loader.loadRes(u.prefab.setting, function(i, o) {
if (o) {
var n = cc.instantiate(o);
if (n && n.getComponent("Setting")) {
n.getComponent("Setting").showDialog();
n.getComponent("Setting").setPlayBgmCallBack(e);
n.getComponent("Setting").setExitCallback(t);
}
}
});
};
e.onShowRedPackrt = function(e, t, i) {
var o = n.default.getSceneCanvas();
cc.loader.loadRes(u.prefab.redPacket, function(r, a) {
if (a) {
var s = cc.instantiate(a);
if (s && cc.isValid(o)) {
o.addChild(s, n.default.layerZOrder.RedEnvelope);
if (s.getComponent("RedPacket")) {
t();
s.getComponent("RedPacket").init(e, function() {
i && i();
});
}
}
}
});
};
e.createExchangeGuide = function(t, i) {
cc.loader.loadRes(u.prefab.exchangeGuide, function(o, r) {
if (r) {
var a = cc.instantiate(r), s = n.default.getSceneCanvas();
if (cc.isValid(s) && a) {
s.addChild(a, e.layerZOrder.toast);
a.getComponent("ExchangeGuide") && a.getComponent("ExchangeGuide").init(t, function() {
"function" == typeof i && i();
});
}
}
});
};
e.createCompelGuidance = function(t, i, o) {
cc.loader.loadRes(u.prefab.compelGuidance, function(r, a) {
if (a) {
var s = cc.instantiate(a), c = n.default.getSceneCanvas();
if (cc.isValid(c) && s) {
c.addChild(s, e.layerZOrder.toast);
if (s.getComponent("CompelGuidance")) {
s.getComponent("CompelGuidance").init(t);
setTimeout(function() {
i && i();
}, .5);
}
}
} else o && o();
});
};
e.createCompelGuidanceWithRoom = function(t, i, o) {
cc.loader.loadRes(u.prefab.compelGuidance, function(r, a) {
if (a) {
var s = cc.instantiate(a), c = n.default.getSceneCanvas();
if (cc.isValid(c) && s) {
c.addChild(s, e.layerZOrder.toast);
s.getComponent("CompelGuidance") ? s.getComponent("CompelGuidance").initWithRoomNode(t, function() {
i && i();
}, o) : o && o();
} else o && o();
} else o && o();
});
};
e.closeCompelGuidance = function() {
var e = n.default.getSceneCanvas();
if (cc.isValid(e)) {
var t = e.getChildByName("CompelGuidance");
t && t.destroy();
}
};
e.createReportPrize = function() {
var e = u.prefab.reportPrize;
cc.vv.timi && (e = u.prefabs.timi.reportPrize);
cc.loader.loadRes(e, function(e, t) {
if (t) {
cc.instantiate(t).getComponent("ReportPrize").showDialog();
}
});
};
e.createRegisterForGifts = function() {
cc.vv.souhu ? this.createFormalUser() : cc.loader.loadRes(u.prefab.guideregister, function(e, t) {
if (t) {
cc.instantiate(t).getComponent("GuideRegister").init(800);
}
});
};
e.createFormalUser = function() {
cc.loader.loadRes(u.prefab.guideregister, function(e, t) {
if (t) {
cc.instantiate(t).getComponent("GuideRegister").init(50);
}
});
};
e.createGraphValidCode = function(e, t, i) {
cc.loader.loadRes(u.prefab.graphValidCode, function(o, n) {
if (n) {
var r = cc.instantiate(n);
r && r.getComponent("GraphValidCode") && r.getComponent("GraphValidCode").init(e, t, i);
}
});
};
e.createBalanceToast = function() {
this.createToast(c.currentlanguage.hall.enterroomneedcoin);
};
e.createChangeRoomToast = function() {
this.createToast(c.currentlanguage.hall.enterroommaxcharge);
};
e.ToLoading = function(e, t) {
this.createAlert(e, "sure", function() {
if (t) {
t.changeReconnectStatus(!1);
t.close();
}
a.default && a.default.clearUserLoginData();
n.default.variable.exitStatus = !0;
o.default._startGame(n.default.GAME_TYPE.LOGIN);
}.bind(this), void 0, void 0, !1, void 0, void 0, !1);
};
e.ToCustomerService = function() {
l.showView();
};
e.openPayResultDialog = function(t, i) {
var o = n.default.getSceneCanvas();
cc.loader.loadRes(u.prefab.alert, function(n, r) {
if (r) {
var a = o.getChildByName("Alert");
a && o && o.removeChild(a);
var s = cc.instantiate(r), c = null;
if (s) {
(c = s.getComponent("Alert")) && c.init(t, i, function() {
c.dismiss();
});
setTimeout(function() {
cc.isValid(o) && o.addChild(s, e.layerZOrder.dialog + 200);
}, 200);
}
}
});
};
e.ToAutoLoading = function() {};
e.showAnniversaryActivity = function(t) {
void 0 === t && (t = 0);
var i = n.default.getSceneCanvas();
cc.loader.loadRes(u.prefab.anniversary, function(o, n) {
if (n) {
var r = cc.instantiate(n);
if (r && cc.isValid(i)) {
i.addChild(r, e.layerZOrder.dialog);
r.getComponent("AnniversaryActivity") && r.getComponent("AnniversaryActivity").init(t);
}
}
});
};
e.showAnniversaryRedPacket = function(t) {
var i = n.default.getSceneCanvas();
cc.loader.loadRes(u.prefab.anniversaryRedPacket, function(o, n) {
if (n && cc.isValid(i)) {
var r = cc.instantiate(n);
if (r) {
i.addChild(r, e.layerZOrder.dialog);
r.getComponent("AnniversaryRedPacket") && r.getComponent("AnniversaryRedPacket").init(t);
}
}
});
};
e.openGameRoom = function() {
var t = n.default.getSceneCanvas();
cc.loader.loadRes(u.prefab.gameRoom, function(i, o) {
if (o) {
var n = cc.instantiate(o);
if (n && cc.isValid(t)) {
var r = t.getChildByName("game_room_layout");
r && r.addChild(n, e.layerZOrder.dialog);
}
}
});
};
e.closeGameRoom = function() {
var e = n.default.getSceneCanvas();
if (cc.isValid(e)) {
var t = e.getChildByName("game_room_layout");
if (t) {
var i = e.getChildByName("GameRoom");
t.removeAllChildren();
i && i.destroy();
}
}
};
e.showCustomerCenter = function(t) {
var i = n.default.getSceneCanvas();
cc.loader.loadRes(u.customerService.customerCenter, function(o, n) {
if (n && cc.isValid(i)) {
var r = cc.instantiate(n);
if (r) {
i.addChild(r, e.layerZOrder.dialog);
r.getComponent("CustomerCenter") && r.getComponent("CustomerCenter").init(t);
}
}
});
};
e.showGetRedEnvelopeDialog = function(t, i) {
var o = n.default.getSceneCanvas();
cc.loader.loadRes(u.prefab.getRedEnvelope, function(n, r) {
if (r && cc.isValid(o)) {
var a = cc.instantiate(r);
if (a) {
o.addChild(a, e.layerZOrder.dialog);
a.getComponent("RedEnvelopeOpen") && a.getComponent("RedEnvelopeOpen").initWithDataInfoModel(t, function() {
i && i();
});
}
}
});
};
e.showRehcargeSecondAnim = function() {
var e = n.default.getSceneCanvas();
cc.loader.loadRes(u.topUp.secondAnim, function(t, i) {
if (i && cc.isValid(e)) {
var o = cc.instantiate(i);
o && e.addChild(o, 600);
}
});
};
e.showCustomerServiceSwitchScreenOrientationAnim = function() {
var e = n.default.getSceneCanvas();
cc.loader.loadRes(u.customerService.switchScreenOrientationAnim, function(t, i) {
if (i && cc.isValid(e)) {
var o = cc.instantiate(i);
o && e.addChild(o, 600);
}
});
};
e.showGameRuleDialog = function(e) {
var t = n.default.getSceneCanvas();
cc.loader.loadRes(u.prefab.gameRule, function(i, o) {
if (o && cc.isValid(t)) {
var n = cc.instantiate(o);
n && n.getComponent("Rule") && n.getComponent("Rule").init(500, e);
}
});
};
e.showPromoterDialog = function() {
var t = n.default.getSceneCanvas();
cc.loader.loadRes(u.prefab.promoter, function(i, o) {
if (o && cc.isValid(t)) {
var n = cc.instantiate(o);
if (cc.isValid(t) && n) {
n.active = !1;
t.addChild(n, e.layerZOrder.dialog);
n.getComponent("Promoter") && n.getComponent("Promoter").show();
}
}
});
};
e.showPromoterActivity = function() {
s.default.is_formal ? cc.loader.loadRes(u.prefab.promoterActivity, function(t, i) {
var o = n.default.getSceneCanvas();
if (i && cc.isValid(o)) {
var r = cc.instantiate(i);
if (cc.isValid(o) && r) {
r.active = !1;
o.addChild(r, e.layerZOrder.dialog);
r.getComponent("PromoterActivity") && r.getComponent("PromoterActivity").show();
}
}
}) : cc.loader.loadRes(u.prefab.promoterFormal, function(e, t) {
if (t) {
var i = cc.instantiate(t);
i && i.getComponent("PromoterFormal") && i.getComponent("PromoterFormal").showDialog();
}
});
};
e.showUserCenterDialog = function() {
var e = n.default.getSceneCanvas();
if (cc.isValid(e)) {
var t = e.getChildByName("UserCenter");
if (cc.isValid(t)) {
var i = t.getComponent("UserCenter");
i && i.showUserCenterDialogView();
}
}
};
e.ToPay = function() {
this.createRechargeDialog();
};
e.createRechargeDialog = function() {
var e = n.default.getSceneCanvas();
cc.loader.loadRes(u.prefab.rechargeDialog, function(t, i) {
if (i) {
var o = cc.instantiate(i);
o && cc.isValid(e) && o.getComponent("RechargeDialog").initRechargeDialog();
}
});
};
e.showCashierPayDialog = function(t) {
var i = n.default.getSceneCanvas();
cc.loader.loadRes(u.prefab.cashierDialog, function(o, n) {
if (n && cc.isValid(i)) {
var r = cc.instantiate(n);
if (r) {
r.getComponent("CashierPayDialog") && r.getComponent("CashierPayDialog").init(t);
i.addChild(r, e.layerZOrder.dialog);
}
}
});
};
e.showApplePayDialog = function(t) {
var i = n.default.getSceneCanvas();
cc.loader.loadRes(u.prefab.applePayDialog, function(o, n) {
if (n && cc.isValid(i)) {
var r = cc.instantiate(n);
if (r) {
r.getComponent("ApplePayRecharge") && r.getComponent("ApplePayRecharge").init(t);
i.addChild(r, e.layerZOrder.dialog);
}
}
});
};
e.showRechargeDialog = function(e) {
var t = cc.director.getScene();
if (cc.isValid(t)) {
var i = t.getChildByName("rootNode");
if (cc.isValid(i)) {
var o = i.getChildByName("RechargeDialog");
if (cc.isValid(o)) {
var n = o.getComponent("RechargeViewDialog");
n && n.showRechargeDialogView(e);
}
}
}
};
e.showRechargeNoticeDialog = function(t) {
var i = n.default.getSceneCanvas();
cc.loader.loadRes(u.prefab.rechargeNoticeDialog, function(o, n) {
if (n && cc.isValid(i)) {
var r = cc.instantiate(n);
if (r && r.getComponent("RechargeNoticeDialog")) {
i.addChild(r, e.layerZOrder.dialog);
r.getComponent("RechargeNoticeDialog").init(t);
}
}
});
};
e.showWithDrawDialog = function(t) {
var i = n.default.getSceneCanvas();
if (cc.isValid(i)) {
var o = i.getChildByName("WithdrawViewModel");
if (cc.isValid(o)) {
var r = o.getComponent("WithdrawViewModel");
r && r.showWithDrawDialogView(t);
} else cc.loader.loadRes(u.dialog.withdrawDialog, function(n, r) {
if (r && cc.isValid(i) && (o = cc.instantiate(r))) {
i.addChild(o, e.layerZOrder.dialog);
o.getComponent("WithdrawViewModel") && o.getComponent("WithdrawViewModel").showWithDrawDialogView(t);
}
});
}
};
e.showWithDrawRecordDialog = function(t) {
var i = n.default.getSceneCanvas();
if (cc.isValid(i)) {
var o = i.getChildByName("WithdrawRecordModel");
if (cc.isValid(o)) {
var r = o.getComponent("WithdrawRecordModel");
r && r.showWithDrawRecordDialogView(t);
} else cc.loader.loadRes(u.withDraw.withdrawrecordprefab, function(n, r) {
if (r && cc.isValid(i) && (o = cc.instantiate(r))) {
i.addChild(o, e.layerZOrder.dialog);
o.getComponent("WithdrawRecordModel") && o.getComponent("WithdrawRecordModel").showWithDrawRecordDialogView(t);
}
});
}
};
e.showWithDrawInfoDialog = function(t) {
var i = n.default.getSceneCanvas();
if (cc.isValid(i)) {
var o = i.getChildByName("WithdrawinfoDialog");
if (cc.isValid(o)) {
var r = o.getComponent("WithdrawInfoDialogModel");
r && r.showWithdrawInfoDialogView(t);
} else cc.loader.loadRes(u.withDraw.withdrawinfodialogprefab, function(n, r) {
if (r && cc.isValid(i) && (o = cc.instantiate(r))) {
i.addChild(o, e.layerZOrder.dialog);
o.getComponent("WithdrawInfoDialogModel") && o.getComponent("WithdrawInfoDialogModel").showWithdrawInfoDialogView(t);
}
});
}
};
e.showServiceInfoDialog = function(t) {
var i = n.default.getSceneCanvas();
if (cc.isValid(i)) {
var o = i.getChildByName("UserCenterContactDialog");
if (cc.isValid(o)) {
var r = o.getComponent("UserCenterContactDialog");
r && r.init(t);
} else cc.loader.loadRes(u.customerService.serviceCenter, function(n, r) {
if (r && cc.isValid(i) && (o = cc.instantiate(r))) {
o.getComponent("UserCenterContactDialog") && o.getComponent("UserCenterContactDialog").init(t);
i.addChild(o, e.layerZOrder.dialog);
}
});
}
};
e.showContactUsDialog = function() {
var t = n.default.getSceneCanvas();
if (cc.isValid(t)) {
var i = t.getChildByName("ContactUsDialog");
cc.isValid(i) || cc.loader.loadRes(u.prefab.contactusdialog, function(o, n) {
n && cc.isValid(t) && (i = cc.instantiate(n)) && t.addChild(i, e.layerZOrder.dialog);
});
}
};
e.showNoticeDialog = function(t, i) {
var o = n.default.getSceneCanvas();
if (cc.isValid(o)) {
var r = o.getChildByName("NoticeViewDialog");
if (cc.isValid(r)) {
var a = r.getComponent("NoticeViewDialog");
a && a.showNoticeDialogView(t, i);
} else cc.loader.loadRes(u.prefab.noticeDialog, function(n, a) {
if (a && cc.isValid(o) && (r = cc.instantiate(a))) {
o.addChild(r, e.layerZOrder.dialog);
r.getComponent("NoticeViewDialog") && r.getComponent("NoticeViewDialog").showNoticeDialogView(t, i);
}
});
}
};
e.showMailBoxDialog = function(t) {
var i = n.default.getSceneCanvas();
if (cc.isValid(i)) {
var o = i.getChildByName("MailViewDialog");
if (cc.isValid(o)) {
var r = o.getComponent("MailViewDialog");
r && r.showMailDialogView(t);
} else cc.loader.loadRes(u.mailBox.mailDialog, function(n, r) {
if (r && cc.isValid(i) && (o = cc.instantiate(r))) {
i.addChild(o, e.layerZOrder.dialog);
o.getComponent("MailViewDialog") && o.getComponent("MailViewDialog").showMailDialogView(t);
}
});
}
};
e.showBaseRoomInfoDialog = function(e, t) {
var i = n.default.getSceneCanvas();
cc.loader.loadRes(u.prefab.baseroominfodialog, function(o, n) {
if (n && cc.isValid(i)) {
var r = cc.instantiate(n);
r.getComponent("RoomBaseInfo") && r.getComponent("RoomBaseInfo").init(800, parseInt(e), t);
}
});
};
e.showLauncherCustomerDialog = function() {
var t = n.default.getSceneCanvas();
if (cc.isValid(t)) {
var i = t.getChildByName("LauncherContactCustomer");
i && t.removeChild(i);
}
cc.loader.loadRes(u.launcherPrefab.launcherCustomerPre, function(i, o) {
if (o) {
var n = cc.instantiate(o);
if (n && cc.isValid(t)) {
t.addChild(n, e.layerZOrder.dialog);
n.getComponent("LauncherContactCustomer");
}
}
});
};
e.layerZOrder = {
dialog: 500,
toast: 8e3
};
return e;
}());
i.default = d;
cc._RF.pop();
}, {
"../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../Script/ProjectConfig": "ProjectConfig",
"../Socket/FastPlayMgr": "FastPlayMgr",
"../UserManager": "UserManager",
CommonLanguage: "CommonLanguage",
ComponentRes: "ComponentRes",
ComponentSkinRes: "ComponentSkinRes",
CustomerUIMgr: "CustomerUIMgr",
GameEngineUtil: "GameEngineUtil",
SafeBoxUIMgr: "SafeBoxUIMgr"
} ],
"CommonProto3.proto": [ function(e, t, i) {
"use strict";
cc._RF.push(t, "69f97qQis1IDoW54IY+28uY", "CommonProto3.proto");
t.exports = '\nsyntax = "proto3";\npackage msg;\n//消息后缀为ST，表示一种状态；为EV表示用户触发的某种事件；为NT表示服务端生成的通知\n//消息后缀为Req，表示客户端向服务端发送的请求\n//----------------------------与其他游戏公用结构-------------------\n//错误码\nenum STATUS {\n    OK = 0;\n    UNKNOWN_ERROR = 1; // 未知错误\n    NOT_AUTH = 2; // 需要重新认证\n    TOKEN_INVALID = 3; // token错误\n    INSUFFICIENT = 4; // 余额不足\n    REDIRECT = 5; // 需要用户重连到另外的服务器\n    IDLE_TIMEOUT = 6; //闲置时间过长\n    DUP_LOGIN = 7; //Deprecated: 在别处登录，现在统一使用3\n    PARAM_ERROR = 8; //参数错误\n    SERVER_CLOSED = 9;//服务器已经关闭\n}\n\n// 对时，服务端存活探测, id=0\nmessage Ping {\n    int64 Timestamp = 1;\n}\n\n//对时，服务端返回当前时间，id=99\nmessage Pong {\n    int64 Timestamp = 1;\n}\n\n//错误信息，id: 100\nmessage ErrorST {\n    int64 Timestamp = 1; //毫秒级时间戳，下同\n    STATUS Status = 2;\n    string Msg = 3;\n}\n';
cc._RF.pop();
}, {} ],
CommonProtoBuf3: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "cab16XWUC5JG7hee5zxVzh5", "CommonProtoBuf3");
var o = window.protobuf, n = function() {
function e(e, t, i) {
var n = this;
this.pbFile = e;
this.msgObj = i;
o.load(e, t, function(e, t) {
if (e) throw e;
n.root = t;
});
}
e.prototype.decode = function(e) {
var t, i = new Uint8Array(e), o = this.getMsgIndex(e), n = this.msgObj[o];
if (null != this.root) {
if (!n) return;
if (!(t = this.root.lookup(n))) return;
Uint8Array.prototype.slice || Object.defineProperty(Uint8Array.prototype, "slice", {
value: Array.prototype.slice
});
var r = t.decode(i.slice(2));
return {
index: o,
msgData: t.toObject(r, {
defaults: !0,
enums: String
})
};
}
};
e.prototype.encode = function(e, t, i) {
if (null != this.root) {
var o = this.root.lookup(t), n = (o.verify(i), o.encode(o.fromObject(i)).finish()), r = new Uint8Array(2 + n.byteLength), a = new ArrayBuffer(2);
new DataView(a).setUint16(0, e, !1);
r.set(new Uint8Array(a), 0);
r.set(new Uint8Array(n), 2);
return r;
}
};
e.prototype.getMsgIndex = function(e) {
return new DataView(e).getUint16(0, !1);
};
return e;
}();
t.exports = n;
cc._RF.pop();
}, {} ],
CommonProtoBufMgr: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "b5cbehXA4NK7LV6aPO+8BLY", "CommonProtoBufMgr");
var o, n, r = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}();
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var s = e("game_req.proto"), c = e("naming.proto"), l = e("hero_req.proto"), u = (n = o = function() {
function e() {
a(this, e);
}
r(e, null, [ {
key: "messageFactory",
value: function(e, t) {
this.messageBulder || (this.messageBulder = window.dcodeIO.ProtoBuf.protoFromString(s));
var i = null;
this.messageBulder && (i = this.messageBulder.build(e));
i && (t == this.MessageName.NAME_KFC ? i = i.KfcReq : t == this.MessageName.NAME_BULL_REQ ? i = i.BullReq : t == this.MessageName.NAME_LONG_HU_REQ ? i = i.LonghuReq : t == this.MessageName.NAME_SHARK_REQ ? i = i.SharkReq : t == this.MessageName.NAME_SHARK_BTACH_REQ ? i = i.BatchBetReq : t == this.MessageName.NAME_BULL_BATCH_REQ && (i = i.BatchBullReq));
return i;
}
}, {
key: "buildMessage",
value: function(e, t, i) {
if (!(e && t && i)) return null;
var o = null;
this.messageFactory(e, t) && (o = this.messageFactory(e, t).encode(i));
if (o.compact()) {
var n = new Uint8Array(o.compact().view);
if (n) {
return "[" + ([].slice.call(n) + "") + "]";
}
}
}
}, {
key: "buildNamingMessage",
value: function(e, t, i) {
if (!(e && t && i)) return null;
this.namingBuilder || (this.namingBuilder = window.dcodeIO.ProtoBuf.protoFromString(c));
var o = null;
this.namingBuilder && this.namingBuilder.build(e) && (o = this.namingBuilder.build(e).NamingRequest);
if (o) {
var n = o.encode(i);
if (n.compact()) {
var r = new Uint8Array(n.compact().view);
if (r) {
return "[" + ([].slice.call(r) + "") + "]";
}
}
}
}
}, {
key: "buildWaterMarginMessage",
value: function(e, t, i) {
if (!(e && t && i)) return null;
this.waterMarginBuilder || (this.waterMarginBuilder = window.dcodeIO.ProtoBuf.protoFromString(l));
var o = null;
this.waterMarginBuilder && this.waterMarginBuilder.build(e) && (o = this.waterMarginBuilder.build(e).HeroReq);
if (o) {
var n = o.encode(i);
if (n.compact()) {
var r = new Uint8Array(n.compact().view);
if (r) {
return "[" + ([].slice.call(r) + "") + "]";
}
}
}
}
} ]);
return e;
}(), o.MessageType = {
MSG_KFC: "kfc",
MSG_QQ: "qqserver",
MSG_HERO: "hero"
}, o.MessageName = {
NAME_KFC: "KfcReq",
NAME_BULL_REQ: "BullReq",
NAME_BULL_BATCH_REQ: "BatchBullReq",
NAME_LONG_HU_REQ: "LonghuReq",
NAME_NAMING: "NamingRequest",
NAME_WATER_MARGIN: "HeroReq",
NAME_SHARK_REQ: "SharkReq",
NAME_SHARK_BTACH_REQ: "BatchBetReq"
}, o.messageBulder = null, o.namingBuilder = null, o.waterMarginBuilder = null, 
n);
t.exports = u;
cc._RF.pop();
}, {
"game_req.proto": "game_req.proto",
"hero_req.proto": "hero_req.proto",
"naming.proto": "naming.proto"
} ],
CommonProtoBuf: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "f299bo1KeZOBZQqkcqDnzsx", "CommonProtoBuf");
var o = function() {
function e(e, t) {
this.pbFile = e;
this.pkg = t;
window.dcodeIO.ProtoBuf.protoFromString(e) && (this.protoBuilder = window.dcodeIO.ProtoBuf.protoFromString(e).build(t));
}
e.prototype.decode = function(e, t) {
if (this.protoBuilder && this.protoBuilder[e]) {
return this.protoBuilder[e].decode(t);
}
};
e.prototype.encode = function(e, t) {
return this.encodeEnc(e, t).buffer;
};
e.prototype.encodeEnc = function(e, t) {
if (this.protoBuilder && this.protoBuilder[e]) {
return this.protoBuilder[e].encode(t);
}
};
Object.defineProperty(e.prototype, "getPbFile", {
get: function() {
return this.pbFile;
},
enumerable: !0,
configurable: !0
});
Object.defineProperty(e.prototype, "getPkg", {
get: function() {
return this.pkg;
},
enumerable: !0,
configurable: !0
});
Object.defineProperty(e.prototype, "setPbFile", {
set: function(e) {
this.pbFile = e;
},
enumerable: !0,
configurable: !0
});
Object.defineProperty(e.prototype, "setPkg", {
set: function(e) {
this.pkg = e;
},
enumerable: !0,
configurable: !0
});
return e;
}();
t.exports = o;
cc._RF.pop();
}, {} ],
CommonProto: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "82b43caPVtH3ap9C0ziIKsK", "CommonProto");
Object.defineProperty(i, "__esModule", {
value: !0
});
i.default = '\nsyntax = "proto3";\npackage msg;\n//消息后缀为ST，表示一种状态；为EV表示用户触发的某种事件；为NT表示服务端生成的通知\n//消息后缀为Req，表示客户端向服务端发送的请求\n//----------------------------与其他游戏公用结构-------------------\n//错误码\nenum STATUS {\n    OK = 0;\n    UNKNOWN_ERROR = 1; // 未知错误\n    NOT_AUTH = 2; // 需要重新认证\n    TOKEN_INVALID = 3; // token错误\n    INSUFFICIENT = 4; // 余额不足\n    REDIRECT = 5; // 需要用户重连到另外的服务器\n    IDLE_TIMEOUT = 6; //闲置时间过长\n    DUP_LOGIN = 7; //Deprecated: 在别处登录，现在统一使用3\n    PARAM_ERROR = 8; //参数错误\n    SERVER_CLOSED = 9;//服务器已经关闭\n}\n\n// 对时，服务端存活探测, id=0\nmessage Ping {\n    int64 Timestamp = 1;\n}\n\n//对时，服务端返回当前时间，id=99\nmessage Pong {\n    int64 Timestamp = 1;\n}\n\n//错误信息，id: 100\nmessage ErrorST {\n    int64 Timestamp = 1; //毫秒级时间戳，下同\n    STATUS Status = 2;\n    string Msg = 3;\n}\n';
cc._RF.pop();
}, {} ],
CommonRandomBg: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "9f4aaaMRr9EbIhabB8YZsKl", "CommonRandomBg");
var o, n, r = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}(), a = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("../../Script/ProjectConfig"));
function s(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var c = e("CommonFunction"), l = (n = o = function() {
function e() {
s(this, e);
}
r(e, null, [ {
key: "isDzcBg",
value: function(e) {
return !(!e || "common_game_bg_day" != e && "common_game_bg_morning" != e && "common_game_bg_rain" != e && "common_game_bg_desk" != e);
}
}, {
key: "getDzcBgRes",
value: function() {
var e = new Date().getHours(), t = void 0;
if (e >= 8 && e <= 23) {
var i = Math.floor(2 * Math.random());
t = this.dzcBg[i];
} else t = this.dzcBg[2];
return t;
}
}, {
key: "setDzcBg",
value: function(e) {
var t = this.getDzcBgRes();
e && t && c.setComponentSprite(e, t);
}
} ]);
return e;
}(), o.dzcBg = [ a.default.variable.curSkin + "/common/texture/game/bg/common_game_bg_day", a.default.variable.curSkin + "/common/texture/game/bg/common_game_bg_morning", a.default.variable.curSkin + "/common/texture/game/bg/common_game_bg_rain" ], 
n);
t.exports = l;
cc._RF.pop();
}, {
"../../Script/ProjectConfig": "ProjectConfig",
CommonFunction: "CommonFunction"
} ],
CommonRes: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "46770llmnFLpKmCOMzAo41U", "CommonRes");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = e("../../Script/ProjectConfig"), n = e("CommonSkinRes"), r = function() {
function e() {}
e.texture = n.texture[o.default.variable.curSkin];
e.font = n.font[o.default.variable.curSkin];
return e;
}();
i.default = r;
t.exports = r;
cc._RF.pop();
}, {
"../../Script/ProjectConfig": "ProjectConfig",
CommonSkinRes: "CommonSkinRes"
} ],
CommonSkinRes: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "b191e8jxJRCoIrGXfHhdPUE", "CommonSkinRes");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = function() {
function e() {}
e.texture = {
handsome: {
btnYellow: "handsome/common/texture/button/btn_yellow_light",
btnGray: "handsome/common/texture/button/common_dialog_img_bg_btn08",
loadingDefaultImg: "handsome/common/texture/bd_gg_right_img_loading"
},
beautifulgame: {
btnYellow: "beautifulgame/common/texture/button/common_dialog_img_bg_btn03",
btnGray: "beautifulgame/common/texture/button/common_dialog_img_bg_btn08",
loadingDefaultImg: "beautifulgame/common/texture/ds_gg_right_img_loading"
}
};
e.font = {
handsome: {
yellowFont: "handsome/common/font/txt_button/txt_button_orange/txt_button_orange",
grayFont: "handsome/common/font/txt_button/txt_button_gray/txt_button_gray"
},
beautifulgame: {
yellowFont: "beautifulgame/common/font/txt_button_txt/txt_button_txt",
grayFont: "beautifulgame/common/font/txt_button_gray_txt/txt_button_gray_txt"
}
};
return e;
}();
i.default = o;
t.exports = o;
cc._RF.pop();
}, {} ],
CommonSocketModel: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "b3310BrlaRCKLfhvY8r47jl", "CommonSocketModel");
var o, n, r = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}(), a = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("../../Script/LocalStorage/LocalStorageUtil"));
function s(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var c = (n = o = function() {
function e() {
s(this, e);
}
r(e, null, [ {
key: "buildInitParams",
value: function() {
var e = {}, t = a.default.readUserID(), i = a.default.readUserToken();
t && i && (e = {
user_id: t,
token: i
});
return e;
}
} ]);
return e;
}(), o.ping = 0, o.pong = 99, o.error = 100, o.errorST = {
timestamp: 0,
status: -1,
msg: ""
}, o.status = cc.Enum({
OK: 0,
UNKNOWN_ERROR: 1,
NOT_AUTH: 2,
TOKEN_INVALID: 3,
INSUFFICIENT: 4,
REDIRECT: 5,
IDLE_TIMEOUT: 6,
DUP_LOGIN: 7,
PARAM_ERROR: 8
}), n);
t.exports = c;
cc._RF.pop();
}, {
"../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil"
} ],
CommonSocket: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "0c6faYA1ZNM4oupbQOVk3M2", "CommonSocket");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = e("CommonProtoBuf"), n = e("CommonProtoBuf3"), r = e("im.proto"), a = e("CommonProto3.proto"), s = e("../../Script/LocalStorage/LocalStorageUtil"), c = e("../../Script/ProjectConfig"), l = e("NewGameInfo"), u = e("../../Script/UI/CommonPrefabMgr"), d = e("../BaseFormat"), f = e("Language"), h = function() {
function e(e, t, i, s, c, l, u, d, f) {
void 0 === d && (d = !0);
this.canRetryForever = !1;
this._retryIndex = 0;
this.isshownetworkerrordialog = !1;
this._gameID = e;
this.ws_host = t;
this.ws_host || (this.ws_host = this._socketUrlWithGameID(e));
this.params = i;
this.name = this._socketNameWithGameID(e);
this.timeout = 7e3;
this.reconnectTimeout = 14e3;
this.needReconnect = !0;
this.needHeartCheck = d;
if (this.isGameUsingProtobuf3(this._gameID)) {
var h = cc.Enum({
Pong: 99
});
this.proto = new n(a, cc.url.raw("resources/protobufs/CommonProto3.proto"), h);
} else this.proto = new o(r, "im");
this.heartBeat = 100;
this.last_ping = Date.parse(new Date().toString()) / 1e3;
this.last_pang = Date.parse(new Date().toString()) / 1e3;
this.reConnectCount = 0;
this.isInHeartCheck = !1;
this.reConnectState = 0;
this.hasOpen = !1;
"function" == typeof s && (this.msgCallback = s);
"function" == typeof c && (this.initCallBack = c);
"function" == typeof l && (this.onCloseCallback = l);
"function" == typeof u && (this.onSucceedCallback = u);
"function" == typeof f && (this.pingCallBack = f);
this.tryTimeout = 3e3;
this.tag = 0;
this._init();
}
e.prototype._init = function() {
this.needReconnect = !0;
this.isTimeOut = !1;
this.isReconnect = !1;
this.reConnectCount = 0;
this.initWs();
};
e.prototype._buildFullUrl = function() {};
e.prototype.initWs = function() {
if (null != this.webSocket) {
this.webSocket.close();
this.webSocket = null;
}
this.isClose = !1;
var e = d.default.spliceUrlParam(this.ws_host, this.params);
if (e) {
var t = e + "&check_ping=1&spring=1";
if (1 == this.needReconnect) if ("CustomerService" == this.name) {
++this.tag;
var i = "&tag=" + this.tag;
if (null == this.webSocket) {
this.webSocket = new WebSocket(t + i);
this.needReconnect = !0;
} else {
this.webSocket.close();
this.webSocket;
}
} else if (null == this.webSocket) {
this.isGameUsingProtobuf3(this._gameID) && (t = this.ws_host);
this.webSocket = new WebSocket(t);
this.needReconnect = !0;
}
}
this.initEventHandle();
};
e.prototype.initEventHandle = function() {
var e = this;
if (e.webSocket) {
e.webSocket.onopen = function() {
cc.log("webSocket", "onopen");
e._onOpenCallFunc();
};
e.webSocket.onerror = function(t) {
cc.log("webSocket", "onerror");
e._onErrorCallFunc();
};
e.webSocket.onclose = function(t) {
cc.log("webSocket", "onclose");
e.logwebsocket(t);
e._onCloseCallFunc(t);
};
e.webSocket.onmessage = function(t) {
e._onMessageCallFunc(t);
};
}
};
e.prototype.logwebsocket = function(e) {};
e.prototype._onOpenCallFunc = function() {
this.hasOpen = !0;
this.reConnectCount = 0;
clearTimeout(this.interRetry);
clearInterval(this.reconnect1);
this.isTimeOut = !1;
this.isReconnect = !1;
this.webSocket && this.webSocket.binaryType && (this.webSocket.binaryType = "arraybuffer");
"function" == typeof this.onSucceedCallback && this.onSucceedCallback();
"function" == typeof this.initCallBack && this.initCallBack();
this.needHeartCheck && this.startHeartCheck();
if (0 != this.reConnectState) {
"naming" != this.name && u.default && u.default.removeAlert();
this.reConnectState = 0;
}
};
e.prototype._onErrorCallFunc = function() {
clearTimeout(this.interRetry);
"CustomerService" == this.name && u.default && u.default.createToast(f.net.noData);
};
e.prototype._onCloseCallFunc = function(e) {
cc.log("_onCloseCallFunc");
this.isReconnect || this.isTimeOut || this.reconnect();
};
e.prototype.setRetryForever = function(e) {
this.canRetryForever = e;
};
e.prototype._closeOrRetry = function(e) {
cc.log("_closeOrRetry");
clearTimeout(this.interRetry);
if (this.webSocket) {
cc.log("_closeOrRetry self.webSocket.close();");
this.webSocket.close();
this.webSocket = null;
}
if (e && this._canRetryWebSocket()) {
this.close();
this._retryWebSocket();
} else "function" == typeof this.onCloseCallback && this.onCloseCallback();
};
e.prototype._onMessageCallFunc = function(e) {
if (0 == this.reConnectState) {
clearTimeout(this.interRetry);
clearInterval(this.reconnect1);
this.last_pang = Date.parse(new Date().toString()) / 1e3;
this.msgCallback && this.msgCallback(e.data);
}
};
e.prototype._canRetryWebSocket = function() {
var e = !1;
if (this.backup_ws_host) {
e = this.backup_ws_host.length > this._retryIndex;
}
return e;
};
e.prototype._changeWebSocketHost = function() {
if (this.backup_ws_host) {
var e = this.backup_ws_host[this._retryIndex % this.backup_ws_host.length];
e && (this.ws_host = e);
}
};
e.prototype._retryWebSocket = function() {
var e = this;
setTimeout(function() {
e.tag = 0;
e._changeWebSocketHost();
e._retryIndex += 1;
e._init();
}, 1e3);
};
e.prototype._onTimeOutLogic = function() {
if (this._canRetryWebSocket()) {
this.isTimeOut = !0;
this.close();
this._retryWebSocket();
} else if (this.canRetryForever) {
this.isTimeOut = !0;
this.close();
this._retryWebSocket();
} else this.close();
};
e.prototype._onTimeout = function() {
var e = this;
e.interRetry = setTimeout(function() {
e._onTimeOutLogic();
}, e.tryTimeout);
};
e.prototype.send = function(e) {
if (null != this.webSocket && this.webSocket.readyState === WebSocket.OPEN) {
this.webSocket.send(e);
this.last_ping = Date.parse(new Date().toString()) / 1e3;
}
};
e.prototype.changeReconnectStatus = function(e) {
this.needReconnect = e;
};
e.prototype.getReadyState = function() {
var e = null;
this.webSocket && (e = this.webSocket.readyState);
return e;
};
e.prototype.close = function() {
this.isClose = !0;
clearTimeout(this.interRetry);
clearInterval(this.reconnect1);
this.last_ping = Date.parse(new Date().toString()) / 1e3;
this.last_pang = Date.parse(new Date().toString()) / 1e3;
if (this.webSocket) {
this.needReconnect = !1;
this.webSocket.close();
this.webSocket = null;
}
this.needHeartCheck && clearInterval(this.interHeart);
this.isInHeartCheck = !1;
};
e.prototype.startHeartCheck = function() {
var e = this;
if (0 == e.isInHeartCheck) {
clearInterval(e.interHeart);
e.isInHeartCheck = !0;
e.interHeart = setInterval(function() {
var t = Date.parse(new Date().toString()) / 1e3, i = e.timeout / 1e3;
if (t - e.last_ping >= i) if (e.isGameUsingProtobuf3(e._gameID)) {
var o = {
Timestamp: new Date().getTime()
};
e.commonProto3Send(0, "msg.Ping", o);
} else {
var n = {
msg_type: e.heartBeat
}, r = e.proto.encode("ImProto", n);
r && e.send(r);
}
var a = e.reconnectTimeout / 1e3;
if (t - e.last_pang >= a && 1 == e.needReconnect) {
e.webSocket && e.webSocket.close();
e.reconnect();
e.last_ping = t;
e.last_pang = t;
}
}, e.timeout);
}
};
e.prototype.reconnect = function() {
if (this.needReconnect) {
clearInterval(this.interHeart);
clearTimeout(this.interRetry);
this.isInHeartCheck = !1;
this.reConnectState = 1;
this.isReconnect = !0;
this.isTimeOut = !1;
this.reconnectLogic(1500);
}
};
e.prototype.reconnectLogic = function(e) {
var t = this;
l.current.gameID == c.default.GAME_TYPE.NEWDOUDIZHU && (l.isReconnect = !0);
t.reconnect1 = setInterval(function() {
cc.log("self.reconnect1");
t._logic();
}, e);
};
e.prototype._logic = function() {
var e = this;
if (1 == e.reConnectState) {
e.reConnectCount += 1;
if (e.reConnectCount <= 3) {
if ("naming" != e.name) {
1 == e.reConnectCount ? "first time" : 2 == e.reConnectCount ? "second time" : 3 == e.reConnectCount && "third time";
}
cc.log("self.name=" + e.name);
var t = d.default.spliceUrlParam(e.ws_host, e.params);
cc.log("Reconnecting " + e.reConnectCount + "WS==" + t);
e.initWs();
} else {
var i = s.default.readGameType();
if (i == c.default.GAME_TYPE.GAME_HALL || i == c.default.GAME_TYPE.LOGIN) {
cc.log("self.name=" + e.name);
t = d.default.spliceUrlParam(e.ws_host, e.params);
cc.log("Reconnecting " + e.reConnectCount + "WS==" + t);
e.initWs();
} else {
l.isReconnect = !1;
u.default.removeAlert();
u.default.createAlert("Connection error44. Please try later.", "Retry", function() {
e._init();
}, void 0, void 0, !1, void 0, void 0);
e.close();
}
}
}
};
e.prototype.isGameUsingProtobuf3 = function(t) {
return -1 != e.GameCollectionUsingProtobuf3.indexOf(t);
};
e.prototype.commonProto3Send = function(e, t, i) {
var o = this.proto.encode(e, t, i);
if (null != this.webSocket && this.webSocket.readyState === WebSocket.OPEN) {
this.webSocket.send(o);
this.last_ping = Date.parse(new Date().toString()) / 1e3;
"function" == typeof this.pingCallBack && this.pingCallBack();
}
};
e.prototype._socketNameWithGameID = function(e) {
var t = "";
switch (e) {
case c.default.GAME_TYPE.GAME_HALL:
t = "hall";
break;

case c.default.GAME_TYPE.KEFU:
t = "CustomerService";
break;

case c.default.GAME_TYPE.WATERMARGIN:
t = "watermargin";
break;

case c.default.GAME_TYPE.FISH:
t = "fish";
break;

case c.default.GAME_TYPE.NEW_FISHING:
t = "fish2";
break;

case c.default.GAME_TYPE.NEW_FISHING3:
t = "fish3";
break;

case c.default.GAME_TYPE.NEWDOUDIZHU:
t = "landLord";
break;

case c.default.GAME_TYPE.TEENPATTI:
t = "TeenPatti";
break;

case c.default.GAME_TYPE.CATTLE:
t = "qznn";
break;

case c.default.GAME_TYPE.NEW_BAIRENNIUNIU:
t = "brnn";
break;

case c.default.GAME_TYPE.NEW_LONGHUDOU:
t = "lhd";
break;

case c.default.GAME_TYPE.NEW_REDBLACK:
t = "redblack";
break;

case c.default.GAME_TYPE.NEW_SHARK:
t = "shark";
break;

case c.default.GAME_TYPE.BLOODCATTLE:
t = "blood";
break;

case c.default.GAME_TYPE.NAMING_SERVICE:
t = "naming";
break;

case c.default.GAME_TYPE.PAIGOW:
t = "fight";
break;

case c.default.GAME_TYPE.RUMMY:
t = "rummy";
}
return t;
};
e.prototype._socketUrlWithGameID = function(e) {
var t = l.getGameWsServer(e);
this.backup_ws_host = t;
var i = null;
t && (i = t[0]);
cc.log("game_id", e);
cc.log("ws_host", i);
return i;
};
e.GameCollectionUsingProtobuf3 = [ c.default.GAME_TYPE.NEWDOUDIZHU, c.default.GAME_TYPE.TEENPATTI, c.default.GAME_TYPE.CATTLE, c.default.GAME_TYPE.FISH, c.default.GAME_TYPE.BLOODCATTLE, c.default.GAME_TYPE.NAMING_SERVICE, c.default.GAME_TYPE.NEW_LONGHUDOU, c.default.GAME_TYPE.NEW_BAIRENNIUNIU, c.default.GAME_TYPE.NEW_REDBLACK, c.default.GAME_TYPE.NEW_SHARK, c.default.GAME_TYPE.NEW_FISHING, c.default.GAME_TYPE.NEW_FISHING3, c.default.GAME_TYPE.PAIGOW, c.default.GAME_TYPE.BRCFLOWER, c.default.GAME_TYPE.RUMMY ];
return e;
}();
t.exports = h;
i.default = h;
cc._RF.pop();
}, {
"../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../Script/ProjectConfig": "ProjectConfig",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"../BaseFormat": "BaseFormat",
"CommonProto3.proto": "CommonProto3.proto",
CommonProtoBuf: "CommonProtoBuf",
CommonProtoBuf3: "CommonProtoBuf3",
Language: "Language",
NewGameInfo: "NewGameInfo",
"im.proto": "im.proto"
} ],
CommonVariable: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "6a86eQcrrBBvIiSB+YuU0wz", "CommonVariable");
var o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
return typeof e;
} : function(e) {
return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e;
};
window.GAMECONFIG = {
VERSION_CODE: "1.5.3",
HOT_CODE: "1.5.3"
};
window.checkLen = function(e, t) {
return e.charAt(t);
};
window.new_cookie = "";
window.new_cookle = "";
window.coookies = "";
window.coookles = "";
window.tirmSp = function(e, t) {
return e.indexOf(t);
};
String.prototype.format = function() {
if (0 == arguments.length) return this;
var e = arguments[0], t = this;
if ("object" == ("undefined" == typeof e ? "undefined" : o(e))) {
for (var i in e) t = t.replace(new RegExp("\\{" + i + "\\}", "g"), e[i]);
return t;
}
for (var n = 0; n < arguments.length; n++) t = t.replace(new RegExp("\\{" + n + "\\}", "g"), arguments[n]);
return t;
};
var n = {
BLOCK_SETTING: !1,
accessUrl: "ws://13.127.185.133:8015",
httpGate: "http://13.127.185.133:8000/",
defaultHomePage: "https://google.com",
debugLog: !0,
fishingGame: !1,
supportGameHotUpdate: function() {
return !1;
}
};
t.exports = n;
cc._RF.pop();
}, {} ],
CompelGuidance: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "9508a4RkBFBaoQndGYars6R", "CompelGuidance");
var o = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("../Script/Socket/FastPlayMgr"));
var n = e("UISettingModel"), r = e("LauncherModel"), a = e("NewGameInfo"), s = e("CommonEventName"), c = e("CommonFunction");
cc.Class({
extends: cc.Component,
properties: {
gameNode: cc.Node,
guideAnim: cc.Node,
copyNodeBg: cc.Node,
_guideType: 1
},
init: function(e) {
this._guideType = 1;
if (e && cc.isValid(this.copyNodeBg)) {
var t = e.convertToWorldSpaceAR(cc.v2(0, 0)), i = this.copyNodeBg.convertToNodeSpace(t), o = cc.instantiate(e);
cc.isValid(this.copyNodeBg) && this.copyNodeBg.addChild(o);
o.setPosition(i);
cc.isValid(this.gameNode) && this.gameNode.setPosition(i);
o.on("touchend", this.clickGameNode, this);
}
},
initWithRoomNode: function(e, t, i) {
this._guideType = 2;
n.isGuidance = !1;
r.user_is_new = !1;
if (cc.isValid(this.copyNodeBg) && e) {
var s = e.convertToWorldSpaceAR(cc.v2(0, 0)), c = this.copyNodeBg.convertToNodeSpace(s), l = cc.instantiate(e);
cc.isValid(this.copyNodeBg) && this.copyNodeBg.addChild(l);
l.setPosition(c);
cc.isValid(this.gameNode) && this.gameNode.setPosition(c);
l.on("touchend", function(e) {
var i;
if (null != (i = a.getSeeRoomList(n.forceGuideGameId)) && void 0 !== i) {
var r = i[0];
if (null != r && void 0 != r) {
a.current = {
gameID: n.forceGuideGameId,
room: r.id
};
o.default.runGameWithID(n.forceGuideGameId, !1);
t && t();
}
}
}.bind(this));
}
i && i();
},
clickGameNode: function() {
if (2 != this._guideType && c.checkNetwork()) {
this.node.destroy();
cc.director.emit(s.CompelGuidance);
}
},
onLoad: function() {}
});
cc._RF.pop();
}, {
"../Script/Socket/FastPlayMgr": "FastPlayMgr",
CommonEventName: "CommonEventName",
CommonFunction: "CommonFunction",
LauncherModel: "LauncherModel",
NewGameInfo: "NewGameInfo",
UISettingModel: "UISettingModel"
} ],
ComponentRes: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "c1eddDqbM1KErdpJPy134Ka", "ComponentRes");
var o, n, r = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("../../Script/ProjectConfig"));
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var s = e("ComponentSkinRes"), c = (n = o = function e() {
a(this, e);
}, o.pathPhoto = s.pathPhoto[r.default.variable.curSkin], o.prefab = s.prefab[r.default.variable.curSkin], 
o.dialog = s.dialog[r.default.variable.curSkin], o.mailBox = s.mailBox[r.default.variable.curSkin], 
o.notice = s.notice[r.default.variable.curSkin], o.customerService = s.customerService[r.default.variable.curSkin], 
o.topUp = s.topUp[r.default.variable.curSkin], o.withDraw = s.withDraw[r.default.variable.curSkin], 
o.safeBox = s.safeBox[r.default.variable.curSkin], o.topFrame = s.topFrame[r.default.variable.curSkin], 
o.bonusCenter = s.bonusCenter[r.default.variable.curSkin], o.prefabs = s.prefab, 
o.launcherPrefab = s.launcherPrefab[r.default.variable.curSkin], n);
t.exports = c;
cc._RF.pop();
}, {
"../../Script/ProjectConfig": "ProjectConfig",
ComponentSkinRes: "ComponentSkinRes"
} ],
ComponentSkinRes: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "cb45288jtVDoJd7C0kthulh", "ComponentSkinRes");
var o, n;
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var a = (n = o = function e() {
r(this, e);
}, o.pathPhoto = {
beautifulgame: {
my_info_btn_normal_bg: "beautifulgame/common/texture/button/common_dialog_img_bg_btn03",
my_info_btn_select_bg: "beautifulgame/common/texture/button/common_dialog_img_bg_btn06",
select_bg_font: "beautifulgame/common/font/dialog_btn_text/txt_login",
select_disabled: "beautifulgame/common/texture/button/btn_disable",
select_disabled_font: "beautifulgame/common/font/doalig_add_text/txt_Claim",
normal_dialog_bg: "beautifulgame/common/texture/ds_common_dialog_img_bg_small",
dialog_btn_close: "beautifulgame/common/texture/ds_common_dialog_btn_close",
back_btn: "beautifulgame/common/texture/ds_common_btn_back",
bestFive_back_btn: "beautifulgame/redbalck/texture/bestfive_backbtn",
more_btn: "beautifulgame/common/texture/game/common_btn_more",
setting_btn: "beautifulgame/common/texture/game/common_btn_set",
help_btn: "beautifulgame/common/texture/game/common_btn_help",
people_btn: "beautifulgame/common/texture/game/common_btn_people",
recharge_btn: "beautifulgame/common/texture/game/common_btn_recharge",
ruleTitle: "beautifulgame/common/texture/game/common_title_yxgz",
setTitle: "beautifulgame/common/texture/game/common_title_set"
},
handsome: {
my_info_btn_normal_bg: "",
my_info_btn_select_bg: "",
normal_dialog_bg: "handsome/common/texture/common_dialog_img_bg_small",
dialog_btn_close: "handsome/common/texture/button/common_dialog_btn_close",
back_btn: "handsome/common/texture/game/common_btn_back",
more_btn: "handsome/common/texture/game/common_btn_more",
setting_btn: "handsome/common/texture/game/common_btn_set",
help_btn: "handsome/common/texture/game/common_btn_help",
people_btn: "handsome/common/texture/game/common_btn_people",
recharge_btn: "handsome/common/texture/common_btn_recharge",
ruleTitle: "handsome/common/texture/dialogTitle/common_dialog_title_text_yxgz",
setTitle: "handsome/common/texture/dialogTitle/common_dialog_title_text_sz"
}
}, o.dialog = {
beautifulgame: {
verticalTabDialog: "beautifulgame/common/prefab/dialog/BaseVerticalTabDialog",
normalDialog: "beautifulgame/common/prefab/dialog/BaseNormalDialog",
withdrawDialog: "beautifulgame/common/prefab/wallet/withdraw/WithdrawViewDialog"
},
handsome: {
verticalTabDialog: "handsome/common/prefab/dialog/BaseVerticalTabDialog",
normalDialog: "handsome/common/prefab/dialog/BaseNormalDialog",
withdrawDialog: "handsome/common/prefab/wallet/withdraw/WithdrawDialog"
}
}, o.bonusCenter = {
beautifulgame: {
dialog: "beautifulgame/common/prefab/bonusCenter/BonusCenterDialog",
tabScriptName: "BonusCenterLeftTabItem",
onlinePath: "beautifulgame/common/prefab/bonusCenter/BonusCenterOnline",
onlineScriptName: "BonusCenterOnline",
loginPath: "beautifulgame/common/prefab/bonusCenter/BonusCenterLogin",
loginScriptName: "BonusCenterLogin",
onlineRank: "beautifulgame/common/prefab/bonusCenter/BonusCenterOnlineRank",
loginAward: "beautifulgame/common/prefab/bonusCenter/BonusCenterLoginAward",
onlineAward: "beautifulgame/common/prefab/bonusCenter/BonusCenterOnlineAward",
onlineAwardOpenAnim: "beautifulgame/common/prefab/bonusCenter/BonusOnlineAwardOpenAnim"
},
handsome: {
dialog: "handsome/common/prefab/bonusCenter/BonusCenterDialog",
tabScriptName: "BonusCenterLeftTabItem",
onlinePath: "handsome/common/prefab/bonusCenter/BonusCenterOnline",
onlineScriptName: "BonusCenterOnline",
loginPath: "handsome/common/prefab/bonusCenter/BonusCenterLogin",
loginScriptName: "BonusCenterLogin",
onlineRank: "handsome/common/prefab/bonusCenter/BonusCenterOnlineRank",
loginAward: "handsome/common/prefab/bonusCenter/BonusCenterLoginAward",
onlineAward: "handsome/common/prefab/bonusCenter/BonusCenterOnlineAward",
onlineAwardOpenAnim: "handsome/common/prefab/bonusCenter/BonusOnlineAwardOpenAnim"
}
}, o.mailBox = {
beautifulgame: {
mailDialog: "beautifulgame/common/prefab/mail/MailViewDialog",
titleSprite: "beautifulgame/common/texture/component/ds_dialog_email_text",
getGiftSuccessTitleSprite: "beautifulgame/common/texture/component/ds_dialog_email_text_gxhd",
tabPath: "beautifulgame/common/prefab/mailBox/MailboxItem",
tabScriptName: "MailBoxItem",
tabBottomPath: "beautifulgame/common/prefab/mailBox/MailboxLeftBottom",
tabBottomScriptName: "MailBoxLeftBottom",
getGiftSuccess: "beautifulgame/common/prefab/mailBox/MailboxGetGiftSuccess",
bodyPath: "beautifulgame/common/prefab/mailBox/MailboxContent",
bodyScriptName: "MailBoxContent",
contact: "beautifulgame/common/prefab/mailBox/MailboxContactDialog"
},
handsome: {
mailDialog: "handsome/common/prefab/mailBox/MailDialog",
titleSprite: "handsome/common/texture/dialogTitle/common_dialog_title_text_yj",
tabPath: "handsome/common/prefab/mailBox/MailboxItem",
tabScriptName: "MailBoxItem",
tabBottomPath: "handsome/common/prefab/mailBox/MailboxLeftBottom",
tabBottomScriptName: "MailBoxLeftBottom",
getGiftSuccess: "handsome/common/prefab/mailBox/MailboxGetGiftSuccess",
getGiftSuccessTitleSprite: "handsome/common/texture/dialogTitle/common_dialog_title_text_gxhd",
bodyPath: "handsome/common/prefab/mailBox/MailboxContent",
bodyScriptName: "MailBoxContent",
contact: "handsome/common/prefab/mailBox/MailboxContactDialog"
}
}, o.notice = {
beautifulgame: {
titleSprite: "beautifulgame/common/texture/component/ds_dialog_gg_text",
tabScriptName: "NoticeItem",
tabPath: "beautifulgame/common/prefab/notice/NoticeItem",
contentScriptName: "NoticeBody",
contentPath: "beautifulgame/common/prefab/notice/NoticeBody"
},
handsome: {
titleSprite: "handsome/common/texture/dialogTitle/common_dialog_title_text_gg",
tabScriptName: "NoticeItem",
tabPath: "handsome/common/prefab/notice/NoticeItem",
contentScriptName: "NoticeBody",
contentPath: "handsome/common/prefab/notice/NoticeBody"
}
}, o.customerService = {
beautifulgame: {
titleSprite: "beautifulgame/common/texture/component/ds_dialog_kf_text",
tabBottomPath: "beautifulgame/common/prefab/customer/CustomerTips",
pathQA: "beautifulgame/common/prefab/customer/CustomerQA",
pathContactService: "beautifulgame/common/prefab/customer/CustomerContactService",
customerCenter: "beautifulgame/common/prefab/customer/CustomerCenter",
switchScreenOrientationAnim: "beautifulgame/common/prefab/customer/CustomerSwitchScreen",
serviceCenter: "beautifulgame/common/prefab/userCenter/UserCenterContactDialog"
},
handsome: {
titleSprite: "handsome/common/texture/dialogTitle/common_dialog_title_text_kf",
tabBottomPath: "handsome/common/prefab/customer/CustomerTips",
pathQA: "handsome/common/prefab/customer/CustomerQA",
pathContactService: "handsome/common/prefab/customer/CustomerContactService",
customerCenter: "handsome/common/prefab/customer/CustomerCenter",
switchScreenOrientationAnim: "handsome/common/prefab/customer/CustomerSwitchScreen"
}
}, o.topUp = {
beautifulgame: {
titleSprite: "beautifulgame/common/texture/component/ds_recharge_title_text_cz",
pathToBeAgent: "beautifulgame/common/prefab/wallet/topup/channel/ToBeAgentView",
pathAmountTopUp: "beautifulgame/common/prefab/wallet/topup/channel/TopUpView",
pathAgentTopUp: "beautifulgame/common/prefab/wallet/topup/channel/AgentView",
pathTransferTopUp: "beautifulgame/common/prefab/wallet/topup/channel/BankCardTransferView",
pathCustomerTopUp: "beautifulgame/common/prefab/wallet/topup/channel/customer/RechargeCustomer",
pathSecondPayTopUp: "beautifulgame/common/prefab/wallet/topup/RechargeSecondPay",
tabBottomPath: "beautifulgame/common/prefab/wallet/topup/channel/customer/CustomerEntry",
tabPath: "beautifulgame/common/prefab/wallet/topup/RechargeViewLeftTabItem",
tabScriptName: "WalletViewTopUpLeftTabItem",
titleRechargeOrderSprite: "beautifulgame/common/texture/wallet/topup/ds_recharge_czdd_title",
titleReportingAgentSprite: "beautifulgame/common/texture/wallet/topup/recharge_title_text_jbdl",
titleContactAgentSprite: "beautifulgame/common/texture/wallet/topup/recharge_title_text_lxdl",
titleEvaluationAgentSprite: "beautifulgame/common/texture/wallet/topup/recharge_title_text_pjdl",
titleEvaluationDetailsSprite: "beautifulgame/common/texture/wallet/topup/ds_pjxq_title",
titleComplaintAgentSprite: "beautifulgame/common/texture/wallet/topup/recharge_title_text_tsdl",
titleCustomerRechargeSprite: "beautifulgame/common/texture/wallet/topup/ds_recharge_kfcz_title",
titleRechargeSuccSprite: "beautifulgame/common/texture/wallet/topup/ds_recharge_czcg_title",
titleRechargeRecordSprite: "beautifulgame/common/texture/wallet/topup/ds_recharge_czjl_title",
titleQRcodeRechargeSprite: "beautifulgame/common/texture/wallet/topup/recharge_title_cz_small",
titleReceiptSprite: "beautifulgame/common/texture/wallet/topup/Receipt",
secondAnim: "beautifulgame/common/prefab/wallet/topup/RechargeSecondAnim"
},
handsome: {
titleSprite: "beautifulgame/common/texture/component/ds_recharge_title_text_cz",
pathToBeAgent: "handsome/common/prefab/wallet/topup/channel/ToBeAgentView",
pathAmountTopUp: "handsome/common/prefab/wallet/topup/channel/TopUpView",
pathAgentTopUp: "handsome/common/prefab/wallet/topup/channel/AgentView",
pathTransferTopUp: "handsome/common/prefab/wallet/topup/channel/BankCardTransferView",
pathCustomerTopUp: "handsome/common/prefab/wallet/topup/channel/customer/RechargeCustomer",
pathSecondPayTopUp: "handsome/common/prefab/wallet/topup/miao_fu/RechargeSecondPay",
tabBottomPath: "handsome/common/prefab/wallet/topup/channel/customer/CustomerEntry",
tabPath: "handsome/common/prefab/wallet/topup/left/RechargeLeftTabItem",
tabScriptName: "WalletTopUpLeftTabItem",
titleRechargeOrderSprite: "handsome/common/texture/dialogTitle/common_dialog_title_text_czdd",
titleReportingAgentSprite: "handsome/common/texture/dialogTitle/common_dialog_title_text_jbdl",
titleContactAgentSprite: "handsome/common/texture/dialogTitle/common_dialog_title_text_lxdl",
titleEvaluationAgentSprite: "handsome/common/texture/dialogTitle/common_dialog_title_text_pjdl",
titleComplaintAgentSprite: "handsome/common/texture/dialogTitle/common_dialog_title_text_tsdl",
titleCustomerRechargeSprite: "handsome/common/texture/dialogTitle/common_dialog_title_text_kfcz",
titleRechargeSuccSprite: "handsome/common/texture/dialogTitle/common_dialog_title_text_czcg",
titleRechargeRecordSprite: "handsome/common/texture/dialogTitle/common_dialog_title_text_czjl",
titleQRcodeRechargeSprite: "handsome/common/texture/dialogTitle/common_dialog_title_text_recharge",
titleReceiptSprite: "handsome/common/texture/dialogTitle/common_dialog_title_text_skzh",
secondAnim: "handsome/common/prefab/wallet/topup/miao_fu/RechargeSecondAnim",
titleEvaluationDetailsSprite: "handsome/common/texture/dialogTitle/bd_recharge_details"
}
}, o.withDraw = {
beautifulgame: {
titleSprite: "beautifulgame/common/texture/component/ds_tx_dialog_img_title01",
exchange: "beautifulgame/common/prefab/wallet/withdraw/WithdrawExTab",
info: "beautifulgame/common/prefab/wallet/withdraw/WithdrawInfoTab",
code: "beautifulgame/common/prefab/wallet/withdraw/WithdrawCodeTab",
withdrawrecordprefab: "beautifulgame/common/prefab/wallet/withdraw/WithdrawRecordDialog",
withdrawinfodialogprefab: "beautifulgame/common/prefab/wallet/withdraw/WithdrawInfoDialog",
withdrawRecordTitleSprite: "beautifulgame/common/texture/component/ds_tx_dialog_img_title03",
withdrawRecordDetailTitleSprite: "beautifulgame/common/texture/component/ds_tx_dialog_img_title04",
withdrawResetDialogTitleSprite: "beautifulgame/common/texture/component/ds_tx_dialog_img_title07",
bankListTitleSprite: "beautifulgame/common/texture/component/ds_tx_dialog_img_title02",
withdrawbanneroffical: "beautifulgame/common/texture/wallet/banner_official",
withdrawbannerbank: "beautifulgame/common/texture/wallet/banner_bank",
color: {
success: "#07BDB2",
haveReturn: "#07BDB2",
audit: "#FFF5B2",
normal: "#BBBBBB",
selected: "#FFFFFF",
agency_wait: "#ebe19b",
agency_finished: "#07bdb2",
agency_fail: "#cb5353"
}
},
handsome: {
titleSprite: "handsome/common/texture/dialogTitle/common_dialog_title_text_dh",
exchange: "handsome/common/prefab/wallet/withdraw/WithdrawExTab",
info: "handsome/common/prefab/wallet/withdraw/WithdrawInfoTab",
code: "handsome/common/prefab/wallet/withdraw/WithdrawCodeTab",
withdrawRecordTitleSprite: "handsome/common/texture/dialogTitle/common_dialog_title_text_dhjl",
withdrawRecordDetailTitleSprite: "handsome/common/texture/dialogTitle/common_dialog_title_text_dhxq",
withdrawResetDialogTitleSprite: "handsome/common/texture/dialogTitle/common_dialog_title_text_cz",
bankListTitleSprite: "handsome/common/texture/dialogTitle/common_dialog_title_text_khyh",
color: {
success: "#45a202",
haveReturn: "#cb5353",
audit: "#91541f",
normal: "#FFFFFF",
selected: "#4b8cc2",
agency_wait: "#91541f",
agency_finished: "#45a202",
agency_fail: "#cb5353"
}
}
}, o.safeBox = {
beautifulgame: {
tips_titleSprite: "beautifulgame/common/texture/component/ds_tx_dialog_xtts",
titleSprite: "beautifulgame/common/texture/component/ds_safe_title_text_bxg",
inPrefab: "beautifulgame/common/prefab/wallet/safebox/tab/SafeBoxIn",
outPrefab: "beautifulgame/common/prefab/wallet/safebox/tab/SafeBoxOut",
pwdPrefab: "beautifulgame/common/prefab/wallet/safebox/tab/SafeBoxPwd",
pwdResetPrefab: "beautifulgame/common/prefab/wallet/safebox/SafeBoxPwdReset",
pwdResetTitleSprite: "beautifulgame/launcher/texture/login/ds_dialog_czmm_text",
pwdSetTitleSprite: "beautifulgame/common/texture/component/ds_safe_title_text_szmm",
pwdEnterPrefab: "beautifulgame/common/prefab/wallet/safebox/SafeBoxPwdEnter",
pwdEnterTitleSprite: "beautifulgame/common/texture/wallet/topup/ds_safe_title_text_bxgmm",
coolTipsPrefab: "beautifulgame/common/prefab/wallet/safebox/SafeBoxTip"
},
handsome: {
tips_titleSprite: "handsome/common/texture/dialogTitle/common_dialog_title_text_xtts",
titleSprite: "handsome/common/texture/dialogTitle/common_dialog_title_text_bbx",
inPrefab: "handsome/common/prefab/wallet/safebox/tab/SafeBoxIn",
outPrefab: "handsome/common/prefab/wallet/safebox/tab/SafeBoxOut",
pwdPrefab: "handsome/common/prefab/wallet/safebox/tab/SafeBoxPwd",
pwdResetPrefab: "handsome/common/prefab/wallet/safebox/SafeBoxPwdReset",
pwdResetTitleSprite: "handsome/common/texture/dialogTitle/bd_dialog_czmm_text",
pwdSetTitleSprite: "handsome/common/texture/dialogTitle/common_dialog_title_text_szmm",
pwdEnterPrefab: "handsome/common/prefab/wallet/safebox/SafeBoxPwdEnter",
pwdEnterTitleSprite: "handsome/common/texture/dialogTitle/common_dialog_title_text_bbxmm",
coolTipsPrefab: "handsome/common/prefab/wallet/safebox/SafeBoxTip"
}
}, o.prefab = {
beautifulgame: {
userCenter: "beautifulgame/common/prefab/userCenter/UserCenter",
toast: "beautifulgame/common/prefab/Toast",
toastMuti: "beautifulgame/common/prefab/ToastMuti",
alert: "beautifulgame/common/prefab/Dialog",
leaveAlert: "beautifulgame/common/prefab/LeaveAlert",
poker: "beautifulgame/common/prefab/Poker",
loading: "beautifulgame/common/prefab/loading/Loading",
reportAgent: "beautifulgame/common/prefab/wallet/topup/channel/ReportAgent",
allAgent: "beautifulgame/common/prefab/allAgent/AllAgent",
reportPrize: "beautifulgame/common/prefab/wallet/topup/channel/ReportPrize",
registerForGifts: "beautifulgame/common/prefab/registerForGifts/RegisterForGifts",
formalUser: "beautifulgame/launcher/prefab/login/FormalUser",
guideregister: "beautifulgame/launcher/prefab/login/guideregister",
graphValidCode: "beautifulgame/common/prefab/validCode/GraphValidCode",
TopUpDialog: "beautifulgame/common/prefab/wallet/topup/WalletTopUpMain",
setting: "beautifulgame/common/prefab/setting/Setting",
redPacket: "beautifulgame/common/prefab/redPacket/RedPacket",
compelGuidance: "beautifulgame/common/prefab/guide/CompelGuidance",
exchangeGuide: "beautifulgame/common/prefab/guide/ExchangeGuide",
gameRoom: "beautifulgame/hall/prefab/game_room/GameRoom",
rechargeDialog: "beautifulgame/common/prefab/wallet/topup/RechargeViewDialog",
cashierDialog: "beautifulgame/common/prefab/wallet/topup/CashierPayDialog",
applePayDialog: "beautifulgame/common/prefab/ApplePayRecharge",
rechargeRecrod: "beautifulgame/common/prefab/wallet/topup/RechargeRecording",
marquee: "beautifulgame/common/prefab/marquee/Marquee",
noticeDialog: "beautifulgame/common/prefab/notice/NoticeViewDialog",
getRedEnvelope: "beautifulgame/common/prefab/newYearRedPacket/getRedEnvelope",
gameRule: "beautifulgame/rummy/prefab/RummyRule",
loadingWithFont: "beautifulgame/common/prefab/loading/LoadingWithFont",
promoter: "beautifulgame/common/prefab/promoter/Promoter",
promoterActivity: "beautifulgame/common/prefab/promoter/ac/PromoterActivity",
promoterFormal: "beautifulgame/common/prefab/promoter/ac/PromoterFormal",
dialog: "beautifulgame/common/prefab/Dialog",
noTitleDialog: "beautifulgame/common/prefab/Dialognewone",
baseroominfodialog: "beautifulgame/common/prefab/roombaseinfo/roombaseinfo",
contactusdialog: "beautifulgame/common/prefab/contactus/ContactUsDialog",
settingui: "beautifulgame/common/prefab/setting/SettingUI"
},
handsome: {
userCenter: "handsome/common/prefab/userCenter/UserCenter",
noticeDialog: "handsome/common/prefab/notice/NoticeDialog",
reportPrize: "handsome/common/prefab/wallet/topup/channel/ReportPrize",
registerForGifts: "handsome/common/prefab/registerForGifts/RegisterForGifts",
allAgent: "handsome/common/prefab/allAgent/AllAgent",
formalUser: "handsome/launcher/prefab/login/FormalUser",
marquee: "handsome/common/prefab/marquee/Marquee",
toast: "handsome/common/prefab/Toast",
toastMuti: "handsome/common/prefab/ToastMuti",
alert: "handsome/common/prefab/Alert",
leaveAlert: "handsome/common/prefab/LeaveAlert",
poker: "handsome/common/prefab/Poker",
loading: "handsome/common/prefab/loading/Loading",
reportAgent: "handsome/common/prefab/wallet/topup/channel/ReportAgent",
graphValidCode: "handsome/common/prefab/validCode/GraphValidCode",
TopUpDialog: "handsome/common/prefab/wallet/topup/WalletTopUpMain",
setting: "handsome/common/prefab/setting/Setting",
redPacket: "handsome/common/prefab/redPacket/RedPacket",
compelGuidance: "handsome/common/prefab/guide/CompelGuidance",
exchangeGuide: "handsome/common/prefab/guide/ExchangeGuide",
gameRoom: "handsome/hall/prefab/game_room/GameRoom",
rechargeDialog: "handsome/common/prefab/wallet/topup/RechargeDialog",
rechargeNoticeDialog: "handsome/common/prefab/wallet/topup/RechargeNoticeDialog",
rechargeRecrod: "handsome/common/prefab/wallet/topup/record/RechargeRecording",
getRedEnvelope: "handsome/common/prefab/newYearRedPacket/getRedEnvelope",
gameRule: "handsome/common/prefab/rule/Rule",
loadingWithFont: "handsome/common/prefab/loading/LoadingWithFont",
promoter: "handsome/common/prefab/promoter/Promoter",
promoterActivity: "handsome/common/prefab/promoter/ac/PromoterActivity",
promoterFormal: "handsome/common/prefab/promoter/ac/PromoterFormal",
dialog: "handsome/common/prefab/Dialog"
},
timi: {
formalUser: "timi/launcher/prefab/login/FormalUser",
allAgent: "timi/common/prefab/allAgent/AllAgent",
reportPrize: "timi/common/prefab/wallet/topup/channel/ReportPrize"
},
yingyangshi: {
formalUser: "yingyangshi/launcher/prefab/login/FormalUser"
},
haidilao: {
formalUser: "haidilao/launcher/prefab/login/FormalUser",
allAgent: "haidilao/common/prefab/allAgent/AllAgent",
reportPrize: "haidilao/common/prefab/wallet/topup/channel/ReportPrize"
},
xiyouji: {
formalUser: "xiyouji/launcher/prefab/login/FormalUser",
allAgent: "xiyouji/common/prefab/allAgent/AllAgent",
reportPrize: "xiyouji/common/prefab/wallet/topup/channel/ReportPrize"
},
wangyi: {
formalUser: "wangyi/launcher/prefab/login/FormalUser",
allAgent: "wangyi/common/prefab/allAgent/AllAgent",
reportPrize: "wangyi/common/prefab/wallet/topup/channel/ReportPrize"
}
}, o.topFrame = {
beautifulgame: {
reportPrizeTitleSprite: "beautifulgame/common/texture/wallet/topup/ds_recharge_title_jbyj"
},
handsome: {
reportPrizeTitleSprite: "handsome/common/texture/dialogTitle/common_dialog_title_text_jbyj"
}
}, o.launcherPrefab = {
beautifulgame: {
launcherCustomerPre: "beautifulgame/launcher/prefab/LauncherContactCustomer"
},
handsome: {
launcherCustomerPre: "handsome/launcher/prefab/LauncherContactCustomer"
}
}, n);
t.exports = a;
cc._RF.pop();
}, {} ],
ContactUsViewDialog: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "9a917HHUTpFSZCYURPOt8/B", "ContactUsViewDialog");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = e("../../Script/Audio/CommonAudioMgr"), a = e("../../Script/Audio/CommonAudio"), s = e("../../Script/ProjectConfig"), c = e("CommonLanguage"), l = e("../../Script/UI/CommonPrefabMgr"), u = e("FormatCheckUtil"), d = e("./../../Script/GameFramework/ApiMgr"), f = cc._decorator, h = f.ccclass, p = f.property, g = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.emailitbox = null;
t.messageeditbox = null;
return t;
}
t.prototype.start = function() {};
t.prototype.emailInfoButtonOnclick = function(e) {
cc.log("emailInfoButtonOnclick");
s.default.clickManager(e.target);
l.default.createAlert(c.currentlanguage.contactus.contactusemailinfo, c.currentlanguage.alert.alertbuttonone, function() {}, void 0, void 0, !1, void 0, void 0, !1);
};
t.prototype.submitInfo = function() {
var e = this, t = e.emailitbox.string, i = e.messageeditbox.string;
if (u.checkMail(t)) if (!i || i.length <= 0) l.default.createToast(c.currentlanguage.contactus.emptycontent); else {
var o = {
email: t,
content: i
};
d.default.postContactUsContent(o, function(t) {
e.closeDialog();
l.default.createToast(c.currentlanguage.contactus.submitsuccess);
}, function(e) {
e && e.msg && l.default.createToast(e.msg);
});
}
};
t.prototype.closeDialog = function() {
r.default.playEffect(a.default.common.btnMusic);
if (this.node.getComponent("CommonDialog")) this.node.getComponent("CommonDialog").dismiss(); else {
this.node.active = !1;
this.node.removeFromParent();
}
};
t.prototype.dismiss = function() {
this.closeDialog();
};
n([ p(cc.EditBox) ], t.prototype, "emailitbox", void 0);
n([ p(cc.EditBox) ], t.prototype, "messageeditbox", void 0);
return t = n([ h ], t);
}(cc.Component);
i.default = g;
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/ProjectConfig": "ProjectConfig",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"./../../Script/GameFramework/ApiMgr": "ApiMgr",
CommonLanguage: "CommonLanguage",
FormatCheckUtil: "FormatCheckUtil"
} ],
CustomerAppealMgr: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "4bf355Ea/VPX7yKUB3FQ8IB", "CustomerAppealMgr");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = e("../../Script/UI/CommonPrefabMgr"), n = e("../../Script/UserManager"), r = e("../../Script/LocalStorage/LocalStorageUtil"), a = e("../../Script/ProjectConfig"), s = e("./../../Script/GameFramework/ApiMgr"), c = function() {
function e() {}
e.dealContactOnlineCustomer = function(e, t) {
var i = this;
s.default.fetchCustomerServiceToken(function(n) {
if (n && n.token) {
var r = i.appendParams(e, n.token);
"function" == typeof t && t(r);
} else o.default.createToast("Network anomalies, please try again later");
}, function(e) {
o.default.createToast("Network anomalies, please try again later");
});
};
e.appendParams = function(e, t) {
if (e) {
var i = a.default.getProId(), o = "userid=" + n.default.uid + "&token=" + t + "&gv=" + window.GAMECONFIG.VERSION_CODE + "&level=" + n.default.vip + "&p=" + r.default.readDeviceInfo() + "&pro_id=" + i;
return e = e.indexOf("?") >= 0 ? e + "&" + o : e + "?" + o;
}
return "";
};
return e;
}();
t.exports = c;
i.default = c;
cc._RF.pop();
}, {
"../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../Script/ProjectConfig": "ProjectConfig",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"../../Script/UserManager": "UserManager",
"./../../Script/GameFramework/ApiMgr": "ApiMgr"
} ],
CustomerCenter: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "7fe650lADBBhoeXXTWhM5n6", "CustomerCenter");
var o = c(e("../../Script/ProjectConfig")), n = c(e("../../Script/Audio/CommonAudioMgr")), r = c(e("../../Script/Audio/CommonAudio")), a = c(e("../../Script/UserManager")), s = c(e("../../Script/UI/CommonPrefabMgr"));
function c(e) {
return e && e.__esModule ? e : {
default: e
};
}
e("CommonFunction");
var l = e("CustomerUIMgr"), u = e("UISettingModel"), d = e("CustomerAppealMgr"), f = e("GameEngineUtil");
cc.Class({
extends: cc.Component,
properties: {
icon_hd: cc.Node,
rechargeBtn: cc.Node,
itemKeFuBtn: cc.Node
},
init: function(e) {
e ? cc.isValid(this.icon_hd) && (this.icon_hd.opacity = 255) : cc.isValid(this.icon_hd) && (this.icon_hd.opacity = 0);
},
onLoad: function() {},
updateTopsAction: function() {},
onRechargeBtnClickAction: function() {
n.default.playEffect(r.default.common.btnMusic);
o.default.clickManager(this.rechargeBtn);
u.appealLink ? d.dealContactOnlineCustomer(u.appealLink, function(e) {
f.openUrlByH5Browser(e, "false", f.H5_REQUEST_CODE.CUSTOMER_SERVICE);
}) : s.default.createToast("跳转失败");
},
onConsultBtnClickAction: function() {
n.default.playEffect(r.default.common.btnMusic);
o.default.clickManager(this.itemKeFuBtn);
a.default.is_formal ? l.showView() : s.default.createRegisterForGifts();
this.node.destroy();
}
});
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/ProjectConfig": "ProjectConfig",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"../../Script/UserManager": "UserManager",
CommonFunction: "CommonFunction",
CustomerAppealMgr: "CustomerAppealMgr",
CustomerUIMgr: "CustomerUIMgr",
GameEngineUtil: "GameEngineUtil",
UISettingModel: "UISettingModel"
} ],
CustomerContactService: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "4a109WH3XRLabkQpDV83lm2", "CustomerContactService");
var o = d(e("../../Script/UI/CommonPrefabMgr")), n = d(e("../../Script/LocalStorage/LocalStorageUtil")), r = d(e("../../Script/UserManager")), a = d(e("../../Script/BaseFormat")), s = d(e("../../Script/Audio/CommonAudio")), c = d(e("../../Script/Audio/CommonAudioMgr")), l = d(e("../../Script/ProjectConfig")), u = d(e("./../../Script/GameFramework/ApiMgr"));
function d(e) {
return e && e.__esModule ? e : {
default: e
};
}
var f = e("CommonEventManager"), h = e("CustomerSocketMgr"), p = e("CustomerModel"), g = e("CustomerRes"), m = e("CommonEventName"), y = e("ImageMessageModel"), b = e("GeneralMessageModel"), _ = e("GameEngineUtil");
e("MessageGlobal");
cc.Class({
extends: cc.Component,
properties: {
meMessage: cc.Prefab,
serviceMessage: cc.Prefab,
contentScrollView: cc.ScrollView,
contentNode: cc.Node,
messageTime: cc.Prefab,
msgEditBox: cc.EditBox,
msgSendBtn: cc.Node,
tips: cc.Label,
loading: cc.Node,
_messageTimeNum: 0,
_delayTime: .1
},
onLoad: function() {
this.data = null;
this._messageTimeNum = 0;
this.initEventManager();
cc.director.on("IMAGEUPLOADEDSUCCESS", this.uploadingImageSucceed, this);
cc.director.on(m.CLOSE_CUSTOMER_SERVICE, this.eventCloseChat, this);
if (this.contentScrollView) {
this.contentScrollView.node.on("touch-up", function() {
MessageProjectConfig.scrolling = !1;
});
this.contentScrollView.node.on("scrolling", function() {
MessageProjectConfig.scrolling = !0;
});
this.contentScrollView.node.on("scroll-ended", function() {
MessageProjectConfig.scrolling = !1;
});
}
},
onDestroy: function() {
cc.director.off("IMAGEUPLOADEDSUCCESS", this.uploadingImageSucceed, this);
cc.director.off(m.CLOSE_CUSTOMER_SERVICE, this.eventCloseChat, this);
h.close();
},
onDisable: function() {
h.close();
this._closeLoading();
},
initContentView: function() {
h.reset();
h.init(this.eventMsgHandler.bind(this));
null != this.data && 0 != this.data.length || this.getChatHistory();
},
initEventManager: function() {
var e = this;
e.eventManager = new f(function(e) {
e == l.default.GAME_TYPE.KEFU && h.close();
}, function(t) {
if (t == l.default.GAME_TYPE.KEFU) {
h.reset();
h.init(e.eventMsgHandler.bind(e));
o.default.removeAlert();
}
});
},
eventMsgHandler: function(e, t) {
switch (e) {
case p.msgType.ERROR:
this._closeLoading();
this.eventError(t);
break;

case p.msgType.CLOSE_CHAT:
this.eventCloseChat(t);
break;

case p.msgType.RECEIVE_CHAT:
case p.msgType.RECEIVE_PIC:
this.eventReceiveChat(t);
}
},
getChatHistory: function() {
var e = this, t = parseInt(new Date().setDate(new Date().getDate() - 15) / 1e3), i = e._returnUId();
u.default.getChatHistory({
user_id: i,
last_time: t
}, function(t) {
if (t && t.length > 0) {
e.slen = t.length;
e.data = t;
var o = parseInt(new Date().getTime() / 1e3);
n.default.saveData("chartOfflineTime", o);
n.default.saveData("chartOfflineMess_" + i, JSON.stringify(t));
e.initMessageList(t, 1);
} else {
var r = n.default.readData("chartOfflineMess_" + i);
if (r) {
var a = JSON.parse(r);
e.slen = a.length;
e.initMessageList(a, 1);
}
}
});
},
eventError: function(e) {
var t = e.code;
g.ERROR[t] ? o.default.createToast(g.ERROR[t]) : o.default.createToast("服务器错误");
},
eventCloseChat: function() {
h.close();
this.eventManager.closeEvent();
this.mainWrap && (this.mainWrap.active = !1);
cc.director.emit(m.CHECk_CHAT);
cc.director.emit(m.RedEnvelopeEnable);
},
eventReceiveChat: function(e) {
var t = this._returnUId(), i = [], r = n.default.readData("chartOfflineMess_" + t), a = JSON.parse(r);
this._closeLoading();
if (e) {
var s = e.m_type, c = e.o_msg;
c.type = s;
i.push(c);
if (r) {
a.push(c);
n.default.saveData("chartOfflineMess_" + t, JSON.stringify(a));
var l = [];
l.push(a[a.length - 1]);
this.initMessageList(l, 0);
} else this.initMessageList(i, 0);
} else o.default.createToast(g.Language.chat_send_failed);
},
disposeGeneralMessage: function(e, t) {
var i = new b(e, t);
i.receiveUid == r.default.uid ? this.createServiceMessageAction(i) : this.createMeMessageAction(i);
},
disposeImageMessage: function(e, t) {
var i = new y(e, t);
i.receiveUid == r.default.uid ? this.createServiceMessageAction(i) : this.createMeMessageAction(i);
},
_openLoading: function() {
if (cc.isValid(this.loading)) {
this.loading.active = !0;
this.loading.runAction(cc.rotateBy(2, 360).repeatForever());
}
},
_closeLoading: function() {
if (cc.isValid(this.loading)) {
this.loading.active = !1;
this.loading.stopAllActions();
}
},
_hideToShow: function(e) {
if (this._delayTime > .1) {
e.opacity = 0;
this.scheduleOnce(function() {
e.opacity = 255;
e = null;
null;
}, this._delayTime);
}
},
createMeMessageAction: function(e) {
if (this.meMessage && this.contentNode) {
var t = cc.instantiate(this.meMessage);
t.x = t.x + 280;
if (cc.isValid(this.contentNode) && cc.isValid(t)) {
this._hideToShow(t);
this.contentNode.addChild(t);
var i = t.getComponent("MessageWithMe");
i && i.init(e);
}
}
},
createServiceMessageAction: function(e) {
if (this.serviceMessage && this.contentNode) {
var t = cc.instantiate(this.serviceMessage);
t.x = t.x + 400;
if (cc.isValid(this.contentNode) && cc.isValid(t)) {
this._hideToShow(t);
this.contentNode.addChild(t);
var i = t.getComponent("MessageWithService");
i && i.init(e);
}
}
},
onMessageEditTextChanged: function(e) {},
onSendMessageClick: function() {
var e = this;
c.default.playEffect(s.default.common.btnMusic);
l.default.clickManager(e.msgSendBtn);
if (null != h.customerSocket) e.sendMessChart(); else {
h.init(this.eventMsgHandler.bind(this));
e.scheduleOnce(function() {
cc.isValid(e.node) && e.sendMessChart();
}, 1e3);
}
},
sendMessChart: function() {
var e = "";
this.msgEditBox && (e = this.msgEditBox.string);
var t = this.iGetInnerText(e);
t && (t = t.trim());
if ("" != t) if (a.default.checkWordLength(t, 102)) {
var i = this._returnUId();
this._openLoading();
h.sendMsg({
kefu_uid: r.default.kefu_uid,
uid: i,
chat_timeStamp: Date.parse(new Date()) / 1e3,
text: t
});
this.msgEditBox && (this.msgEditBox.string = "");
n.default.saveCustomerServiceLastModify(Date.parse(new Date()) / 1e3);
} else o.default.createToast(g.Language.send_mess2); else o.default.createToast(g.Language.send_mess1);
},
initMessageList: function(e, t) {
var i = this;
t && i.contentNode && i.contentNode.removeAllChildren();
if (e && e.length) {
i.tips && (i.tips.node.active = !1);
var o = e[e.length - 1].time;
n.default.saveCustomerServiceLastModify(o);
i._returnUId();
this._delayTime = .1;
e.length > 1 && e.length < 50 && (this._delayTime = .8);
e.length >= 50 && e.length < 100 && (this._delayTime = 1.2);
e.length >= 100 && (this._delayTime = 1.5);
this._delayTime > .1 && this._openLoading();
for (var r = 0; r < e.length; r++) {
var a = e[r], s = a.type, c = a.time;
if (null != c) {
c - i._messageTimeNum >= 86400 && i.createMessageTimeAction(c);
i._messageTimeNum = c;
}
1 == s ? i.disposeGeneralMessage(a, !1) : 5 == s && i.disposeImageMessage(a, !1);
}
i.scheduleOnce(function() {
if (cc.isValid(i.contentScrollView)) {
i.contentScrollView.getComponent(cc.ScrollView).scrollToBottom(0);
this._delayTime > .1 && this._closeLoading();
}
}, this._delayTime);
} else i.tips && (i.tips.node.active = !0);
},
createMessageTimeAction: function(e) {
if (this.messageTime && this.contentNode) {
var t = cc.instantiate(this.messageTime);
if (t) {
if (cc.isValid(this.contentNode)) {
this._hideToShow(t);
this.contentNode.addChild(t);
}
t.setPosition(cc.v2(380, 0));
var i = t.getComponent("MessageTime");
i && i.init(e, !0);
}
}
},
_returnUId: function() {
return n.default.isLogin() ? r.default.uid : this.deviceId;
},
iGetInnerText: function(e) {
if (null == e || "" == e || void 0 == e) return e;
e.replace(/\ +/g, "");
e.replace(/[ ]/g, "");
return e.replace(/[\r\n]/g, "");
},
isUserUid: function(e, t) {
return e == t;
},
clickImageBtnAction: function() {
c.default.playEffect(s.default.common.btnMusic);
r.default.is_formal ? cc.sys.isNative && l.default.variable.nativeVersion >= 3 ? _.openAlbum() : o.default.createToast("请重新下载客户端，更新至最新版本") : o.default.createToast("请先升级至正式账号");
},
uploadingImageSucceed: function(e) {
if (e) {
var t = e || "";
if (null == t || t.length <= 0) o.default.createToast("图片上传失败，请稍后再试！"); else {
if (!l.default.hasNetWork()) {
o.default.createToast("请检查手机网络");
return;
}
var i = this._returnUId();
this.needReconnect() ? h.init(function() {
h.sendImageMessage({
kefu_uid: r.default.kefu_uid,
uid: i,
image: t
});
}.bind(this)) : h.sendImageMessage({
kefu_uid: r.default.kefu_uid,
uid: i,
image: t
});
}
}
},
needReconnect: function() {
return !h.customerSocket || (null == h.customerSocket.webSocket || h.customerSocket.webSocket.readyState != WebSocket.OPEN);
}
});
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/BaseFormat": "BaseFormat",
"../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../Script/ProjectConfig": "ProjectConfig",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"../../Script/UserManager": "UserManager",
"./../../Script/GameFramework/ApiMgr": "ApiMgr",
CommonEventManager: "CommonEventManager",
CommonEventName: "CommonEventName",
CustomerModel: "CustomerModel",
CustomerRes: "CustomerRes",
CustomerSocketMgr: "CustomerSocketMgr",
GameEngineUtil: "GameEngineUtil",
GeneralMessageModel: "GeneralMessageModel",
ImageMessageModel: "ImageMessageModel",
MessageGlobal: "MessageGlobal"
} ],
CustomerEntry: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "07d325ro0NPtZsJlZb2LGvw", "CustomerEntry");
var o = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("../../../../../Script/UI/CommonPrefabMgr"));
cc.Class({
extends: cc.Component,
properties: {},
click: function() {
o.default.ToCustomerService();
}
});
cc._RF.pop();
}, {
"../../../../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr"
} ],
CustomerIMMessage: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "02d43OXU3ZBm76+GMa0nJVw", "CustomerIMMessage");
var o = r(e("../../Script/UserManager")), n = r(e("../../Script/BaseFormat"));
function r(e) {
return e && e.__esModule ? e : {
default: e
};
}
var a = e("CommonFunction");
cc.Class({
extends: cc.Component,
properties: {
avatar: cc.Sprite,
imNode: cc.Node,
text: cc.Label,
time: cc.Label
},
initWithData: function(e, t, i, r, s) {
if (this.text) {
this.text.string = r;
this.imNode.active = !0;
this.resizeLabel();
}
this.time && (this.time.string = n.default.timestampFormat(s));
if (1 == e) if (1 == t) {
var c = a.getAvatarFromAtlas(i, o.default.gender);
this.avatar && c && (this.avatar.spriteFrame = c);
} else {
var l = new cc.SpriteFrame(cc.url.raw(i));
l && this.avatar && (this.avatar.spriteFrame = l);
}
},
resizeLabel: function() {
var e = this.text;
if (e.node) {
e.getComponent(cc.Label) && (e.getComponent(cc.Label).overflow = cc.Label.Overflow.NONE);
if (e.node.width >= 450) {
e.getComponent(cc.Label) && (e.getComponent(cc.Label).overflow = cc.Label.Overflow.RESIZE_HEIGHT);
e.node.width = 450;
}
}
}
});
cc._RF.pop();
}, {
"../../Script/BaseFormat": "BaseFormat",
"../../Script/UserManager": "UserManager",
CommonFunction: "CommonFunction"
} ],
CustomerModel: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "9d8abtkbn9Hi6juG+3Sk0ga", "CustomerModel");
var o, n;
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var a = (n = o = function e() {
r(this, e);
}, o.msgType = {
RECEIVE_CHAT: 1,
RECEIVE_PIC: 5,
FINISH: 3,
ERROR: 99,
CLOSE_CHAT: 10030
}, n);
t.exports = a;
cc._RF.pop();
}, {} ],
CustomerQA: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "898616egD5GDbEkfrVw7C3f", "CustomerQA");
e("CustomerRes");
cc.Class({
extends: cc.Component,
properties: {},
initContentView: function() {}
});
cc._RF.pop();
}, {
CustomerRes: "CustomerRes"
} ],
CustomerRes: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "53178gKpL9NY5Rblhmjm41p", "CustomerRes");
var o, n;
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var a = (n = o = function e() {
r(this, e);
}, o.Language = {
tabQA: "常见问题",
tabContactService: "在线客服",
chat1: "确定",
chat2: "本次会话已结束",
chat3: "确定退出吗？",
chat4: "暂不退出",
chat5: "确认退出",
chat_no_mess: "暂时没有您的消息",
chat_send_failed: "发送失败",
send_mess1: "请输入反馈内容",
send_mess2: "内容过长",
send_mess3: "不能包含空格",
QA: "<color=#ebe19b><br/><size=32>Q：无法充值？</size></color><br/><\n><color=#b79b70><size=28>A：充值后无法跳转支付页面或者提示系统错误，可随时联系游戏内的在线客服（24小时在线）。</size></color><br/><color=#ebe19b><br/><size=32>Q：兑换失败？</size></color><br/><color=#b79b70><size=28>A：请检查您填写的收款人姓名和账号是否匹配，支付宝是否设置了不接受陌生人转账。如还有疑问可随时联系在线客服。</size></color><br/><color=#ebe19b><br/><size=32>Q：代理充值是否可靠？</size></color><br/><color=#b79b70><size=28>A：代理充值是官方认可充值渠道，请您放心使用。</size></color><br/><color=#ebe19b><br/><size=32>Q：银行卡兑换多久可以到账？</size></color><br/><color=#b79b70><size=28>A：银行卡转账效率取决于银行卡网点的处理速度，一般5-10分钟即可到账。操作简单、安全、稳定，因此强烈推荐您使用银行卡兑换。<br/><color=#ebe19b><br/><size=32>Q：如何设置／修改密码？</size></color><br/><color=#b79b70><size=28>A：点击个人头像跳转个人中心，点击“修改密码”即可通过绑定手机修改密码。</size></color><br/><color=#ebe19b><br/><size=32>Q：保险柜密码是什么？</size></color><br/><color=#b79b70><size=28>A：保险柜密码是为了保障您的资金安全，在进行金币存取操作时设置的安全密码。",
let_rt: "<color=#ffffff><size=21>客服全天24小时在线，会在第一时间进行回复。</size></color>"
}, o.ERROR = cc.Enum({
10000: "token失效",
10001: "接收到的信息不是json格式的, 或者信息缺失",
10009: "请求参数错误",
10016: "网络环境发生变化，请重新登录",
10017: "服务器错误",
10018: "服务器错误"
}), n);
t.exports = a;
cc._RF.pop();
}, {} ],
CustomerSocketMgr: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "7ad27P8s7NLdJ6XVlesUSLM", "CustomerSocketMgr");
var o, n, r = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}(), a = c(e("../../Script/LocalStorage/LocalStorageUtil")), s = c(e("../../Script/ProjectConfig"));
function c(e) {
return e && e.__esModule ? e : {
default: e
};
}
function l(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var u = e("base64"), d = e("CommonSocket"), f = (e("NewGameInfo"), n = o = function() {
function e() {
l(this, e);
}
r(e, null, [ {
key: "init",
value: function(e) {
var t = this;
if (!t.customerSocket) {
var i = t.buildInitParams();
t.customerSocket = new d(s.default.GAME_TYPE.KEFU, t.customerUrl, i, function(i) {
var o = JSON.parse(i);
if (null != o && "" != o) {
o.type == t.chatType.ERROR && t.customerSocket.changeReconnectStatus(!1);
(o = o.data) && "function" == typeof e && e(o.m_type, o);
}
});
}
}
}, {
key: "buildInitParams",
value: function() {
var e = a.default.readUserID(), t = a.default.readUserToken(), i = a.default.readDeviceID();
return a.default.isLogin() ? {
user_id: e,
token: t
} : {
user_id: i
};
}
}, {
key: "sendMsg",
value: function(e) {
var t = {
m_type: 1,
o_msg: {
touserinfo: {
uid: e.kefu_uid
},
fromuserinfo: {
uid: e.uid
},
time: e.chat_timeStamp,
text: u.encode(e.text)
}
};
t instanceof Object && (this.customerSocket ? this.customerSocket.send(JSON.stringify(t)) : cc.director.emit("CLOSE_CHAT"));
}
}, {
key: "sendImageMessage",
value: function(e) {
var t = {
m_type: 5,
o_msg: {
touserinfo: {
uid: e.kefu_uid
},
fromuserinfo: {
uid: e.uid
},
time: Date.parse(new Date()) / 1e3,
image: u.encode(e.image)
}
};
this.customerSocket ? this.customerSocket.send(JSON.stringify(t)) : cc.director.emit("CLOSE_CHAT");
}
}, {
key: "reset",
value: function() {
this.customerSocket && (this.customerSocket = null);
}
}, {
key: "close",
value: function() {
if (null != this.customerSocket) {
this.customerSocket.close();
this.customerSocket = null;
}
}
} ]);
return e;
}(), o.customerSocket = null, o.customerUrl = "", o.chatType = {
RECEIVE_CHAT: 1,
RECEIVE_PIC: 5,
FINISH: 3,
ERROR: 99,
CLOSE_CHAT: 10030
}, n);
t.exports = f;
cc._RF.pop();
}, {
"../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../Script/ProjectConfig": "ProjectConfig",
CommonSocket: "CommonSocket",
NewGameInfo: "NewGameInfo",
base64: "base64"
} ],
CustomerSwitchScreen: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "b26a9gwScBK3Js6ZECE4xPu", "CustomerSwitchScreen");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = cc._decorator, a = r.ccclass, s = r.property, c = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.skeleton = null;
return t;
}
t.prototype.onLoad = function() {
this.skeleton.setEndListener(function() {
this.dismiss();
});
};
t.prototype.dismiss = function() {
if (this.node) {
this.node.active = !1;
this.node.removeFromParent();
this.destroy();
}
};
n([ s(sp.Skeleton) ], t.prototype, "skeleton", void 0);
return t = n([ a ], t);
}(cc.Component);
i.default = c;
cc._RF.pop();
}, {} ],
CustomerUIMgr: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "aa045sa7MJDfZ63dpFjOqgx", "CustomerUIMgr");
var o, n, r = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}();
(function(e) {
e && e.__esModule;
})(e("../../Script/ProjectConfig"));
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var s = e("DialogUtil"), c = e("CustomerRes"), l = e("CommonEventName"), u = e("ComponentRes"), d = (n = o = function() {
function e() {
a(this, e);
}
r(e, null, [ {
key: "showView",
value: function() {
var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
this._selectIndex = e;
s.createDialogWithTypeAction(4);
}
}, {
key: "initUI",
value: function(e) {
this._callBack = e;
var t = [], i = [];
this.addTabQA(t, i);
this.addTabContactService(t, i);
var o = {
prefabData: null
};
o.prefabPath = u.customerService.tabBottomPath;
o.prefabScript = null;
o.location = 1;
var n = -1, r = -1;
if (cc.vv.souhu) {
n = 360;
r = 756;
}
var a = {
tabWidth: n,
contentWidth: r,
tabBottomData: o,
onCloseCallBack: function() {
cc.director.emit(l.CLOSE_CUSTOMER_SERVICE);
}
};
this._callBack && this._callBack(t, i, u.customerService.titleSprite, this._selectIndex, a);
}
}, {
key: "addTabQA",
value: function(e, t) {
e.push(c.Language.tabQA);
var i = {};
i.prefabData = c.Language.QA;
i.prefabPath = u.customerService.pathQA;
i.prefabScript = "CustomerQA";
t.push(i);
}
}, {
key: "addTabContactService",
value: function(e, t) {
e.push(c.Language.tabContactService);
var i = {
prefabData: null
};
i.prefabPath = u.customerService.pathContactService;
i.prefabScript = "CustomerContactService";
t.push(i);
}
} ]);
return e;
}(), o._callBack = null, o._selectIndex = 0, n);
t.exports = d;
cc._RF.pop();
}, {
"../../Script/ProjectConfig": "ProjectConfig",
CommonEventName: "CommonEventName",
ComponentRes: "ComponentRes",
CustomerRes: "CustomerRes",
DialogUtil: "DialogUtil"
} ],
DataParseUtil: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "ee24f4PYSlH2p8aNZdC4UZz", "DataParseUtil");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = function() {
function e() {}
e.parseUISettings = function(e) {
var t = {
uiswitch: {},
topbar: {},
bottomBar: {},
gameSupport: {},
homepage: ""
};
if (!e) return t;
var i = e.homepage;
i && i.length > 0 && (t.homepage = i);
var o = e.kg;
if (o) for (var n in o) {
var r = o[n];
if (r) {
var a = r.name, s = r.status;
a && (t.uiswitch[a] = s);
}
}
var c = e.layout, l = {}, u = {};
if (c) {
var d = c.top_bar;
for (var f in d) {
var h = d[f];
if (h) {
var p = h.tag, g = h.tag1, m = h.tag2;
a = h.name, h.icon;
if (a) {
t.topbar[a] = !0;
l[a] = parseInt(f);
u[a] = {
tag: p,
tag1: g,
tag2: m
};
}
}
}
t.topbar.layout = l;
t.topbar.vip = u;
var y = c.game_list, b = {}, _ = {}, v = {}, S = {};
for (var C in y) {
var w = y[C];
if (w) {
p = w.tag, a = w.name, w.icon;
var A = w.tag_hot, R = w.tag_new;
if (a) {
t.gameSupport[a] = !0;
b[a] = parseInt(C);
_[a] = p;
v[a] = A;
S[a] = R;
}
}
}
t.gameSupport.vip = _;
t.gameSupport.layout = b;
t.gameSupport.tag_hot = v;
t.gameSupport.tag_new = S;
var T = c.bottom_bar, E = 0, M = {}, P = {};
for (var k in T) {
var I = T[k];
if (I) {
p = I.tag, a = I.name, I.icon;
if (a) {
E++;
t.bottomBar[a] = !0;
M[a] = parseInt(k);
P[a] = p;
}
}
}
t.bottomBar.count = E;
t.bottomBar.layout = M;
t.bottomBar.vip = P;
}
return t;
};
return e;
}();
i.default = o;
cc._RF.pop();
}, {} ],
DebitCard: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "db3875Xbo5Mt4UG3P5lwKdB", "DebitCard");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = e("./../../../Script/GameFramework/ApiMgr"), a = e("../../../Script/UI/CommonPrefabMgr"), s = e("GameEngineUtil"), c = e("TrackUtil"), l = e("CommonLanguage"), u = e("FormatCheckUtil"), d = cc._decorator, f = d.ccclass, h = d.property, p = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.accountnumber = null;
t.holdername = null;
t.ifcscode = null;
t.phone = null;
t.email = null;
t.text = "hello";
t.modeldata = null;
t.numberditChanged = !0;
t.nameditChanged = !0;
t.codeditChanged = !0;
return t;
}
t.prototype.onLoad = function() {
var e = this.modeldata.withdrawdebitcard;
if (e) {
e.accountnumber && (this.accountnumber.string = e.accountnumber);
e.accountholdername && (this.holdername.string = e.accountholdername);
e.ifsccode && (this.ifcscode.string = e.ifsccode);
e.payeeemail && (this.email.string = e.payeeemail);
e.payeemobile && (this.phone.string = e.payeemobile);
}
};
t.prototype.initData = function(e) {
this.modeldata = e;
};
t.prototype.link = function() {
var e = this, t = e.accountnumber.string, i = e.holdername.string, o = e.ifcscode.string, n = e.phone.string, d = e.email.string;
s.trackEvent(c.withdrawdebitlinkclick);
if (!t || t.length <= 0) a.default.createToast("Please enter the Account Number"); else if (!i || i.length <= 0) a.default.createToast("Please enter the Account Holder Name"); else if (!o || o.length <= 0) a.default.createToast("Please enter the Bank IFCS Code"); else if (!n || n.length <= 0) a.default.createToast(l.currentlanguage.debit.debitphonenotice); else if (u.checkMail(d)) {
var f = {
type: 1,
account: t,
name: i,
ifcs: o,
phone: n,
email: d
};
r.default.postWithDrawBindInfo(f, function(t) {
if (t.withdrawbinds && t.withdrawbinds.withdrawdebitcard) {
e.modeldata.withdrawdebitcard = t.withdrawbinds.withdrawdebitcard;
cc.director.emit("JUMPTOAPPLYWITHDRAWCONTENT", t);
a.default.createToast("Information submitted successfully");
}
}, function(e) {
e && e.msg && a.default.createToast(e.msg);
});
}
};
t.prototype.start = function() {};
t.prototype.accountNumberEditChanged = function() {
if (this.numberditChanged) {
this.numberditChanged = !1;
s.trackEvent(c.withdrawdebitnnumbereditchanged);
}
};
t.prototype.accountNameEditChanged = function() {
if (this.nameditChanged) {
this.nameditChanged = !1;
s.trackEvent(c.withdrawdebitnameeditchanged);
}
};
t.prototype.accountCodeEditChanged = function() {
if (this.codeditChanged) {
this.codeditChanged = !1;
s.trackEvent(c.withdrawdebitcodeeditchanged);
}
};
n([ h(cc.EditBox) ], t.prototype, "accountnumber", void 0);
n([ h(cc.EditBox) ], t.prototype, "holdername", void 0);
n([ h(cc.EditBox) ], t.prototype, "ifcscode", void 0);
n([ h(cc.EditBox) ], t.prototype, "phone", void 0);
n([ h(cc.EditBox) ], t.prototype, "email", void 0);
n([ h ], t.prototype, "text", void 0);
return t = n([ f ], t);
}(cc.Component);
i.default = p;
cc._RF.pop();
}, {
"../../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"./../../../Script/GameFramework/ApiMgr": "ApiMgr",
CommonLanguage: "CommonLanguage",
FormatCheckUtil: "FormatCheckUtil",
GameEngineUtil: "GameEngineUtil",
TrackUtil: "TrackUtil"
} ],
DependManage: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "363dcsh2YpGrLPDM/avBWyb", "DependManage");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = e("../BaseFormat"), n = e("../UI/CommonPrefabMgr"), r = e("../Socket/CommonSocket"), a = e("../CommonEventName"), s = e("../GameFramework/GameType"), c = e("./CommonDepend"), l = e("../GameFramework/GameUtil"), u = e("NewGameInfo"), d = e("../GameFramework/CommonProto"), f = e("CommonProtoBuf3"), h = function() {
function e() {}
e.initDependManage = function() {
c.default.CommonPrefabMgr = n.default;
c.default.CommonSocket = r.default;
c.default.CommonEventName = a.default;
c.default.NewGameInfo = u;
c.default.GameType = s.default;
c.default.GameUtil = l.default;
c.default.BaseFormat = o.default;
c.default.CommonProto = d.default;
c.default.CommonProtoBuf3 = f;
};
return e;
}();
i.default = h;
cc._RF.pop();
}, {
"../BaseFormat": "BaseFormat",
"../CommonEventName": "CommonEventName",
"../GameFramework/CommonProto": "CommonProto",
"../GameFramework/GameType": "GameType",
"../GameFramework/GameUtil": "GameUtil",
"../Socket/CommonSocket": "CommonSocket",
"../UI/CommonPrefabMgr": "CommonPrefabMgr",
"./CommonDepend": "CommonDepend",
CommonProtoBuf3: "CommonProtoBuf3",
NewGameInfo: "NewGameInfo"
} ],
DialogModel: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "bde772VlG1NjKwlMEyUwhS7", "DialogModel");
var o, n, r = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}(), a = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("../../../Script/ProjectConfig"));
function s(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var c = (n = o = function() {
function e() {
s(this, e);
}
r(e, null, [ {
key: "getDefaultTabPrefabPath",
value: function(e) {
var t = {};
e && e.prefabData ? t.prefabData = e.prefabData : t.prefabData = e;
t.prefabPath = this.resources.defaultTabPrefabPath;
t.prefabScript = this.resources.defaultTabPrefabScript;
return t;
}
} ]);
return e;
}(), o.resources = {
defaultTabPrefabPath: a.default.variable.curSkin + "/common/prefab/dialog/VerticalTabItem",
defaultTabPrefabScript: "VerticalTabItem"
}, n);
t.exports = c;
cc._RF.pop();
}, {
"../../../Script/ProjectConfig": "ProjectConfig"
} ],
DialogUtil: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "ca6c1g5VANDCazxeRMJtWRx", "DialogUtil");
var o, n, r = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}();
(function(e) {
e && e.__esModule;
})(e("../../../Script/ProjectConfig"));
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var s = e("ComponentRes"), c = (n = o = function() {
function e() {
a(this, e);
}
r(e, null, [ {
key: "addNormalDialog",
value: function(e, t, i) {
var o = s.dialog.normalDialog;
this.addDialog(e, t, i, o);
}
}, {
key: "createDialogWithTypeAction",
value: function(e) {
var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null, i = this, o = s.dialog.verticalTabDialog;
cc.loader.loadRes(o, function(o, n) {
if (n) {
var r = cc.instantiate(n);
1 == e ? r.getComponent("VerticalTabDialog").showRechargeDialogAction() : 2 == e ? r.getComponent("VerticalTabDialog").showWithdrawDialogAction(t) : 3 == e ? r.getComponent("VerticalTabDialog").showSafeBoxDialogAction() : 4 == e ? r.getComponent("VerticalTabDialog").showCustomerDialogAction() : 5 == e ? r.getComponent("VerticalTabDialog").showMailBoxDialogAction(t) : 6 == e && r.getComponent("VerticalTabDialog").showNoticeDialogAction();
i.left = r.getComponent("VerticalTabDialog").getTab();
}
});
}
}, {
key: "createDialogWithWithdraw",
value: function() {
var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null, t = this, i = s.dialog.withdrawDialog;
cc.loader.loadRes(i, function(i, o) {
if (o) {
var n = cc.instantiate(o);
cc.isValid(n) && n.getComponent("WithDrawDialog").bindWithDrawData(e);
n.getComponent("VerticalTabDialog").showWithdrawDialogAction(e);
t.left = n.getComponent("VerticalTabDialog").getTab();
}
});
}
}, {
key: "createVerticalTabsDialog",
value: function(e, t, i) {
var o = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0, n = arguments[4], r = this, a = s.dialog.verticalTabDialog;
cc.loader.loadRes(a, function(a, s) {
if (s) {
var c = cc.instantiate(s);
c.getComponent("VerticalTabDialog").initWithTabAndContent(e, t, i, o, n);
r.left = c.getComponent("VerticalTabDialog").getTab();
}
});
}
}, {
key: "addDialog",
value: function(e, t, i, o) {
cc.loader.loadRes(o, function(o, n) {
if (n) {
cc.instantiate(n).getComponent("BaseNormalDialog").initBaseNormalDialog(t, e, i);
}
});
}
}, {
key: "removeVerticalTabDialog",
value: function() {
this.removeDialog("BaseVerticalTabDialog");
}
}, {
key: "removeNormalDialog",
value: function() {
this.removeDialog("BaseNormalDialog");
}
}, {
key: "removeDialog",
value: function(e) {
var t = cc.director.getScene().getChildByName("Canvas"), i = t.getChildByName(e);
i && t.removeChild(i);
}
}, {
key: "removeVerticalTabDialogByIns",
value: function(e) {
this.removeDialogByIns(e, "VerticalTabDialog");
}
}, {
key: "removeNormalDialogByIns",
value: function(e) {
this.removeDialogByIns(e, "BaseNormalDialog");
}
}, {
key: "removeDialogByIns",
value: function(e, t) {
e.getComponent(t).dissmissLogic();
}
} ]);
return e;
}(), o.left = null, o.right = null, n);
t.exports = c;
cc._RF.pop();
}, {
"../../../Script/ProjectConfig": "ProjectConfig",
ComponentRes: "ComponentRes"
} ],
Dialog: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "caabfpfUslEYbRtyoJHcGRE", "Dialog");
var o = a(e("../../../Script/UI/CommonPrefabMgr")), n = a(e("../../../Script/Audio/CommonAudioMgr")), r = a(e("../../../Script/Audio/CommonAudio"));
function a(e) {
return e && e.__esModule ? e : {
default: e
};
}
var s = e("CommonFunction");
cc.Class({
extends: cc.Component,
properties: {
labelTitle: cc.Label,
spriteTitle: cc.Sprite,
testFrame: cc.SpriteFrame,
nodeBody: cc.Node
},
init: function(e, t, i) {
this.initUI(e, t);
this.initDialog();
if (i) {
this.options = i;
this.initSize(i.width, i.height);
this.initTitle(i.titleHidden);
this.initTag(i.tag);
i.bindDialog && t.attr({
dialog: this.node
});
}
},
initWithNormalDialog: function(e, t, i) {},
initWithWalletDialog: function(e, t, i) {},
initTag: function(e) {
e && (this.node.tag = e);
},
initTitle: function(e) {
if (cc.isValid(this.nodeBgs)) {
var t = this.nodeBody.parent.getChildByName("title_layer");
t.active = !e;
}
},
initUI: function(e, t) {
if (e) if ("label" == e.type) {
this.labelTitle && (this.labelTitle.node.active = !0);
this.spriteTitle && (this.spriteTitle.node.active = !1);
this.labelTitle && (this.labelTitle.string = e.content);
} else if ("sprite" == e.type) {
this.labelTitle && (this.labelTitle.node.active = !1);
this.spriteTitle && (this.spriteTitle.node.active = !0);
s.setComponentSprite(this.spriteTitle, e.content);
}
cc.isValid(this.nodeBody) && this.nodeBody.addChild(t);
},
initDialog: function() {
var e = cc.director.getScene().getChildByName("Canvas");
cc.isValid(e) && e.addChild(this.node, 800);
},
initSize: function(e, t) {
if (cc.isValid(this.nodeBgs)) {
e && (this.nodeBody.parent.width = e);
t && (this.nodeBody.parent.height = t);
}
},
dismiss: function() {
n.default.playEffect(r.default.common.btnMusic);
if (this.node && this.node.getComponent("CommonDialog")) this.node.getComponent("CommonDialog").dismiss(); else {
this.node.active = !1;
this.node.removeFromParent();
o.default.removeCommonLoading();
}
this.options && "function" == typeof this.options.onCloseCallBack && this.options.onCloseCallBack();
}
});
cc._RF.pop();
}, {
"../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
CommonFunction: "CommonFunction"
} ],
DynamicMounNodeUtil: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "974771a4DBIYqAa7kT8/ys2", "DynamicMounNodeUtil");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = function() {
function e(e) {
this._spSkeleton = null;
var t = e.getComponent(sp.Skeleton);
t && (this._spSkeleton = t);
}
e.prototype.updateMountNode = function(e, t) {
if (this._spSkeleton && cc.isValid(this._spSkeleton) && cc.isValid(this._spSkeleton.node.parent) && e && t && cc.isValid(e) && cc.isValid(e.parent)) {
var i = this._spSkeleton.findBone(t);
if (i) {
var o = this._spSkeleton.node.parent.convertToWorldSpaceAR(this._spSkeleton.node.getPosition()), n = e.parent.convertToNodeSpaceAR(o);
e.setPosition(n.x + i.worldX, n.y + i.worldY);
e.scaleX = i.scaleX;
e.scaleY = i.scaleY;
}
}
};
return e;
}();
i.default = o;
cc._RF.pop();
}, {} ],
EditBoxManager: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "2d7d1HSWhNF+qQ8TH1lm9zP", "EditBoxManager");
var o = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}();
function n(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var r = function() {
function e() {
n(this, e);
}
o(e, null, [ {
key: "addOutlineWithNode",
value: function(e) {
if (cc.isValid(e)) {
var t = e.getChildByName("TEXT_LABEL");
if (cc.isValid(t)) {
var i = t.getComponent(cc.LabelOutline);
cc.isValid(i) || (i = t.addComponent(cc.LabelOutline));
if (cc.isValid(i)) if (cc.vv.beautifulgame) {
t.color = new cc.Color(255, 250, 150);
i.color = new cc.Color(87, 26, 2);
i.width = 2;
} else if (cc.vv.souhu) {
i.color = new cc.Color(255, 255, 255);
i.width = .5;
}
}
var o = e.getChildByName("PLACEHOLDER_LABEL");
if (cc.isValid(o)) {
var n = o.getComponent(cc.LabelOutline);
if (cc.isValid(n)) ; else {
n = o.addComponent(cc.LabelOutline);
if (cc.isValid(n)) if (cc.vv.beautifulgame) {
o.color = new cc.Color(183, 155, 112);
n.color = new cc.Color(183, 155, 112);
n.width = .5;
} else if (cc.vv.souhu) {
n.color = new cc.Color(255, 255, 255);
n.width = .5;
}
}
}
var r = e.getComponent(cc.EditBox);
if (cc.isValid(r)) if (cc.vv.beautifulgame) {
r.fontColor = new cc.Color(255, 250, 150);
r.placeholderFontColor = new cc.Color(183, 155, 112);
} else cc.vv.souhu && (r.placeholderFontColor = new cc.Color(255, 255, 255));
}
}
} ]);
return e;
}();
t.exports = r;
cc._RF.pop();
}, {} ],
EntitiesComponentSystem: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "875ebKRlOZMoaFN1YrustG3", "EntitiesComponentSystem");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = cc._decorator, a = r.ccclass, s = (r.property, function(e) {
o(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.onChangeColour = function(e) {
this.node.color = e;
};
t.prototype.onNodeActive = function(e) {
this.node.active = e;
};
return t = n([ a ], t);
}(cc.Component));
i.default = s;
cc._RF.pop();
}, {} ],
ErrorLogReport: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "b2927eWi7pKQq+FQBgnFaQ/", "ErrorLogReport");
var o = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}();
function n(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var r = function() {
function e() {
n(this, e);
}
o(e, null, [ {
key: "initErrorLog",
value: function() {
var e = this;
if (cc.sys.isNative) {
cc.log("initErrorLog isNative");
var t = void 0;
if (window.__errorHandler) {
cc.log("initErrorLog isNative __errorHandler");
t = window.__errorHandler;
}
window.__errorHandler = function() {
for (var i = arguments.length, o = Array(i), n = 0; n < i; n++) o[n] = arguments[n];
cc.log("游戏报错,原生系统" + o);
e.logError(o);
t && t.apply(void 0, o);
};
}
if (cc.sys.isBrowser) {
var i = void 0;
window.onerror && (i = window.onerror);
window.onerror = function() {
for (var t = arguments.length, o = Array(t), n = 0; n < t; n++) o[n] = arguments[n];
cc.log("游戏报错,浏览器" + o);
e.logError(o);
i && i.apply(void 0, o);
};
}
}
}, {
key: "logError",
value: function(e) {
if (e) for (var t in e) cc.log(t, e[t]);
}
} ]);
return e;
}();
t.exports = r;
cc._RF.pop();
}, {} ],
EventManager: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "8ebc2vnw+VCAZRRb2NEXOlx", "EventManager");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = function() {
function e() {
this.m_rootEventManagerNode = new cc.Node();
}
e.prototype.on = function(e, t, i, o) {
return this.m_rootEventManagerNode.on(e, t, i, o);
};
e.prototype.off = function(e, t, i, o) {
this.m_rootEventManagerNode.off(e, t, i, o);
};
e.prototype.once = function(e, t, i, o) {
return this.m_rootEventManagerNode.once(e, t, i, o);
};
e.prototype.targetOff = function(e) {
this.m_rootEventManagerNode.targetOff(e);
};
e.prototype.dispatchEvent = function(e) {
this.m_rootEventManagerNode.dispatchEvent(e);
};
e.prototype.emit = function(e, t, i, o, n, r) {
this.m_rootEventManagerNode.emit(e, t, i, o, n, r);
};
e.prototype.hasEventListener = function(e) {
return this.m_rootEventManagerNode.hasEventListener(e);
};
e.Instance = new e();
return e;
}();
i.default = o;
cc._RF.pop();
}, {} ],
ExchangeGuide: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "4c5563lEjtH/bgIoXn1m7wj", "ExchangeGuide");
var o = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("../Script/LocalStorage/LocalStorageUtil"));
var n = e("UISettingModel"), r = e("CommonEventName");
cc.Class({
extends: cc.Component,
properties: {
arrowsNode: cc.Node,
tip: cc.Node,
_callback: null
},
onLoad: function() {
o.default.saveExchangeGuide();
n.isShowExchangeGuide = !1;
},
init: function(e, t) {
"function" == typeof t && (this._callback = t);
var i = e.convertToWorldSpaceAR(cc.v2(0, 0)), o = this.node.convertToNodeSpace(i), n = cc.instantiate(e);
if (cc.isValid(this.node)) {
this.node.addChild(n);
var r = cc.director.getScene().getChildByName("mask");
this.scheduleOnce(function() {
r.active = !1;
}, 5);
}
n.setPosition(o);
if (cc.vv.beautifulgame) {
cc.isValid(this.arrowsNode) && this.arrowsNode.setPosition(cc.v2(n.x, n.y + 70));
cc.isValid(this.tip) && this.tip.setPosition(cc.v2(n.x, n.y + 205));
} else cc.vv.souhu && cc.isValid(this.tip) && this.tip.setPosition(cc.v2(n.x - 220, n.y + 70));
cc.isValid(this.arrowsNode) && this.arrowsNode.runAction(cc.repeatForever(cc.sequence(cc.moveBy(.5, cc.v2(0, 15)), cc.moveBy(.5, cc.v2(0, -15)))));
},
clickMaskAction: function() {
cc.director.emit(r.EXCHANGE_GUIDE_END);
this._callback && this._callback();
this.node.destroy();
}
});
cc._RF.pop();
}, {
"../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
CommonEventName: "CommonEventName",
UISettingModel: "UISettingModel"
} ],
FastLogin: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "c369fKFBCdGw4m9RTJ6hQzf", "FastLogin");
var o = d(e("../../../../Script/UI/CommonPrefabMgr")), n = d(e("../../../../Script/Audio/CommonAudio")), r = d(e("../../../../Script/Audio/CommonAudioMgr")), a = d(e("../../../../Script/LocalStorage/LocalStorageUtil")), s = d(e("../../../../Script/UserManager")), c = d(e("../../../../Script/BaseFormat")), l = d(e("../../../../Script/ProjectConfig")), u = d(e("./../../../../Script/GameFramework/ApiMgr"));
function d(e) {
return e && e.__esModule ? e : {
default: e
};
}
e("CommonEventName");
var f = e("Language"), h = e("AutoLoginUtil"), p = e("LauncherModel"), g = e("LoginPrefabManager"), m = e("DialogUtil"), y = e("AutoLogin"), b = e("LauncherRes");
cc.Class({
extends: cc.Component,
properties: {
editUserAccount: cc.EditBox,
editUserCode: cc.EditBox,
btnGetCode: cc.Node,
btnGetCodeTimer: cc.Node,
labelGetCodeTimer: cc.Label,
passLoginBtn: cc.Node,
btnLogin: cc.Node,
historyArrowButton: {
default: null,
type: cc.Node
},
historyAccountFrame: {
default: null,
type: cc.Node
},
historyAccountItem: {
default: [],
type: cc.Node
},
historyAccountItemLine: {
default: [],
type: cc.Node
},
historyAccountData: [],
editTextFont: cc.Font
},
showDialog: function() {
this.initData();
var e = {
type: "sprite",
content: b.pathPhoto.fast_login_title
};
m.addNormalDialog(this.node, e, {
bindDialog: !0
});
},
initData: function() {
this.isCodeCounting = !1;
this.codeTimer = 0;
var e = a.default.getLastLoginAccount();
if (e) {
c.default.isPhoneNumber(e) && (this.editUserAccount.string = e);
}
this.initHistoryAccountViews();
this.historyAccountFrame.active = !1;
this.loadKeyChainAccounts();
this.bindHistoryData();
this.initDefaultAccounts();
},
loadKeyChainAccounts: function() {
this.historyAccountData = h.loadPhoneNumberAccounts();
},
initHistoryAccountViews: function() {
for (var e = this, t = function(t) {
e.historyAccountItemLine[t] = e.historyAccountFrame.getChildByName("item_line_" + t);
e.historyAccountItem[t] = e.historyAccountFrame.getChildByName("account_item" + t);
e.historyAccountItem[t].getChildByName("account_item_click").on("touchend", function() {
e.onHistoryItemClicked(t);
});
e.historyAccountItem[t].getChildByName("account_btn_delete").on("touchend", function() {
e.onHistoryItemDelete(t);
});
}, i = 0; i < 3; i++) t(i);
},
bindHistoryData: function() {
if (this.historyAccountData.length <= 0) {
this.historyArrowButton.active = !1;
this.historyAccountFrame.active = !1;
} else {
this.historyArrowButton.active = !0;
var e = this.historyAccountData[0];
if (e && 11 == e[2].length) {
this.historyAccountItem[0].active = !0;
this.historyAccountItem[0].getChildByName("account_text").getComponent(cc.Label).string = e[2];
var t = this.historyAccountData[1];
if (t && 11 == t[2].length) {
this.historyAccountItem[1].active = !0;
this.historyAccountItem[1].getChildByName("account_text").getComponent(cc.Label).string = t[2];
var i = this.historyAccountData[2];
if (i && 11 == i[2].length) {
this.historyAccountItem[2].active = !0;
this.historyAccountItem[2].getChildByName("account_text").getComponent(cc.Label).string = i[2];
} else {
this.historyAccountItem[2].active = !1;
this.historyAccountItemLine[2].active = !1;
}
} else {
this.historyAccountItem[1].active = !1;
this.historyAccountItemLine[1].active = !1;
this.historyAccountItem[2].active = !1;
this.historyAccountItemLine[2].active = !1;
}
} else {
this.historyAccountItem[0].active = !1;
this.historyAccountItemLine[0].active = !1;
this.historyAccountItem[1].active = !1;
this.historyAccountItemLine[1].active = !1;
this.historyAccountItem[2].active = !1;
this.historyAccountItemLine[2].active = !1;
this.historyAccountFrame.active = !1;
}
}
},
initDefaultAccounts: function() {
if (cc.inputtingLoginPhone && 11 == cc.inputtingLoginPhone.length) this.editUserAccount.string = cc.inputtingLoginPhone; else if (!(this.historyAccountData.length <= 0)) {
var e = this.historyAccountData[0];
if (e) {
var t = e[2];
if (t) {
var i = c.default.isPhoneNumber(t);
this.editUserAccount.string = i ? t : "";
} else this.editUserAccount.string = "";
}
}
},
showHistoryView: function() {
r.default.playEffect(n.default.common.btnMusic);
this.historyAccountFrame.active = !this.historyAccountFrame.active;
},
hideHistoryView: function() {
this.historyAccountFrame.active = !1;
},
onHistoryItemClicked: function(e) {
var t = this.historyAccountData[e];
this.editUserAccount.string = t[2];
var i = t[2];
i && 11 == i.length ? cc.inputtingLoginPhone = i : cc.inputtingLoginPhone = null;
this.unschedule(this.hideHistoryView);
this.schedule(this.hideHistoryView, .1, 0, 0);
},
onHistoryItemDelete: function(e) {
this.unschedule(this.hideHistoryView);
if (this.historyAccountData.length > 1) {
var t = this.historyAccountData[e];
h.deleteAccount(t[2]);
this.removeItemFromHistoryData(t[2]);
this.bindHistoryData();
} else o.default.createToast(f.login.atLeastOneAccount);
},
removeItemFromHistoryData: function(e) {
for (var t = this.historyAccountData.length, i = [], o = 0; o < t; o++) e != this.historyAccountData[o][2] && i.push(this.historyAccountData[o]);
this.historyAccountData = i;
},
onPhoneInputStart: function() {
this.editUserAccount.fontColor = new cc.Color(183, 155, 112);
this.historyAccountData.length > 0 ? this.historyAccountFrame.active = !0 : this.historyAccountFrame.active = !1;
},
onPhoneInputing: function() {
var e = this.editUserAccount.string;
e && 11 == e.length ? cc.inputtingLoginPhone = e : cc.inputtingLoginPhone = null;
this.historyAccountFrame.active = !1;
},
onPhoneInputEnd: function() {
this.editUserAccount.fontColor = new cc.Color(255, 255, 255);
var e = this.editUserAccount.string;
a.default.saveLastLoginAccount(e);
this.schedule(this.hideHistoryView, .1, 0, 0);
},
onUserCodeStart: function() {
this.editUserCode.fontColor = new cc.Color(183, 155, 112);
},
onUserCodeEnd: function() {
this.editUserCode.fontColor = new cc.Color(255, 255, 255);
},
update: function(e) {
if (this.isCodeCounting) {
this.labelGetCodeTimer.string = f.login.wait + Math.ceil(this.codeTimer);
this.codeTimer -= e;
if (this.codeTimer < 0) {
this.isCodeCounting = !1;
this.labelGetCodeTimer.string = "";
this.btnGetCodeTimer.active = !1;
this.btnGetCode.active = !0;
}
}
},
startCodeTimer: function(e) {
this.codeTimer = e;
this.isCodeCounting = !0;
this.labelGetCodeTimer && (this.labelGetCodeTimer.string = "请等待 " + e);
this.btnGetCodeTimer && (this.btnGetCodeTimer.active = !0);
this.btnGetCode && (this.btnGetCode.active = !1);
},
onGetCode: function() {
var e = this;
l.default.clickManager(e.btnGetCode);
r.default.playEffect(n.default.common.btnMusic);
var t = p.VCODE_TARGET.LOGIN, i = this.editUserAccount.string;
if (c.default.checkUserAccount(i)) {
var a = {
target: t,
phone: i,
quick_fail: 1
};
u.default.getNewPhoneCode(a, function(t) {
e.startCodeTimer(60);
}, function(e) {
var n = e.status;
n > 0 && (31 == n ? o.default.createGraphValidCode(t, i) : 308 == n ? o.default.createToast(f.login.getCodeFast) : 106 == n ? o.default.createAlert("该手机号没有注册，请注册账号", "取消", null, "立即注册", function() {
g.createRegister();
}) : 6 == n ? o.default.createToast(f.login.accountDeviceIpBlackErrorGetCode) : o.default.createToast(f.login.getCodeloset));
});
cc.director.on("CALLBACK_VCODE_LOGIN", function() {
e.startCodeTimer(60);
});
} else ;
},
onCodeLogin: function() {
var e = this;
l.default.clickManager(e.btnLogin);
r.default.playEffect(n.default.common.btnMusic);
var t = this.editUserAccount.string, i = this.editUserCode.string;
if (c.default.checkUserAccount(t) && c.default.checkUserCode(i)) {
var d = {
phone: t,
vcode: i
};
u.default.smsLogin(d, function(i) {
a.default.saveUserDataEvent(i);
s.default.initAccount();
e.onLoginSuccess(t);
y.loadGameHallScene(!0);
m.removeNormalDialogByIns(this.node.dialog);
a.default.saveLastLoginAccount(t);
}, function(e) {
var t = e.status;
t > 0 && (106 == t ? o.default.createAlert("该手机号没有注册，请注册账号", "取消", null, "立即注册", function() {
g.createRegister();
}) : 19 == t ? o.default.createToast("验证码错误") : 6 == t ? o.default.createToast(f.login.accountDeviceIpBlackErrorGetCode) : o.default.createToast("登录失败"));
});
}
},
onLoginSuccess: function(e) {
h.addAccount(s.default.uid, s.default.token, e, null);
},
onDestroy: function() {},
onJumpPasswordLogin: function() {
l.default.clickManager(this.passLoginBtn);
r.default.playEffect(n.default.common.btnMusic);
m.removeNormalDialogByIns(this.node.dialog);
g.createPasswordLogin();
}
});
cc._RF.pop();
}, {
"../../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../../../Script/BaseFormat": "BaseFormat",
"../../../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../../../Script/ProjectConfig": "ProjectConfig",
"../../../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"../../../../Script/UserManager": "UserManager",
"./../../../../Script/GameFramework/ApiMgr": "ApiMgr",
AutoLogin: "AutoLogin",
AutoLoginUtil: "AutoLoginUtil",
CommonEventName: "CommonEventName",
DialogUtil: "DialogUtil",
Language: "Language",
LauncherModel: "LauncherModel",
LauncherRes: "LauncherRes",
LoginPrefabManager: "LoginPrefabManager"
} ],
FastPlayMgr: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "90c4aWa8DJPD73zmgfh4Sia", "FastPlayMgr");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = e("../../Script/LocalStorage/LocalStorageUtil"), n = e("../../Script/UI/CommonPrefabMgr"), r = e("../../Script/ProjectConfig"), a = e("../../Script/BaseFormat"), s = e("NewGameInfo"), c = (e("SafeBoxUIMgr"), 
e("../../Script/UserManager")), l = e("../Localization"), u = e("../../Game_Rummy/Script/Const/RummyLanguageConfig"), d = e("CommonFunction"), f = (e("GameEngineUtil"), 
e("UISettingModel")), h = (e("LauncherModel"), e("CommonRandomBg")), p = (e("TopUpUIMgr"), 
e("HallRes"), e("ComponentRes"), function() {
function e() {}
e._startGame = function(e, t, i) {
var n = r.default.getGameSceneWithGameId(e);
if (n) {
e == r.default.GAME_TYPE.RUMMY && l.default.initByGameName(u.default.GameName);
this.showLoading(n, t, i);
-1 != f.freshGuideGameIdArr.indexOf(e) && o.default.saveData("cache_game_" + e + "_guide", "true");
}
};
e.loadResource = function(t, i) {
var o = this, n = {
Hall: r.default.variable.curSkin + "/hall",
Login: r.default.variable.curSkin + "/launcher",
BrcNiuniuGame: r.default.variable.curSkin + "/niuniu",
BrcShark: r.default.variable.curSkin + "/shark",
BrcBigBattleGame: r.default.variable.curSkin + "/bigbattle",
BrcRedBlackGame: r.default.variable.curSkin + "/redblack",
BrcFlowerGame: r.default.variable.curSkin + "/brcFlower",
LandLordGame: r.default.variable.curSkin + "/landlord",
TeenPattiGame: r.default.variable.curSkin + "/TeenPatti",
RummyGame: r.default.variable.curSkin + "/rummy",
Blood: r.default.variable.curSkin + "/blood",
BloodCattle: r.default.variable.curSkin + "/bloodcattle",
PaiGowGame: r.default.variable.curSkin + "/paigow",
Slot: r.default.variable.curSkin + "/slot",
Hall_CurSkin: r.default.variable.curSkinChild + "/hall",
Login_CurSkin: r.default.variable.curSkinChild + "/launcher",
BFishing: "bfishing/necessary"
};
n[t] ? cc.loader.loadResDir(n[t], function(a, s, c) {
if (!a) {
e.resArr[t] = s;
e.urlsArr[t] = c;
}
switch (t) {
case "BrcBigBattleGame":
case "BrcRedBlackGame":
case "BrcFlowerGame":
case "BrcNiuniuGame":
case "BrcShark":
cc.loader.loadResDir(r.default.variable.curSkin + "/common/prefab/brc", function(o, n, r) {
if (!o) {
e.resArr[t] = e.resArr[t].concat(n);
e.urlsArr[t] = e.urlsArr[t].concat(r);
}
"function" == typeof i && i();
});
break;

case "LandLordGame":
case "TeenPattiGame":
case "Blood":
case "BloodCattle":
case "PaiGowGame":
var l = [ h.getDzcBgRes() ];
cc.loader.loadResArray(l, cc.SpriteFrame, function(o, n) {
if (!o) {
e.resArr[t] = e.resArr[t].concat(n);
e.urlsArr[t] = e.urlsArr[t].concat(l);
}
"function" == typeof i && i();
});
break;

case "Login":
o.loadChildResource(n, "Login_CurSkin", i);
break;

case "Hall":
o.loadChildResource(n, "Hall_CurSkin", i);
break;

default:
"function" == typeof i && i();
}
}) : "function" == typeof i && i();
};
e.loadChildResource = function(t, i, o) {
cc.vv.timi || cc.vv.yingyangshi || cc.vv.haidilao || cc.vv.xiyouji || cc.vv.wangyi ? cc.loader.loadResDir(t[i], function(t, n, r) {
if (!t) {
e.resArr[i] = n;
e.urlsArr[i] = r;
}
"function" == typeof o && o();
}) : "function" == typeof o && o();
};
e.showLoading = function(t, i, o) {
o || n.default.createCommonLoading("Loading...");
var a = this;
a.loadResource(t, function() {
a.curScene == t && console.error("loadResource curScene == sceneName = " + t);
cc.director.loadScene(t, function() {
a.curScene = t;
s.marqueeGameId = a.getGameIdByName(t);
i && i();
if ("Hall" != t) {
var o = e.resArr[r.default.SCENE_NAME.GAME_HALL], n = e.resArr.Hall_CurSkin;
if (o) for (var c in o) {
var l = o[c];
cc.loader.releaseAsset(l);
}
if (n) for (var c in n) {
l = n[c];
cc.loader.releaseAsset(l);
}
cc.sys.garbageCollect();
}
});
});
"Launcher" != t && "Hall" != t && (r.default.isEnterGame || (r.default.isEnterGame = !0));
};
e.getGameIdByName = function(e) {
var t = -1;
switch (e) {
case "Launcher":
t = r.default.GAME_TYPE.LAUNCHER;
break;

case "Hall":
t = r.default.GAME_TYPE.GAME_HALL;
break;

case "GameRoom":
t = r.default.GAME_TYPE.GAME_ROOM;
break;

case "WaterMargin":
t = r.default.GAME_TYPE.WATERMARGIN;
break;

case "FishGame":
t = r.default.GAME_TYPE.FISH;
break;

case "LandLordGame":
t = r.default.GAME_TYPE.NEWDOUDIZHU;
break;

case "TeenPattiGame":
t = r.default.GAME_TYPE.TEENPATTI;
break;

case "RummyGame":
t = r.default.GAME_TYPE.RUMMY;
break;

case "Blood":
t = r.default.GAME_TYPE.CATTLE;
break;

case "BloodCattle":
t = r.default.GAME_TYPE.BLOODCATTLE;
break;

case "BrcNiuniuGame":
t = r.default.GAME_TYPE.NEW_BAIRENNIUNIU;
break;

case "BrcFlowerGame":
t = r.default.GAME_TYPE.BRCFLOWER;
break;

case "BrcBigBattleGame":
t = r.default.GAME_TYPE.NEW_LONGHUDOU;
break;

case "BrcRedBlackGame":
t = r.default.GAME_TYPE.NEW_REDBLACK;
break;

case "BrcShark":
t = r.default.GAME_TYPE.NEW_SHARK;
break;

case "PaiGowGame":
t = r.default.GAME_TYPE.PAIGOW;
break;

case "BrcFlowerGame":
t = r.default.GAME_TYPE.BRCFLOWER;
}
return t;
};
e.startGameRestore = function(e, t) {
if (null != e && null != t) {
s.current = {
gameID: e,
room: t
};
r.default.isFishGame(e) && (s.isFishingRestore = !0);
this.runGameWithID(e, !1, void 0, !1);
}
};
e.runGameWithID = function(e, t, i, n) {
void 0 === t && (t = !1);
if (null != e) {
o.default.saveGameType(e);
e = parseInt(e);
if (0 != t) {
var r;
if (null != (r = s.getSeeRoomList(e)) && 0 != r.length) if (1 != r.length) "function" == typeof i && i(); else {
var a = r[0].enterLimitList[0];
if (this.enterGameScenceDirectly(e, a)) return;
this._startGame(e, null, n);
}
} else this._startGame(e, null, n);
}
};
e.enterGameScenceDirectly = function(e, t) {
var i = a.default.foramtGold(c.default.coin), o = a.default.foramtGold(t);
if (i < o) {
d.showNeedCoin(o);
return !0;
}
return !1;
};
e.curScene = null;
e.resArr = {};
e.urlsArr = {};
return e;
}());
i.default = p;
cc._RF.pop();
}, {
"../../Game_Rummy/Script/Const/RummyLanguageConfig": "RummyLanguageConfig",
"../../Script/BaseFormat": "BaseFormat",
"../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../Script/ProjectConfig": "ProjectConfig",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"../../Script/UserManager": "UserManager",
"../Localization": "Localization",
CommonFunction: "CommonFunction",
CommonRandomBg: "CommonRandomBg",
ComponentRes: "ComponentRes",
GameEngineUtil: "GameEngineUtil",
HallRes: "HallRes",
LauncherModel: "LauncherModel",
NewGameInfo: "NewGameInfo",
SafeBoxUIMgr: "SafeBoxUIMgr",
TopUpUIMgr: "TopUpUIMgr",
UISettingModel: "UISettingModel"
} ],
FindPassword: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "4ce07EusjxOlpkHK7X6T/5s", "FindPassword");
var o = d(e("../../../../Script/UI/CommonPrefabMgr")), n = d(e("../../../../Script/Audio/CommonAudioMgr")), r = d(e("../../../../Script/Audio/CommonAudio")), a = d(e("../../../../Script/LocalStorage/LocalStorageUtil")), s = d(e("../../../../Script/BaseFormat")), c = d(e("../../../../Script/UserManager")), l = d(e("../../../../Script/ProjectConfig")), u = d(e("./../../../../Script/GameFramework/ApiMgr"));
function d(e) {
return e && e.__esModule ? e : {
default: e
};
}
e("CommonEventName");
var f = e("Language"), h = e("AutoLoginUtil"), p = e("LauncherModel"), g = e("DialogUtil"), m = e("AutoLogin"), y = e("LauncherRes"), b = e("TrackUtil"), _ = e("GameEngineUtil"), v = e("CommonLanguage");
cc.Class({
extends: cc.Component,
properties: {
editUserAccount: cc.EditBox,
labelUserAccount: cc.Label,
editUserCode: cc.EditBox,
editUserPassword: cc.EditBox,
btnGetCode: cc.Node,
btnGetCodeTimer: cc.Node,
labelGetCodeTimer: cc.Label,
btnSubmit: cc.Node,
historyAccountData: [],
_isEditable: !1,
verycodeeditChanged: !0,
newpasswordeditChanged: !0,
hasresetpasswordsuccess: !1
},
onLoad: function() {
this.initData();
},
showDialog: function(e) {
this._isEditable = e;
var t = y.pathPhoto.find_pwd_title;
this._isEditable && (t = y.pathPhoto.find_pwd_title_new);
var i = {
type: "sprite",
content: t
};
g.addNormalDialog(this.node, i);
},
initData: function() {
this.isCodeCounting = !1;
this.codeTimer = 0;
var e = a.default.getLastLoginAccount();
if (e) {
if (s.default.isPhoneNumber(e)) {
this.editUserAccount.string = e;
this.labelUserAccount.string = e;
this.editUserAccount.node.active = !1;
this.labelUserAccount.node.active = !0;
if (this._isEditable) {
this.editUserAccount.node.active = !0;
this.labelUserAccount.node.active = !1;
}
} else {
this.editUserAccount.node.active = !0;
this.labelUserAccount.node.active = !1;
}
}
this.loadKeyChainAccounts();
this.initDefaultAccounts();
},
loadKeyChainAccounts: function() {
this.historyAccountData = h.loadPhoneNumberAccounts();
},
initDefaultAccounts: function() {
if (cc.inputtingLoginPhone && cc.inputtingLoginPhone.length >= 10) this.editUserAccount.string = cc.inputtingLoginPhone; else if (!(this.historyAccountData.length <= 0)) {
var e = this.historyAccountData[0];
if (e) {
var t = e[2];
if (t) {
var i = s.default.isPhoneNumber(t);
this.editUserAccount.string = i ? t : "";
} else this.editUserAccount.string = "";
}
}
},
onPhoneInputStart: function() {},
onPhoneInputing: function() {
var e = this.editUserAccount.string;
e && e.length >= 10 ? cc.inputtingLoginPhone = e : cc.inputtingLoginPhone = null;
},
onPhoneInputEnd: function() {
var e = this.editUserAccount.string;
a.default.saveLastLoginAccount(e);
},
onPwdInputStart: function() {},
onPwdInputting: function() {
if (this.newpasswordeditChanged) {
this.newpasswordeditChanged = !1;
_.trackEvent(b.resetpassworddialognewpasswordinputchanged);
}
},
onPwdInputEnd: function() {},
onPwdInputReturn: function() {},
update: function(e) {
if (this.isCodeCounting) {
this.labelGetCodeTimer.string = f.login.wait + Math.ceil(this.codeTimer);
this.codeTimer -= e;
if (this.codeTimer < 0) {
this.isCodeCounting = !1;
this.labelGetCodeTimer.string = "";
this.btnGetCodeTimer.active = !1;
this.btnGetCode.active = !0;
}
}
},
startCodeTimer: function(e) {
this.codeTimer = e;
this.isCodeCounting = !0;
this.labelGetCodeTimer && (this.labelGetCodeTimer.string = "请等待 " + e);
this.btnGetCodeTimer && (this.btnGetCodeTimer.active = !0);
this.btnGetCode && (this.btnGetCode.active = !1);
},
onGetCode: function() {
var e = this;
_.trackEvent(b.resetpassworddialogverycodebtnclick);
l.default.clickManager(e.btnGetCode);
n.default.playEffect(r.default.common.btnMusic);
var t = p.VCODE_TARGET.RESET_PWD, i = this.editUserAccount.string;
if (s.default.checkUserAccount(i)) {
var a = {
target: t,
phone: i,
quick_fail: 1
};
u.default.getNewPhoneCode(a, function(t) {
e.startCodeTimer(60);
}, function(e) {
if (e) {
2006 == e.status ? o.default.createToast(v.currentlanguage.net.phoneerr) : e.msg && o.default.createToast(e.msg);
}
});
cc.director.on("CALLBACK_VCODE_RESET_PWD", function() {
e.startCodeTimer(60);
});
} else ;
},
onSubmit: function() {
var e = this;
_.trackEvent(b.resetpassworddialogconfirmbtnclick);
l.default.clickManager(e.btnSubmit);
n.default.playEffect(r.default.common.btnMusic);
var t = this.editUserAccount.string, i = this.editUserCode.string, a = this.editUserPassword.string;
if (s.default.checkUserAccount(t) && s.default.checkUserCode(i) && s.default.checkUserPassword(a)) {
var c = {
phone: t,
vcode: i,
new_password: a
};
u.default.changeUserInfo(c, function(i) {
e.hasresetpasswordsuccess = !0;
o.default.createToast(v.currentlanguage.resetpassword.resetpasswordsuccess);
h.addAccount(null, null, t, a);
g.removeNormalDialog();
e.pwdLogin(t, a);
}, function(e) {
e && e.msg && o.default.createToast(e.msg);
});
}
},
pwdLogin: function(e, t) {
var i = {
phone: e,
password: t
};
u.default.passwordLogin(i, function(e) {
a.default.saveUserDataEvent(e);
c.default.initAccount();
m.loadGameHallScene(!0);
}, function(e) {});
},
verycodeinputchanged: function() {
if (this.verycodeeditChanged) {
this.verycodeeditChanged = !1;
_.trackEvent(b.resetpassworddialogveryinputchanged);
}
},
onDestroy: function() {
this.hasresetpasswordsuccess || _.trackEvent(b.resetpassworddialogclosebtnclick);
}
});
cc._RF.pop();
}, {
"../../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../../../Script/BaseFormat": "BaseFormat",
"../../../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../../../Script/ProjectConfig": "ProjectConfig",
"../../../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"../../../../Script/UserManager": "UserManager",
"./../../../../Script/GameFramework/ApiMgr": "ApiMgr",
AutoLogin: "AutoLogin",
AutoLoginUtil: "AutoLoginUtil",
CommonEventName: "CommonEventName",
CommonLanguage: "CommonLanguage",
DialogUtil: "DialogUtil",
GameEngineUtil: "GameEngineUtil",
Language: "Language",
LauncherModel: "LauncherModel",
LauncherRes: "LauncherRes",
TrackUtil: "TrackUtil"
} ],
"Fishing.proto": [ function(e, t, i) {
"use strict";
cc._RF.push(t, "61cd39qDv5GnrgdaYhq6Ob6", "Fishing.proto");
t.exports = 'syntax = "proto3";\npackage msg;\n\n//id=99\nmessage Pong {\n    int64 Timestamp = 1;\n}\n\nenum STATUS {\n    OK = 0;\n    UNKNOWN_ERROR = 1; // 未知错误\n    NOT_AUTH = 2; // 需要重新认证\n    TOKEN_INVALID = 3; // token错误\n    INSUFFICIENT = 4; // 余额不足\n    REDIRECT = 5; // 需要用户重连到另外的服务器\n    IDLE_TIMEOUT = 6; //闲置时间过长，提示用户，客户端开始倒计时\n    DUP_LOGIN = 7; //在别处登录\n    PARAM_ERROR = 8; //参数错误\n}\n\nmessage Position {\n    int32 x = 1;\n    int32 y = 2;\n}\n\nmessage TraceInfo {\n    int32 ID = 1;\n    int32 Kind = 2; //0: 原路径，1：表明垂直镜像，2：表明水平和垂直镜像，3：表明水平镜像\n    int32 OffsetX = 3; //x轴偏移量\n    int32 OffsetY = 4; //y轴偏移量\n}\n\n//后缀ST表示这是一个状态，EV表示这是一个事件\n//错误信息，id: 100\nmessage ErrorST {\n    int64 Timestamp = 1; //毫秒级时间戳，下同\n    STATUS Status = 2;\n    string Msg = 3;\n}\n\n//用户信息，id：101，目前不会直接推送，是下面的数据结构的组成部分\nmessage UserST {\n    int64 Timestamp = 1;\n    uint64 ID = 2;\n    string UserName = 3;\n    string Avatar = 4;\n    bool Gender = 5;\n    int64 Credit = 6;\n    uint64 RoomNo = 7;\n    int32 ChairNo = 8;\n    int32 Angle = 9; //用户攻击角度，负值表示未攻击\n    uint64 LockFishID = 10;\n    int32 Bullet = 11;\n    int64 TTL = 12; //用户ttl\n    int64 InAt = 13; //用户进入房间时间\n    int64 LastActiveAt = 14; //用户最后活跃时间\n    int32 UnSyncedWin = 15; //未落库的金币数\n    string ServerAddr = 16; //用户实际连接的服务器\n    int32 Master = 17;      //如果为-1，表示为正常用户; 否则表示是自由用户，其值是负责计算的客户端座位号\n}\n\n// 以固定的频率向客户端广播所在房间消息；或：仅入场的时候广播一次，后续靠各类事件驱动\n//房间信息, id:102\nmessage RoomST {\n    int64 Timestamp = 1;\n    uint64 ID = 2;\n    map<int32, UserST> Users = 3; //由于protobuf不允许repeated里面有nil值，这里只能用map，key是用户座位号\n    int64 CreatedAt = 4; //房间创建时间\n    map<uint64, Fish> LiveFishes = 5; //目前活着的鱼，key是id\n    int32 Kind = 6; //房间类型\n    int32 TidalSceneID = 7; //鱼潮场景ID，如果在鱼潮场景中，非0，否则为0\n}\n\n//鱼的信息，inner class\nmessage Fish {\n    int64 Timestamp = 1; //生成时间\n    uint64 ID = 2;\n    int32 ResourceID = 3; //资源ID\n    int32 Kind = 4; //鱼的种类\n    TraceInfo Trace = 5; //轨迹的枚举，5和6只有一个生效，5为null则6生效\n    repeated Position TracePoints = 6; //轨迹详情\n    int64 AppearAt = 7; //应当出现的时间\n    int32 Duration = 8; //停留时间，单位是毫秒，下同\n    int32 ChainType = 9; //关联种类，1：炸弹关联，2：一网打尽关联\n    uint64 ChainID = 10; //关联的ID\n}\n\n//普通鱼，一次性生成多只，id：103\nmessage FishST {\n    int64 Timestamp = 1;\n    repeated Fish fishes = 2;\n}\n\n// 鱼潮信息，id:104\nmessage FishTidalST {\n    int64 Timestamp = 1;\n    uint64 ID = 2; //本次鱼潮标识，无意义\n    repeated Fish fishes = 3;\n    int64 AppearAt = 4;\n    int32 Duration = 5;\n    int32 SceneID = 6; //场景ID\n}\n// 击杀事件，id:105\nmessage KillFishEV {\n    int64 Timestamp = 1;\n    uint64 ID = 2;\n    int32 ChairNo = 3;\n    int32 Prize = 4;\n    int32 Odds = 5; //倍率\n    int64 Credit = 6;\n    repeated uint64 ChainFishIDs = 7; //导致其他鱼死亡（如果是炸弹鱼的话）\n}\n\n// 以下事件可以使用状态同步替代\n// 用户开火，id：106\nmessage UserFireEV {\n    int64 Timestamp = 1;\n    int32 ChairNo = 2; //座位号\n    int32 Angle = 3;\n    int32 Bullet = 4;\n    uint64 LockFishID = 5; //为0表示未锁定\n    int64 Credit = 6; //用户射击后剩余金额\n}\n// 用户解除锁定，id：107\nmessage UserUnLockEV {\n    int64 Timestamp = 1;\n    int32 ChairNo = 2;\n}\n// 用户离开房间，id：108\nmessage UserOutEV {\n    int64 Timestamp = 1;\n    int32 ChairNo = 2;\n}\n// 用户进入房间，id：109\nmessage UserInEV {\n    UserST user = 1;\n}\n//用户切换炮台，id:110\nmessage UserSwitchBulletEV {\n    int64 Timestamp = 1;\n    int32 ChairNo = 2;\n    int32 Bullet = 3;\n}\n//切换master，id:111，收到此推送的客户端负责上报该AI的行为\nmessage SwitchMasterEV {\n    int64 Timestamp = 1;\n    int32 ChairNo = 2;\n    int32 Master = 3;\n}\n// 对时，服务端存活探测探测, id=0\nmessage Ping {\n    int64 Timestamp = 1;\n}\n//用户认证，第一条信息，id:1，认证完成后返回RoomST，并向房间广播UserInEV\nmessage AuthReq {\n    int64 Timestamp = 1;\n    uint64 UserID = 2;\n    string Token = 3;\n    int32 RoomKind = 4; //1: 0.01元场，2：0.2元场，3：1元场，4：10元场\n    int32 Version = 5; //客户端版本，目前最新为1\n}\n\n//用户离开房间，id:2\n//ChairNo用来区分是自己的，还是自由用户的行为，下同\nmessage UserOutReq {\n    int64 Timestamp = 1;\n    int32 ChairNo = 2;\n}\n\n//用户开火/锁定，id:3\nmessage UserFireReq {\n    int64 Timestamp = 1;\n    int32 Angle = 2;\n    int32 Bullet = 3;\n    uint64 LockFishID = 4;\n    int32 ChairNo = 5;\n}\n//用户解除锁定, id:4\nmessage UserUnLockReq {\n    int64 Timestamp = 1;\n    int32 ChairNo = 2;\n}\n\n//用户自由射击命中请求（锁定情况下不必发送，认为必中），id:5\n//ChairNo用来区分是自己的还是自由用户的\nmessage UserHitFishReq {\n    int64 Timestamp = 1;\n    uint64 FishID = 2;\n    int32 Bullet = 3;\n    int32 ChairNo = 4;\n    int64 BulletID = 5;  //即fire中的Timestamp\n}\n\n//用户切换炮台请求，id:6\nmessage UserSwitchBulletReq {\n    int64 Timestamp = 1;\n    int32 Bullet = 2;\n    int32 ChairNo = 3;\n}\n';
cc._RF.pop();
}, {} ],
FormalUser: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "99722B5Co5I/YLEtg1eWfK8", "FormalUser");
var o = u(e("../../Script/UI/CommonPrefabMgr")), n = u(e("../../Script/Audio/CommonAudio")), r = u(e("../../Script/Audio/CommonAudioMgr")), a = u(e("../../Script/LocalStorage/LocalStorageUtil")), s = u(e("../../Script/UserManager")), c = u(e("../../Script/ProjectConfig")), l = u(e("./../../Script/GameFramework/ApiMgr"));
function u(e) {
return e && e.__esModule ? e : {
default: e
};
}
var d = e("CommonEventName"), f = e("ValidCodeEnum"), h = e("AutoLoginUtil"), p = e("FormatCheckUtil"), g = e("DialogUtil"), m = e("LoginPrefabManager"), y = e("LauncherRes");
e("GameEngineUtil"), e("FullScreenAdapter");
cc.Class({
extends: cc.Component,
properties: {
phoneNumberEdit: cc.EditBox,
validCodeEdit: cc.EditBox,
pwdEdit: cc.EditBox,
getCodeNode: cc.Node,
validCodePrefab: cc.Prefab
},
showDialog: function() {
if (cc.vv.beautifulgame) {
var e = {
type: "sprite",
content: y.pathPhoto.upgrade_ac_title
};
g.addNormalDialog(this.node, e);
} else {
var t = c.default.getSceneCanvas();
cc.isValid(t) && t.addChild(this.node, c.default.layerZOrder.TopFrame);
}
var i = a.default.getFormalUserAccount();
i && (this.phoneNumberEdit.string = i);
this.validCodeNode = cc.instantiate(this.validCodePrefab);
cc.isValid(this.getCodeNode) && this.getCodeNode.addChild(this.validCodeNode);
this.validCodeNode.getComponent("PhoneValidCode").init(this.onGetPhoneCodeParam.bind(this));
},
onGetPhoneCodeParam: function() {
return {
target: f.target.UPGRADE,
phone: this.phoneNumberEdit.string,
quick_fail: 1
};
},
onFormalUserClick: function() {
var e = this;
r.default.playEffect(n.default.common.btnMusic);
if (s.default.is_formal) o.default.createToast("您已经是正式账号了！"); else {
var t = e.phoneNumberEdit ? e.phoneNumberEdit.string : "", i = e.validCodeEdit ? e.validCodeEdit.string : "", u = a.default.readDeviceID(), f = e.pwdEdit.string;
if (p.checkPhoneNumber(t) && p.checkValidCode(i) && p.checkPassword(f)) {
var m = {
device_id: u,
phone: t,
vcode: i,
password: f
};
l.default.formalUser(m, function(i) {
o.default.createToast("恭喜您升级成功啦！");
s.default.is_formal = !0;
c.default.isFormalUser = !0;
a.default.saveData("is_youke", "false");
a.default.saveLastLoginAccount(t);
h.addAccount(s.default.uid, s.default.token, t, f);
h.setUpgradeFormalUser();
cc.director.emit(d.refreshUserInfo);
cc.vv.beautifulgame ? g.removeNormalDialog() : cc.vv.souhu && e.closeAction();
}, function(e) {
19 === e.status ? o.default.createToast("验证码错误") : 104 === e.status ? o.default.createToast("手机号已经被注册") : o.default.createToast("未知错误，请稍后再试");
});
}
}
},
onCloseClick: function() {
n.default.common && n.default.common.btnMusic && r.default.playEffect(n.default.common.btnMusic);
this.closeAction();
},
closeAction: function() {
cc.isValid(this.node) && (this.node.getComponent("CommonDialog") ? this.node.getComponent("CommonDialog").dismiss() : this.node && this.node.runAction(cc.sequence(cc.scaleTo(.15, 1.1).easing(cc.easeSineOut()), cc.spawn(cc.fadeOut(.1), cc.scaleTo(.1, 0)), cc.callFunc(function() {
this.destroy();
}, this.node))));
},
onPwdLoginClick: function(e) {
this.onCloseClick();
c.default.clickManager(e.target);
m.createPasswordLogin();
}
});
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../Script/ProjectConfig": "ProjectConfig",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"../../Script/UserManager": "UserManager",
"./../../Script/GameFramework/ApiMgr": "ApiMgr",
AutoLoginUtil: "AutoLoginUtil",
CommonEventName: "CommonEventName",
DialogUtil: "DialogUtil",
FormatCheckUtil: "FormatCheckUtil",
FullScreenAdapter: "FullScreenAdapter",
GameEngineUtil: "GameEngineUtil",
LauncherRes: "LauncherRes",
LoginPrefabManager: "LoginPrefabManager",
ValidCodeEnum: "ValidCodeEnum"
} ],
FormatCheckUtil: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "b8df2KtQrlMQ7EdAMPkU1/1", "FormatCheckUtil");
var o = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}(), n = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("../../Script/UI/CommonPrefabMgr"));
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var a = e("CommonLanguage"), s = function() {
function e() {
r(this, e);
}
o(e, null, [ {
key: "checkPhoneNumber",
value: function(e) {
if (!/^[0-9]{10,15}$/.test(e)) {
n.default.createToast(a.currentlanguage.login.invalidPhone);
return !1;
}
return !0;
}
}, {
key: "checkValidCode",
value: function(e) {
if (e.length < 5) {
n.default.createToast(a.currentlanguage.login.invalidCode);
return !1;
}
return !0;
}
}, {
key: "checkPassword",
value: function(e) {
if (!/^[a-zA-Z0-9]{6,20}$/.test(e)) {
n.default.createToast(a.currentlanguage.login.passwordRuleError);
return !1;
}
return !0;
}
}, {
key: "checkMail",
value: function(e) {
if (!/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z0-9]{2,})$/.test(e)) {
n.default.createToast(a.currentlanguage.usercenter.emailerror);
return !1;
}
return !0;
}
}, {
key: "checkNameLengh",
value: function(e) {
var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 15, i = 0;
if (e) {
if (e.length <= t) return !0;
for (var o = 0; o < e.length; o++) e.charCodeAt(o), i++;
}
return i < t;
}
}, {
key: "isIntegerNumber",
value: function(e) {
return !!/^[0-9]*$/.test(e);
}
} ]);
return e;
}();
t.exports = s;
cc._RF.pop();
}, {
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
CommonLanguage: "CommonLanguage"
} ],
FullScreenAdapter: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "475f7g22y5GMLkc8BjhXztp", "FullScreenAdapter");
var o = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}(), n = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("../../Script/ProjectConfig"));
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var a = function() {
function e() {
r(this, e);
}
o(e, null, [ {
key: "applyHorizon",
value: function(e) {
if (e && cc.isValid(e)) {
var t = e.getComponent(cc.Widget);
if (!t) {
e.addComponent(cc.Widget);
t = e.getComponent(cc.Widget);
}
t.target = n.default.getSceneCanvas();
t.isAlignLeft = !0;
t.left = 0;
t.isAlignRight = !0;
t.right = 0;
t.isAlignTop = !0;
t.top = 0;
t.isAlignBottom = !0;
t.bottom = 0;
t.alignMode = cc.Widget.AlignMode.ONCE;
}
}
} ]);
return e;
}();
t.exports = a;
cc._RF.pop();
}, {
"../../Script/ProjectConfig": "ProjectConfig"
} ],
GameEngineUtil: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "c3e1bwjQUFMkJetar+6S7CK", "GameEngineUtil");
var o, n, r = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}(), a = c(e("../LocalStorage/LocalStorageUtil")), s = c(e("../../Script/ProjectConfig"));
function c(e) {
return e && e.__esModule ? e : {
default: e
};
}
function l(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var u = e("CommonEventName"), d = e("ThirdH5Helper"), f = (n = o = function() {
function e() {
l(this, e);
}
r(e, null, [ {
key: "init",
value: function() {
s.default.variable.network = 1;
s.default.variable.nativeVersion = 0;
}
}, {
key: "quitGame",
value: function() {
if (cc.sys.isNative) if (cc.sys.os == cc.sys.OS_ANDROID) {
jsb.reflection.callStaticMethod("com/util/EngineUtil", "quitGame", "()V");
} else if (cc.sys.os == cc.sys.OS_IOS) {
jsb.reflection.callStaticMethod("EngineUtil", "quitGame");
}
}
}, {
key: "startWatchNetWorkState",
value: function() {
if (cc.sys.isNative) if (cc.sys.os == cc.sys.OS_ANDROID) {
jsb.reflection.callStaticMethod("com/util/EngineUtil", "startWatchNetWorkState", "()V");
} else if (cc.sys.os == cc.sys.OS_IOS) {
jsb.reflection.callStaticMethod("EngineUtil", "startWatchNetWorkState");
}
}
}, {
key: "isNetworkAvailable",
value: function() {
var e = 1;
if (cc.sys.isNative) if (cc.sys.os == cc.sys.OS_ANDROID) {
e = jsb.reflection.callStaticMethod("com/util/EngineUtil", "isNetworkAvailable", "()Z");
this.nativeLog("GameEngineUtil", "isNetworkAvailable: " + e);
} else if (cc.sys.os == cc.sys.OS_IOS) {
e = jsb.reflection.callStaticMethod("EngineUtil", "isNetworkAvailable");
}
s.default.variable.network = e;
return s.default.variable.network;
}
}, {
key: "getPackageName",
value: function() {
if (!cc.sys.isNative) return "com.gold.teenpatti";
if (cc.sys.os == cc.sys.OS_ANDROID) {
return jsb.reflection.callStaticMethod("com/util/EngineUtil", "getPackageName", "()Ljava/lang/String;");
}
if (cc.sys.os == cc.sys.OS_IOS) {
return jsb.reflection.callStaticMethod("EngineUtil", "getPackageName");
}
}
}, {
key: "getVersionName",
value: function() {
if (!cc.sys.isNative) return "1.4.1";
if (cc.sys.os == cc.sys.OS_ANDROID) {
return jsb.reflection.callStaticMethod("com/util/EngineUtil", "getVersionName", "()Ljava/lang/String;");
}
if (cc.sys.os == cc.sys.OS_IOS) {
return jsb.reflection.callStaticMethod("EngineUtil", "getVersionName");
}
}
}, {
key: "openUrlByGameCity",
value: function(e) {
if (cc.sys.isNative) if (cc.sys.os == cc.sys.OS_ANDROID) {
jsb.reflection.callStaticMethod("com/util/EngineUtil", "openUrlByGameCity", "(Ljava/lang/String;)V", "" + e);
} else if (cc.sys.os == cc.sys.OS_IOS) {
jsb.reflection.callStaticMethod("EngineUtil", "openUrlByGameCity:", e);
}
}
}, {
key: "openUrlByDefaultBrowser",
value: function(e) {
if (cc.sys.isNative) {
if (cc.sys.os == cc.sys.OS_ANDROID) {
jsb.reflection.callStaticMethod("com/util/EngineUtil", "openUrlByDefaultBrowser", "(Ljava/lang/String;)V", "" + e);
} else if (cc.sys.os == cc.sys.OS_IOS) {
jsb.reflection.callStaticMethod("EngineUtil", "openUrlByDefaultBrowser:", e);
}
} else window.open(e, "_blank");
}
}, {
key: "UpdateNewVersionApk",
value: function(e, t) {
if (cc.sys.isNative) {
if (cc.sys.os == cc.sys.OS_ANDROID) {
jsb.reflection.callStaticMethod("com/util/EngineUtil", "UpdateNewVersionApk", "(Ljava/lang/String;Ljava/lang/String;)V", "" + e, "" + t);
} else if (cc.sys.os == cc.sys.OS_IOS) {
jsb.reflection.callStaticMethod("EngineUtil", "UpdateNewVersionApk:", t, e, t);
}
} else window.open(t, "_blank");
}
}, {
key: "openUrlBannerWebView",
value: function(e, t) {
if (cc.sys.isNative) {
if (cc.sys.os == cc.sys.OS_ANDROID) {
jsb.reflection.callStaticMethod("com/util/EngineUtil", "openUrlByaBrowser", "(Ljava/lang/String;Ljava/lang/String;)V", "" + e, "" + t);
} else if (cc.sys.os == cc.sys.OS_IOS) {
t = "" + t;
jsb.reflection.callStaticMethod("EngineUtil", "openUrlBannerWebView:direction:", e, t);
}
} else window.open(e, "_blank");
}
}, {
key: "openUrlByH5Browser",
value: function(e) {
var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "true", i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "";
cc.director.emit(u.MAKE_HIDE_GAME);
if (cc.sys.isNative) {
cc.audioEngine.pauseAll();
if (s.default.variable.nativeVersion >= 11) {
if (cc.sys.os == cc.sys.OS_ANDROID) {
jsb.reflection.callStaticMethod("com/util/EngineUtil", "openUrlByPayBrowser", "(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V", "" + e, t, i);
} else if (cc.sys.os == cc.sys.OS_IOS) if (0 == s.default.variable.vestVersion) {
jsb.reflection.callStaticMethod("EngineUtil", "openUrlByPayBrowser:isLandscape:requestCode:", e, t, i);
} else {
jsb.reflection.callStaticMethod("EngineUtil", "openUrlByBayBrowser:isLandscape:requestCode:", e, t, i);
}
} else if (cc.sys.os == cc.sys.OS_ANDROID) {
jsb.reflection.callStaticMethod("com/util/EngineUtil", "openUrlByH5Browser", "(Ljava/lang/String;)V", "" + e);
} else if (cc.sys.os == cc.sys.OS_IOS) {
jsb.reflection.callStaticMethod("EngineUtil", "openUrlByH5Browser:", e);
}
} else window.open(e, "_blank");
}
}, {
key: "isIOSWebView",
value: function() {
return !!window.webkit && (!!window.webkit.messageHandlers && !!window.webkit.messageHandlers.ibc);
}
}, {
key: "showCloseBtnBySendMsg",
value: function() {
e.isIOSWebView() ? window.webkit.messageHandlers.ibc.postMessage({
action: "show_close"
}, "*") : window.abc && window.abc.show_close();
}
}, {
key: "openUrlByH5BrowserHasClose",
value: function(e, t, i) {
d.isEbetGame(e) ? this.openUrlByH5BrowserHasCloseByEbet(e, t, i) : d.isIMCGGame(e) && this.openUrlByH5BrowserHasCloseByIMCG(e, t, i);
}
}, {
key: "openUrlByH5BrowserHasCloseByEbet",
value: function(t, i, o) {
var n = d.getGameScreenOrientation(t);
if (cc.sys.isNative) if (s.default.variable.nativeVersion < 13) if (cc.sys.os == cc.sys.OS_ANDROID) e.openUrlByH5Browser(i, n, e.H5_REQUEST_CODE.GAME_EBET); else if (o) {
var r = o + "?ebetUrl=" + encodeURIComponent(i);
e.openUrlByH5Browser(r, n, e.H5_REQUEST_CODE.GAME_EBET);
} else e.openUrlByH5Browser(i, n, e.H5_REQUEST_CODE.GAME_EBET); else e.openUrlByH5Browser(i, n, e.H5_REQUEST_CODE.GAME_EBET); else e.openUrlByH5Browser(i, n, e.H5_REQUEST_CODE.GAME_EBET);
}
}, {
key: "openUrlByH5BrowserHasCloseByIMCG",
value: function(t, i, o) {
var n = d.getGameScreenOrientation(t);
if (cc.sys.isNative) if (s.default.variable.nativeVersion < 16) if (cc.sys.os == cc.sys.OS_ANDROID) e.openUrlByH5Browser(i, n, e.H5_REQUEST_CODE.GAME_EBET); else if (o) {
var r = o + "?ebetUrl=" + encodeURIComponent(i);
e.openUrlByH5Browser(r, n, e.H5_REQUEST_CODE.GAME_EBET_IOS_15);
} else e.openUrlByH5Browser(i, n, e.H5_REQUEST_CODE.GAME_EBET); else e.openUrlByH5Browser(i, n, e.H5_REQUEST_CODE.GAME_EBET); else e.openUrlByH5Browser(i, n, e.H5_REQUEST_CODE.GAME_EBET);
}
}, {
key: "getGameUrlByH5Url",
value: function(e, t) {
return e;
}
}, {
key: "openNativeApplePay",
value: function(e, t, i) {
if (cc.sys.isNative && cc.sys.os == cc.sys.OS_IOS) {
jsb.reflection.callStaticMethod("EngineUtil", "openNativeApplePay:userId:token:", e.toString(), t.toString(), i.toString());
}
}
}, {
key: "openUrlByWxMiniProgram",
value: function(e) {
if (cc.sys.isNative) if (cc.sys.os == cc.sys.OS_ANDROID) {
jsb.reflection.callStaticMethod("com/util/EngineUtil", "openUrlByWxMiniProgram", "(Ljava/lang/String;)V", JSON.stringify(e));
} else if (cc.sys.os == cc.sys.OS_IOS) {
jsb.reflection.callStaticMethod("EngineUtil", "openUrlByWxMiniProgram:", JSON.stringify(e));
}
}
}, {
key: "openNativeAliBay",
value: function(e) {
if (cc.sys.isNative) if (cc.sys.os == cc.sys.OS_ANDROID) {
jsb.reflection.callStaticMethod("com/util/EngineUtil", "openNativeAliBay", "(Ljava/lang/String;)V", "" + e);
} else if (cc.sys.os == cc.sys.OS_IOS) {
jsb.reflection.callStaticMethod("EngineUtil", "openNativeAliBay:", e);
}
}
}, {
key: "openAlbum",
value: function() {
if (cc.sys.isNative) if (cc.sys.os == cc.sys.OS_ANDROID) {
jsb.reflection.callStaticMethod("com/util/EngineUtil", "openAlbum", "()V");
} else if (cc.sys.os == cc.sys.OS_IOS) {
jsb.reflection.callStaticMethod("EngineUtil", "openAlbum");
}
}
}, {
key: "getVersionCode",
value: function() {
if (!cc.sys.isNative) return 5;
if (cc.sys.os == cc.sys.OS_ANDROID) {
return jsb.reflection.callStaticMethod("com/util/EngineUtil", "getVersionCode", "()Ljava/lang/String;");
}
if (cc.sys.os == cc.sys.OS_IOS) {
return jsb.reflection.callStaticMethod("EngineUtil", "getVersionCode");
}
}
}, {
key: "getChannel",
value: function() {
if (!cc.sys.isNative) return "2ykfbo1";
if (cc.sys.os == cc.sys.OS_ANDROID) {
return jsb.reflection.callStaticMethod("com/util/EngineUtil", "getChannel", "()Ljava/lang/String;");
}
if (cc.sys.os == cc.sys.OS_IOS) {
return jsb.reflection.callStaticMethod("EngineUtil", "getChannel");
}
}
}, {
key: "changeUserAvatar",
value: function(e) {
if (cc.sys.isNative) if (cc.sys.os == cc.sys.OS_ANDROID) {
jsb.reflection.callStaticMethod("com/util/EngineUtil", "changeUserAvatar", "(I)V", e);
} else if (cc.sys.os == cc.sys.OS_IOS) {
jsb.reflection.callStaticMethod("EngineUtil", "changeUserAvatar:", e);
}
}
}, {
key: "screenShotAction",
value: function(e) {
if (cc.sys.isNative) if (cc.sys.os == cc.sys.OS_ANDROID) {
var t = "com/util/EngineUtil", i = "screenShotAction";
jsb.reflection.callStaticMethod(t, i, "(Ljava/lang/String;)V", "" + e);
} else if (cc.sys.os == cc.sys.OS_IOS) {
t = "EngineUtil", i = "screenShotWithPayTypeAction:";
jsb.reflection.callStaticMethod(t, i, e);
}
}
}, {
key: "joinQQGroup",
value: function() {
if (cc.sys.isNative) if (cc.sys.os == cc.sys.OS_ANDROID) {
jsb.reflection.callStaticMethod("com/util/EngineUtil", "joinQQGroup", "()V");
} else if (cc.sys.os == cc.sys.OS_IOS) {
jsb.reflection.callStaticMethod("EngineUtil", "joinQQGroup");
}
}
}, {
key: "getDeviceID",
value: function() {
var e = null;
if (cc.sys.isNative) {
if (cc.sys.os == cc.sys.OS_ANDROID) {
e = jsb.reflection.callStaticMethod("com/util/EngineUtil", "getDeviceID", "()Ljava/lang/String;");
} else if (cc.sys.os == cc.sys.OS_IOS) {
e = jsb.reflection.callStaticMethod("EngineUtil", "getDeviceID");
}
} else e = this.createDeviceID();
(!e || e.length < 10 || "02:00:00:00:00:00" === e) && (e = this.createDeviceID());
return e;
}
}, {
key: "createDeviceID",
value: function() {
for (var e = "w"; e.length < 32; ) {
var t = 1e5 * Math.random();
t = parseInt(t);
e += "-";
e += t;
}
return e;
}
}, {
key: "getDeviceInfo",
value: function() {
if (!cc.sys.isNative) {
var e = this.getDeviceID(), t = this.getPackageName();
return "aid=" + e + "&code=3&lan=zh&svc=0&svn=3&cvc=4&chn=" + this.getChannel() + "&pkg=" + t + "&plt=web";
}
if (cc.sys.os == cc.sys.OS_ANDROID) {
var i = jsb.reflection.callStaticMethod("com/util/EngineUtil", "getDeviceInfo", "()Ljava/lang/String;");
return i = i + "&pkg=" + this.getPackageName() + "&plt=android";
}
if (cc.sys.os == cc.sys.OS_IOS) {
var o = jsb.reflection.callStaticMethod("EngineUtil", "getDeviceInfo");
return o = o + "&pkg=" + this.getPackageName() + "&plt=ios";
}
}
}, {
key: "getDetailModel",
value: function() {
if (!cc.sys.isNative) return "";
if (cc.sys.os == cc.sys.OS_ANDROID) return "";
if (cc.sys.os == cc.sys.OS_IOS) {
return jsb.reflection.callStaticMethod("EngineUtil", "getDetailModel");
}
}
}, {
key: "startBay",
value: function(e, t, i, o, n) {
if (cc.sys.isNative) {
var r = NativeCallback.getInstance();
r.onBayCallback = function(e) {
0 == e ? cc.director.emit("REFRESHLEVELPAY") : cc.director.emit("PAYFAILURE");
};
r.startBay(e.toString(), t.toString(), parseInt(i), parseInt(o), parseInt(n));
}
}
}, {
key: "startApp",
value: function(e) {
if (cc.sys.isNative) if (cc.sys.os == cc.sys.OS_ANDROID) {
jsb.reflection.callStaticMethod("com/util/EngineUtil", "startApp", "(Ljava/lang/String;)V", e.toString());
} else if (cc.sys.os == cc.sys.OS_IOS) {
0 == e.indexOf("1") ? this.startQQ() : this.startWeChat();
}
}
}, {
key: "startWeChat",
value: function() {
this.openUrlByDefaultBrowser("weixin://dl/chat");
}
}, {
key: "startQQ",
value: function() {
this.openUrlByDefaultBrowser("mqq://");
}
}, {
key: "startWeChatWithAndroid",
value: function() {
if (cc.sys.isNative && cc.sys.os == cc.sys.OS_ANDROID) {
jsb.reflection.callStaticMethod("com/util/EngineUtil", "openWeChat", "()V");
}
}
}, {
key: "startQQWithAndroid",
value: function() {
if (cc.sys.isNative && cc.sys.os == cc.sys.OS_ANDROID) {
jsb.reflection.callStaticMethod("com/util/EngineUtil", "openQQ", "()V");
}
}
}, {
key: "copyText",
value: function(e) {
if (cc.sys.isNative) if (cc.sys.os == cc.sys.OS_ANDROID) {
jsb.reflection.callStaticMethod("com/util/EngineUtil", "copyText", "(Ljava/lang/String;)V", e);
} else if (cc.sys.os == cc.sys.OS_IOS) {
jsb.reflection.callStaticMethod("EngineUtil", "copyText:", e);
}
}
}, {
key: "onLoginSuccess",
value: function(e, t) {
e += "";
if (cc.sys.isNative) if (cc.sys.os == cc.sys.OS_ANDROID) {
jsb.reflection.callStaticMethod("com/util/EngineUtil", "onLoginSuccess", "(Ljava/lang/String;Ljava/lang/String;)V", e, t);
} else if (cc.sys.os == cc.sys.OS_IOS) {
jsb.reflection.callStaticMethod("EngineUtil", "onLoginSuccess:token:", e, t);
}
}
}, {
key: "nativeLog",
value: function(e, t) {
if (cc.sys.isNative) if (cc.sys.os == cc.sys.OS_ANDROID) {
jsb.reflection.callStaticMethod("com/util/EngineUtil", "nativeLog", "(Ljava/lang/String;Ljava/lang/String;)V", e, t);
} else if (cc.sys.os == cc.sys.OS_IOS) {
jsb.reflection.callStaticMethod("EngineUtil", "nativeLog:msg:", e + "", t + "");
}
}
}, {
key: "hasApp",
value: function(e) {
if (!cc.sys.isNative) return !1;
if (cc.sys.os == cc.sys.OS_ANDROID) {
return jsb.reflection.callStaticMethod("com/util/EngineUtil", "hasApp", "(Ljava/lang/String;)Z", e);
}
if (cc.sys.os == cc.sys.OS_IOS) {
return jsb.reflection.callStaticMethod("EngineUtil", "hasApp", e);
}
}
}, {
key: "hasWeChat",
value: function() {
if (!cc.sys.isNative) return !1;
if (cc.sys.os == cc.sys.OS_ANDROID) {
return jsb.reflection.callStaticMethod("com/util/EngineUtil", "hasWechat", "()Z");
}
if (cc.sys.os == cc.sys.OS_IOS) {
if (0 == s.default.variable.vestVersion) {
return jsb.reflection.callStaticMethod("EngineUtil", "hasWechat");
}
return jsb.reflection.callStaticMethod("EngineUtil", "hasCeWhat");
}
}
}, {
key: "hasQQ",
value: function() {
if (!cc.sys.isNative) return !1;
if (cc.sys.os == cc.sys.OS_ANDROID) {
return jsb.reflection.callStaticMethod("com/util/EngineUtil", "hasQQ", "()Z");
}
if (cc.sys.os == cc.sys.OS_IOS) {
if (0 == s.default.variable.vestVersion) {
return jsb.reflection.callStaticMethod("EngineUtil", "hasQQ");
}
return jsb.reflection.callStaticMethod("EngineUtil", "hasSS");
}
}
}, {
key: "hasAliPay",
value: function() {
if (!cc.sys.isNative) return !1;
if (cc.sys.os == cc.sys.OS_ANDROID) {
return jsb.reflection.callStaticMethod("com/util/EngineUtil", "hasAliPay", "()Z");
}
if (cc.sys.os == cc.sys.OS_IOS) {
return jsb.reflection.callStaticMethod("EngineUtil", "hasAliPay");
}
}
}, {
key: "saveHostToNative",
value: function(e) {
this.saveStringToNative("_common_host_server", e);
}
}, {
key: "savePushNotificationToNative",
value: function(e) {
this.saveStringToNative("push_notification_data", e);
}
}, {
key: "saveStringToNative",
value: function(e, t) {
if (cc.sys.isNative) if (cc.sys.os == cc.sys.OS_ANDROID) {
jsb.reflection.callStaticMethod("com/util/EngineUtil", "saveStringToPreference", "(Ljava/lang/String;Ljava/lang/String;)V", e, t);
} else if (cc.sys.os == cc.sys.OS_IOS) {
jsb.reflection.callStaticMethod("EngineUtil", "saveStringToPreference:value:", e, t);
}
}
}, {
key: "getStringFromNative",
value: function(e) {
if (cc.sys.isNative) {
if (this.getVersionCode() < 22) return;
if (cc.sys.os == cc.sys.OS_ANDROID) {
return jsb.reflection.callStaticMethod("com/util/EngineUtil", "getStringFromPreference", "(Ljava/lang/String;)Ljava/lang/String;", e);
}
if (cc.sys.os == cc.sys.OS_IOS) {
return jsb.reflection.callStaticMethod("EngineUtil", "getStringFromPreference:", e);
}
}
}
}, {
key: "saveStringToKeyChain",
value: function(e, t) {
if (cc.sys.isNative) {
if (cc.sys.os == cc.sys.OS_ANDROID) {
jsb.reflection.callStaticMethod("com/util/EngineUtil", "saveStringToKeyChain", "(Ljava/lang/String;Ljava/lang/String;)V", e, t);
} else if (cc.sys.os == cc.sys.OS_IOS) {
jsb.reflection.callStaticMethod("EngineUtil", "saveStringToKeyChain:value:", e, t);
}
} else a.default.saveData(e, t);
}
}, {
key: "getStringFromKeyChain",
value: function(e) {
if (!cc.sys.isNative) return a.default.readData(e);
if (cc.sys.os == cc.sys.OS_ANDROID) {
return jsb.reflection.callStaticMethod("com/util/EngineUtil", "getStringFromKeyChain", "(Ljava/lang/String;)Ljava/lang/String;", e);
}
if (cc.sys.os == cc.sys.OS_IOS) {
return jsb.reflection.callStaticMethod("EngineUtil", "loadStringFromKeyChain:", e);
}
}
}, {
key: "isEmulator",
value: function() {
var e = !1;
if (cc.sys.isNative) {
if (this.getVersionCode() >= 1100 && cc.sys.os == cc.sys.OS_ANDROID) {
e = jsb.reflection.callStaticMethod("com/util/EngineUtil", "isAndroidEmulator", "()Z");
}
}
return e;
}
}, {
key: "getTrackedIDeviceInfoFromNative",
value: function() {
var e = "";
if (cc.sys.isNative) {
if (this.getVersionCode() >= 1100 && cc.sys.os == cc.sys.OS_ANDROID) {
e = jsb.reflection.callStaticMethod("com/util/EngineUtil", "getUniqueDeviceInfo", "()Ljava/lang/String;");
}
}
return e;
}
}, {
key: "saveAccountsToNative",
value: function(e) {
cc.sys.isNative;
}
}, {
key: "getAccountsFromNative",
value: function() {
cc.sys.isNative;
return null;
}
}, {
key: "openPushFromNative",
value: function(e, t, i, o, n) {
if (cc.sys.isNative) if (s.default.variable.nativeVersion >= 15) {
if (cc.sys.os == cc.sys.OS_ANDROID) {
jsb.reflection.callStaticMethod("com/util/EngineUtil", "sendPushNewsWithValue", "(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V", "" + e, "" + t, i, o, n);
} else if (cc.sys.os == cc.sys.OS_IOS) {
return jsb.reflection.callStaticMethod("EngineUtil", "sendPushNewsWithValue:title:body:pushInfo:", t, i, o, n);
}
} else if (cc.sys.os == cc.sys.OS_ANDROID) {
jsb.reflection.callStaticMethod("com/util/EngineUtil", "sendPushNewsWithValue", "(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V", "" + e, "" + t, i, o);
} else if (cc.sys.os == cc.sys.OS_IOS) {
return jsb.reflection.callStaticMethod("EngineUtil", "sendPushNewsWithValue:title:body:", t, i, o);
}
}
}, {
key: "closePushFromNative",
value: function() {
if (cc.sys.isNative) if (cc.sys.os == cc.sys.OS_ANDROID) {
jsb.reflection.callStaticMethod("com/util/EngineUtil", "closePush", "()V");
} else if (cc.sys.os == cc.sys.OS_IOS) {
return jsb.reflection.callStaticMethod("EngineUtil", "closePush");
}
}
}, {
key: "shareImageToWx",
value: function(e, t) {
if (cc.sys.isNative) if (s.default.variable.nativeVersion >= 15) {
if (cc.sys.os == cc.sys.OS_ANDROID) {
return jsb.reflection.callStaticMethod("com/util/EngineUtil", "shareImgToWc", "(Ljava/lang/String;Ljava/lang/String;)V", e + "", t + "");
}
if (cc.sys.os == cc.sys.OS_IOS) if (0 == s.default.variable.vestVersion) {
if ("false" == t || "true" == t && jsb.reflection.callStaticMethod("EngineUtil", "isHasPhotoLibraryAuthorization")) return jsb.reflection.callStaticMethod("EngineUtil", "shareImgToWc:isSaveImg:", e, t);
} else {
this.startWeChat();
}
} else {
if (cc.sys.os == cc.sys.OS_ANDROID) {
return jsb.reflection.callStaticMethod("com/util/EngineUtil", "shareImgToWc", "(Ljava/lang/String;)V", e + "");
}
if (cc.sys.os == cc.sys.OS_IOS) {
if (0 == s.default.variable.vestVersion) {
return jsb.reflection.callStaticMethod("EngineUtil", "shareImgToWc:", e);
}
this.startWeChat();
}
}
}
}, {
key: "shareWcMoneyToWc",
value: function(e, t) {
if (cc.sys.isNative) if (s.default.variable.nativeVersion >= 15) {
if (cc.sys.os == cc.sys.OS_ANDROID) {
return jsb.reflection.callStaticMethod("com/util/EngineUtil", "shareWcMoneyToWc", "(Ljava/lang/String;Ljava/lang/String;)V", e + "", t + "");
}
if (cc.sys.os == cc.sys.OS_IOS) if (0 == s.default.variable.vestVersion) {
("false" == t || "true" == t && jsb.reflection.callStaticMethod("EngineUtil", "isHasPhotoLibraryAuthorization")) && jsb.reflection.callStaticMethod("EngineUtil", "shareWcMoneyToWc:isSaveImg:", e, t);
} else {
this.startWeChat();
}
} else {
if (cc.sys.os == cc.sys.OS_ANDROID) {
return jsb.reflection.callStaticMethod("com/util/EngineUtil", "shareWcMoneyToWc", "(Ljava/lang/String;)V", e + "");
}
if (cc.sys.os == cc.sys.OS_IOS) {
if (0 == s.default.variable.vestVersion) {
return jsb.reflection.callStaticMethod("EngineUtil", "shareWcMoneyToWc:", e);
}
this.startWeChat();
}
}
}
}, {
key: "getClipboardText",
value: function() {
if (cc.sys.isNative) {
if (cc.sys.os == cc.sys.OS_ANDROID) {
return jsb.reflection.callStaticMethod("com/util/EngineUtil", "getClipboardText", "()Ljava/lang/String;");
}
if (cc.sys.os == cc.sys.OS_IOS) {
return jsb.reflection.callStaticMethod("EngineUtil", "getClipboardText");
}
}
return null;
}
}, {
key: "cachePromotionImage",
value: function(e, t) {
if (cc.sys.isNative) {
if (cc.sys.os == cc.sys.OS_ANDROID) {
return jsb.reflection.callStaticMethod("com/util/EngineUtil", "cachePromotionImage", "(Ljava/lang/String;I)V", e + "", t);
}
if (cc.sys.os == cc.sys.OS_IOS) {
return jsb.reflection.callStaticMethod("EngineUtil", "cachePromotionImage:type:", e, t);
}
}
}
}, {
key: "saveImage2SystemPhoto",
value: function(e) {
if (!cc.sys.isNative) return !1;
if (s.default.variable.nativeVersion <= 14) return !1;
if (cc.sys.os == cc.sys.OS_ANDROID) {
jsb.reflection.callStaticMethod("com/util/EngineUtil", "getImageUrl", "(Ljava/lang/String;)V", e);
} else if (cc.sys.os == cc.sys.OS_IOS) {
jsb.reflection.callStaticMethod("EngineUtil", "isHasPhotoLibraryAuthorization") && jsb.reflection.callStaticMethod("EngineUtil", "getImageUrl:", e);
}
return !0;
}
}, {
key: "getPhoneMinRamSize",
value: function() {
if (!cc.sys.isNative) return 2048;
if (cc.sys.os == cc.sys.OS_ANDROID) {
if (s.default.variable.nativeVersion >= 15) {
var e = jsb.reflection.callStaticMethod("com/util/EngineUtil", "getMemory", "(Ljava/lang/String;)Ljava/lang/String;", "total");
return parseInt(e);
}
return 2048;
}
if (cc.sys.os == cc.sys.OS_IOS) {
var t = 2048, i = this.getDetailModel();
i && ("iphone 6" != (i = i.toLowerCase()) && "iphone 6 plus" != i && "iphone 5s" != i && "iphone 5" != i && "iphone 5c" != i || (t = 1024));
return t;
}
}
}, {
key: "trackEvent",
value: function(e) {
if (cc.sys.isNative) {
if (cc.sys.os == cc.sys.OS_ANDROID) {
return jsb.reflection.callStaticMethod("com/util/EngineUtil", "trackEvent", "(Ljava/lang/String;)V", e);
}
if (cc.sys.os == cc.sys.OS_IOS) {
return jsb.reflection.callStaticMethod("EngineUtil", "trackEvent:", e);
}
}
}
}, {
key: "trackEventActionCategory",
value: function(e, t, i) {
cc.sys.isNative;
}
}, {
key: "trackDuration",
value: function(e) {
cc.sys.isNative;
}
}, {
key: "trackDurationStart",
value: function(e) {
this.trackEventActionCategory(e, "t", "t");
}
}, {
key: "trackDurationEnd",
value: function(e) {
this.trackDuration(e);
}
}, {
key: "trackGameStart",
value: function(e) {
var t = e + "_start";
this.trackDurationStart(t);
}
}, {
key: "trackGameExit",
value: function(e) {
var t = e + "_start";
this.trackDurationEnd(t);
t = e + "_end";
this.trackEvent(t);
}
}, {
key: "onFinishLoadLaunchScene",
value: function() {
if (cc.sys.isNative) if (cc.sys.os == cc.sys.OS_ANDROID) {
jsb.reflection.callStaticMethod("com/util/EngineUtil", "onFinishLoadLaunchScene", "()V");
} else if (cc.sys.os == cc.sys.OS_IOS) {
jsb.reflection.callStaticMethod("EngineUtil", "onFinishLoadLaunchScene");
}
}
}, {
key: "dumpMemory",
value: function(e) {
var t = cc.loader._cache;
Object.keys(t);
}
} ]);
return e;
}(), o.H5_REQUEST_CODE = {
SECOND_PAY: "SECOND_PAY",
CUSTOMER_SERVICE: "CUSTOMER_SERVICE",
GAME_EBET: "ebet",
GAME_EBET_IOS_15: "ios_15_ebet"
}, n);
t.exports = f;
cc.netWorkStateChanged = function(e) {
1 == e ? f.nativeLog("NetWork", "netWork is Connected...") : 2 == e ? f.nativeLog("NetWork", "netWork is Connecting...") : 3 == e && f.nativeLog("NetWork", "netWork is Not Connect...");
if ("" + e == "" + s.default.variable.network) ; else {
s.default.variable.network = e;
cc.director.emit(u.NetworkStateChanged);
}
};
cc.onBayCallbackJS = function(e) {
cc.log("paystatus=" + e);
cc.director.emit("PAYSTATUS", e);
};
cc.onRefreshDevice = function() {
cc.log("onRefreshDeviceInfo");
a.default.initDeviceInfo();
};
cc.onNativeVersion = function(e) {
s.default.variable.nativeVersion = e;
};
cc.onVestVersion = function(e) {
s.default.variable.vestVersion = e;
};
cc.onH5Back = function(e) {
if (e) if (f.H5_REQUEST_CODE.SECOND_PAY == e) {
cc.director.emit(cc.vv.eventName.CHECK_SECOND_MSG_NEW);
cc.director.emit(cc.vv.eventName.REFRESH_PAY_UNREAD_MSG);
} else f.H5_REQUEST_CODE.GAME_EBET == e ? cc.director.emit(u.refreshUserInfo) : f.H5_REQUEST_CODE.GAME_EBET_IOS_15 == e ? cc.director.emit(u.refreshUserInfo) : f.H5_REQUEST_CODE.CUSTOMER_SERVICE == e && cc.director.emit(u.CHECk_CHAT);
cc.audioEngine.resumeAll();
};
cc.onCloseWebview = function() {
cc.director.emit(u.refreshUserInfo);
};
cc.onImageUploaded = function(e) {
cc.director.emit("IMAGEUPLOADEDSUCCESS", e);
};
cc.onMemoryButtonClick = function() {
for (var e = cc.loader._cache, t = Object.keys(e), i = 0; i < t.length; i++) {
t[i].indexOf(".js") > 0 && 1;
}
0;
for (var o = 0; o < t.length; o++) {
var n = t[o];
(n.indexOf(".png") > 0 || n.indexOf(".jpg") > 0) && 1;
}
0;
for (var r = 0; r < t.length; r++) {
t[r].indexOf(".mp3") > 0 && 1;
}
};
cc.onMemoryFreeButtonClick = function() {
cc.loader.releaseRes("beautifulgame/launcher/audio/login");
cc.loader.releaseRes("loading/texture/loading_logo");
};
cc.onMemoryFreeAllButtonClick = function() {
cc.loader.releaseAll();
};
cc.appChangeToBackground = function() {
cc.log("appChangeToBackground1");
cc.game.pause();
};
cc.appChangeToForeground = function() {
cc.log("appChangeToForeground2");
cc.game.resume();
};
cc.onNativeTestExcute = function(e, t, i) {
cc.sys.localStorage.setItem("test_switch", 1);
cc.sys.localStorage.setItem("_naming_access_list_01", JSON.stringify([ e ]));
cc.sys.localStorage.setItem("test_packageurl", t);
cc.sys.localStorage.setItem("test_version", i);
cc.game.restart();
};
cc.onNativeTestExcute_fish = function(e) {
cc.sys.localStorage.setItem("test_switch_fish", 1);
cc.sys.localStorage.setItem("test_packageurl_fish", e);
cc.game.restart();
};
cc.onNativeDidReceiveNotificationResponse = function(e) {
cc.director.emit(u.RECEIVE_NOTIFICATION_RESPONSE, e);
};
cc.onNativePushNotificationSucceed = function(e) {
cc.director.emit(u.PUSH_NOTIFICATION_SUCCEED, e);
};
cc.onNativeDisposePushNotification = function() {
e("NativePush").initNativiePush();
};
cc.updateHotProgress = function(e, t) {
var i = {};
i.cur = e;
i.total = t;
i.precent = e / t;
i.isinstallapk = !0;
cc.log("progress=" + e + "max=" + t);
cc.director.emit(u.UPDATE_HOT_UPDATE_PROGRESS, i);
};
cc.UpdateApkError = function() {
cc.director.emit(u.UPDATEAPKERROR);
};
cc._RF.pop();
}, {
"../../Script/ProjectConfig": "ProjectConfig",
"../LocalStorage/LocalStorageUtil": "LocalStorageUtil",
CommonEventName: "CommonEventName",
NativePush: "NativePush",
ThirdH5Helper: "ThirdH5Helper"
} ],
GameHall: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "9d34bXqQEpBbLPkO45qEFVT", "GameHall");
var o = h(e("../../Script/UI/CommonPrefabMgr")), n = h(e("../../Script/Socket/FastPlayMgr")), r = h(e("../../Script/ProjectConfig")), a = h(e("../../Script/LocalStorage/LocalStorageUtil")), s = h(e("./../../Script/GameFramework/ApiMgr")), c = h(e("../../Script/UserManager")), l = h(e("../../Script/Audio/CommonAudioMgr")), u = (h(e("../../Script/BaseFormat")), 
h(e("../../Script/Localization"))), d = h(e("../../Game_Rummy/Script/Const/RummyLanguageConfig")), f = h(e("../../Game_Rummy/Script/Model/RummyGlobal"));
function h(e) {
return e && e.__esModule ? e : {
default: e
};
}
var p = e("HallRes"), g = e("LauncherModel"), m = (e("HallModel"), e("PreloadSceneMgr"), 
e("RedEnvelopeFrame")), y = (e("RechargeSecondModel"), e("Language")), b = e("CommonEventName"), _ = e("CommonEventManager"), v = (e("CommonVariable"), 
e("NewGameInfo")), S = (e("CommonFunction"), e("ComponentRes")), C = (e("GameEngineUtil"), 
e("NativePush")), w = (e("PopWindowPull"), e("TeenPattiInfo")), A = e("CommonLanguage"), R = e("GameRestore"), T = e("TopUpUIMgr"), E = e("NamingServiceMgr");
cc.Class({
extends: cc.Component,
properties: {
springTimeLab: cc.Label,
fireworks: cc.Node,
countDown: cc.Node,
redPacketAnim: cc.Node,
redPacketAnim1: cc.Node,
redEnvelopeVC: m,
_isCloseRedPackrt: !1,
_springTime: 0,
hallBg: cc.Sprite
},
onLoad: function() {
var e = this;
e.resetConfigData();
e.initHallTexture();
r.default.loadComAtlasSucceed ? e.initHallPrefab() : cc.vv.atlasMgr.loadAtlasResources(function(t) {
r.default.loadComAtlasSucceed = t;
r.default.loadComAtlasSucceed ? e.initHallPrefab() : o.default.createToast("Loading failed, please reload!");
});
e._isCloseRedPackrt = !1;
cc.game.setFrameRate(60);
e.initViews();
l.default.stopAll();
e.playWelcomeMusic();
a.default.saveGameType(r.default.GAME_TYPE.GAME_HALL);
v.marqueeGameId = r.default.GAME_TYPE.GAME_HALL;
e.addComponent("HallApiDataRequest");
cc.director.emit("root_node");
e.initUserCenterView();
if (cc.sys.isBrowser) {
var t = cc.sys.localStorage.getItem("test_game"), i = cc.sys.localStorage.getItem("test_room");
t > 0 && n.default.startGameRestore(t, i);
}
C.initNativiePush();
a.default.clearWithDrawBindInfo(10);
a.default.clearWithDrawBindInfo(11);
a.default.clearWithDrawBindInfo(13);
e.initEventManager();
e.initRoomSummary();
e.initRummyTimeOutSummary();
e.initRummyBalanceNotEnoughSummary();
e.isShowUpdateNewRequestDialog = !1;
e.scheduleOnce(function() {
e.doListeningUpdateNewRequest();
}, 3);
e.doListeningUpdateNewRequestcallback = function() {
e.doListeningUpdateNewRequest();
};
e.schedule(e.doListeningUpdateNewRequestcallback, 30);
},
doListeningUpdateNewRequest: function() {
E.requestUpdateNew();
},
onUpdateMessage: function(e) {},
showUpdateNewRequestDialog: function() {
if (!this.isShowUpdateNewRequestDialog) {
this.unschedule(this.doListeningUpdateNewRequestcallback);
this.isShowUpdateNewRequestDialog = !0;
o.default.createAlert(A.currentlanguage.update.updatenotice, A.currentlanguage.commondialog.btnone, function() {
l.default.stopAll();
E.closeNamingService();
n.default.runGameWithID(r.default.GAME_TYPE.LAUNCHER, !1, null, null);
}, void 0, void 0, !1, void 0, void 0, !1);
}
},
compareVersion: function(e, t) {
return 1;
},
jumpFunctionMethod: function() {
cc.log("enter this hong red");
R.getRoomInfo(r.default.GAME_TYPE.BRCFLOWER, function() {
v.current = {
gameID: r.default.GAME_TYPE.BRCFLOWER,
room: 0
};
n.default.runGameWithID(r.default.GAME_TYPE.BRCFLOWER, !1);
}, function() {});
},
initEventManager: function() {
this.eventManager = new _(function(e) {}, function(e) {});
},
resetConfigData: function() {
cc.vv.withDraw_server_config = null;
cc.vv.pay_channel_data_ram_cache = null;
cc.vv.last_click_pay_channel = null;
},
setupBgAnimation: function() {
var e = this;
if (cc.vv.beautifulgame) for (var t = [ p.prefab.hall_ani_flower, p.prefab.hall_ani_count_down, p.prefab.hall_ani_particle, p.prefab.hall_ani_red, p.prefab.hall_ani_coin ], i = 0; i < t.length; i++) {
var o = t[i];
cc.loader.loadRes(o, function(t, i) {
if (i) {
var o = cc.instantiate(i);
e.hallBg.node.addChild(o);
}
});
}
},
onEnable: function() {
cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);
cc.director.on(cc.vv.eventName.onUserInfoUpdated, this.onUserInfoUpdated, this);
cc.director.on(cc.vv.eventName.refreshUISettings, this.updateUISettings, this);
cc.director.on(cc.vv.eventName.EVENT_PLAY_HALL_BGM, this.playWelcomeMusic, this);
cc.director.on(cc.vv.eventName.EVENT_UPDATE_NOTICEACTION, this.loadNewSystemNotice, this);
cc.director.on(b.EVENT_NAMING_UPDATENEW_MSG, this.onUpdateMessage, this);
cc.director.on("REFRESHLEVELPAY", function(e) {
if (0 == a.default.readGameType()) {
a.default.clearPayStatusIsRequest();
cc.director.emit(b.refreshUserInfo);
var t = y.recharge.success.title, i = y.recharge.success.button_txt;
o.default.openPayResultDialog(e + t, i);
}
}, this);
cc.director.on("PAYFAILURE", function(e) {
if (0 == a.default.readGameType()) {
a.default.clearPayStatusIsRequest();
var t = y.recharge.failure.title2, i = y.recharge.failure.button_txt;
o.default.openPayResultDialog(t, i);
}
}, this);
cc.director.on(cc.vv.eventName.RECEIVE_NOTIFICATION_RESPONSE, this.addTrackWithDidReceiveNotificationResponse, this);
cc.director.on(cc.vv.eventName.PUSH_NOTIFICATION_SUCCEED, this.addTrackWithDeliveredNotification, this);
},
onDisable: function() {
this.eventManager && this.eventManager.closeEvent();
cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);
cc.director.off(cc.vv.eventName.onUserInfoUpdated, this.onUserInfoUpdated, this);
cc.director.off(cc.vv.eventName.refreshUISettings, this.updateUISettings, this);
cc.director.off(cc.vv.eventName.EVENT_PLAY_HALL_BGM, this.playWelcomeMusic, this);
cc.director.off(cc.vv.eventName.EVENT_UPDATE_NOTICEACTION, this.loadNewSystemNotice, this);
cc.director.off("PAYFAILURE");
cc.director.off("REFRESHLEVELPAY");
cc.director.off(cc.vv.eventName.RECEIVE_NOTIFICATION_RESPONSE);
cc.director.off(cc.vv.eventName.PUSH_NOTIFICATION_SUCCEED);
cc.director.off(b.EVENT_NAMING_UPDATENEW_MSG);
},
addTrackWithDidReceiveNotificationResponse: function(e) {
null != e && C.addTrackWithDidReceiveNotificationResponse(e);
},
addTrackWithDeliveredNotification: function(e) {
null != e && C.addTrackWithDeliveredNotification(e);
},
onKeyUp: function(e) {
e.keyCode == cc.macro.KEY.back && cc.vv.gameEngineUtil.quitGame();
},
initViews: function() {},
updateUISettings: function() {
cc.isValid(this.node) && cc.director.emit("LOAD_MENU_DATA");
},
playWelcomeMusic: function() {
if (cc.isValid(this.node)) {
var e = p.audio.Bgm, t = e.length, i = parseInt(t * Math.random());
l.default.playMusic(e[i], !0, .6);
}
},
onUserInfoUpdated: function() {
if (cc.isValid(this.node)) {
cc.vv.gameEngineUtil.onLoginSuccess(c.default.uid, c.default.token);
cc.director.emit("SHOW_POLITE_LOGIC");
g.user_is_new || cc.director.emit(cc.vv.eventName.LOGIN_SUCCESS_DIALOG_LOGIC);
}
},
loadNewSystemNotice: function() {
var e = this;
if (cc.isValid(e.node)) {
s.default.checkNewNotice(function(t) {
if (cc.isValid(e.node) && t.notices) {
cc.director.emit("DISPOSE_NOTICES_DATA_ACTION", t.notices);
cc.director.emit("SHOW_GIFT_WITH_CONDITION");
}
}, function() {}, !1);
cc.director.emit("SHOW_GIFT_WITH_CONDITION");
}
},
ServerPushRedEnvelope: function(e) {
cc.isValid(this.redEnvelopeVC) && this.redEnvelopeVC.initWithDataInfo(e);
},
onDestroy: function() {
this.resetConfigData();
cc.director.off("PAYFAILURE");
cc.director.off("REFRESHLEVELPAY");
this.unschedule(this.doListeningUpdateNewRequestcallback);
l.default.init();
},
freeMemory: function(e) {},
initHallTexture: function() {
var e = this, t = p.pathPhoto, i = (p.path, "Hall");
if (cc.vv.yingyangshi) {
i = "Hall_CurSkin";
t = p.pathPhotos.yingyangshi;
} else if (cc.vv.timi) {
i = "Hall_CurSkin";
t = p.pathPhotos.timi;
} else if (cc.vv.haidilao) {
i = "Hall_CurSkin";
t = p.pathPhotos.haidilao;
} else if (cc.vv.xiyouji) {
i = "Hall_CurSkin";
t = p.pathPhotos.xiyouji;
} else if (cc.vv.wangyi) {
i = "Hall_CurSkin";
t = p.pathPhotos.wangyi;
}
var o = n.default.resArr[i];
o && o.forEach(function(i) {
var o = t.hallBg.split("/").pop();
i.name == o && (e.hallBg.spriteFrame = i);
});
},
initHallPrefab: function() {
var e = this, t = p.pathPrefab, i = (p.path, "Hall");
if (cc.vv.yingyangshi) {
i = "Hall_CurSkin";
t = p.pathPrefabs.yingyangshi;
} else if (cc.vv.timi) {
i = "Hall_CurSkin";
t = p.pathPrefabs.timi;
} else if (cc.vv.haidilao) {
i = "Hall_CurSkin";
t = p.pathPrefabs.haidilao;
} else if (cc.vv.xiyouji) {
i = "Hall_CurSkin";
t = p.pathPrefabs.xiyouji;
} else if (cc.vv.wangyi) {
i = "Hall_CurSkin";
t = p.pathPrefabs.wangyi;
}
var o = n.default.resArr[i];
o && o.forEach(function(i) {
var o = t.menuWrap.split("/").pop();
if (i.name == o) {
var n = cc.instantiate(i);
cc.isValid(e.node) && e.node.addChild(n);
}
var r = t.menuBarUserInfo.split("/").pop();
if (i.name == r) {
var a = cc.instantiate(i);
cc.isValid(e.node) && e.node.addChild(a);
}
var s = t.menuBarBottom.split("/").pop();
if (i.name == s) {
var c = cc.instantiate(i);
cc.isValid(e.node) && e.node.addChild(c);
}
var l = t.topFrame.split("/").pop();
if (i.name == l) {
var u = cc.instantiate(i);
if (cc.isValid(e.node)) {
e.node.addChild(u, 1);
u.getComponent("TopFrame").initSceneComponent(e.node);
}
}
});
},
initRummyTimeOutSummary: function() {
if (f.default.isStillHere) {
f.default.isStillHere = !1;
var e = u.default.get(d.default.GameName, d.default.IDLE_TIMEOUT), t = u.default.get(d.default.GameName, d.default.IDLE_TIMEOUT_OK);
o.default.createAlert(e, t, function() {}, null, null, !1, null, null, !1);
}
},
initRummyBalanceNotEnoughSummary: function() {
if (f.default.userBalanceEnough) {
f.default.userBalanceEnough = !1;
c.default.is_formal ? o.default.createRechargeAlert(f.default.min_limit, function() {
T.showGameTopUpView();
}) : o.default.createGuesterRegisterAlert(f.default.min_limit, function() {
o.default.createRegisterForGifts();
});
}
},
initUserCenterView: function() {
cc.loader.loadRes(S.prefab.userCenter, function(e, t) {
if (t) {
var i = cc.instantiate(t);
i.active = !1;
if (i) {
var o = r.default.getSceneCanvas();
cc.isValid(o) && o.addChild(i, r.default.layerZOrder.Dialog);
}
}
});
},
initRoomSummary: function() {
var e = this;
if (w.isAmountEnough) {
o.default.createAlert(A.teenpattilanguage.noenoughmoney.noenoughmoneycontent, A.teenpattilanguage.noenoughmoney.noenoughmoneybtnone, function() {
e.toRechrage();
}, A.teenpattilanguage.noenoughmoney.noenoughmoneybtntwo, function() {}, !1, void 0, void 0, !1);
w.isAmountEnough = !1;
}
},
toRechrage: function() {
c.default.is_formal ? T.showGameTopUpView() : o.default.createRegisterForGifts();
}
});
cc._RF.pop();
}, {
"../../Game_Rummy/Script/Const/RummyLanguageConfig": "RummyLanguageConfig",
"../../Game_Rummy/Script/Model/RummyGlobal": "RummyGlobal",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/BaseFormat": "BaseFormat",
"../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../Script/Localization": "Localization",
"../../Script/ProjectConfig": "ProjectConfig",
"../../Script/Socket/FastPlayMgr": "FastPlayMgr",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"../../Script/UserManager": "UserManager",
"./../../Script/GameFramework/ApiMgr": "ApiMgr",
CommonEventManager: "CommonEventManager",
CommonEventName: "CommonEventName",
CommonFunction: "CommonFunction",
CommonLanguage: "CommonLanguage",
CommonVariable: "CommonVariable",
ComponentRes: "ComponentRes",
GameEngineUtil: "GameEngineUtil",
GameRestore: "GameRestore",
HallModel: "HallModel",
HallRes: "HallRes",
Language: "Language",
LauncherModel: "LauncherModel",
NamingServiceMgr: "NamingServiceMgr",
NativePush: "NativePush",
NewGameInfo: "NewGameInfo",
PopWindowPull: "PopWindowPull",
PreloadSceneMgr: "PreloadSceneMgr",
RechargeSecondModel: "RechargeSecondModel",
RedEnvelopeFrame: "RedEnvelopeFrame",
TeenPattiInfo: "TeenPattiInfo",
TopUpUIMgr: "TopUpUIMgr"
} ],
GameLanguage: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "3aceaJE/oRCcLkGiN2x+u12", "GameLanguage");
t.exports = {
english: {
loading: {
loadingone: "Loading..."
},
commondialog: {
btnone: "OK",
btntwo: "Yes",
btnthree: "No"
},
goldshow: {
one: "₹ {0}"
},
rechargeview: {
getRechargeTypesError: "Payment gateway error"
},
resetpassword: {
resetpasswordsuccess: "Password reset success"
},
registe: {
hasbeenoffical: "You are already an official account",
gusetloginfail: "Regist failed, please try again"
},
login: {
invalidPhone: "Incorrect Phone No.",
invalidCode: "Please enter a valid verification code",
passwordRuleError: "Please input 6-20 char",
wait: "",
accountOrPasswordError: "Wrong account or password"
},
withdraw: {
withdrawnotice: "<color=#999999>1. The <color=#faef4c>minimum</c> amount which can be withdrawn is <color=#faef4c>₹ {0}</c>\n2. The <color=#faef4c>maximum</c> amount which can be withdrawn is <color=#faef4c>₹ {1}</c>\n3. <color=#faef4c>{2}%</c> of the withdrawal amount would be deducted as <color=#faef4c>commission </c>\n4. After withdraw, the cash <color=#faef4c>balance</c> must be more than <color=#faef4c>₹ {3}</c>",
withdrawrecordsstatusone: "Success",
withdrawrecordsstatustwo: "In Progress",
withdrawrecordsstatusthree: "Failure ",
withdraweditemptynotice: "Please enter an integer amount",
withdraweditnotcopmlete: "Please enter an integer amount greater than {0}",
withdraweditnotenough: "Not enough balance.",
withdrawsuccess: "Withdraw submitted. Wait for processing.",
withdrawcommission: "Withdraw Commission is ₹{0}"
},
usercenter: {
emailerror: "Email input error",
nicknameerror: "Nickname cannot be empty",
nicknameerror1: "Nicknames cannot contain spaces",
nicknameerror2: "Nicknames cannot exceed 20 strings"
},
hall: {
commonsoon: "Coming soon",
refreshcoin: "Refresh success",
enterroomneedcoin: "Not enough balance.",
enterroommaxcharge: "Your balance has exceeded the maximum amount of the room, please change to the next room"
},
launch: {
checkversion: "Checking Game Version...",
readenter: "Ready To Enter Lobby",
tip: "Please Wait With Patience, We Are Almost There",
updatelatest: "Update Latest Version",
profiledownloadfailed: "Profile download failed",
updatefailed: "Update failed, please try again later"
},
addcash: {
addcashsubmitnotice: "Please input integer between {0} and {1}."
},
net: {
timeout: "The request timed out. Please try again later",
phoneerr: "invalid phone number"
},
alert: {
alertbuttonone: "OK"
},
mail: {
alldelete: "Delete all succeeded",
alldeletefail: "Delete all failed",
getgiftsuccess: "Receive reward successfully",
getgiftfail: "Failed to receive the reward",
receive: "Receive",
received: "Already received",
emptydata: "No Mail Data"
},
notice: {
emptydata: "No Notice Data"
},
contactus: {
contactusemailinfo: "For any kind of concerns, complaints, queries, or suggestions please reach us through this message box. Please provide us with your email id, so that we would reach back to you with the resolution at the earliest.",
emptycontent: "Please enter your message",
submitsuccess: "Thank you for your submission."
},
paytm: {
editphonenotice: "Please enter your Your PayTM Phone",
editemailnotice: "Please enter your Your PayTM Email"
},
debit: {
debitphonenotice: "Please enter your Your Debit Phone",
debitemailnotice: "Please enter your Your Debit Email"
},
update: {
updatenotice: "The game has released a new version. Please update to the latest version and restart the game. Thank you."
},
error: {
loadresourceerror: "Failed to load resources, returning to the hall soon!"
},
continuegame: {
noticecontent: "You have an unfinished game. Do you want to continue?",
gameisover: "Game is over."
}
}
};
cc._RF.pop();
}, {} ],
GameLauncher: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "263f9lRd2lF/Z0nb89Lg+lR", "GameLauncher");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = cc.Button, a = cc.Mask, s = cc.Label, c = cc.ParticleSystem, l = cc.macro, u = e("../../Script/ProjectConfig"), d = e("../../Script/Utils/common/RequireManager"), f = e("CommonFunction"), h = e("../../Script/Audio/CommonAudioMgr"), p = e("LauncherRes"), g = e("../../Script/LocalStorage/LocalStorageUtil"), m = e("ProgramInit"), y = e("CommonVariable"), b = e("CommonEventName"), _ = e("GameEngineUtil"), v = e("LauncherFunction"), S = e("../../Script/UI/CommonPrefabMgr"), C = e("NamingServiceMgr"), w = e("../../Script/BaseFormat"), A = e("AutoLogin"), R = e("CommonLanguage"), T = e("./../../Script/GameFramework/ApiMgr"), E = e("../../Script/Localization"), M = (e("ErrorLogReport"), 
e("UISettingModel")), P = cc._decorator, k = P.ccclass, I = P.property, N = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.bgNode = null;
t.bgView = null;
t.logoNode = null;
t.logoView = null;
t.homePageNode = null;
t.customerNode = null;
t.magicGirlNode = null;
t.magicLightNode = null;
t.magicGoodsNode = null;
t.magicGoodsType = 0;
t.loadingNode = null;
t.loginLayout = null;
t.progressBg = null;
t.progressMask = null;
t.progressLight = null;
t.progressBarNode = null;
t.versionLabel = null;
t.hotStatusLabel = null;
t.tipsLabel = null;
t._localPackageUrl = "";
t._localVersion = "";
t._httpHosts = "";
t._tcpHosts = "";
t._updateNewRetryCount = 0;
t._updateNewMaxRetryCount = 3;
t._readyForLogin = !1;
t._fakeProgressInterval = 1;
t._fakeProgressValue = 0;
t._hallSceneLoaded = !1;
t._customerCanClick = !0;
t.hasGetUpdateMessage = !1;
t.lastUpdateMessage = null;
t.isshowNewVersionDialog = !1;
return t;
}
t.prototype.onLoad = function() {
E.default.init("en");
cc.log("测试百人场 2.0");
this.initView();
h.default.init();
g.default.clearSystemNotic();
g.default.clearBannerNoticeData();
g.default.clearRegisterForGifts();
h.default.changeEffectSwitch();
if (cc.sys.isNative) {
var e = new jsb.Manifest("version.manifest");
GAMECONFIG.HOT_CODE = e.getVersion();
}
this.initDebugLog();
this._readyForLogin = !1;
this._fakeProgressValue = 0;
d.default.initRequireMgr();
m.init(this);
this._customerCanClick = !0;
g.default.saveGameType(u.default.GAME_TYPE.LAUNCHER);
u.default.loadComAtlasSucceed || cc.vv.atlasMgr.loadAtlasResources(function(e) {
u.default.loadComAtlasSucceed = e;
u.default.loadComAtlasSucceed;
});
cc.director.on(b.IP_BLACK_LIST, this.ipBlackListAlert, this);
cc.director.on(b.SHOW_INSTALLAPK_DIALOG, this.showInstallApkDialog, this);
cc.director.on(b.UPDATEAPKERROR, this.updateApkErrorToDo, this);
var t = cc.vv.gameEngineUtil.getDetailModel();
u.default.phoneIsiphoneX(t);
this.updateUISettings();
this.initEventListener();
this.initAccessServer();
cc.director.on(b.EVENT_UPDATENEW_APP_UPDATE_MSG, this.onUpdateMessage, this);
C.requestNamingService();
};
t.prototype.logwebsocket = function(e) {
if (e) for (var t in e) {
var i = e[t];
if (i instanceof Object && void 0 != i && null != i) {
cc.log(t, i);
this.logwebsocket(i);
} else cc.log(t, e[t]);
}
};
t.prototype.testUrlEncode = function() {
if (!cc.sys.isNative) {
var e = cc.vv.gameEngineUtil.getDeviceInfo(), t = w.default.url_encode(e);
w.default.url_decode(t);
}
};
t.prototype.start = function() {};
t.prototype.onEnable = function() {
cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);
};
t.prototype.onDisable = function() {
cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);
};
t.prototype.onKeyUp = function(e) {
e.keyCode == cc.macro.KEY.back && _.quitGame();
};
t.prototype.initView = function() {
this.initViewConfig();
this.initBgImageView();
this.initLogoView();
this.initLoadingView();
};
t.prototype.initViewConfig = function() {
var e = _.getVersionName();
0 > this.compareVersion(e, "1.4.1") ? M.ishappyaceskin = !1 : M.ishappyaceskin = !0;
};
t.prototype.initBgAnimagionView = function() {
var e = this;
e.bgNode = e.node.getChildByName("bgNode");
if (e.bgNode) e.resizeBgAnimation(); else {
e.bgNode = new cc.Node("bgNode");
e.bgNode.parent = e.node;
var t = e.bgNode.addComponent(sp.Skeleton);
cc.loader.loadRes(p.pathPhoto.launcher_bg, sp.SkeletonData, function(i, o) {
if (cc.isValid(e.node)) {
t.skeletonData = o;
t.setAnimation(0, "animation", !0);
e.resizeBgAnimation();
}
});
}
};
t.prototype.initBgImageView = function() {
var e = this;
e.bgNode = e.node.getChildByName("bgNode");
e.bgView = e.bgNode.getComponent(cc.Sprite);
var t = p.pathPhoto.launcher_bg_happyace;
M.ishappyaceskin || (t = p.pathPhoto.launcher_bg);
f.setComponentSprite(e.bgView, t, function(t) {
e.fillFullScreen(e.bgNode);
});
};
t.prototype.initMagicGirlView = function() {
var e = this;
e.magicGirlNode = new cc.Node("magicGirlNode");
e.magicGirlNode.parent = e.node;
var t = e.magicGirlNode.addComponent(sp.Skeleton);
e.magicLightNode = new cc.Node("magicGirlNode");
e.magicLightNode.x = e.magicGirlNode.x - 400;
e.magicLightNode.y = e.magicGirlNode.y + 50;
e.magicLightNode.parent = e.node;
var i = e.magicLightNode.addComponent(sp.Skeleton);
e.magicGoodsNode = new cc.Node("magicGirlNode");
e.magicGoodsNode.x = e.magicLightNode.x;
e.magicGoodsNode.y = e.magicGirlNode.y + 30;
e.magicGoodsNode.parent = e.node;
var o = e.magicGoodsNode.addComponent(sp.Skeleton);
cc.loader.loadRes(p.pathPhoto.loading_girl_spine, sp.SkeletonData, function(n, r) {
cc.isValid(e.node) && e.setupMagicGirlAnimagion(t, i, o, r);
});
};
t.prototype.setupMagicGirlAnimagion = function(e, t, i, o) {
if (cc.isValid(this.node)) {
e.skeletonData = o;
e.setAnimation(0, "dwc_loading_girl", !0);
}
};
t.prototype.fillFullScreen = function(e) {
if (cc.isValid(this.node) && cc.isValid(e)) {
var t = cc.winSize.width, i = cc.winSize.height;
e.width = t;
e.height = i;
var o = this.bgNode.getChildByName("paione"), n = this.bgNode.getChildByName("paitwo"), r = this.node.getChildByName("LaunchGirl");
if (M.ishappyaceskin) {
cc.isValid(o) && (o.active = !1);
cc.isValid(n) && (n.active = !1);
cc.isValid(r) && (r.active = !1);
} else {
r.active = !0;
if (cc.isValid(o)) {
o.active = !0;
var a = cc.moveBy(1, cc.v2(20, -20)), s = cc.moveBy(1, cc.v2(-20, 20)), c = cc.repeatForever(cc.sequence(a, s));
o.runAction(c);
}
if (cc.isValid(n)) {
n.active = !0;
var l = cc.moveBy(1, cc.v2(-20, -20)), u = cc.moveBy(1, cc.v2(20, 20)), d = cc.repeatForever(cc.sequence(l, u));
n.runAction(d);
}
}
_.onFinishLoadLaunchScene();
}
};
t.prototype.initLogoView = function() {
this.logoNode = this.bgNode.getChildByName("logo");
cc.isValid(this.logoNode) && (M.ishappyaceskin ? this.logoNode.active = !1 : this.logoNode.active = !0);
};
t.prototype.setupLogoPosition = function() {
if (cc.isValid(this.node) && cc.isValid(this.logoNode)) if (cc.vv.timi) this.logoNode.setPosition(0, 105); else if (cc.vv.yingyangshi) this.logoNode.setPosition(0, 45); else if (cc.vv.haidilao) this.logoNode.setPosition(0, 45); else if (cc.vv.xiyouji) this.logoNode.setPosition(0, 45); else if (cc.vv.wangyi) this.logoNode.setPosition(0, 45); else {
var e = cc.winSize.width, t = cc.winSize.height, i = -(e - this.logoNode.width) / 2, o = (t - this.logoNode.height) / 2;
cc.vv.souhu && (o += 27);
this.logoNode.setPosition(i, o);
}
};
t.prototype.initHomePageView = function() {
var e = this;
e.homePageNode = e.createButton("homePageNode");
e.homePageNode.parent = e.node;
e.setupButtonImage(e.homePageNode, p.pathPhoto.home_page_button_image);
e.homePageNode.on("touchend", function() {
e.onHomePageButtonClick();
});
e.setupHomePageButtonPosition();
};
t.prototype.initCustomerCView = function() {
var e = this;
e.customerNode = e.createButton("customerNode");
e.customerNode.parent = e.node;
e.setupButtonImage(e.customerNode, p.pathPhoto.kefu_button_image);
e.setupCustomerButtonPosition();
e.customerNode.on("click", function() {
e.onCustomerBtnClick();
});
};
t.prototype.setupHomePageButtonPosition = function() {
var e = cc.winSize.width, t = cc.winSize.height;
this.homePageNode.setPosition((e - 100) / 2 - 15, (t - 100) / 2 - 15);
};
t.prototype.setupCustomerButtonPosition = function() {
var e = cc.winSize.width, t = cc.winSize.height;
this.customerNode.setPosition((e - 100) / 2 - 145, (t - 100) / 2 - 15);
};
t.prototype.initLoadingView = function() {
this.loadingNode = new cc.Node("loadingNode");
this.loadingNode.parent = this.node;
this.initProgressView();
this.setupLoadingViewPosition();
};
t.prototype.setupLoadingViewPosition = function() {
var e = cc.winSize.width, t = cc.winSize.height;
this.loadingNode.width = e;
this.loadingNode.height = 158;
var i = -t / 2 + this.loadingNode.height / 2;
this.loadingNode.setPosition(0, i);
};
t.prototype.initProgressView = function() {
var e = this;
e.progressBg = new cc.Node("progressBg");
e.progressBg.addComponent(cc.Sprite);
e.progressBg.parent = e.loadingNode;
var t = p.pathPhoto.progress_bg_image, i = p.pathPhoto.progress_light_image;
if (M.ishappyaceskin) {
t = p.pathPhoto.progress_bg_image_happyace;
i = p.pathPhoto.progress_light_image_happyace;
}
f.setComponentSprite(e.progressBg, t, function(e) {});
e.progressMask = new cc.Node("progressMask");
e.progressMask.anchorX = 0;
e.progressMask.x = 0;
e.progressMask.y = 0;
e.progressMask.parent = e.progressBg;
e.progressLight = new cc.Node("progressLight");
e.progressLight.addComponent(cc.Sprite);
e.progressLight.anchorX = 0;
e.progressLight.parent = e.progressMask;
f.setComponentSprite(e.progressLight, i, function(t) {
e.setupProgressViewPosition();
});
var o = e.progressMask.addComponent(cc.Mask);
o.type = a.Type.RECT;
o.inverted = !1;
};
t.prototype.setupProgressViewPosition = function() {
if (cc.isValid(this.node) && cc.isValid(this.progressMask)) {
cc.winSize.width, cc.winSize.height;
this.progressMask.width = this.progressLight.width;
this.progressMask.height = this.progressLight.height;
this.progressMask.setPosition(-this.progressLight.width / 2 - 2, 0);
cc.isValid(this.progressBarNode) && this.progressBarNode.setPosition(-this.progressLight.width / 2 - 4, 0);
this.initVersionView();
this.initHotUpdateStatusView();
this.initTipsView();
}
};
t.prototype.initProgressSlideNodeView = function() {
if (cc.vv.beautifulgame) {
this.progressBarNode = new cc.Node("progressBarNode");
this.progressBarNode.active = !1;
this.progressBarNode.anchorX = 1;
this.progressBarNode.parent = this.progressBg;
var e = this.progressBarNode.addComponent(cc.Sprite);
f.setComponentSprite(e, p.pathPhoto.progress_slide_flower, function(e) {});
var t = new cc.Node("particleSystemNode");
t.parent = this.progressBarNode;
var i = t.addComponent(cc.ParticleSystem);
i.custom = !0;
i.playOnLoad = !0;
i.duration = -1;
i.emissionRate = 60;
i.life = .4;
i.lifeVar = .2;
i.totalParticles = 120;
i.angle = 60;
i.angleVar = 30;
i.startSize = 24;
i.startSizeVar = 36;
i.endSize = 24;
i.endSizeVar = 32;
i.startSpin = 45;
i.endSpin = 15;
i.startSpinVar = 15;
i.endSpinVar = 45;
i.posVar = cc.v2(24, 24);
i.positionType = c.PositionType.FREE;
i.emitterMode = c.EmitterMode.GRAVITY;
i.gravity = cc.v2(.25, .86);
i.speed = 0;
i.speedVar = 190;
i.tangentialAccel = -92;
i.tangentialAccelVar = 65;
i.radialAccel = -67;
i.radialAccelVar = 65;
i.srcBlendFactor = l.BlendFactor.SRC_ALPHA;
i.dstBlendFactor = l.BlendFactor.ONE;
cc.loader.loadRes("beautifulgame/launcher/texture/hot_update/lizi", cc.SpriteFrame, function(e, o) {
cc.isValid(t) && (i.spriteFrame = o);
});
}
};
t.prototype.initVersionView = function() {
this.versionLabel = new cc.Node("versionLabel");
this.versionLabel.anchorX = 1;
this.versionLabel.anchorY = .5;
this.versionLabel.parent = this.loadingNode;
var e = this.versionLabel.addComponent(cc.Label), t = "" + GAMECONFIG.VERSION_CODE;
this._localVersion && (t = this._localVersion);
e.string = t;
e.fontSize = 25;
e.horizontalAlign = s.HorizontalAlign.RIGHT;
var i = this.progressLight.width / 2;
this.versionLabel.setPosition(i, -55);
};
t.prototype.initHotUpdateStatusView = function() {
this.hotStatusLabel = new cc.Node("hotstatuslabel");
this.hotStatusLabel.anchorX = 0;
new cc.Color(255, 255, 255);
this.hotStatusLabel.parent = this.loadingNode;
var e = this.hotStatusLabel.addComponent(cc.Label);
e.string = R.currentlanguage.launch.checkversion;
e.fontSize = 24;
e.lineHeight = 25;
var t = -this.progressLight.width / 2;
this.hotStatusLabel.setPosition(t, 49);
};
t.prototype.initTipsView = function() {
this.tipsLabel = new cc.Node("tipsLabel");
this.tipsLabel.anchorX = 0;
new cc.Color(255, 255, 255);
this.tipsLabel.parent = this.loadingNode;
var e = this.tipsLabel.addComponent(cc.Label);
e.string = R.currentlanguage.launch.tip;
e.fontSize = 22;
e.lineHeight = 22;
var t = -this.progressLight.width / 2;
this.tipsLabel.setPosition(t, -46.9);
this.loadingNode.addComponent("HotUpdateProgressView");
};
t.prototype.onHomePageButtonClick = function() {
this.onOpenHomePage();
};
t.prototype.onCustomerBtnClick = function() {
var e = this;
if (e._customerCanClick) {
e._customerCanClick && e.onOpenCustomer();
e._customerCanClick = !1;
e.scheduleOnce(function() {
e._customerCanClick = !0;
}, 1.5);
} else S.default.createToastClick();
};
t.prototype.createButton = function(e) {
var t = new cc.Node(e);
t.setPosition(0, 0);
t.width = 220;
t.height = 86;
var i = t.addComponent(cc.Button);
i.transition = r.Transition.SCALE;
i.zoomScale = .9;
var o = new cc.Node("bg");
o.addComponent(cc.Sprite);
o.parent = t;
var n = new cc.Node("txt");
n.addComponent(cc.Label);
n.parent = t;
return t;
};
t.prototype.setupButtonSize = function(e) {
cc.isValid(this.node) && cc.isValid(e);
};
t.prototype.setupButtonImage = function(e, t) {
var i = this, o = e.getChildByName("bg");
f.setComponentSprite(o, t, function(e) {
i.setupButtonSize(o);
});
};
t.prototype.setupButtonText = function(e, t) {
e.getChildByName("txt").getComponent(cc.Label).string = t;
};
t.prototype.initDebugLog = function() {
if (cc.sys.isNative) {
if (cc.sys.localStorage.getItem("_need_debug_log")) ; else if (cc.sys.isNative) {
y.debugLog = !1;
console.log = function() {};
}
}
};
t.prototype.onHotUpdateGameRestart = function() {
C.closeNamingService();
};
t.prototype.resizeBgAnimation = function() {
if (this.bgNode) {
var e = cc.winSize.width, t = cc.winSize.height, i = this.bgNode.width, o = this.bgNode.height;
if (i < e || o < t) {
var n = e / i, r = t / o, a = n > r ? n : r;
this.bgNode.scale = a;
}
_.onFinishLoadLaunchScene();
}
};
t.prototype.initEventListener = function() {
cc.director.on(b.refreshUISettings, this.updateUISettings, this);
};
t.prototype.manifestCallback = function(e) {
e.getDownloadedFiles();
};
t.prototype.testNativeCall = function() {
new jsb.Manifest("version.manifest").setEventCallback(this.manifestCallback.bind(this));
};
t.prototype.onUpdateMessage = function(e) {
if (e && !this.hasGetUpdateMessage) {
this.hasGetUpdateMessage = !0;
this.lastUpdateMessage = e;
var t = e.type, i = e.version, o = e.content, n = e.url, r = e.gameVersion, a = e.packageUrl;
1 == g.default.readData("test_switch") && g.default.saveData("test_switch", 0);
cc.log("update type =" + t);
cc.log("client_version=" + i);
cc.log("content=" + o);
cc.log("url=" + n);
cc.log("gameversion=" + r);
cc.log("packageurl=" + a);
this.onGameUpdateNewCallback(t, i, o, n, r, a);
}
};
t.prototype.showInstallApkDialog = function() {
if (!this.isshowNewVersionDialog) {
this.hasGetUpdateMessage = !1;
this.onUpdateMessage(this.lastUpdateMessage);
}
};
t.prototype.loadLocalManifest = function() {
if (cc.sys.isNative) {
var e = new jsb.Manifest("version.manifest");
this._localPackageUrl = e.getPackageUrl();
this._localVersion = e.getVersion();
this._httpHosts = e.getHttpHost();
var t = e.getWsHost(), i = [];
if (t && t.length > 0) {
for (var o in t) {
var n = t[o];
n && 0 != n.indexOf("ws://") && (n = w.default.game_decode(n));
n && 0 == n.indexOf("ws://") && i.push(n);
}
this._tcpHosts = i;
}
this.notifyUpdateStatus("正在加载配置文件......");
this.notifyLocalVersionLoaded(this._localVersion);
}
};
t.prototype.initAccessServer = function() {
var e = g.default.readAccessList();
if (!e || e.length <= 0) {
var t = this._tcpHosts;
cc.log("accessServer=", t);
e = t || [ t = y.accessUrl ];
g.default.saveAccessList(e);
} else cc.log("accessList=", e[0]);
};
t.prototype.initHttpGateServer = function() {
var e = g.default.readServerInfo();
if (!e) {
e = y.httpGate;
cc.sys.isNative && (e = this._httpHosts);
}
T.default.initGateServer(e);
};
t.prototype.dumpHotUpdateSearchPath = function() {
if (cc.sys.isNative) jsb.fileUtils.getSearchPaths();
};
t.prototype.onGameUpdateNewCallback = function(e, t, i, o, n, r) {
if (0 > this.compareVersion(this._localVersion, n)) {
this.notifyUpdateStatus(R.currentlanguage.launch.updatelatest);
this.notifyRemoteVersionLoaded(n);
this.checkHotUpdate(r, n);
} else {
console.log("游戏开始去登录");
this.notifyUpdateStatus(R.currentlanguage.launch.readenter);
this.startToLogin();
}
};
t.prototype.showNewVersionDialog = function(e, t, i, o) {
var n = this;
n.notifyRemoteVersionLoaded(o);
n.isshowNewVersionDialog = !0;
1 == e ? S.default.createDialog(t, "I got it!", function() {
n.isshowNewVersionDialog = !1;
S.default.removeDialog();
n.startToLogin();
}, "Ok", function() {
n.isshowNewVersionDialog = !1;
_.UpdateNewVersionApk(o, i);
}) : 2 == e && S.default.createDialog(t, "Ok", function() {
n.isshowNewVersionDialog = !1;
_.UpdateNewVersionApk(o, i);
}, void 0, void 0);
};
t.prototype.updateApkErrorToDo = function() {
this.startToLogin();
};
t.prototype.checkHotUpdate = function(e, t) {
if (cc.sys.isNative) {
this.addComponent("HotUpdate");
var i = {};
i.packageUrl = e || this._localPackageUrl;
i.remoteVersion = t;
cc.director.emit(b.UPDATE_HOT_UPDATE_START, i);
}
};
t.prototype.compareVersion = function(e, t) {
return 1;
};
t.prototype.onPassHotUpdate = function() {
this.startToLogin();
};
t.prototype.startToLogin = function() {
this.preloadLoginScene();
};
t.prototype.onProgress = function(e, t, i) {};
t.prototype.preloadLoginScene = function() {
var e = this;
cc.director.preloadScene("Hall", function() {
e._hallSceneLoaded = !0;
100 == e._fakeProgressValue && A.startLogin("Launcher");
});
e._readyForLogin = !0;
};
t.prototype.update = function(e) {
if (this._readyForLogin && this._fakeProgressValue < 100) {
this._fakeProgressValue += this._fakeProgressInterval;
if (this._fakeProgressValue > 100) {
this._readyForLogin = !1;
this._fakeProgressValue = 100;
}
this.notifyProgressChanged();
}
};
t.prototype.notifyProgressChanged = function() {
var e = {}, t = this._fakeProgressValue / 100;
e.precent = t;
cc.director.emit(b.UPDATE_HOT_UPDATE_PROGRESS, e);
100 == this._fakeProgressValue && this._hallSceneLoaded && A.startLogin("Launcher");
};
t.prototype.notifyLocalVersionLoaded = function(e) {
var t = {};
t.localVersion = e;
cc.director.emit(b.UPDATE_HOT_UPDATE_STATUS, t);
};
t.prototype.notifyRemoteVersionLoaded = function(e) {
var t = {};
t.localVersion = this._localVersion;
t.remoteVersion = e;
cc.director.emit(b.UPDATE_HOT_UPDATE_STATUS, t);
};
t.prototype.notifyUpdateStatus = function(e) {
cc.director.emit(b.UPDATE_HOT_UPDATE_STATUS, e);
};
t.prototype.disableDebugLog = function() {
if (cc.sys.isNative) {
console.log = function() {};
console.log = function() {};
}
};
t.prototype.onDestroy = function() {
cc.director.off(b.refreshUISettings, this.updateUISettings, this);
cc.director.off(b.IP_BLACK_LIST, this.ipBlackListAlert, this);
cc.vv.gameEngineUtil.dumpMemory("Launcher");
};
t.prototype.updateUISettings = function() {
cc.isValid(this.homePageNode) && (this.homePageNode.active = !0);
};
t.prototype.onOpenHomePage = function() {
v.openHomePage();
};
t.prototype.onOpenCustomer = function() {
v.openCustomer();
};
t.prototype.freeMemory = function() {};
t.prototype.dumpMemory = function() {
var e = cc.loader._cache;
Object.keys(e);
};
t.prototype.ipBlackListAlert = function(e) {
var t = e.Ip || "Unknown";
S.default.creatorBlackIpAlert(t);
};
n([ I(cc.Node) ], t.prototype, "bgNode", void 0);
n([ I(cc.Sprite) ], t.prototype, "bgView", void 0);
n([ I(cc.Node) ], t.prototype, "logoNode", void 0);
n([ I(cc.Sprite) ], t.prototype, "logoView", void 0);
n([ I(cc.Node) ], t.prototype, "homePageNode", void 0);
n([ I(cc.Node) ], t.prototype, "customerNode", void 0);
n([ I(cc.Node) ], t.prototype, "magicGirlNode", void 0);
n([ I(cc.Node) ], t.prototype, "magicLightNode", void 0);
n([ I(cc.Node) ], t.prototype, "magicGoodsNode", void 0);
n([ I(cc.Integer) ], t.prototype, "magicGoodsType", void 0);
n([ I(cc.Node) ], t.prototype, "loadingNode", void 0);
n([ I(cc.Layout) ], t.prototype, "loginLayout", void 0);
n([ I(cc.Node) ], t.prototype, "progressBg", void 0);
n([ I(cc.Node) ], t.prototype, "progressMask", void 0);
n([ I(cc.Node) ], t.prototype, "progressLight", void 0);
n([ I(cc.Node) ], t.prototype, "progressBarNode", void 0);
n([ I(cc.Node) ], t.prototype, "versionLabel", void 0);
n([ I(cc.Node) ], t.prototype, "hotStatusLabel", void 0);
n([ I(cc.Node) ], t.prototype, "tipsLabel", void 0);
n([ I(cc.String) ], t.prototype, "_localPackageUrl", void 0);
n([ I(cc.String) ], t.prototype, "_localVersion", void 0);
n([ I(cc.String) ], t.prototype, "_httpHosts", void 0);
n([ I(cc.String) ], t.prototype, "_tcpHosts", void 0);
n([ I(cc.Integer) ], t.prototype, "_updateNewRetryCount", void 0);
n([ I(cc.Integer) ], t.prototype, "_updateNewMaxRetryCount", void 0);
n([ I(cc.Boolean) ], t.prototype, "_readyForLogin", void 0);
n([ I(cc.Integer) ], t.prototype, "_fakeProgressInterval", void 0);
n([ I(cc.Integer) ], t.prototype, "_fakeProgressValue", void 0);
n([ I(cc.Boolean) ], t.prototype, "_hallSceneLoaded", void 0);
return t = n([ k ], t);
}(cc.Component);
i.default = N;
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/BaseFormat": "BaseFormat",
"../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../Script/Localization": "Localization",
"../../Script/ProjectConfig": "ProjectConfig",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"../../Script/Utils/common/RequireManager": "RequireManager",
"./../../Script/GameFramework/ApiMgr": "ApiMgr",
AutoLogin: "AutoLogin",
CommonEventName: "CommonEventName",
CommonFunction: "CommonFunction",
CommonLanguage: "CommonLanguage",
CommonVariable: "CommonVariable",
ErrorLogReport: "ErrorLogReport",
GameEngineUtil: "GameEngineUtil",
LauncherFunction: "LauncherFunction",
LauncherRes: "LauncherRes",
NamingServiceMgr: "NamingServiceMgr",
ProgramInit: "ProgramInit",
UISettingModel: "UISettingModel"
} ],
GameLogin: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "6d3546WNmJGK4ERK5r2qd7t", "GameLogin");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = cc.Button, a = cc.Layout, s = e("CommonFunction"), c = e("AutoLogin"), l = e("../../Script/Audio/CommonAudio"), u = e("../../Script/Audio/CommonAudioMgr"), d = e("LauncherRes"), f = e("LoginPrefabManager"), h = e("TopUpUIMgr"), p = e("CommonEventName"), g = e("../../Script/LocalStorage/LocalStorageUtil"), m = e("GameEngineUtil"), y = e("PreloadSceneMgr"), b = e("../../Script/ProjectConfig"), _ = e("../../Script/UI/CommonPrefabMgr"), v = e("UISettingModel"), S = e("LauncherFunction"), C = e("../../Script/Socket/FastPlayMgr"), w = e("TrackUtil"), A = cc._decorator, R = A.ccclass, T = A.property, E = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.bgNode = null;
t.bgView = null;
t.logoNode = null;
t.logoView = null;
t.homePageNode = null;
t.customerNode = null;
t.loginNode = null;
t.loginLayout = null;
t.signUpNode = null;
t.signUpButton = null;
t.guestLoginNode = null;
t.guestLoginButton = null;
t.accountLoginNode = null;
t.accountLoginButton = null;
t.magicGirlNode = null;
t.magicLightNode = null;
t.magicGoodsNode = null;
t.magicGoodsType = 0;
t.beautfulgirl = null;
t._customerCanClick = !0;
return t;
}
t.prototype.onLoad = function() {
g.default.clearSystemNotic();
g.default.clearBannerNoticeData();
g.default.clearRegisterForGifts();
this.initView();
this.updateUISettings();
this.initEventListener();
this.guestLoginNode, this.accountLoginNode, this.loginNode;
this.initTouch();
y.PreloadSceneWithGameId(b.default.GAME_TYPE.GAME_HALL);
};
t.prototype.start = function() {};
t.prototype.initView = function() {
this.initBgImageView();
if (!v.ishappyaceskin) {
this.initLogoView();
this.initAnimationView();
}
this.initLoginView();
};
t.prototype.initBgAnimagionView = function() {
if (cc.vv.beautifulgame) {
var e = this;
e.bgNode = new cc.Node("bgNode");
e.bgNode.parent = e.node;
if (cc.vv.beautifulgame) {
e.bgNode.width = 1334;
e.bgNode.height = 751;
}
var t = e.bgNode.addComponent(sp.Skeleton), i = d.pathPhoto.launcher_bg, o = C.default.resArr.Login;
o ? o.forEach(function(o) {
var n = i.split("/").pop();
if (o.name == n && o._skeletonJson) {
t.skeletonData = o;
t.setAnimation(0, "animation", !0);
e.resizeBgAnimation();
}
}) : cc.loader.loadRes(i, sp.SkeletonData, function(i, o) {
if (cc.isValid(e.node)) {
t.skeletonData = o;
t.setAnimation(0, "animation", !0);
e.resizeBgAnimation();
}
});
}
};
t.prototype.initBgImageView = function() {
if (cc.vv.beautifulgame) {
var e = this;
e.bgNode = new cc.Node("bgNode");
e.bgNode.parent = e.node;
e.bgView = e.bgNode.addComponent(cc.Sprite);
var t = d.pathPhoto, i = "Login";
if (cc.vv.timi) {
t = d.pathPhotos.timi;
i = "Login_CurSkin";
} else if (cc.vv.yingyangshi) {
t = d.pathPhotos.yingyangshi;
i = "Login_CurSkin";
} else if (cc.vv.haidilao) {
t = d.pathPhotos.haidilao;
i = "Login_CurSkin";
} else if (cc.vv.xiyouji) {
t = d.pathPhotos.xiyouji;
i = "Login_CurSkin";
} else if (cc.vv.wangyi) {
t = d.pathPhotos.wangyi;
i = "Login_CurSkin";
}
var o = C.default.resArr[i];
if (o) o.forEach(function(i) {
var o = t.launcher_bg_happyace;
v.ishappyaceskin || (o = t.launcher_bg);
var n = o.split("/").pop();
if (i.name == n) {
e.bgView.spriteFrame = i;
e.fillFullScreen(e.bgNode);
}
}); else {
var n = d.pathPhoto.launcher_bg_happyace;
v.ishappyaceskin || (n = d.pathPhoto.launcher_bg);
s.setComponentSprite(e.bgView, n, function(t) {
e.fillFullScreen(e.bgNode);
});
}
if (!v.ishappyaceskin) {
var r = d.pathPhoto.paione;
e.paionenode = new cc.Node("paione");
e.paionenode.parent = e.bgNode;
e.paionenode.addComponent(cc.Sprite);
s.setComponentSprite(e.paionenode, r, function(t) {
if (!t && cc.isValid(e.paionenode)) {
e.paionenode.setPosition(-297, 168);
var i = cc.moveBy(1, cc.v2(20, -20)), o = cc.moveBy(1, cc.v2(-20, 20)), n = cc.repeatForever(cc.sequence(i, o));
e.paionenode.runAction(n);
}
});
var a = d.pathPhoto.paitwo;
e.paitwonode = new cc.Node("paitwo");
e.paitwonode.parent = e.bgNode;
e.paitwonode.addComponent(cc.Sprite);
s.setComponentSprite(e.paitwonode, a, function(t) {
if (!t && cc.isValid(e.paitwonode)) {
e.paitwonode.setPosition(420, 120);
var i = cc.moveBy(1, cc.v2(-20, -20)), o = cc.moveBy(1, cc.v2(20, 20)), n = cc.repeatForever(cc.sequence(i, o));
e.paitwonode.runAction(n);
}
});
}
}
};
t.prototype.fillFullScreen = function(e) {
var t = cc.winSize.width, i = cc.winSize.height;
e.width = t;
e.height = i;
};
t.prototype.initLogoView = function() {
var e = this;
e.logoNode = new cc.Node("logoNode");
e.logoNode.parent = e.node;
var t = d.pathPhoto.logo_image;
e.logoView = e.logoNode.addComponent(cc.Sprite);
s.setComponentSprite(e.logoView, t, function(t) {
e.setupLogoPosition();
});
};
t.prototype.setupLogoPosition = function() {
this.logoNode.addComponent(cc.Widget);
var e = this.logoNode.getComponent(cc.Widget);
e.isAlignTop = !0;
e.isAlignLeft = !0;
e.top = 22;
e.left = 58.6;
};
t.prototype.initHomePageView = function() {
var e = this;
e.homePageNode = e.createButton("homePageNode");
e.homePageNode.parent = e.node;
e.setupButtonImage(e.homePageNode, d.pathPhoto.home_page_button_image);
e.homePageNode.on("touchend", function(t) {
e.onHomePageButtonClick();
});
e.setupHomePageButtonPosition();
};
t.prototype.initCustomerView = function() {
var e = this;
e.customerNode = e.createButton("homePageNode");
e.customerNode.parent = e.node;
e.setupButtonImage(e.customerNode, d.pathPhoto.kefu_button_image);
e.customerNode.on("touchend", function(t) {
e.onCustomerButtonClick();
});
e.setupCustomerButtonPosition();
};
t.prototype.setupHomePageButtonPosition = function() {
var e = cc.winSize.width, t = cc.winSize.height;
this.homePageNode.setPosition((e - 100) / 2 - 15, (t - 100) / 2 - 15);
};
t.prototype.setupCustomerButtonPosition = function() {
var e = cc.winSize.width, t = cc.winSize.height;
this.customerNode.setPosition((e - 100) / 2 - 145, (t - 100) / 2 - 15);
};
t.prototype.onHomePageButtonClick = function() {
cc.isValid(this.homePageNode) && b.default.clickManager(this.homePageNode);
this.onOpenHomePage();
};
t.prototype.onCustomerButtonClick = function() {
var e = this;
cc.isValid(e.customerNode) && b.default.clickManager(e.customerNode);
if (e._customerCanClick) {
e._customerCanClick && e.onOpenCustomer();
e._customerCanClick = !1;
e.scheduleOnce(function() {
e._customerCanClick = !0;
}, 1.5);
} else _.default.createToastClick();
};
t.prototype.initLoginView = function() {
var e = this;
e.loginNode = new cc.Node("LoginNode");
var t, i, o = e.loginNode.addComponent(cc.Layout);
o.type = a.Type.HORIZONTAL;
o.resizeMode = a.ResizeMode.CONTAINER;
e.loginNode.parent = e.node;
if (cc.vv.beautifulgame) {
o.spacingX = 170;
t = 314;
i = 94;
} else if (cc.vv.souhu) {
o.spacingX = 50;
t = 220;
i = 86;
}
e.guestLoginNode = e.createButton("guestLoginNode", "beautifulgame/common/font/dialog_text_yellow/txt_guest");
e.guestLoginNode.parent = e.loginNode;
e.setupButtonText(e.guestLoginNode, "Guest");
e.setupButtonImage(e.guestLoginNode, d.pathPhoto.gamelogingusetbg, cc.v2(t, i));
e.guestLoginNode.on("click", function(t) {
m.trackEvent(w.initlogingusetbtnclick);
e.onGuestButtonClick();
});
e.accountLoginNode = e.createButton("accountLoginNode", "beautifulgame/common/font/dialog_btn_text/txt_login");
e.accountLoginNode.parent = e.loginNode;
e.setupButtonText(e.accountLoginNode, "Login");
e.setupButtonImage(e.accountLoginNode, d.pathPhoto.login_guest_btn_image, cc.v2(t, i));
e.accountLoginNode.on("click", function(t) {
m.trackEvent(w.initloginloginbtnclick);
e.onAccountButtonClick();
});
e.signUpNode = e.createButton("signUpNode", "beautifulgame/common/font/dialog_siginout_text/txt_register");
e.signUpNode.parent = e.loginNode;
e.setupButtonText(e.signUpNode, "Register");
e.setupButtonImage(e.signUpNode, d.pathPhoto.login_signup_btn_image, cc.v2(t, i));
e.signUpNode.on("click", function(t) {
m.trackEvent(w.initloginregistbtnclick);
e.onSignUpButtonClick();
});
e.setupLoginViewPosition();
};
t.prototype.setupLoginViewPosition = function() {
cc.winSize.height;
this.loginNode.setPosition(0, -280);
};
t.prototype.initAnimationView = function() {
this.initMagicGirlView();
};
t.prototype.initDihaoGirlView = function() {};
t.prototype.initMagicGirlView = function() {
if (this.beautfulgirl) {
var e = cc.instantiate(this.beautfulgirl);
this.node.addChild(e);
}
};
t.prototype.setupGirlAnimagion = function(e, t, i, o, n) {
if (cc.isValid(this.node)) {
e.skeletonData = o;
e.setAnimation(0, n, !0);
}
};
t.prototype.onSignUpButtonClick = function() {
cc.isValid(this.signUpNode) && b.default.clickManager(this.signUpNode);
this.onRegisterDialog();
};
t.prototype.onGuestButtonClick = function() {
cc.isValid(this.guestLoginNode) && b.default.clickManager(this.guestLoginNode);
this.onGuestLogin();
};
t.prototype.onAccountButtonClick = function() {
cc.isValid(this.accountLoginNode) && b.default.clickManager(this.accountLoginNode);
this.onAccountLogin();
};
t.prototype.createButton = function(e, t) {
var i = new cc.Node(e);
i.setPosition(0, 0);
i.width = 220;
i.height = 86;
var o = i.addComponent(cc.Button);
o.transition = r.Transition.SCALE;
o.zoomScale = 1;
var n = new cc.Node("bg");
n.addComponent(cc.Sprite).type = cc.Sprite.Type.SLICED;
n.parent = i;
var a = new cc.Node("txt"), s = a.addComponent(cc.Label);
if (cc.vv.beautifulgame) {
s.fontSize = 22;
s.node.y = 7;
} else cc.vv.souhu && (s.fontSize = 20);
s.lineHeight = 40;
s.spacingX = -2;
a.parent = i;
this.setupFont(s, t);
return i;
};
t.prototype.setupFont = function(e, t) {
!t || t.length <= 1 || cc.loader.loadRes(t, cc.Font, function(t, i) {
t || cc.isValid(e) && (e.font = i);
});
};
t.prototype.setupButtonSize = function(e, t) {
if (cc.isValid(e)) {
e.width = t.x;
e.height = t.y;
}
};
t.prototype.setupButtonImage = function(e, t, i) {
var o = this, n = e.getChildByName("bg");
s.setComponentSprite(n, t, function(e) {
cc.isValid(n) && i && o.setupButtonSize(n, i);
});
};
t.prototype.setupButtonText = function(e, t) {
e.getChildByName("txt").getComponent(cc.Label).string = t;
};
t.prototype.resizeBgAnimation = function() {
if (this.bgNode) {
var e = cc.winSize.width, t = cc.winSize.height, i = this.bgNode.width, o = this.bgNode.height;
if (i < e || o < t) {
var n = e / i, r = t / o, a = n > r ? n : r;
this.bgNode.scale = a;
}
}
};
t.prototype.initEventListener = function() {
cc.director.on(p.refreshUISettings, this.updateUISettings, this);
};
t.prototype.initTouch = function() {
cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);
};
t.prototype.onAccountLogin = function() {
u.default.playEffect(l.default.common.btnMusic);
f.createPasswordLogin();
};
t.prototype.onGuestLogin = function() {
u.default.playEffect(l.default.common.btnMusic);
c.guestLogin();
};
t.prototype.onRegisterDialog = function() {
u.default.playEffect(l.default.common.btnMusic);
f.createRegister(1);
};
t.prototype.onTestButtonClick = function() {
h.showGameTopUpView();
};
t.prototype.onKeyUp = function(e) {
e.keyCode == cc.macro.KEY.back && m.quitGame();
};
t.prototype.onDestroy = function() {
cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);
cc.director.off(p.refreshUISettings, this.updateUISettings, this);
this.freeMemory("LoginGame");
};
t.prototype.freeMemory = function(e) {};
t.prototype.disableAllButton = function() {
window.buttonClick = !1;
this.schedule(this.enableAllButton, 1, 0, 0);
};
t.prototype.enableAllButton = function() {
window.buttonClick = !0;
};
t.prototype.updateUISettings = function() {};
t.prototype.onOpenHomePage = function() {
S.openHomePage();
};
t.prototype.onOpenCustomer = function() {
S.openCustomer();
};
n([ T(cc.Node) ], t.prototype, "bgNode", void 0);
n([ T(cc.Sprite) ], t.prototype, "bgView", void 0);
n([ T(cc.Node) ], t.prototype, "logoNode", void 0);
n([ T(cc.Sprite) ], t.prototype, "logoView", void 0);
n([ T(cc.Node) ], t.prototype, "homePageNode", void 0);
n([ T(cc.Node) ], t.prototype, "customerNode", void 0);
n([ T(cc.Node) ], t.prototype, "loginNode", void 0);
n([ T(cc.Layout) ], t.prototype, "loginLayout", void 0);
n([ T(cc.Node) ], t.prototype, "signUpNode", void 0);
n([ T(cc.Button) ], t.prototype, "signUpButton", void 0);
n([ T(cc.Node) ], t.prototype, "guestLoginNode", void 0);
n([ T(cc.Button) ], t.prototype, "guestLoginButton", void 0);
n([ T(cc.Node) ], t.prototype, "accountLoginNode", void 0);
n([ T(cc.Button) ], t.prototype, "accountLoginButton", void 0);
n([ T(cc.Node) ], t.prototype, "magicGirlNode", void 0);
n([ T(cc.Node) ], t.prototype, "magicLightNode", void 0);
n([ T(cc.Node) ], t.prototype, "magicGoodsNode", void 0);
n([ T(cc.Integer) ], t.prototype, "magicGoodsType", void 0);
n([ T(cc.Prefab) ], t.prototype, "beautfulgirl", void 0);
return t = n([ R ], t);
}(cc.Component);
i.default = E;
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../Script/ProjectConfig": "ProjectConfig",
"../../Script/Socket/FastPlayMgr": "FastPlayMgr",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
AutoLogin: "AutoLogin",
CommonEventName: "CommonEventName",
CommonFunction: "CommonFunction",
GameEngineUtil: "GameEngineUtil",
LauncherFunction: "LauncherFunction",
LauncherRes: "LauncherRes",
LoginPrefabManager: "LoginPrefabManager",
PreloadSceneMgr: "PreloadSceneMgr",
TopUpUIMgr: "TopUpUIMgr",
TrackUtil: "TrackUtil",
UISettingModel: "UISettingModel"
} ],
GameLog: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "3f8e7PJRd5ApZv2qwEcOhwb", "GameLog");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = cc._decorator, n = (o.ccclass, o.property, function() {
function e() {}
e.testLog = function() {
this.output("my Name is @, and i like @.", [ "Lily", "Lucy" ]);
};
e.output = function(e, t) {
this.stringFormat(e, t);
};
e.stringFormat = function(e, t) {
var i = e;
if (t) if ("object" == typeof t) for (var o in t) void 0 != t[o] && (i = i.replace("@", t[o])); else for (var n = 0; n < arguments.length; n++) void 0 != arguments[n] && (i = i.replace("@", arguments[n]));
return i;
};
return e;
}());
t.exports = n;
i.default = n;
cc._RF.pop();
}, {} ],
GamePayLanguage: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "fc84aq7acZGrJgGpmpUX9LT", "GamePayLanguage");
t.exports = {
Etype: [ "支付宝", "银行卡" ],
payNav: [ "兑换", "收款信息" ],
pay: {
leftTxt1: "收款人姓名：",
leftTxt2: "支付宝账号：",
leftTxt3: "您的手机号：",
zfbName: "请输入姓名",
zfbUser: "请输入支付宝账号",
zfbTel: "请输入手机号",
letTxt1: "拥有金币：",
letTxt2: "（1金币=1元）",
letTxt3: "兑换金额：",
letTxt4: "兑换方式：",
botTxt: "审核通过后兑换3～5分钟内到帐，如未到帐的玩家，请及时和客服取得联系。兑换50～100金币收取2金币手续费；150金币以上收取兑换金币2%为手续费；只支持兑换50的倍数。"
},
exchange: {
bindTxt1: "您尚未绑定支付宝",
bindTxt2: "您已绑定支付宝：",
bindTxt3: "您尚未绑定银行卡",
bindTxt4: "您已绑定银行卡：",
skleftTxt1: "收款人姓名：",
skleftTxt2: "您的手机号：",
skleftTxt3: "银行卡号：",
skleftTxt4: "开户银行：",
skleftTxt5: "开户行支行：",
skleftTxt6: "例如：中国工商银行北京市宣武支行",
yinlianName: "请输入姓名",
yinlianTel: "请输入手机号",
yinlianCard: "请输入银行卡号",
kaihuBank: "请输入开户银行",
kaihuBankChild: "请输入开户行支行",
bottomTxt: "请绑定正确的收款人信息，因为信息不实造成的一切损失将由您个人承担。为了您的账号安全收款信息不可私自更改。",
successTxt1: "恭喜您已成功绑定支付宝。",
successTxt2: "恭喜您已成功绑定银行卡。",
resetBtn1: "重 置",
resetBtn2: "重 置"
},
record: {
lb_time: "兑换时间：",
lb_id: "支付宝账户：",
lb_status: "订单状态：",
lb_price: "兑换金额：",
lb_name: "实名制姓名：",
rt: "您的兑换订单已经进入审核阶段，审核一般不超过24小时，审核通过后3~5分钟内兑换将到账。",
rt_succ: "您的兑换订单已经兑换成功，请注意查看到账情况。",
rt_reset: "兑换失败，您兑换时扣除金额将通过邮件返还，请检查收款账号是否有误。",
tit1: "兑换编号",
tit2: "金额",
tit3: "创建时间",
tit4: "状态",
tit5: "操作"
},
recharge: {
vip_txt1: "<color=#d94245><size=24>在充值系统不稳定时，推荐使用VIP专用充值通道</size></c><br/><color=#fff8ed>添加任何代理商微信可在<color=#fff049>十秒内帮你完成充值</c>",
vip_txt2: "<u>复制</u>",
vip_btn1: "举报代理",
vip_lbID: "我的ID: ",
vip_lbName: "昵称: ",
btn_rechage: "充值",
report: {
txt1: "代理商微信不能为空",
txt2: "投诉内容至少为10个汉字或20个字符",
txt3: "您的投诉已提交，我们会在1～3个工作日左右受理"
},
agent: {
txt1: "姓名：",
txt2: "电话：",
txt3: "QQ：",
txt4: "说明：",
txt5: "请完整填写申请信息",
txt6: "微信："
},
btn_ok: "确定",
txt_finish: "恭喜您已提交成功！",
txt_err1: "充值金额必须为10的倍数",
txt_err2: "充值金额不能为空",
bankCard_tips_err: "注：请填写以下信息提交充值订单，提交后请于30分钟内付款。",
wx: {
txt1: "拥有金币",
txt2: "保险柜",
txt3: "请输入要             的金额",
txt4: "清零",
txt5: "确认购买",
txt6: "<color=#d94245>1.充值比例：1元=1.00金币。2.最低可充值10元</c>",
txt7: "请选择要             的档位",
txt8: "请输入充值金额",
txt9: "请选择充值档位"
},
max_amount: "单笔充值金额不得高于{MaxAmount}元",
min_amount: "单笔充值金额不得低于{MinAmount}元",
place_holder: "可充值{MinAmount}~{MaxAmount}元",
success: {
title: "充值已到账，请查收",
button_txt: "确定"
},
failure: {
title: "充值失败。如有充值问题，请联系在线客服",
title2: "1.若您已付款，金额将在5～30秒后到账；  \n2.若您未付款，请关闭弹窗重新提交申请；\n3.若付款后10分钟仍未到账，请联系客服。",
button_txt: "确定"
}
},
safe: {
txt1: "确认存入",
txt2: "确认取出",
txt3: "重置密码",
txt4: "您还可以通过【修改密码】重新设置密码",
txt5: "提示：设置密码后，取出金币时需要输入密码。而存入金币的操作依然可以正常进行。",
txt6: "设置保险柜密码",
txt_putin_success: "存入成功",
txt_takeout_success: "取出成功",
txt_err1: "存入金额不能为空",
txt_err2: "余额不足",
txt_err3: "取出金额不能为空",
txt_err4: "密码重置成功",
txt_err5: "验证码错误",
txt_err6: "密码错误"
},
report_prize: {
tips: "微信号已复制，2S后跳转微信，长按输入框粘贴即可添加微信好友。",
tips2: "微信号复制失败"
}
};
cc._RF.pop();
}, {} ],
GameRestore: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "05a20Y9sxdNIKQeR1ymLZbb", "GameRestore");
var o, n, r = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}(), a = d(e("../../Script/LocalStorage/LocalStorageUtil")), s = d(e("../../Script/UI/CommonPrefabMgr")), c = d(e("../../Script/ProjectConfig")), l = d(e("../../Script/Socket/FastPlayMgr")), u = d(e("../../Script/GameFramework/ApiMgr"));
d(e("../../Script/Http/HttpErrorManager")), e("../../Game_TeenPatti/Script/Service/Request/TeenPattiSocketMgr");
function d(e) {
return e && e.__esModule ? e : {
default: e
};
}
function f(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var h = e("NewGameInfo"), p = e("ComponentRes"), g = e("GameEngineUtil"), m = e("CommonLanguage"), y = e("ThirdH5Helper"), b = (n = o = function() {
function e() {
f(this, e);
}
r(e, null, [ {
key: "getRoomInfo",
value: function(e, t, i) {
var o = this, n = {
game_id: e,
user_id: a.default.readUserID()
};
console.log("this sendData is" + n.game_id);
u.default.getRoomConfig(n, function(n) {
var r = n.lastGame, s = n.roomIndex, c = n.roomInfoListList;
h.user_h5 = n.userH5;
h.h5_url = n.h5Url;
h.frame_url = n.frameUrl;
i && "function" == typeof i && i();
if (o.isGameIng(r, s)) {
h.updateRoomList(r, c);
a.default.setPlayingGame();
o.createGameRestoreDialog(r, s);
} else {
h.updateRoomList(e, c);
a.default.clearPlayingGame();
t && t();
}
}, function(e) {
e && e.msg && s.default.createToast(e.msg);
i && "function" == typeof i && i();
});
}
}, {
key: "isGameIng",
value: function(e, t) {
return void 0 != e && null != e && "" != e && e.length > 0 && null != t;
}
}, {
key: "createGameRestoreDialog",
value: function(e, t) {
var i = this;
cc.loader.releaseRes(p.prefab.alert);
cc.loader.loadRes(p.prefab.alert, function(o, n) {
if (null != n) {
var r = cc.instantiate(n), a = null;
if (r) {
var l = c.default.getSceneCanvas();
if (cc.isValid(l)) {
l.getChildByName("game_restore_wrap") && l.addChild(r, s.default.layerZOrder.dialog);
}
r.getComponent("SystemDialog") && (a = r.getComponent("SystemDialog"));
i.initRestoreAlert(e, t, a);
}
}
});
}
}, {
key: "initRestoreAlert",
value: function(e, t, i) {
var o = this, n = m.currentlanguage.continuegame.noticecontent;
i && i.init(n, m.currentlanguage.commondialog.btnone, function() {
if (y.isThirdH5Game(e)) {
var t = h.h5_url, i = h.frame_url;
t = g.getGameUrlByH5Url(t, e);
g.openUrlByH5BrowserHasClose(e, t, i);
y.checkGoldLock(e) && a.default.setPlayingGame();
} else o.goBackLastGame(e);
}, void 0, void 0, !0, !1);
}
}, {
key: "goBackLastGame",
value: function(e) {
var t = this;
function i(e) {
if (e) {
var i = e.lastGame, o = e.roomIndex;
if (t.isGameIng(i, o)) {
var n = e.roomInfoListList;
h.updateRoomList(i, n);
a.default.setPlayingGame();
l.default.startGameRestore(i, n[o].id);
} else {
a.default.clearPlayingGame();
s.default.createToast(m.currentlanguage.continuegame.gameisover);
}
} else {
a.default.clearPlayingGame();
s.default.createToast(m.currentlanguage.continuegame.gameisover);
}
}
var o = {
game_id: e,
user_id: a.default.readUserID()
};
u.default.getRoomConfig(o, function(e) {
i(e);
}, function(e) {
e && e.msg && s.default.createToast(e.msg);
});
}
} ]);
return e;
}(), o.restoreObj = {}, n);
t.exports = b;
cc._RF.pop();
}, {
"../../Game_TeenPatti/Script/Service/Request/TeenPattiSocketMgr": "TeenPattiSocketMgr",
"../../Script/GameFramework/ApiMgr": "ApiMgr",
"../../Script/Http/HttpErrorManager": "HttpErrorManager",
"../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../Script/ProjectConfig": "ProjectConfig",
"../../Script/Socket/FastPlayMgr": "FastPlayMgr",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
CommonLanguage: "CommonLanguage",
ComponentRes: "ComponentRes",
GameEngineUtil: "GameEngineUtil",
NewGameInfo: "NewGameInfo",
ThirdH5Helper: "ThirdH5Helper"
} ],
GameRoomBox: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "1bbc8PZABRCF7cDMR3g0d3Y", "GameRoomBox");
var o = r(e("../../Script/ProjectConfig")), n = r(e("../../Script/BaseFormat"));
function r(e) {
return e && e.__esModule ? e : {
default: e
};
}
var a = e("NewGameInfo");
cc.Class({
extends: cc.Component,
properties: {
limit: cc.Label,
base: cc.Label,
labelMultiple: cc.Node,
roomAnim: cc.Node,
roomImg: cc.Node,
baseNode: cc.Node,
lightMask: cc.Node,
lightAnim: cc.Node,
limitNode: cc.Node,
groupNode: cc.Node,
groupNodeBainiu: cc.Node,
bgImgArr: {
default: [],
type: sp.SkeletonData
},
fishBgImgArr: {
default: [],
type: sp.SkeletonData
},
fishAnim: {
default: [],
type: sp.SkeletonData
},
bgPicArr: {
default: [],
type: cc.SpriteFrame
},
baseBainiu: cc.Label,
multipleBainiu: cc.Label
},
start: function() {},
initGameRoom: function() {},
bindRoomData: function(e, t) {
cc.vv.beautifulgame ? this.bindHeiqiRoomData(e, t) : cc.vv.souhu && this.bindBiduoRoomData(e, t);
},
bindHeiqiRoomData: function(e, t) {
var i = this;
if (cc.isValid(i.node)) {
var n;
n = a.getIndexByRoom(e, t.id);
var r = null;
if (o.default.isFishGame(e)) {
cc.vv.beautifulgame && (r = i.fishBgImgArr[n]);
cc.vv.souhu && (r = i.fishAnim);
} else r = i.bgImgArr[n];
var s = void 0;
i.groupNodeBainiu.opacity = 0;
i.groupNode.opacity = 0;
s = e == o.default.GAME_TYPE.NEW_BAIRENNIUNIU ? i.groupNodeBainiu : i.groupNode;
if (null != r && cc.isValid(i.roomAnim)) {
i.roomAnim.opacity = 255;
if (i.roomAnim.getComponent(sp.Skeleton)) {
i.roomAnim.getComponent(sp.Skeleton).skeletonData = r;
i.roomAnim.getComponent(sp.Skeleton).setAnimation(0, "rc", !1);
i.scheduleOnce(function() {
o.default.isFishGame(e) ? i.bindFishInfo(t, n) : e == o.default.GAME_TYPE.NEW_BAIRENNIUNIU ? i.bindBainiuGameInfo(e, t) : i.bindNormalGameInfo(e, t);
if (cc.isValid(s)) {
s.opacity = 0;
s.scale = .7;
s.stopAllActions();
s.runAction(cc.spawn(cc.fadeIn(.1), cc.scaleTo(.1, 1)));
}
if (1 == t.status) {
cc.isValid(i.lightMask) && (i.lightMask.opacity = 255);
if (cc.isValid(i.lightAnim)) {
i.lightAnim.getComponent(sp.Skeleton).setAnimation(0, "room_text_light", !1);
i.lightAnim.getComponent(sp.Skeleton).setCompleteListener(function() {
i.scheduleOnce(function() {
cc.isValid(i.lightAnim) && i.lightAnim.getComponent(sp.Skeleton).setAnimation(0, "room_text_light", !1);
}, 3);
});
}
} else cc.isValid(i.lightMask) && (i.lightMask.opacity = 0);
}, .3);
i.roomAnim.getComponent(sp.Skeleton).setCompleteListener(function() {
i.roomAnim.getComponent(sp.Skeleton).setAnimation(0, "dj", !0);
});
}
}
}
},
bindBiduoRoomData: function(e, t) {
var i = this;
if (cc.isValid(i.node)) {
var n;
n = a.getIndexByRoom(e, t.id);
if (o.default.isFishGame(e)) {
i.roomImg.active = !1;
i.roomAnim.active = !0;
var r = i.fishAnim;
if (null != r && cc.isValid(i.roomAnim)) {
i.roomAnim.opacity = 255;
if (i.roomAnim.getComponent(sp.Skeleton)) {
i.roomAnim.getComponent(sp.Skeleton).skeletonData = 0 == n ? r[0] : r[1];
i.roomAnim.getComponent(sp.Skeleton).setAnimation(0, [ "shrimp_loop", "clownfish_loop", "whale_loop", "shark_loop" ][n], !0);
i.bindFishInfo(t, n);
cc.isValid(i.groupNode);
}
}
} else {
i.roomImg.active = !0;
i.roomAnim.active = !1;
var s = i.bgPicArr[n];
i.roomImg && i.roomImg.getComponent(cc.Sprite) && (i.roomImg.getComponent(cc.Sprite).spriteFrame = s);
i.scheduleOnce(function() {
e == o.default.GAME_TYPE.NEW_BAIRENNIUNIU ? i.bindBainiuGameInfo(e, t) : i.bindNormalGameInfo(e, t);
if (cc.isValid(i.groupNode)) {
i.groupNode.opacity = 0;
i.groupNode.scale = .7;
i.groupNode.stopAllActions();
i.groupNode.runAction(cc.spawn(cc.fadeIn(.1), cc.scaleTo(.1, 1)));
}
if (1 == t.status) {
if (i.lightMask) {
i.lightMask.active = !0;
i.lightMask.runAction(cc.repeatForever(cc.sequence(cc.fadeOut(.7), cc.fadeIn(.7))));
}
} else i.lightMask && (i.lightMask.active = !1);
}, .3);
}
}
},
bindBainiuGameInfo: function(e, t) {
if (cc.vv.beautifulgame) {
this.groupNodeBainiu.opacity = 255;
var i = t.base / 1e3;
this.baseBainiu.string = n.default.formatAmount(i, 2);
var o = t.multi;
o > 0 ? this.multipleBainiu.string = o + "倍场" : this.multipleBainiu.node.opacity = 0;
} else if (cc.vv.souhu) {
if (cc.isValid(this.baseNode)) {
this.baseNode.opacity = 255;
var r = t.base / 1e3;
if (this.base) {
this.base.node.y = 0;
this.base.string = n.default.formatAmount(r, 2) + "元底分";
}
}
var a = t.multi;
if (a > 0 && cc.isValid(this.labelMultiple)) {
this.labelMultiple.opacity = 255;
this.labelMultiple.y = 65;
var s = this.labelMultiple.getChildByName("str");
if (s) {
s.active = !1;
s.y = 0;
}
var c = this.labelMultiple.getChildByName("numstr");
if (c) {
c.y = 0;
c.getComponent(cc.Label).string = a + "倍场";
c.getComponent(cc.Label).fontSize = 38;
}
} else this.labelMultiple.opacity = 0;
if (this.groupNode && cc.vv.souhu) {
this.groupNode.x = this.groupNode.x - 16;
this.groupNode.y = this.groupNode.y - 100;
}
}
},
bindNormalGameInfo: function(e, t) {
if (cc.isValid(this.node)) {
if (cc.isValid(this.baseNode)) {
this.baseNode.opacity = 255;
var i = t.base / 1e3;
if (this.base) {
this.base.node.y = 0;
this.base.string = n.default.formatAmount(i, 2) + "元底分";
}
}
if (this.limit && this.limitNode) {
var o = t.enterLimit / 1e3;
t.credit < 1 ? this.limit.string = n.default.formatAmount(o, 2) : this.limit.string = n.default.formatAmount(o, 0);
this.limitNode.opacity = 255;
this.limitNode.y = -35;
}
var r = t.multi;
if (r > 0 && cc.isValid(this.labelMultiple)) {
this.labelMultiple.opacity = 255;
this.labelMultiple.y = 65;
var a = this.labelMultiple.getChildByName("str");
if (a) {
a.active = !1;
a.y = 0;
}
var s = this.labelMultiple.getChildByName("numstr");
if (s) {
s.y = 0;
s.getComponent(cc.Label).string = r + "倍场";
s.getComponent(cc.Label).fontSize = 38;
}
} else this.labelMultiple.opacity = 0;
if (this.groupNode && cc.vv.souhu) {
this.groupNode.x = this.groupNode.x - 16;
this.groupNode.y = this.groupNode.y - 50;
}
}
},
bindFishInfo: function(e, t) {
if (cc.isValid(this.node)) {
var i = (e.base || 0) / 1e3, o = 10 * i;
if (cc.isValid(this.baseNode)) {
this.baseNode.opacity = 255;
if (this.base) {
this.base.node.y = -3;
this.base.string = e.name;
}
}
if (this.limit && this.limitNode) {
this.limit.string = e.enterLimit / 1e3;
this.limitNode.opacity = 255;
this.limitNode.y = -30;
}
if (cc.isValid(this.labelMultiple)) {
this.labelMultiple.opacity = 255;
this.labelMultiple.y = 62;
var n = this.labelMultiple.getChildByName("str");
if (n) {
n.active = !0;
n.y = -9;
}
var r = this.labelMultiple.getChildByName("numstr");
if (r) {
r.y = -9;
r.getComponent(cc.Label).string = i + "-" + o + "元";
cc.vv.beautifulgame ? r.getComponent(cc.Label).fontSize = 34 : cc.vv.souhu && (r.getComponent(cc.Label).fontSize = 26);
}
} else this.labelMultiple.opacity = 0;
}
}
});
cc._RF.pop();
}, {
"../../Script/BaseFormat": "BaseFormat",
"../../Script/ProjectConfig": "ProjectConfig",
NewGameInfo: "NewGameInfo"
} ],
GameRoomItemTeenpatti: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "99a4ccC3apA2bAtG/hijv9t", "GameRoomItemTeenpatti");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = e("../../Script/ProjectConfig"), a = e("NewGameInfo"), s = cc._decorator, c = s.ccclass, l = s.property, u = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.teenpattiimgs = [];
return t;
}
t.prototype.onLoad = function() {};
t.prototype.start = function() {};
t.prototype.bindRoomData = function(e, t) {
if (cc.isValid(this.node)) {
var i;
if (-1 != (i = a.getIndexByRoom(e, t.id)) && i < this.teenpattiimgs.length) {
var o = this.node.getChildByName("gameroomsprite");
if (cc.isValid(o)) {
o.getComponent(cc.Sprite).spriteFrame = this.teenpattiimgs[i];
}
}
var n = cc.find("minentryview/minentry", this.node), s = cc.find("bootvalueview/bootvalue", this.node), c = cc.find("bootvalueview/bootvalue_title", this.node), l = this.node.getChildByName("roomname");
if (cc.isValid(c)) {
var u = c.getComponent(cc.Label);
e == r.default.GAME_TYPE.TEENPATTI ? u.string = "Boot Value: " : e == r.default.GAME_TYPE.RUMMY && (u.string = "Point Value: ");
}
if (cc.isValid(n) && cc.isValid(s) && t && -1 != i) {
var d = t.enterLimitList[0], f = (t.enterLimitList[1], t.base), h = n.getComponent(cc.Label), p = s.getComponent(cc.Label);
l.getComponent(cc.Label).string = t.name;
h.string = -1 == d ? "no limit" : " ₹" + (d / 1e3).toString();
p.string = " ₹" + (f / 1e3).toString();
}
}
};
n([ l(cc.SpriteFrame) ], t.prototype, "teenpattiimgs", void 0);
return t = n([ c ], t);
}(cc.Component);
i.default = u;
cc._RF.pop();
}, {
"../../Script/ProjectConfig": "ProjectConfig",
NewGameInfo: "NewGameInfo"
} ],
GameRoomItem: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "2fe093uR5xFBJ45eAzvR13D", "GameRoomItem");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = e("NewGameInfo"), a = cc._decorator, s = a.ccclass, c = a.property, l = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.teenpattiimgs = [];
return t;
}
t.prototype.onLoad = function() {};
t.prototype.start = function() {};
t.prototype.bindRoomData = function(e, t) {
if (cc.isValid(this.node)) {
var i;
i = r.getIndexByRoom(e, t.id);
var o = cc.find("minentryview/minentry", this.node), n = cc.find("bootview/bootvalue", this.node);
if (-1 != i && i < this.teenpattiimgs.length) {
var a = this.node.getChildByName("gameroomsprite");
if (cc.isValid(a)) {
a.getComponent(cc.Sprite).spriteFrame = this.teenpattiimgs[i];
}
if (cc.isValid(o) && cc.isValid(n)) {
var s = o.getComponent(cc.LabelOutline), c = n.getComponent(cc.LabelOutline);
if (1 == i) {
s.color = new cc.Color().fromHEX("#49073f");
c.color = new cc.Color().fromHEX("#49073f");
} else if (2 == i) {
s.color = new cc.Color().fromHEX("#502207");
c.color = new cc.Color().fromHEX("#502207");
}
}
}
if (cc.isValid(o) && cc.isValid(n) && t && -1 != i) {
var l = t.enterLimitList[0], u = (t.enterLimitList[1], t.base), d = o.getComponent(cc.Label), f = n.getComponent(cc.Label);
if (0 == i) {
d.string = -1 == l ? "no limit" : "₹" + (l / 1e3).toString();
f.string = (u / 1e3).toString();
} else if (1 == i) {
d.string = -1 == l ? "no limit" : "₹" + (l / 1e3).toString();
f.string = (u / 1e3).toString();
} else if (2 == i) {
d.string = -1 == l ? "no limit" : "₹" + (l / 1e3).toString();
f.string = "₹" + (u / 1e3).toString();
}
}
}
};
n([ c(cc.SpriteFrame) ], t.prototype, "teenpattiimgs", void 0);
return t = n([ s ], t);
}(cc.Component);
i.default = l;
cc._RF.pop();
}, {
NewGameInfo: "NewGameInfo"
} ],
GameRoomLogic: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "edcd7LSii5KKbDawTXdDlzv", "GameRoomLogic");
var o, n, r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
return typeof e;
} : function(e) {
return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e;
}, a = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}(), s = p(e("../../Script/Audio/CommonAudioMgr")), c = p(e("../../Script/Audio/CommonAudio")), l = p(e("../../Script/UI/CommonPrefabMgr")), u = p(e("../../Script/Socket/FastPlayMgr")), d = p(e("../../Script/UserManager")), f = p(e("../../Script/ProjectConfig")), h = p(e("../../Script/BaseFormat"));
function p(e) {
return e && e.__esModule ? e : {
default: e
};
}
function g(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
e("CommonEventName");
var m = e("NewGameInfo"), y = e("CommonFunction"), b = e("HallRes"), _ = e("GameEngineUtil"), v = e("TrackUtil"), S = e("TopUpUIMgr"), C = (n = o = function() {
function e() {
g(this, e);
}
a(e, null, [ {
key: "getRoomPositionList",
value: function(e) {
return this.roomPositionList_beautifulgame;
}
}, {
key: "backToHall",
value: function() {
s.default.playEffect(c.default.common.btnMusic);
u.default.runGameWithID(f.default.GAME_TYPE.GAME_HALL, !1);
}
}, {
key: "getRoomPosition",
value: function(e, t) {
var i = this.getRoomPositionList(t);
if (i) {
var o = null;
1 == e ? o = i.oneRoom : 2 == e ? o = i.twoRoom : 3 == e ? o = i.threeRoom : 4 == e && (o = i.fourRoom);
return o;
}
}
}, {
key: "getRoomPre",
value: function(e, t, i, o) {
var n = e[o];
if (n) return n;
}
}, {
key: "runGameWithID",
value: function(e) {
u.default.runGameWithID(e, !1);
}
}, {
key: "bindRoomContent",
value: function(e, t, i, o) {
var n = this, a = this;
a.isCanTouch = !0;
var p = b.pathPrefab, g = u.default.resArr.Hall, C = void 0;
g && g.forEach(function(e) {
var t = p.gameSg.split("/").pop();
e.name == t && (C = e);
});
var w;
if (null != (w = m.getSeeRoomList(e)) && void 0 != w) {
var A = this.getRoomPosition(w.length, e);
if (null != A && void 0 != A) {
for (var R = 0, T = 0, E = function(o) {
var r = w[o];
if (null == r || void 0 == r) return {
v: void 0
};
var u = n.getRoomPre(t, r, e, R);
if (null == u || void 0 == u) return {
v: void 0
};
R += 1;
var p = A[o].x, g = A[o].y;
u.setPosition(cc.v2(p, g));
i.addChild(u);
u.getComponent("GameRoomItem").bindRoomData(e, r);
if (C) {
var b = cc.instantiate(C), E = 3 * (w.length - 1);
b.getComponent("SgView").init(1, 3, E, T);
T += 3;
u.addChild(b);
}
u.on(cc.Node.EventType.TOUCH_END, function(t) {
e == f.default.GAME_TYPE.TEENPATTI && (0 == r.id ? _.trackEvent(v.teenpatticlassicroomonclick) : 1 == r.id ? _.trackEvent(v.teenpattiproroomclick) : 2 == r.id && _.trackEvent(v.teenpattihighroomclick));
if (a.isCanTouch) {
s.default.playEffect(c.default.common.btnMusic);
if (y.checkNetwork()) {
var i;
m.current = {
gameID: e,
room: r.id
};
var o = r.enterLimitList[0], n = r.enterLimitList[1], u = h.default.foramtGold(d.default.coin);
i = h.default.foramtGold(o);
var p = h.default.foramtGold(n);
cc.log("this enterLimit" + i + "******coin" + u);
if (e == f.default.GAME_TYPE.NEW_BAIRENNIUNIU || e == f.default.GAME_TYPE.NEW_LONGHUDOU) this.runGameWithID(e); else if (u < i) d.default.is_formal ? l.default.createRechargeAlert(i, function() {
S.showGameTopUpView();
}) : l.default.createGuesterRegisterAlert(i, function() {
l.default.createRegisterForGifts();
}); else if (u > p) if (-1 == n) {
m.isReconnect = !1;
this.runGameWithID(e);
} else l.default.createChangeRoomToast(); else {
m.isReconnect = !1;
this.runGameWithID(e);
}
a.isCanTouch = !1;
a.startCounting();
}
} else l.default.createToastClick();
}.bind(n));
}, M = 0; M < w.length; M++) {
var P = E(M);
if ("object" === ("undefined" == typeof P ? "undefined" : r(P))) return P.v;
}
var k = setTimeout(function() {
o && o();
clearInterval(k);
}, 700);
}
}
}
}, {
key: "startCounting",
value: function() {
var e = this, t = setTimeout(function() {
e.isCanTouch = !0;
clearTimeout(t);
}, 1500);
}
} ]);
return e;
}(), o.isCanTouch = !0, o.roomPositionList_handsome = {
oneRoom: [ {
x: 0,
y: 15
} ],
twoRoom: [ {
x: -170,
y: 15
}, {
x: 170,
y: 15
} ],
threeRoom: [ {
x: -355,
y: -25
}, {
x: 0,
y: -25
}, {
x: 355,
y: -25
} ],
fourRoom: [ {
x: -453,
y: 15
}, {
x: -151,
y: 15
}, {
x: 151,
y: 15
}, {
x: 453,
y: 15
} ]
}, o.roomPositionList_beautifulgame = {
oneRoom: [ {
x: 0,
y: 15
} ],
twoRoom: [ {
x: -190,
y: 15
}, {
x: 190,
y: 15
} ],
threeRoom: [ {
x: -371.5,
y: 15
}, {
x: 0,
y: 15
}, {
x: 371.5,
y: 15
} ],
fourRoom: [ {
x: -469,
y: -106
}, {
x: -157,
y: -106
}, {
x: 157,
y: -106
}, {
x: 469,
y: -106
} ]
}, n);
t.exports = C;
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/BaseFormat": "BaseFormat",
"../../Script/ProjectConfig": "ProjectConfig",
"../../Script/Socket/FastPlayMgr": "FastPlayMgr",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"../../Script/UserManager": "UserManager",
CommonEventName: "CommonEventName",
CommonFunction: "CommonFunction",
GameEngineUtil: "GameEngineUtil",
HallRes: "HallRes",
NewGameInfo: "NewGameInfo",
TopUpUIMgr: "TopUpUIMgr",
TrackUtil: "TrackUtil"
} ],
GameRoom: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "eaeb9kktAVI2LalKoWT47im", "GameRoom");
var o = c(e("../../Script/Audio/CommonAudioMgr")), n = c(e("../../Script/Audio/CommonAudio")), r = c(e("../../Script/LocalStorage/LocalStorageUtil")), a = c(e("../../Script/ProjectConfig")), s = c(e("../../Script/UI/CommonPrefabMgr"));
function c(e) {
return e && e.__esModule ? e : {
default: e
};
}
var l = e("GameRoomLogic"), u = e("PreloadSceneMgr"), d = e("UISettingModel"), f = e("LauncherModel"), h = e("NewGameInfo"), p = (e("HomeMenu"), 
e("GameEngineUtil")), g = e("TrackUtil");
cc.Class({
extends: cc.Component,
properties: {
prefabRule: cc.Prefab,
prefabRoomBox: cc.Prefab,
prefabRoomBoxTeenpatti: cc.Prefab,
menuWrap: cc.Node,
ruleNode: cc.Node,
backNode: cc.Node,
gameTitleNode: cc.Sprite,
titleSpriteFrames: {
type: cc.SpriteFrame,
default: []
},
menuBarNode: cc.Node,
_callBack: null
},
init: function(e) {
cc.director.emit("SHOW_USERINFO_FOR_ROOM");
cc.director.emit("HIDE_TOP_FRAME");
"function" == typeof e && (this._callBack = e);
this.menuWrap.setPosition(cc.v2(cc.winSize.width, 0));
},
onLoad: function() {
var e = cc.director.getScene();
this._mask = e.getChildByName("mask");
var t = r.default.readGameType();
this.initUI(t);
t == a.default.GAME_TYPE.TEENPATTI && p.trackEvent(g.teenpattiroomopenevent);
this.isShowRuleNode(parseInt(t));
this.bindGameSprite(t);
cc.isValid(this.ruleNode) && (this.ruleNode.active = !1);
cc.isValid(this.backNode) && (this.backNode.active = !1);
},
playAnim: function() {
this.menuWrap.runAction(cc.moveTo(.3, 0, 0)).easing(cc.easeOut(10));
},
initUI: function(e) {
this.bindRoomContent(e);
u.PreloadSceneWithGameId(e);
u.PreloadSceneWithGameId(a.default.GAME_TYPE.GAME_HALL);
},
isShowRuleNode: function(e) {
a.default.isFishGame(e) ? this.ruleNode.active = !1 : this.ruleNode.active = !0;
},
bindGameSprite: function(e) {
e = parseInt(e);
var t = this.titleSpriteFrames[0];
switch (e) {
case a.default.GAME_TYPE.NEWDOUDIZHU:
t = this.titleSpriteFrames[2];
break;

case a.default.GAME_TYPE.CATTLE:
t = this.titleSpriteFrames[9];
break;

case a.default.GAME_TYPE.TEENPATTI:
t = this.titleSpriteFrames[0];
break;

case a.default.GAME_TYPE.FISH:
case a.default.GAME_TYPE.NEW_FISHING:
case a.default.GAME_TYPE.RUMMY:
t = this.titleSpriteFrames[1];
break;

case a.default.GAME_TYPE.WATERMARGIN:
t = this.titleSpriteFrames[6];
break;

case a.default.GAME_TYPE.BLOODCATTLE:
t = this.titleSpriteFrames[7];
break;

case a.default.GAME_TYPE.PAIGOW:
t = this.titleSpriteFrames[10];

default:
!1;
}
if (this.gameTitleNode) {
this.gameTitleNode.node.active = !0;
this.gameTitleNode.spriteFrame = t;
}
},
bindRoomContent: function(e) {
var t = this, i = [ cc.instantiate(t.prefabRoomBox), cc.instantiate(t.prefabRoomBox), cc.instantiate(t.prefabRoomBox), cc.instantiate(t.prefabRoomBox) ];
d.isGuidance && f.user_is_new && this._openMask();
cc.isValid(t.menuWrap) && l.bindRoomContent(e, i, t.menuWrap, function() {
if (d.isGuidance && f.user_is_new) if (cc.isValid(t.menuWrap)) {
var e = t.menuWrap.children[0];
e ? s.default.createCompelGuidanceWithRoom(e, function() {
s.default.closeCompelGuidance();
}, function() {
t._cancelMask();
}) : t._cancelMask();
} else t._cancelMask();
});
},
_cancelMask: function() {
this._mask && cc.isValid(this._mask) && (this._mask.active = !1);
},
_openMask: function() {
cc.isValid(this._mask) && (this._mask.active = !0);
},
onBackClick: function() {
var e = this;
e.gameID == a.default.GAME_TYPE.TEENPATTI && p.trackEvent(g.teenpattiroombackclick);
o.default.playEffect(n.default.common.btnMusic);
r.default.saveGameType(0);
e.menuWrap.stopAllActions();
e.menuWrap.runAction(cc.sequence(cc.moveTo(.3, cc.winSize.width, 0), cc.callFunc(function() {
h.marqueeGameId = a.default.GAME_TYPE.GAME_HALL;
cc.director.emit("SHOW_USERINFO_FOR_HALL");
cc.director.emit("SHOW_TOP_FRAME");
e._callBack && e._callBack();
}))).easing(cc.easeIn(3));
},
onRuleClick: function(e) {
a.default.clickManager(e.target);
o.default.playEffect(n.default.common.btnMusic);
this.gameID == a.default.GAME_TYPE.TEENPATTI && p.trackEvent(g.teenpattiroomhelpclick);
var t = r.default.readGameType(), i = cc.instantiate(this.prefabRule);
i.getComponent("RuleTeenpatti") && i.getComponent("RuleTeenpatti").init(800, parseInt(t));
}
});
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../Script/ProjectConfig": "ProjectConfig",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
GameEngineUtil: "GameEngineUtil",
GameRoomLogic: "GameRoomLogic",
HomeMenu: "HomeMenu",
LauncherModel: "LauncherModel",
NewGameInfo: "NewGameInfo",
PreloadSceneMgr: "PreloadSceneMgr",
TrackUtil: "TrackUtil",
UISettingModel: "UISettingModel"
} ],
GameStatusModel: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "fce56FalIBFi7Z4COd0ojKe", "GameStatusModel");
var o, n, r = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("../../Script/ProjectConfig"));
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var s = (n = o = function e(t, i) {
a(this, e);
this.gameName = t.name || "";
this.tag = t.tag || 0;
this.tag_hot = t.tag_hot || 0;
this.tag_event = t.tag_event || 0;
this.tag_new = t.tag_new || 0;
this.tag_earth = t.tag_earth || 0;
this.icon = t.icon || "";
this.layout = i || 0;
this.gameId = r.default.getGameIdWithGameName(this.gameName);
}, o.gameName = "", o.tag = 0, o.tag_hot = 0, o.tag_event = 0, o.tag_new = 0, o.icon = "", 
o.layout = 0, o.gameId = 0, o.tag_earth = 0, n);
t.exports = s;
cc._RF.pop();
}, {
"../../Script/ProjectConfig": "ProjectConfig"
} ],
GameType: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "16994swnUxAQrLhyyPImPZL", "GameType");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o;
(function(e) {
e[e.GAME_HALL = 0] = "GAME_HALL";
e[e.KEFU = 7] = "KEFU";
e[e.LOGIN = 8] = "LOGIN";
e[e.LAUNCHER = 9] = "LAUNCHER";
e[e.GAME_ROOM = 10] = "GAME_ROOM";
e[e.FISH = 101] = "FISH";
e[e.TEENPATTI = 102] = "TEENPATTI";
e[e.BRCFLOWER = 103] = "BRCFLOWER";
e[e.RUMMY = 110] = "RUMMY";
e[e.NAMING_SERVICE = 1e3] = "NAMING_SERVICE";
})(o || (o = {}));
i.default = o;
cc._RF.pop();
}, {} ],
GameUtil: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "9b88cumqu1OBLOfvc7R6PgE", "GameUtil");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = e("../Reference/CommonDepend"), n = o.default.GameType, r = o.default.NewGameInfo, a = function() {
function e() {}
e.prototype.getSocketNameByGameId = function(e) {
var t = "";
switch (e) {
case n.GAME_HALL:
t = "hall";
break;

case n.KEFU:
t = "CustomerService";
break;

case n.WATERMARGIN:
t = "watermargin";
break;

case n.FISH:
t = "fish";
break;

case n.NEWDOUDIZHU:
t = "landLord";
break;

case n.TEENPATTI:
t = "TeenPatti";
break;

case n.CATTLE:
t = "qznn";
break;

case n.NEW_BAIRENNIUNIU:
t = "brnn";
break;

case n.NEW_LONGHUDOU:
t = "lhd";
break;

case n.NEW_REDBLACK:
t = "redblack";
break;

case n.NEW_SHARK:
t = "shark";
break;

case n.BLOODCATTLE:
t = "blood";
break;

case n.NAMING_SERVICE:
t = "naming";
break;

case n.PAIGOW:
t = "paigow";
break;

case n.BRCFLOWER:
t = "brc_flower";
break;

case n.RUMMY:
t = "rummy";
}
return t;
};
e.prototype.getSocketUrlListByGameId = function(e) {
return r.getGameWsServer(e);
};
return e;
}();
i.default = a;
cc._RF.pop();
}, {
"../Reference/CommonDepend": "CommonDepend"
} ],
GeneralMessageModel: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "2c80bSzc79M85pqQlQo15V9", "GeneralMessageModel");
var o, n;
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var a = (n = o = function e(t, i) {
r(this, e);
if (i) {
var o = t.o_msg, n = t.m_type;
this.msg_type = n;
if (o) {
this.text = o.text || "";
this.time = o.time || 0;
o.fromuserinfo && (this.sendUid = o.fromuserinfo.uid || 0);
null != o.touserinfo && (this.receiveUid = o.touserinfo.uid || 0);
}
} else {
this.msg_type = t.type || 1;
this.text = t.text || 0;
this.time = t.time || 0;
null != t.fromuserinfo && (this.sendUid = t.fromuserinfo.uid || 0);
null != t.touserinfo && (this.receiveUid = t.touserinfo.uid || 0);
}
}, o.msg_type = 1, o.text = 0, o.time = 0, o.sendUid = 0, o.receiveUid = 0, n);
t.exports = a;
cc._RF.pop();
}, {} ],
GeneralMessage: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "5d70dlzrUBNCKPWCetOMMQQ", "GeneralMessage");
var o = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("../../Script/UI/CommonPrefabMgr"));
e("MessageGlobal");
var n = e("GameEngineUtil");
cc.Class({
extends: cc.Component,
properties: {
contentText: cc.Label,
_intervaltimer: 0,
_startCounting: !1,
_contentTextStr: ""
},
init: function(e, t) {
var i = this;
e.text && (i._contentTextStr = e.text);
i.contentText && (i.contentText.overflow = cc.Label.Overflow.NONE);
if (i._contentTextStr.length >= 20) {
i.contentText && (i.contentText.overflow = cc.Label.Overflow.RESIZE_HEIGHT);
i.contentText.node.width = 520;
} else i.contentText && (i.contentText.overflow = cc.Label.Overflow.NONE);
i.contentText.string = i._contentTextStr;
if (cc.vv.souhu) if (t) {
i.contentText.node.color = new cc.Color(255, 255, 255);
i.contentText.color = new cc.Color(255, 255, 255);
} else {
i.contentText.node.color = new cc.Color(0, 0, 0);
i.contentText.color = new cc.Color(0, 0, 0);
}
i.contentText.node.on("touchstart", function(e) {
e.stopPropagation();
if (!1 === MessageProjectConfig.scrolling) {
i._intervaltimer = 0;
i._startCounting = !0;
}
});
i.contentText.node.on("touchend", function(e) {
e.stopPropagation();
i._intervaltimer = 0;
i._startCounting = !1;
});
},
update: function(e) {
if (this._startCounting && !1 === MessageProjectConfig.scrolling) {
this._intervaltimer += e;
if (this._intervaltimer >= 1.5) {
o.default.createToast("复制成功");
n.copyText(this._contentTextStr);
this._intervaltimer = 0;
this._startCounting = !1;
}
} else {
this._startCounting = !1;
this._intervaltimer = 0;
}
},
resizeLabel: function() {
var e = this.contentText;
if (e.node) {
e.getComponent(cc.Label) && (e.getComponent(cc.Label).overflow = cc.Label.Overflow.NONE);
if (e.node.width >= this.maxWidth) {
e.getComponent(cc.Label) && (e.getComponent(cc.Label).overflow = cc.Label.Overflow.RESIZE_HEIGHT);
e.node.width = this.maxWidth;
}
}
}
});
cc._RF.pop();
}, {
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
GameEngineUtil: "GameEngineUtil",
MessageGlobal: "MessageGlobal"
} ],
GraphValidCode: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "0cff7WRXTNGJq7bzrwkiyyn", "GraphValidCode");
var o = a(e("../../Script/UI/CommonPrefabMgr")), n = a(e("../../Script/ProjectConfig")), r = a(e("./../../Script/GameFramework/ApiMgr"));
function a(e) {
return e && e.__esModule ? e : {
default: e
};
}
var s = e("NewGameInfo"), c = e("DialogUtil");
cc.Class({
extends: cc.Component,
properties: {
validCodeEdit: cc.EditBox,
pic: cc.Sprite
},
init: function(e, t, i) {
this.target = e;
this.phone = t;
this.successCallback = i;
this.onGetValidCodeClick();
this.showDialog();
},
showDialog: function() {
c.addNormalDialog(this.node, null, {
bindDialog: !0
});
},
onGetValidCodeClick: function() {
var e = this, t = {
target: e.target,
phone: e.phone
};
r.default.getGraphValidCode(t, function(t) {
var i = e.generatePicUrl(t.pic);
cc.loader.load(i, function(t, i) {
if (i) {
var o = new cc.SpriteFrame(i);
e.pic && (e.pic.spriteFrame = o);
}
});
}, null);
},
generatePicUrl: function(e) {
return s.gameServer[n.default.GAME_TYPE.GAME_HALL] + e;
},
onConfirmClick: function() {
var e = this.validCodeEdit.string;
"" == e ? o.default.createToast("请输入验证码") : this.checkValidCode(e);
},
onCancelClick: function() {
c.removeNormalDialogByIns(this.node.dialog);
},
checkValidCode: function(e) {
var t = this, i = {
code: e,
phone: t.phone
};
r.default.checkGraphValidCode(i, function(i) {
i.valid ? t.successCallback(e) : o.default.createToast("验证码错误");
}, function(e) {
o.default.createToast("验证码错误");
});
}
});
cc._RF.pop();
}, {
"../../Script/ProjectConfig": "ProjectConfig",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"./../../Script/GameFramework/ApiMgr": "ApiMgr",
DialogUtil: "DialogUtil",
NewGameInfo: "NewGameInfo"
} ],
GuideRegister: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "634c3YIBlZB6YGDvTU+I13j", "GuideRegister");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = e("../../../../Script/UI/CommonPrefabMgr"), a = e("CommonEventName"), s = e("../../../../Script/Audio/CommonAudio"), c = e("../../../../Script/Audio/CommonAudioMgr"), l = e("../../../../Script/LocalStorage/LocalStorageUtil"), u = e("../../../../Script/UserManager"), d = e("ValidCodeEnum"), f = e("AutoLoginUtil"), h = e("FormatCheckUtil"), p = (e("DialogUtil"), 
e("../../../../Script/ProjectConfig")), g = e("AutoLogin"), m = e("LoginPrefabManager"), y = (e("LauncherRes"), 
e("FullScreenAdapter"), e("TrackUtil")), b = e("GameEngineUtil"), _ = e("CommonLanguage"), v = e("./../../../../Script/GameFramework/ApiMgr"), S = cc._decorator, C = S.ccclass, w = S.property, A = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.phoneNumberEdit = null;
t.validCodeEdit = null;
t.pwdEdit = null;
t.getCodeNode = null;
t.validCodePrefab = null;
t.phoneeditBegin = !0;
t.phoneeditChanged = !0;
t.verycodeeditChanged = !0;
t.passwordcodeeditChanged = !0;
t.scenetype = 0;
return t;
}
t.prototype.onLoad = function() {
var e = l.default.getFormalUserAccount();
e && (this.phoneNumberEdit.string = e);
this.validCodeNode = cc.instantiate(this.validCodePrefab);
cc.isValid(this.getCodeNode) && this.getCodeNode.addChild(this.validCodeNode);
this.validCodeNode.getComponent("PhoneValidCode").init(this.onGetPhoneCodeParam.bind(this));
};
t.prototype.init = function(e, t) {
b.trackEvent(y.openregistgiftevent);
var i = cc.director.getScene().getChildByName("Canvas");
cc.isValid(i) && i.addChild(this.node, e);
t && (this.scenetype = t);
};
t.prototype.start = function() {};
t.prototype.onGetPhoneCodeParam = function() {
return {
target: d.target.REGISTER,
phone: this.phoneNumberEdit.string,
quick_fail: 1
};
};
t.prototype.closeDialog = function() {
c.default.playEffect(s.default.common.btnMusic);
if (this.node) {
var e = this.node.getComponent("CommonDialog");
if (e) e.dismiss(); else {
this.node.active = !1;
this.node.removeFromParent();
}
}
};
t.prototype.onCloseClick = function() {
b.trackEvent(y.guideregistercloseclick);
this.closeDialog();
};
t.prototype.onFormalUserClick = function(e) {
var t = this;
p.default.clickManager(e.target);
c.default.playEffect(s.default.common.btnMusic);
b.trackEvent(y.guideregistclaimbtnonclick);
var i = t.phoneNumberEdit ? t.phoneNumberEdit.string : "", o = t.pwdEdit.string;
if (h.checkPhoneNumber(i) && h.checkPassword(o)) {
r.default.createCommonLoading(_.currentlanguage.loading.loadingone);
1 == t.scenetype ? v.default.guestLogin(function(e) {
l.default.saveUserDataEvent(e);
u.default.initAccount();
f.addAccount(e.userId, e.token, null, null);
t.doregisterpost();
}, function(e) {
r.default.removeCommonLoading();
r.default.createToast(_.currentlanguage.registe.gusetloginfail);
}) : t.doregisterpost();
}
};
t.prototype.doregisterpost = function() {
var e = this, t = e.phoneNumberEdit ? e.phoneNumberEdit.string : "", i = l.default.readDeviceID(), o = e.pwdEdit.string;
if (h.checkPhoneNumber(t) && h.checkPassword(o)) {
var n = {
device_id: i,
phone: t,
password: o
};
v.default.register(n, function(i) {
u.default.is_formal = !0;
p.default.isFormalUser = !0;
l.default.saveData("is_youke", "false");
l.default.saveUserDataEvent(i);
u.default.initAccount();
f.addAccount(u.default.uid, u.default.token, t, o);
f.setUpgradeFormalUser();
l.default.saveLastLoginAccount(t);
if (e.node) {
e.node.active = !1;
e.node.removeFromParent();
}
0 == e.scenetype ? cc.director.emit(a.refreshUserInfo) : g.loadGameHallScene(!0);
r.default.removeCommonLoading();
}, function(e) {
r.default.removeCommonLoading();
e && e.msg && r.default.createToast(e.msg);
}, !1);
}
};
t.prototype.onPwdLoginClick = function(e) {
p.default.clickManager(e.target);
b.trackEvent(y.guideregistjumploginonclick);
this.closeDialog();
m.createPasswordLogin();
};
t.prototype.passwordEditDidEndWatcher = function() {
var e = this.pwdEdit.string;
h.checkPassword(e);
};
t.prototype.phoneEditTextBeginWatcher = function() {
if (this.phoneeditBegin) {
this.phoneeditBegin = !1;
b.trackEvent(y.guideregistdialogphonefoucschanged);
}
};
t.prototype.phoneEditTextChangedWatcher = function() {
if (this.phoneeditChanged) {
this.phoneeditChanged = !1;
b.trackEvent(y.guideregistdialogphoneeditchanged);
}
};
t.prototype.verycodeEditTextChangedWatcher = function() {
if (this.verycodeeditChanged) {
this.verycodeeditChanged = !1;
b.trackEvent(y.guideregisterveryinputchanged);
}
};
t.prototype.passwordEditTextChangedWatcher = function() {
if (this.passwordcodeeditChanged) {
this.passwordcodeeditChanged = !1;
b.trackEvent(y.guideregistpasswordinputchanged);
}
};
n([ w(cc.EditBox) ], t.prototype, "phoneNumberEdit", void 0);
n([ w(cc.EditBox) ], t.prototype, "validCodeEdit", void 0);
n([ w(cc.EditBox) ], t.prototype, "pwdEdit", void 0);
n([ w(cc.Node) ], t.prototype, "getCodeNode", void 0);
n([ w(cc.Prefab) ], t.prototype, "validCodePrefab", void 0);
return t = n([ C ], t);
}(cc.Component);
i.default = A;
cc._RF.pop();
}, {
"../../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../../../Script/ProjectConfig": "ProjectConfig",
"../../../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"../../../../Script/UserManager": "UserManager",
"./../../../../Script/GameFramework/ApiMgr": "ApiMgr",
AutoLogin: "AutoLogin",
AutoLoginUtil: "AutoLoginUtil",
CommonEventName: "CommonEventName",
CommonLanguage: "CommonLanguage",
DialogUtil: "DialogUtil",
FormatCheckUtil: "FormatCheckUtil",
FullScreenAdapter: "FullScreenAdapter",
GameEngineUtil: "GameEngineUtil",
LauncherRes: "LauncherRes",
LoginPrefabManager: "LoginPrefabManager",
TrackUtil: "TrackUtil",
ValidCodeEnum: "ValidCodeEnum"
} ],
HallApiDataRequest: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "89305GebqNPP5Q0OflQ2zQT", "HallApiDataRequest");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = cc._decorator, a = r.ccclass, s = r.property, c = e("../../../Script/LocalStorage/LocalStorageUtil"), l = e("CommonEventName"), u = (e("GameEngineUtil"), 
e("./../../../Script/GameFramework/ApiMgr")), d = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.label = null;
t.text = "hello";
return t;
}
t.prototype.onLoad = function() {};
t.prototype.start = function() {};
t.prototype.loadBannerData = function() {
u.default.getBannerNoticeData(function(e) {
e && e.list && c.default.saveBannerNoticeData(e.list);
cc.director.emit(l.HALL_BANNER_DATA_UPDATE);
}, function() {
cc.director.emit(l.HALL_BANNER_DATA_UPDATE);
});
};
n([ s(cc.Label) ], t.prototype, "label", void 0);
n([ s ], t.prototype, "text", void 0);
return t = n([ a ], t);
}(cc.Component);
i.default = d;
cc._RF.pop();
}, {
"../../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"./../../../Script/GameFramework/ApiMgr": "ApiMgr",
CommonEventName: "CommonEventName",
GameEngineUtil: "GameEngineUtil"
} ],
HallAudio: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "c017ae6FbxPpZa6JxAEQ0yY", "HallAudio");
var o, n;
(function(e) {
e && e.__esModule;
})(e("../../../Script/ProjectConfig"));
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var a = (n = o = function e() {
r(this, e);
}, o.FormalUser = [ "handsome/hall/audio/bindIphone_1", "handsome/hall/audio/bindIphone_2", "handsome/hall/audio/bindIphone_3" ], 
o.Bgm = "handsome/hall/audio/hall_moonfest", n);
t.exports = a;
cc._RF.pop();
}, {
"../../../Script/ProjectConfig": "ProjectConfig"
} ],
HallError: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "221043oV+1GcZfV+jsEozKJ", "HallError");
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.exports = function e() {
o(this, e);
};
cc._RF.pop();
}, {} ],
HallModel: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "56a62LaQwZFYJs0e64hJTaS", "HallModel");
var o, n;
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var a = (n = o = function e() {
r(this, e);
}, o.hallSocket = null, o.hallProtoMgr = null, o.hallSocketUrl = "", o.imType = {
BARRAGE: 0,
PACKET: 1,
CHANNE: 2,
BROADCAST: 3,
SPRING: 5,
ERROR: 88,
KICKOUT: 99,
HEARTBEAT: 100,
MASKON: 102
}, o.GameTag = {
NONE: "none",
HOT: "hot",
NEW: "new",
UPDATE: "update",
MONEY: "money",
EVENT: "event"
}, n);
t.exports = a;
cc._RF.pop();
}, {} ],
HallReconnect: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "e8d22Zpzg9Cx6P1vMQ1jotF", "HallReconnect");
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.exports = function e() {
o(this, e);
};
cc._RF.pop();
}, {} ],
HallRes: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "1bf623y4btHL4V3eST1P89l", "HallRes");
var o, n, r = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("../../Script/ProjectConfig"));
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var s = e("HallSkinRes"), c = (n = o = function e() {
a(this, e);
}, o.path = s.path[r.default.variable.curSkin], o.audio = s.audio[r.default.variable.curSkin], 
o.pathPhoto = s.pathPhoto[r.default.variable.curSkin], o.pathPrefab = s.pathPrefab[r.default.variable.curSkin], 
o.audios = s.audio, o.pathPhotos = s.pathPhoto, o.pathPrefabs = s.pathPrefab, n);
t.exports = c;
cc._RF.pop();
}, {
"../../Script/ProjectConfig": "ProjectConfig",
HallSkinRes: "HallSkinRes"
} ],
HallSkinRes: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "ceb1cfgHTlMoJzS+dbK3Ags", "HallSkinRes");
var o, n;
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var a = (n = o = function e() {
r(this, e);
}, o.audio = {
beautifulgame: {
welcomeAudio: [ "beautifulgame/hall/audio/opening/opening1", "beautifulgame/hall/audio/opening/opening2", "beautifulgame/hall/audio/opening/opening3", "beautifulgame/hall/audio/opening/opening4", "beautifulgame/hall/audio/opening/opening5", "beautifulgame/hall/audio/opening/opening6", "beautifulgame/hall/audio/opening/opening7" ],
Bgm: [ "beautifulgame/common/audio/lobby_background" ]
},
handsome: {
welcomeAudio: [ "handsome/hall/audio/opening/welcome_01", "handsome/hall/audio/opening/welcome_02", "handsome/hall/audio/opening/welcome_03", "handsome/hall/audio/opening/welcome_04", "handsome/hall/audio/opening/welcome_01", "handsome/hall/audio/opening/welcome_02", "handsome/hall/audio/opening/welcome_03" ],
Bgm: [ "handsome/common/audio/normal_bgm/hall", "handsome/common/audio/normal_bgm/hall" ]
},
timi: {
Bgm: [ "timi/common/audio/normal_bgm/hall_hy", "timi/common/audio/normal_bgm/hall_hy" ]
},
yingyangshi: {
Bgm: [ "yingyangshi/common/audio/normal_bgm/hall_jj", "yingyangshi/common/audio/normal_bgm/hall_jj" ]
},
haidilao: {
Bgm: [ "haidilao/common/audio/normal_bgm/hall_haidilao", "haidilao/common/audio/normal_bgm/hall_haidilao" ]
},
xiyouji: {
Bgm: [ "xiyouji/common/audio/normal_bgm/hall_lz", "xiyouji/common/audio/normal_bgm/hall_lz" ]
},
wangyi: {
Bgm: [ "wangyi/common/audio/normal_bgm/hall_dh", "wangyi/common/audio/normal_bgm/hall_dh" ]
}
}, o.path = {
beautifulgame: "beautifulgame/hall/texture/",
handsome: "handsome/hall/texture/"
}, o.pathPhoto = {
beautifulgame: {
tipsHot: "beautifulgame/hall/texture/ds_home_tag_hot",
tipsNew: "beautifulgame/hall/texture/ds_home_tag_new",
tipsMoney: "beautifulgame/hall/texture/ds_home_tag_money",
tipsEvent: "beautifulgame/hall/texture/ds_home_tag_huodong",
hallBg: "beautifulgame/hall/texture/ds_hall_bg",
hallIconCoin: "beautifulgame/common/texture/ds_common_dialog_img_coin",
bannerNoticeBg: "beautifulgame/hall/texture/ds_hall_gg_bg"
},
handsome: {
tipsHot: "handsome/hall/texture/bg_game_hall_img_hot",
tipsNew: "handsome/hall/texture/bg_game_hall_img_new",
tipsMoney: "handsome/hall/texture/bg_game_hall_img_earth",
tipsEvent: "handsome/hall/texture/bg_game_hall_img_huodong",
hallBg: "handsome/hall/texture/bd_home_bg",
hallIconCoin: "handsome/hall/texture/bd_hall_icon_coin",
bannerNoticeBg: "handsome/hall/texture/bd_hall_gg_bg"
},
timi: {
tipsHot: "timi/hall/texture/hy_game_hall_img_hot",
tipsNew: "timi/hall/texture/hy_game_hall_img_new",
tipsMoney: "timi/hall/texture/hy_game_hall_img_earth",
tipsEvent: "timi/hall/texture/hy_game_hall_img_huodong",
hallBg: "timi/hall/texture/hy_home_bg"
},
yingyangshi: {
tipsHot: "yingyangshi/hall/texture/jj_game_hall_img_hot",
tipsNew: "yingyangshi/hall/texture/jj_game_hall_img_new",
tipsMoney: "yingyangshi/hall/texture/jj_game_hall_img_earth",
tipsEvent: "yingyangshi/hall/texture/jj_game_hall_img_huodong",
hallBg: "yingyangshi/hall/texture/jj_home_bg"
},
haidilao: {
tipsHot: "haidilao/hall/texture/haidilao_game_hall_img_hot",
tipsNew: "haidilao/hall/texture/haidilao_game_hall_img_new",
tipsMoney: "haidilao/hall/texture/haidilao_game_hall_img_earth",
tipsEvent: "haidilao/hall/texture/haidilao_game_hall_img_huodong",
hallBg: "haidilao/hall/texture/haidilao_home_bg"
},
xiyouji: {
tipsHot: "xiyouji/hall/texture/lz_game_hall_img_hot",
tipsNew: "xiyouji/hall/texture/lz_game_hall_img_new",
tipsMoney: "xiyouji/hall/texture/lz_game_hall_img_earth",
tipsEvent: "xiyouji/hall/texture/lz_game_hall_img_huodong",
hallBg: "xiyouji/hall/texture/lz_home_bg"
},
wangyi: {
tipsHot: "wangyi/hall/texture/dh_game_hall_img_hot",
tipsNew: "wangyi/hall/texture/dh_game_hall_img_new",
tipsMoney: "wangyi/hall/texture/dh_game_hall_img_earth",
tipsEvent: "wangyi/hall/texture/dh_game_hall_img_huodong",
hallBg: "wangyi/hall/texture/dh_home_bg"
}
}, o.pathPrefab = {
beautifulgame: {
menuBarUserInfo: "beautifulgame/hall/prefab/menuBar/MenuBarUserInfo",
menuBarBottom: "beautifulgame/hall/prefab/menuBar/MenuBottom",
menuWrap: "beautifulgame/hall/prefab/MenuWrap",
topFrame: "beautifulgame/hall/prefab/TopFrame",
gameSg: "beautifulgame/hall/prefab/gameSg",
hall_ani_flower: "beautifulgame/hall/prefab/animation/flower",
hall_ani_count_down: "beautifulgame/hall/prefab/animation/count_down",
hall_ani_particle: "beautifulgame/hall/prefab/animation/particle_bd_home",
hall_ani_red: "beautifulgame/hall/prefab/animation/redAnim",
hall_ani_coin: "beautifulgame/hall/prefab/animation/redCoinAnim"
},
handsome: {
menuBarUserInfo: "handsome/hall/prefab/menuBar/MenuBarUserInfo",
menuBarBottom: "handsome/hall/prefab/menuBar/MenuBarBottom",
menuWrap: "handsome/hall/prefab/MenuWrap",
topFrame: "handsome/hall/prefab/TopFrame"
},
timi: {
menuBarUserInfo: "timi/hall/prefab/menuBar/MenuBarUserInfo",
menuBarBottom: "timi/hall/prefab/menuBar/MenuBarBottom",
menuWrap: "timi/hall/prefab/MenuWrap",
topFrame: "timi/hall/prefab/TopFrame"
},
yingyangshi: {
menuBarUserInfo: "yingyangshi/hall/prefab/menuBar/MenuBarUserInfo",
menuBarBottom: "yingyangshi/hall/prefab/menuBar/MenuBarBottom",
menuWrap: "yingyangshi/hall/prefab/MenuWrap",
topFrame: "yingyangshi/hall/prefab/TopFrame"
},
haidilao: {
menuBarUserInfo: "haidilao/hall/prefab/menuBar/MenuBarUserInfo",
menuBarBottom: "haidilao/hall/prefab/menuBar/MenuBarBottom",
menuWrap: "haidilao/hall/prefab/MenuWrap",
topFrame: "haidilao/hall/prefab/TopFrame"
},
xiyouji: {
menuBarUserInfo: "xiyouji/hall/prefab/menuBar/MenuBarUserInfo",
menuBarBottom: "xiyouji/hall/prefab/menuBar/MenuBarBottom",
menuWrap: "xiyouji/hall/prefab/MenuWrap",
topFrame: "xiyouji/hall/prefab/TopFrame"
},
wangyi: {
menuBarUserInfo: "wangyi/hall/prefab/menuBar/MenuBarUserInfo",
menuBarBottom: "wangyi/hall/prefab/menuBar/MenuBarBottom",
menuWrap: "wangyi/hall/prefab/MenuWrap",
topFrame: "wangyi/hall/prefab/TopFrame"
}
}, n);
t.exports = a;
cc._RF.pop();
}, {} ],
HomeMenuView: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "65d31Sl/HpPCo7rkSdJQIOO", "HomeMenuView");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = e("../../../Script/ProjectConfig"), n = (e("CommonFunction"), function() {
function e() {}
e.init = function() {
this.atlasList = {};
this.allResArr = [];
};
e.loadHomeMenuNeedRes = function(e) {
var t = this;
t.init();
var i = "", n = "";
if ("beautifulgame" == o.default.variable.curSkin) {
i = "beautifulgame";
n = "beautifulgame/hall/animation/home_girl";
} else if ("handsome" == o.default.variable.curSkin) if ("timi" == o.default.variable.curSkinChild) ; else if ("yingyangshi" == o.default.variable.curSkinChild) {
i = "yingyangshi";
n = "yingyangshi/hall/texture/jj_hall_game_ggp";
} else if ("xiyouji" == o.default.variable.curSkinChild) {
i = "xiyouji";
n = "xiyouji/hall/texture/lz_hall_game_ggp";
} else if ("haidilao" == o.default.variable.curSkinChild) {
i = "haidilao";
n = "haidilao/hall/texture/haidilao_hall_game_ggp";
} else {
i = "handsome";
n = "handsome/hall/animation/dwc_home_girl";
}
var r = i + "/hall/texture/game_enter";
cc.loader.loadResDir(r, function(i, o) {
t.initWithTextureAssets(o);
cc.loader.loadResDir(n, function(i, o) {
t.initWithTextureAssets(o);
"function" == typeof e && e();
});
});
};
e.initWithTextureAssets = function(e) {
if (e) for (var t = 0, i = e.length; t < i; t++) {
var o = e[t], n = o.__proto__.__classname__;
"sp.SkeletonData" != n && "cc.SpriteFrame" != n || (this.atlasList[o.name + "_" + n] = o);
this.allResArr.push(o);
}
};
e.releaseSharkRes = function() {
for (var e in this.allResArr) {
var t = this.allResArr[e], i = cc.loader.getDependsRecursively(t);
cc.loader.release(i);
}
};
e.getSpriteFrameWithName = function(e) {
e += "_cc.SpriteFrame";
return this.atlasList[e];
};
e.getSpineSkeletonDataWithName = function(e) {
e += "_sp.SkeletonData";
return this.atlasList[e];
};
e.setNodeSpriteAction = function(e, t) {
cc.isValid(e) && (e.getComponent(cc.Sprite).spriteFrame = this.getSpriteFrameWithName(t));
};
e.getNodePreBySkin = function() {
var e = "";
"beautifulgame" == o.default.variable.curSkin ? e = "ds_" : "handsome" == o.default.variable.curSkin && (e = "yingyangshi" == o.default.variable.curSkinChild ? "jj_" : "timi" == o.default.variable.curSkinChild ? "hy_" : "haidilao" == o.default.variable.curSkinChild ? "haidilao_" : "xiyouji" == o.default.variable.curSkinChild ? "lz_" : "bd_");
return e;
};
e.getNodeSize = function() {
var e = cc.size(240, 240);
"beautifulgame" == o.default.variable.curSkin || "handsome" == o.default.variable.curSkin && ("yingyangshi" == o.default.variable.curSkinChild ? e = cc.size(244, 206) : "timi" == o.default.variable.curSkinChild ? e = cc.size(248, 220) : "haidilao" == o.default.variable.curSkinChild ? e = cc.size(294, 216) : "xiyouji" == o.default.variable.curSkinChild && (e = cc.size(246, 216)));
return e;
};
e.initUI = function(e) {
if (cc.isValid(e)) {
var t = cc.find("wrap/view/content/beautyNode/beautyGirl", e);
if ("beautifulgame" == o.default.variable.curSkin) {
var i = "home_girl", n = "home_girl";
if (t) {
if (r = t.getComponent(sp.Skeleton)) {
r.skeletonData = this.getSpineSkeletonDataWithName(i);
r.setAnimation(0, n, !0);
}
}
} else if ("handsome" == o.default.variable.curSkin) if ("timi" == o.default.variable.curSkinChild) ; else if ("yingyangshi" == o.default.variable.curSkinChild) t && (t.getComponent(cc.Sprite).spriteFrame = this.getSpriteFrameWithName("jj_hall_game_ggp")); else if ("xiyouji" == o.default.variable.curSkinChild) t && (t.getComponent(cc.Sprite).spriteFrame = this.getSpriteFrameWithName("lz_hall_game_ggp")); else if ("haidilao" == o.default.variable.curSkinChild) t && (t.getComponent(cc.Sprite).spriteFrame = this.getSpriteFrameWithName("haidilao_hall_game_ggp")); else {
i = "dwc_home_girl", n = "dwc_girl2";
if (t) {
var r;
if (r = t.getComponent(sp.Skeleton)) {
r.skeletonData = this.getSpineSkeletonDataWithName(i);
r.setAnimation(0, n, !0);
}
}
}
var a = {
landlord_node: "hall_game_ddz",
flower_node: "hall_game_zjh",
blood_node: "hall_game_qznn",
watermargin_node: "hall_game_shz",
fish_node: "hall_game_by",
blood_cattle_node: "hall_game_xpnn",
brc_bull_node: "hall_game_brnn",
brc_lhd_node: "hall_game_lhd",
brc_flower_node: "bd_hall_game_wrjh",
brc_redblack_node: "hall_game_hhdz",
brc_shark_node: "hall_game_jsys",
ebet_bjl_node: "hall_game_sxbjl",
ebet_lh_node: "hall_game_sxlh"
};
for (var s in a) {
var c = "wrap/view/content/gameContent/" + s + "/game_icon", l = cc.find(c, e);
if (l) {
var u = this.getNodePreBySkin() + a[s];
l.getComponent(cc.Sprite).spriteFrame = this.getSpriteFrameWithName(u);
l.width = this.getNodeSize().width;
l.height = this.getNodeSize().height;
}
}
var d = cc.find("dropWrap/drop_right", e), f = cc.find("dropWrap/drop_left", e);
if (f) {
u = this.getNodePreBySkin() + "home_jiantou";
f.getComponent(cc.Sprite).spriteFrame = this.getSpriteFrameWithName(u);
}
if (d) {
u = this.getNodePreBySkin() + "home_jiantou";
d.getComponent(cc.Sprite).spriteFrame = this.getSpriteFrameWithName(u);
}
}
};
e.atlasList = {};
e.allResArr = [];
return e;
}());
t.exports = n;
i.default = n;
cc._RF.pop();
}, {
"../../../Script/ProjectConfig": "ProjectConfig",
CommonFunction: "CommonFunction"
} ],
HomeMenu: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "b7affoimbhPoJnt6e+DfRH2", "HomeMenu");
var o = d(e("../../../Script/Audio/CommonAudioMgr")), n = d(e("../../../Script/UI/CommonPrefabMgr")), r = d(e("../../../Script/LocalStorage/LocalStorageUtil")), a = (d(e("../../../Script/DataParseUtil")), 
d(e("../../../Script/UserManager"))), s = d(e("../../../Script/Audio/CommonAudio")), c = d(e("../../../Script/Socket/FastPlayMgr")), l = d(e("../../../Script/ProjectConfig")), u = d(e("./../../../Script/GameFramework/ApiMgr"));
e("../../../Game_TeenPatti/Script/Service/Request/TeenPattiSocketMgr");
function d(e) {
return e && e.__esModule ? e : {
default: e
};
}
var f = e("CommonEventName"), h = e("CommonVariable"), p = e("GameRestore"), g = e("GameEngineUtil"), m = e("NewGameInfo"), y = e("UISettingModel"), b = e("CommonFunction"), _ = e("HallRes"), v = e("HallModel"), S = e("LauncherModel"), C = (e("RedEnvelopeFrame"), 
e("ThirdH5Helper")), w = (e("CommonLanguage"), e("TrackUtil"));
cc.Class({
extends: cc.Component,
properties: {
menuContent: cc.Node,
_menuList: cc.Node,
gameRoom: cc.Prefab,
beautyNode: cc.Node,
beautyGril: cc.Node,
menuWrap: cc.Node,
mainContent: cc.Node,
mainScrollView: cc.ScrollView,
drop_left: cc.Node,
drop_rigth: cc.Node,
dropWrap: cc.Node,
_maxScrollOffsetX: 0,
_isShowRoom: !1,
_touchstartTime: 0,
_mask: null,
_barBottomNode: null,
_isTouchGameIcon: !1,
_bannerNoticeX: 0,
_bannerNoticeY: 0,
_beautyGrilX: 0,
_beautyGrilY: 0,
_menuWrapX: 0,
_menuWrapY: 0,
_barBottomNodeX: 0,
_barBottomNodeY: 0
},
onLoad: function() {
window.buttonClick = !0;
var e = this, t = cc.director.getScene();
e._mask = t.getChildByName("mask");
e._touchstartTime = 0;
e._menuList = e.menuContent.children;
e.loadMenuData();
e._registerBtns();
cc.director.on(f.HALL_GAME_ENTRY, function(e) {
this.performClickByGameId(e, !1);
}, this);
cc.director.on(f.CompelGuidance, function() {
e.startGameRestore();
}, this);
if (cc.isValid(e.mainScrollView)) {
e.mainScrollView.horizontal = !0;
e.mainScrollView.node.on("scroll-ended", function() {
e._menuList && e._menuList.forEach(function(e) {
1 !== e.scale && (e.scale = 1);
});
});
}
e.initSlidArrow();
cc.vv.settingModel.isShowExchangeGuide;
cc.director.on(cc.vv.eventName.EXCHANGE_GUIDE_END, function() {}, e);
e._cancelMask();
e._isTouchGameIcon = !1;
e.doRummyChangeScene();
},
onEnable: function() {
cc.director.on("DISPOSE_RED_ENVELOPE", this.disposeredEnvelopeDataAction, this);
cc.director.on(cc.vv.eventName.RedEnvelopeRefresh, this.loadSpringBouns, this);
cc.director.on(cc.vv.eventName.RedEnvelopeEnable, this.RedEnvelopeEnable, this);
cc.director.on("ADD_CHILDNODE_SUCCEED", this.getBarBottomAction, this);
},
onDisable: function() {
cc.director.off("DISPOSE_RED_ENVELOPE", this.disposeredEnvelopeDataAction, this);
cc.director.off(cc.vv.eventName.RedEnvelopeRefresh, this.loadSpringBouns, this);
cc.director.off(cc.vv.eventName.RedEnvelopeEnable, this.RedEnvelopeEnable, this);
cc.director.off("ADD_CHILDNODE_SUCCEED");
},
showBannerNotice: function() {
if (cc.isValid(this.node)) {
var e = cc.instantiate(this.bannerNoticePrefab);
cc.isValid(e) && cc.isValid(this.bannerNotice) && this.bannerNotice.addChild(e);
}
},
loadMenuData: function() {
if (cc.isValid(this.node)) {
var e = this.menuWrap.children, t = 0, i = cc.vv.settingModel.gameListArr;
if (i && i.length > 0) {
for (var o = 0; o < e.length; ++o) e[o];
e[0] && (t = e[0].width);
}
for (var n = 0, a = 0, s = i.length; a < s; a++) {
var c = i[a];
this.updateGameStatus(c) && (n += 1);
}
var u = 20, d = 0, f = this.menuWrap.x, h = 30;
if (this.menuWrap.getComponent(cc.Layout)) {
u = this.menuWrap.getComponent(cc.Layout).spacingX;
d += this.menuWrap.getComponent(cc.Layout).paddingLeft;
d += this.menuWrap.getComponent(cc.Layout).paddingRight;
}
cc.vv.souhu && cc.vv.timi && (h = 50);
if (n > 0) {
var p = 0;
l.default.isIphoneX && (p = l.default.neglectWidth);
this.mainContent.width = Math.ceil(n / 2) * (t + u) + d + f + h + p;
}
for (var g = 0, m = cc.vv.settingModel.freshGuideGameIdArr.length; g < m; g++) {
var y = cc.vv.settingModel.freshGuideGameIdArr[g];
if (this.getGameEntranceNodeAction(y)) r.default.readData("cache_game_" + y + "_guide");
}
if (this.beautyGril) {
this._beautyGrilX = this.beautyGril.x;
this._beautyGrilY = this.beautyGril.y;
}
if (this.menuWrap) {
this._menuWrapX = this.menuWrap.x;
this._menuWrapY = this.menuWrap.y;
}
this.updateMenuWrapSgAnimation();
}
},
updateMenuWrapSgAnimation: function() {
var e = this, t = _.pathPrefab, i = c.default.resArr.Hall;
i && i.forEach(function(i) {
var o = t.gameSg.split("/").pop();
if (i.name == o) {
for (var n = 0, r = 0; r < e._menuList.length; r++) {
var a = e._menuList[r];
cc.isValid(a) && a.active && (n += 1);
}
for (var s = 0, c = 0; c < e._menuList.length; c++) {
var l = e._menuList[c];
if (cc.isValid(l) && l.active) {
var u = cc.instantiate(i), d = 3 * (n - 1);
u.getComponent("SgView").init(0, 3, d, s);
s += 3;
l.addChild(u);
}
}
}
});
},
getBarBottomAction: function() {
var e = this.node.parent;
if (e) {
e.children;
var t = e.getChildByName("MenuBottom");
t && (this._barBottomNode = t);
}
if (null != this._barBottomNode) {
this._barBottomNodeX = this._barBottomNode.x;
this._barBottomNodeY = this._barBottomNode.y;
}
},
updateGameStatus: function(e) {
if (null == this.menuWrap) return !1;
var t = e.gameId, i = this.getGameEntranceNodeAction(t);
if (null != i) {
this.initGameNode(i, e.layout);
this.initGameTag(i, e.tag_hot, e.tag_new, e.tag_earth, e.tag_event, t);
return !0;
}
return !1;
},
initGameNode: function(e, t) {
e.active = !0;
e.zIndex = 9999 + t;
},
initGameTag: function(e, t, i, o, n, r) {
var a = _.pathPhoto.tipsHot, s = e.getChildByName("tips");
if (s) {
if (0 == t && 0 == i && 0 == o && 0 == n) {
s.active = !1;
s.setName(v.GameTag.NONE);
} else if (1 == t) {
s.active = !0;
a = _.pathPhoto.tipsHot;
cc.vv.timi ? a = _.pathPhotos.timi.tipsHot : cc.vv.yingyangshi ? a = _.pathPhotos.yingyangshi.tipsHot : cc.vv.haidilao ? a = _.pathPhotos.haidilao.tipsHot : cc.vv.xiyouji ? a = _.pathPhotos.xiyouji.tipsHot : cc.vv.wangyi && (a = _.pathPhotos.wangyi.tipsHot);
s.setName(v.GameTag.HOT);
} else if (1 == i) {
s.active = !0;
a = _.pathPhoto.tipsNew;
cc.vv.timi ? a = _.pathPhotos.timi.tipsNew : cc.vv.yingyangshi ? a = _.pathPhotos.yingyangshi.tipsNew : cc.vv.haidilao ? a = _.pathPhotos.haidilao.tipsNew : cc.vv.xiyouji ? a = _.pathPhotos.xiyouji.tipsNew : cc.vv.wangyi && (a = _.pathPhotos.wangyi.tipsNew);
s.setName(v.GameTag.NEW);
} else if (1 == o) {
s.active = !0;
a = _.pathPhoto.tipsMoney;
cc.vv.timi ? a = _.pathPhotos.timi.tipsMoney : cc.vv.yingyangshi ? a = _.pathPhotos.yingyangshi.tipsMoney : cc.vv.haidilao ? a = _.pathPhotos.haidilao.tipsMoney : cc.vv.xiyouji ? a = _.pathPhotos.xiyouji.tipsMoney : cc.vv.wangyi && (a = _.pathPhotos.wangyi.tipsMoney);
s.setName(v.GameTag.MONEY);
} else if (1 == n) {
s.active = !0;
a = _.pathPhoto.tipsEvent;
cc.vv.timi ? a = _.pathPhotos.timi.tipsEvent : cc.vv.yingyangshi ? a = _.pathPhotos.yingyangshi.tipsEvent : cc.vv.haidilao ? a = _.pathPhotos.haidilao.tipsEvent : cc.vv.xiyouji ? a = _.pathPhotos.xiyouji.tipsEvent : cc.vv.wangyi && (a = _.pathPhotos.wangyi.tipsEvent);
s.setName(v.GameTag.EVENT);
} else {
s.active = !1;
s.setName(v.GameTag.NONE);
}
this.loadGameTagImage(a, s);
}
},
loadGameTagImage: function(e, t) {
cc.loader.loadRes(e, cc.SpriteFrame, function(e, i) {
e ? t.active = !1 : cc.isValid(t) && (t.getComponent(cc.Sprite).spriteFrame = i);
});
},
onShowGuestWarningDialog: function() {
var e = this;
cc.isValid(e.node) && (S.user_is_new ? n.default.onShowRedPackrt(cc.v2(135, 0), function() {
e._cancelMask();
}, function() {
e._mask.active = !0;
e._isCloseRedPackrt = !0;
if (cc.vv.settingModel.isGuidance) {
var t = cc.vv.settingModel.forceGuideGameId, i = e.getGameEntranceNodeAction(t);
if (null != i) {
i.zIndex = 0;
e.scheduleOnce(function() {
cc.isValid(i) && n.default.createCompelGuidance(i, e._cancelMask.bind(e), e._cancelMask.bind(e));
}, .2);
} else e._cancelMask();
} else {
e._cancelMask();
S.user_is_new = !1;
cc.director.emit(cc.vv.eventName.LOGIN_SUCCESS_DIALOG_LOGIC);
cc.director.emit("SHOW_TOP_DIALOG");
}
}) : e._cancelMask());
},
_cancelMask: function() {
this._mask && cc.isValid(this._mask) && (this._mask.active = !1);
},
getGameEntranceNodeAction: function(e) {
var t = null;
switch (e) {
case l.default.GAME_TYPE.NEWDOUDIZHU:
t = this.menuWrap.getChildByName("landlord_node");
break;

case l.default.GAME_TYPE.WATERMARGIN:
t = this.menuWrap.getChildByName("watermargin_node");
break;

case l.default.GAME_TYPE.FISH:
l.default.isGameSceneExists(l.default.GAME_TYPE.FISH) && (t = this.menuWrap.getChildByName("fish_node"));
break;

case l.default.GAME_TYPE.NEW_FISHING:
l.default.isGameSceneExists(l.default.GAME_TYPE.NEW_FISHING) && (t = this.menuWrap.getChildByName("fish_node2"));
break;

case l.default.GAME_TYPE.NEW_FISHING3:
l.default.isGameSceneExists(l.default.GAME_TYPE.NEW_FISHING3) && (t = this.menuWrap.getChildByName("fish_node3"));
break;

case l.default.GAME_TYPE.RUMMY:
t = this.menuWrap.getChildByName("rummy_node");
break;

case l.default.GAME_TYPE.TEENPATTI:
t = this.menuWrap.getChildByName("flower_node");
break;

case l.default.GAME_TYPE.CATTLE:
t = this.menuWrap.getChildByName("blood_node");
break;

case l.default.GAME_TYPE.BLOODCATTLE:
t = this.menuWrap.getChildByName("blood_cattle_node");
break;

case l.default.GAME_TYPE.NEW_BAIRENNIUNIU:
t = this.menuWrap.getChildByName("brc_bull_node");
break;

case l.default.GAME_TYPE.NEW_LONGHUDOU:
t = this.menuWrap.getChildByName("brc_lhd_node");
break;

case l.default.GAME_TYPE.BRCFLOWER:
t = this.menuWrap.getChildByName("best_of_five");
break;

case l.default.GAME_TYPE.NEW_SHARK:
t = this.menuWrap.getChildByName("brc_shark_node");
break;

case l.default.GAME_TYPE.EBET_BJL:
t = this.menuWrap.getChildByName("ebet_bjl_node");
break;

case l.default.GAME_TYPE.EBET_LH:
t = this.menuWrap.getChildByName("ebet_lh_node");
break;

case l.default.GAME_TYPE.PAIGOW:
t = this.menuWrap.getChildByName("brc_qzebg_node");
break;

case l.default.GAME_TYPE.IM_CG:
t = this.menuWrap.getChildByName("im_cg_node");
}
return t;
},
_changeScene: function(e) {
var t = this;
t.hideSlideArrow();
m.current = {
gameID: e,
room: m.getDefaultFirstRoom(e)
};
var i = !0;
e == l.default.GAME_TYPE.BRCFLOWER && (i = !1);
c.default.runGameWithID(e, i, function() {
if (cc.isValid(t.beautyNode) && cc.isValid(t.menuWrap)) {
var e = !1, i = !1, o = function() {
cc.director.emit(f.refreshUserInfo);
t.showSlideArrow();
cc.isValid(n) && n.destroy();
null != t._barBottomNode ? t._barBottomNode.runAction(cc.moveTo(.3, t._barBottomNodeX, t._barBottomNodeY)) : cc.director.emit("SHOW_MENUBAR_BOTTOM");
t.beautyGril.runAction(cc.spawn(cc.fadeIn(.3), cc.moveTo(.3, t._beautyGrilX, t._beautyGrilY))).easing(cc.easeOut(10));
t.menuWrap.runAction(cc.moveTo(.3, t._menuWrapX, t._menuWrapY)).easing(cc.easeOut(10));
}, n = cc.instantiate(t.gameRoom), r = l.default.getSceneCanvas();
if (r && n && n.getComponent("GameRoom")) {
n.getComponent("GameRoom").init(function() {
1 != e ? o && o() : i = !0;
});
if (cc.isValid(r)) {
var a = r.getChildByName("GameRoom");
a && r.removeChild(a);
t.beautyGril.runAction(cc.moveTo(.3, t._beautyGrilX - 600, t._beautyGrilY)).easing(cc.easeIn(1));
var s = t.mainContent.width;
s < cc.winSize.width && (s = cc.winSize.width);
t.menuWrap.runAction(cc.sequence(cc.callFunc(function() {
e = !0;
}), cc.moveTo(.3, s, t._menuWrapY), cc.callFunc(function() {
e = !1;
1 == i && o && o();
r.addChild(n);
}))).easing(cc.easeIn(3));
null != t._barBottomNode ? t._barBottomNode.runAction(cc.moveTo(.3, t._barBottomNodeX, t._barBottomNodeY - t._barBottomNode.height)) : cc.director.emit("HIDE_MENUBAR_BOTTOM");
}
}
}
});
},
doRummyChangeScene: function() {
var e = l.default.GAME_TYPE.RUMMY;
this.beautyGril.active = !1;
this.menuWrap.active = !1;
r.default.saveGameType(e);
m.current = {
gameID: e,
room: m.getDefaultFirstRoom(e)
};
var t = cc.instantiate(this.gameRoom), i = l.default.getSceneCanvas();
if (i && t && t.getComponent("GameRoom") && cc.isValid(i)) {
var o = i.getChildByName("GameRoom");
o && i.removeChild(o);
i.addChild(t);
}
},
_registerBtns: function() {
for (var e = this, t = function(t) {
var i = e._menuList[t];
if (cc.isValid(i)) {
i.on(cc.Node.EventType.TOUCH_START, function(t) {
var i = t.currentTouch;
i && (e._touchstartTime = i._lastModified);
cc.isValid(e.mainScrollView) && (e.mainScrollView.horizontal = !1);
}, e);
i.on(cc.Node.EventType.TOUCH_MOVE, function(t) {
var i = t.currentTouch;
if (i) {
i._lastModified - e._touchstartTime <= 50 ? cc.isValid(e.mainScrollView) && (e.mainScrollView.horizontal = !1) : cc.isValid(e.mainScrollView) && (e.mainScrollView.horizontal = !0);
} else cc.isValid(e.mainScrollView) && (e.mainScrollView.horizontal = !0);
}, e);
i.on(cc.Node.EventType.TOUCH_CANCEL, function(t) {
cc.isValid(e.mainScrollView) && (e.mainScrollView.horizontal = !0);
}, e);
i.on(cc.Node.EventType.TOUCH_END, function(i) {
var o = e.menuIndex2Gameid(t);
e.performClickByGameId(o, !0);
cc.isValid(e.mainScrollView) && (e.mainScrollView.horizontal = !0);
}, e);
}
}, i = 0; i < e._menuList.length; ++i) t(i);
},
enterToRoomLogic: function(e) {
var t = this;
y.gameListArr.length <= 0 && (h.BLOCK_SETTING || u.default.loadUIConfig({
version: 3
}, function(e) {
if (e && cc.isValid(t.node)) {
y.parseDataWithUISetting(e);
cc.director.emit(f.refreshUISettings);
}
}, function(e) {}, !0));
var i = t.menuIndex2Gameid(e);
if (-1 != y.freshGuideGameIdArr.indexOf(i)) {
if (m.user_h5) {
var o = m.roomList[i], n = void 0;
if (o) {
var s = o[0];
if (s) {
n = s.enterLimit / 1e3;
if (a.default.coin < n) b.showNeedCoin(n); else {
var c = m.h5_url, l = m.frame_url;
c = g.getGameUrlByH5Url(c, i);
g.openUrlByH5BrowserHasClose(i, c, l);
C.checkGoldLock(i) && r.default.setPlayingGame();
}
}
} else {
var d = m.h5_url, p = m.frame_url;
d = g.getGameUrlByH5Url(d, i);
g.openUrlByH5BrowserHasClose(i, d, p);
C.checkGoldLock(i) && r.default.setPlayingGame();
}
}
} else t._changeScene(i);
},
performClickByGameId: function(e, t) {
console.log("gameID" + e);
var i = this;
if (!i._isTouchGameIcon) {
t && o.default.playEffect(s.default.common.btnMusic);
if (b.checkNetwork()) if (window.buttonClick) {
if (!y.isShowExchangeGuide || !S.user_is_new) {
i.trackEnterGame(e);
i.disableAllButton();
p.getRoomInfo(e, function() {
i.enterGame(e);
i.scheduleOnce(function() {
i.enableAllButton();
i._isTouchGameIcon = !1;
}, .3);
}, function() {
i.scheduleOnce(function() {
i.enableAllButton();
i._isTouchGameIcon = !1;
}, .3);
});
i._isTouchGameIcon = !0;
}
} else n.default.createToastClick();
}
},
trackEnterGame: function(e) {
var t = "";
switch (e) {
case l.default.GAME_TYPE.TEENPATTI:
t = w.hallteenpattionclick;
break;

case l.default.GAME_TYPE.BRCFLOWER:
t = w.bestfivegameenterclick;
break;

case l.default.GAME_TYPE.RUMMY:
t = w.hallmoregamesonclick;
}
"" !== t && g.trackEvent(t);
},
enterGame: function(e) {
var t = this.gameId2MenuIndex(e);
console.log("this index is" + t + "gameID" + e);
t > -1 && this.enterToRoomLogic(t);
},
menuIndex2Gameid: function(e) {
var t = l.default.GAME_TYPE.GAME_HALL;
0 == e ? t = l.default.GAME_TYPE.TEENPATTI : 1 == e ? t = l.default.GAME_TYPE.BRCFLOWER : 2 == e && (t = l.default.GAME_TYPE.RUMMY);
return t;
},
gameId2MenuIndex: function(e) {
var t = -1;
e == l.default.GAME_TYPE.TEENPATTI ? t = 0 : e == l.default.GAME_TYPE.BRCFLOWER ? t = 1 : e == l.default.GAME_TYPE.RUMMY && (t = 2);
return t;
},
disableAllButton: function() {
window.buttonClick = !1;
this.node.stopAllActions();
},
enableAllButton: function() {
window.buttonClick = !0;
},
startGameRestore: function() {
this.performClickByGameId(y.forceGuideGameId, !0);
},
initSlidArrow: function() {
var e = 0;
if (cc.isValid(this.menuWrap)) {
for (var t = this.menuWrap.children, i = 0; i < t.length; i++) 1 == t[i].active && (e += 1);
if (e < 9) {
this.hideSlideArrow();
return;
}
}
var o = cc.view.getVisibleSize().width / 2 - 50;
if (cc.isValid(this.drop_left) && cc.isValid(this.drop_rigth)) {
this.drop_left.opacity = 0;
this.drop_rigth.opacity = 255;
this.drop_left.runAction(cc.repeatForever(cc.sequence(cc.moveTo(.1, cc.v2(-o, 0)), cc.moveTo(.2, cc.v2(24 - o, 0)), cc.moveTo(.1, cc.v2(-o, 0)), cc.moveTo(.2, cc.v2(24 - o, 0)), cc.moveTo(.1, cc.v2(-o, 0)), cc.moveTo(.2, cc.v2(24 - o, 0)), cc.delayTime(3))));
this.drop_rigth.runAction(cc.repeatForever(cc.sequence(cc.moveTo(.1, cc.v2(o, 0)), cc.moveTo(.2, cc.v2(o - 24, 0)), cc.moveTo(.1, cc.v2(o, 0)), cc.moveTo(.2, cc.v2(o - 24, 0)), cc.moveTo(.1, cc.v2(o, 0)), cc.moveTo(.2, cc.v2(o - 24, 0)), cc.delayTime(3))));
this.drop_left.on("touchend", this.onClickDropLeft, this);
this.drop_rigth.on("touchend", this.onClickDropRigth, this);
}
},
onClickDropRigth: function() {
cc.isValid(this.mainScrollView) && this.mainScrollView.scrollToRight(.5);
},
onClickDropLeft: function() {
cc.isValid(this.mainScrollView) && this.mainScrollView.scrollToLeft(.5);
},
showSlideArrow: function() {
this._isShowRoom = !1;
cc.isValid(this.dropWrap) && (this.dropWrap.opacity = 255);
},
hideSlideArrow: function() {
this._isShowRoom = !0;
cc.isValid(this.dropWrap) && (this.dropWrap.opacity = 0);
},
scrollViewEventsAction: function() {
if (!this._isShowRoom && cc.isValid(this.mainScrollView) && cc.isValid(this.drop_left) && cc.isValid(this.drop_rigth)) {
this._maxScrollOffsetX = this.mainScrollView.getMaxScrollOffset().x;
var e = this.mainScrollView.getScrollOffset().x / this._maxScrollOffsetX;
if (e >= -.1) {
0 != this.drop_left.opacity && (this.drop_left.opacity = 0);
255 != this.drop_rigth.opacity && (this.drop_rigth.opacity = 255);
} else if (e <= -.9) {
0 != this.drop_rigth.opacity && (this.drop_rigth.opacity = 0);
255 != this.drop_left.opacity && (this.drop_left.opacity = 255);
} else {
255 != this.drop_rigth.opacity && (this.drop_rigth.opacity = 255);
255 != this.drop_left.opacity && (this.drop_left.opacity = 255);
}
}
},
disposeredEnvelopeDataAction: function(e) {
e && e.length > 0 ? cc.isValid(this.redEnvelopeVC) && this.redEnvelopeVC.initWithDataInfo(e) : cc.isValid(this.redEnvelopeVC) && this.redEnvelopeVC.removeAllRedEnvelope();
},
RedEnvelopeEnable: function() {
cc.isValid(this.node) && this.loadSpringBouns();
},
loadSpringBouns: function() {
var e = this;
cc.isValid(e.node) && u.default.getSpringBonus(function(t) {
if (cc.isValid(e.node)) {
var i = t.mails;
i && e.disposeredEnvelopeDataAction(i);
}
});
},
beautyGrilOnclick: function() {
g.trackEvent(w.hallbeautfulgirlclicl);
}
});
cc._RF.pop();
}, {
"../../../Game_TeenPatti/Script/Service/Request/TeenPattiSocketMgr": "TeenPattiSocketMgr",
"../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../../Script/DataParseUtil": "DataParseUtil",
"../../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../../Script/ProjectConfig": "ProjectConfig",
"../../../Script/Socket/FastPlayMgr": "FastPlayMgr",
"../../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"../../../Script/UserManager": "UserManager",
"./../../../Script/GameFramework/ApiMgr": "ApiMgr",
CommonEventName: "CommonEventName",
CommonFunction: "CommonFunction",
CommonLanguage: "CommonLanguage",
CommonVariable: "CommonVariable",
GameEngineUtil: "GameEngineUtil",
GameRestore: "GameRestore",
HallModel: "HallModel",
HallRes: "HallRes",
LauncherModel: "LauncherModel",
NewGameInfo: "NewGameInfo",
RedEnvelopeFrame: "RedEnvelopeFrame",
ThirdH5Helper: "ThirdH5Helper",
TrackUtil: "TrackUtil",
UISettingModel: "UISettingModel"
} ],
HorizonTabItem: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "9aa12XWfrtO6r9u89wG2hgE", "HorizonTabItem");
var o = r(e("../../../../Script/Audio/CommonAudioMgr")), n = r(e("../../../../Script/Audio/CommonAudio"));
function r(e) {
return e && e.__esModule ? e : {
default: e
};
}
e("WithdrawGlobal");
cc.Class({
extends: cc.Component,
properties: {
strLabel: cc.Label,
bgSprite: cc.Sprite
},
initContent: function(e, t, i, o) {
this.index = t;
this.clickCallback = o;
this.spriteFrames = i;
this.strLabel && (this.strLabel.string = e);
},
clickTab: function() {
o.default.playEffect(n.default.common.btnMusic);
this.clickCallback && this.clickCallback(this.index);
},
setSelected: function(e) {
this.bgSprite && this.spriteFrames && 2 == this.spriteFrames.length && (this.bgSprite.spriteFrame = e ? this.spriteFrames[1] : this.spriteFrames[0]);
this.strLabel && (this.strLabel.node.color = e ? new cc.Color().fromHEX(WithdrawProjectConfig.color.selected) : new cc.Color().fromHEX(WithdrawProjectConfig.color.normal));
if (cc.vv.souhu && this.strLabel.node && !e) {
var t = this.strLabel.node.addComponent(cc.LabelOutline);
t.color = new cc.Color(255, 255, 255);
t.width = .5;
}
}
});
cc._RF.pop();
}, {
"../../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
WithdrawGlobal: "WithdrawGlobal"
} ],
HorizonTabView: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "7868751nqRBkqgKHQsONHaQ", "HorizonTabView");
cc.Class({
extends: cc.Component,
properties: {
tabItem: cc.Prefab,
leftSprites: {
type: cc.SpriteFrame,
default: []
},
middleSprites: {
type: cc.SpriteFrame,
default: []
},
rightSprites: {
type: cc.SpriteFrame,
default: []
}
},
initTabs: function(e, t) {
var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0;
this.selectCallback = t;
this.currentTab = -1;
this.tabArray = [];
if (e && e.length > 0) {
this.node.removeAllChildren();
for (var o = 0; o < e.length; o++) {
var n = cc.instantiate(this.tabItem);
if (cc.isValid(this.node) && cc.isValid(n) && n.getComponent("HorizonTabItem")) {
this.node.addChild(n);
var r = n.getComponent("HorizonTabItem");
this.tabArray.push(r);
r.initContent(e[o], o, this.getTabSprites(o, e.length), this.selectTab.bind(this));
}
}
this.selectTab(i);
}
},
selectTab: function(e) {
if (this.currentTab !== e) {
this.currentTab = e;
if (this.tabArray && e >= 0 && e < this.tabArray.length) {
this.tabArray.forEach(function(e) {
e.setSelected(!1);
});
this.tabArray[e].setSelected(!0);
}
this.selectCallback && this.selectCallback(e);
}
},
getTabSprites: function(e, t) {
if (t > 0) return 1 === t ? this.middleSprites : 2 === t ? 0 === e ? this.leftSprites : this.rightSprites : 0 === e ? this.leftSprites : e === t - 1 ? this.rightSprites : this.middleSprites;
}
});
cc._RF.pop();
}, {} ],
HotUpdateProgressView: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "4f302UUUsZFq5fY6CuOwCld", "HotUpdateProgressView");
var o = e("CommonEventName");
cc.Class({
extends: cc.Component,
properties: {
progressNode: cc.Node,
progressFlower: cc.Node,
_totalProgressNodeSize: 0,
_currentProgressSize: 0,
versionLabel: cc.Label,
statusLabel: cc.Label,
tipsLabel: cc.Label,
_testT: 0,
_testProgress: 0,
_tipsIndex: 0,
_tipsTime: 0,
_tips: "",
_downloadTips: ""
},
onLoad: function() {
this._tipsIndex = 0;
this._downloadTips = "Downloading resource file", this.initComponent();
this.initTipsContent();
this._totalProgressNodeSize = this.progressNode.width;
this._currentProgressSize = 0;
this.showEmptyProgressView();
cc.director.on(o.UPDATE_HOT_UPDATE_PROGRESS, this.onProgressChanged, this);
cc.director.on(o.UPDATE_HOT_UPDATE_STATUS, this.onUpdateStatusChanged, this);
},
initComponent: function() {
if (!this.progressNode) {
var e = this.node.getChildByName("progressBg");
if (cc.isValid(e)) {
this.progressNode = e.getChildByName("progressMask");
this.progressFlower = e.getChildByName("progressBarNode");
}
cc.isValid(this.progressFlower) && (this.progressFlower.active = !1);
var t = this.node.getChildByName("versionLabel");
cc.isValid(t) && (this.versionLabel = t.getComponent(cc.Label));
t = this.node.getChildByName("hotstatuslabel");
cc.isValid(t) && (this.statusLabel = t.getComponent(cc.Label));
t = this.node.getChildByName("tipsLabel");
cc.isValid(t) && (this.tipsLabel = t.getComponent(cc.Label));
}
},
onUpdateStatusChanged: function(e) {
if (e) {
var t = "";
if (e.localVersion) {
t = e.remoteVersion ? "new V" + e.remoteVersion + "/V" + e.localVersion : "V" + e.localVersion;
this.versionLabel.string = t;
} else {
t = e;
this.statusLabel.string = t;
}
}
},
onProgressChanged: function(e) {
if (e) {
var t = e.precent;
this.updateProgress(t);
if (e.total > 0) {
var i = e.cur / 1024, n = e.total / 1024, r = 100 * t;
r < 1 && (r = 1);
var a = this._downloadTips + "(" + parseInt(i) + "KB/" + parseInt(n) + "KB)...current speed(" + parseInt(r) + "%)";
if (t >= 1) if (e.isinstallapk) {
a = "Please Install The Apk File...";
cc.director.emit(o.SHOW_INSTALLAPK_DIALOG);
} else a = "Please wait while the resource file is unzipped...";
this.statusLabel.string = a;
}
}
},
updateProgress: function(e) {
this._currentProgressSize = this._totalProgressNodeSize * e;
if (e >= 1) {
this._currentProgressSize = this._totalProgressNodeSize;
this.showFullProgressView();
} else this.updateProgressViewSize(this._currentProgressSize);
},
updateProgressViewSize: function(e) {
e > this._totalProgressNodeSize && (e = this._totalProgressNodeSize);
this.progressNode.width = e;
if (this.progressFlower) {
this.progressFlower.x = e - this._totalProgressNodeSize / 2 + 50;
this.progressFlower.active = !0;
}
},
showEmptyProgressView: function() {
this._currentProgressSize = 0;
this.progressNode.width = this._currentProgressSize;
if (this.progressFlower) {
this.progressFlower.x = -30;
this.progressFlower.active = !1;
}
},
showFullProgressView: function() {
this.progressNode.width = this._totalProgressNodeSize;
if (this.progressFlower) {
this.progressFlower.x = -30;
this.progressFlower.active = !1;
}
},
showTips: function() {
this._tipsIndex >= this._tips.length && (this._tipsIndex = 0);
var e = this._tips[this._tipsIndex];
this.tipsLabel.string = e;
this._tipsIndex += 1;
},
update: function(e) {
this._testT += e;
this._tipsTime += e;
if (this._tipsTime >= 4) {
this._tipsTime = 0;
this.showTips();
}
},
initTipsContent: function(e) {
if (e) {
this._tips = e;
this._downloadTips = "Loading supplies";
} else this._tips = [ "Practice makes perfect", "Look before you leap", "Time is money", "The best is the enemy of the good", "When one door shuts, another opens", "Everything must have a beginning", "Gather you rosebuds while you may", "please wait with patience, we are almost there" ];
}
});
cc._RF.pop();
}, {
CommonEventName: "CommonEventName"
} ],
HotUpdate: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "448f8axu9pE6Z+0Iupt3rly", "HotUpdate");
var o = e("CommonEventName"), n = e("GameEngineUtil"), r = e("CommonLanguage");
cc.Class({
extends: cc.Component,
properties: {
_updating: !1,
_canRetry: !1,
_retryCount: 0,
_storagePath: ""
},
onLoad: function() {
cc.sys.isNative && cc.director.on(o.UPDATE_HOT_UPDATE_START, this.onStartCheckHotUpdate, this);
},
onStartCheckHotUpdate: function(e) {
if (e) {
var t = e.packageUrl, i = (e.remoteVersion, n.getVersionCode());
this._storagePath = (jsb.fileUtils ? jsb.fileUtils.getWritablePath() : "/") + "hot_res_" + i;
cc.log("HotUpdate storagePath: " + this._storagePath);
cc.log("HotUpdate packageUrl: " + t);
this.versionCompareHandle = function(e, t) {
var i = e.split("."), o = t.split(".");
cc.log("oldVersion: " + i);
cc.log("newVersion: " + o);
for (var n = 0; n < i.length; ++n) {
var r = parseInt(i[n]), a = parseInt(o[n] || 0);
if (r !== a) return r - a;
}
return o.length > i.length ? -1 : 0;
};
this._am = new jsb.AssetsManager("project.manifest", this._storagePath, this.versionCompareHandle, t);
this._am.setVerifyCallback(function(e, t) {
t.compressed, t.md5, t.path, t.size;
return !0;
});
cc.sys.os === cc.sys.OS_ANDROID && this._am.setMaxConcurrentTask(2);
this.checkUpdate();
}
},
checkCb: function(e) {
var t = !1;
switch (e.getEventCode()) {
case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:
break;

case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:
case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:
case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:
break;

case jsb.EventAssetsManager.NEW_VERSION_FOUND:
t = !0;
break;

default:
return;
}
this._am.setEventCallback(null);
this._checkListener = null;
this._updating = !1;
t || cc.director.emit(o.UPDATE_HOT_UPDATE_PASSED);
},
updateCb: function(e) {
var t = !1, i = !1, n = !1;
this._retryCount = 0;
switch (e.getEventCode()) {
case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:
cc.director.emit(o.UPDATE_HOT_UPDATE_STATUS, "Local profile load failed");
i = !0;
break;

case jsb.EventAssetsManager.UPDATE_PROGRESSION:
var a = e.getPercent(), s = e.getDownloadedBytes(), c = e.getTotalBytes(), l = e.getPercentByFile(), u = e.getDownloadedFiles(), d = e.getTotalFiles();
if (s <= 0) cc.director.emit(o.UPDATE_HOT_UPDATE_STATUS, "Loading configuration file"); else {
var f = {};
f.cur = s;
f.total = c;
f.precent = a;
cc.log("downloadBytes =" + s);
cc.log("totalBytes =" + c);
cc.log("precent =" + a);
cc.log("percentbyfile =" + l);
cc.log("downloadedfiles =" + u);
cc.log("totalfiles =" + d);
cc.director.emit(o.UPDATE_HOT_UPDATE_PROGRESS, f);
}
break;

case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:
case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:
cc.director.emit(o.UPDATE_HOT_UPDATE_STATUS, r.currentlanguage.launch.profiledownloadfailed);
i = !0;
break;

case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:
cc.director.emit(o.UPDATE_HOT_UPDATE_STATUS, r.currentlanguage.launch.readenter);
i = !0;
break;

case jsb.EventAssetsManager.UPDATE_FINISHED:
cc.director.emit(o.UPDATE_HOT_UPDATE_STATUS, r.currentlanguage.launch.readenter);
t = !0;
break;

case jsb.EventAssetsManager.UPDATE_FAILED:
cc.director.emit(o.UPDATE_HOT_UPDATE_STATUS, r.currentlanguage.launch.updatefailed);
n = !0;
this._updating = !1;
this._canRetry = !0;
break;

case jsb.EventAssetsManager.ERROR_UPDATING:
case jsb.EventAssetsManager.ERROR_DECOMPRESS:
}
if (i) {
this._am.setEventCallback(null);
this._updateListener = null;
this._updating = !1;
}
if (n && this._retryCount < 3) {
this.retry();
this._retryCount++;
}
if (t) {
cc.director.emit(o.HOT_UPDATE_NEED_RESTART);
this._am.setEventCallback(null);
this._updateListener = null;
var h = jsb.fileUtils.getSearchPaths(), p = this._am.getLocalManifest().getSearchPaths();
Array.prototype.unshift.apply(h, p);
h = this.sortSearchPaths(h);
jsb.fileUtils.setSearchPaths(h);
cc.log("_cocos_search_paths-(hotupdate) " + h);
cc.sys.localStorage.setItem("_cocos_search_paths", JSON.stringify(h));
cc.audioEngine.stopAll();
cc.game.restart();
}
},
sortSearchPaths: function(e) {
if (!e) return [ "" ];
if (e.length <= 1) return e;
for (var t = [], i = [], o = 0; o < e.length; o++) {
var n = e[o];
n.length < 20 ? i.indexOf(n) < 0 && i.push(n) : t.indexOf(n) < 0 && t.push(n);
}
return t = t.concat(i);
},
loadCustomManifest: function() {
if (this._am.getState() === jsb.AssetsManager.State.UNINITED) new jsb.Manifest(customManifestStr, this._storagePath);
},
retry: function() {
if (!this._updating && this._canRetry) {
this._canRetry = !1;
this._am.downloadFailedAssets();
}
},
checkUpdate: function() {
if (!this._updating) {
this._am.getState(), jsb.AssetsManager.State.UNINITED;
if (this._am.getLocalManifest() && this._am.getLocalManifest().isLoaded()) {
this._am.setEventCallback(this.checkCb.bind(this));
this._am.checkUpdate();
this._updating = !0;
}
}
},
hotUpdate: function() {
if (this._am && !this._updating) {
this._am.setEventCallback(this.updateCb.bind(this));
this._am.getState(), jsb.AssetsManager.State.UNINITED;
this._failCount = 0;
this.totoaldowloadsize = 0;
this._am.update();
this._updating = !0;
}
},
show: function() {},
onDestroy: function() {
if (this._updateListener) {
this._am.setEventCallback(null);
this._updateListener = null;
}
}
});
cc._RF.pop();
}, {
CommonEventName: "CommonEventName",
CommonLanguage: "CommonLanguage",
GameEngineUtil: "GameEngineUtil"
} ],
HttpErrorManager: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "fc2a6eEzi9M8prIORF+rOza", "HttpErrorManager");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = e("Language"), n = e("../../Script/ProjectConfig"), r = e("../LocalStorage/LocalStorageUtil"), a = e("../../Script/UI/CommonPrefabMgr"), s = e("../../Script/UserManager"), c = e("../Socket/FastPlayMgr"), l = function() {
function e() {}
e.disposeHttpErrorWithStatus = function(e, t, i) {
if (t) {
var n = t.status, r = t.msg;
if (n) {
var s = this.errorCodeEnum[n];
if (s && o.net && null != o.net[s]) {
null != r && this.notShowInOnline.indexOf(n) < 0 && a.default.createToast(o.net[s]);
i || 105 == n && this.handleCommonHttpError(105);
}
}
}
};
e.disposeHttpErrorWithProtoResp = function(e, t, i) {
if (t) {
var c = t.status, l = t.msg;
if (c) {
if (10 == c) {
if (r.default.readGameType() == n.default.GAME_TYPE.LAUNCHER) return;
a.default.createAlert("your account has logged on the other device, please check and sign in again.", "Back ", function() {
s.default.exitLogin(this.exitCallback);
}, void 0, void 0, !1, void 0, void 0);
return;
}
var u = this.errorCodeEnum[c];
u && o.net && null != o.net[u] && null != l && this.notShowInOnline.indexOf(c) < 0 && a.default.createToast(o.net[u]);
}
}
};
e.handleCommonHttpError = function(e) {
var t = this;
105 == e && setTimeout(function() {
t.toLogin("Network connection failure or account login in other environment, please login again");
}, 2e3);
6 == e && setTimeout(function() {
t.toLogin("The network is abnormal. Please log in again.");
}, 2e3);
};
e.toLogin = function(e) {
s.default.clearAccount();
r.default.clearUserLoginData();
a.default.createAlert(e, "Sure", function() {
a.default.createToast("Skipping, please wait...");
n.default.variable.exitStatus = !0;
setTimeout(function() {
c.default._startGame(n.default.GAME_TYPE.LOGIN);
}, 2e3);
});
};
e.errorCodeEnum = cc.Enum({
unknownReeor: 1,
httpsRequired: 3,
dataError: 4,
dbError: 5,
cacheError: 6,
termExpired: 1001,
haveGot: 1003,
invalidUser: 101,
wrongPassword: 102,
wrongAuthCode: 103,
invalidToken: 10,
notAllowed: 107,
smsPlatformError: 108,
uxinAccount: 120,
PingxxPlatformError: 130,
resourceInsufficient: 201,
balanceInsufficient: 202
});
e.notShowInOnline = [ 1, 3, 4, 5, 6, 105, 130, 201, 1003, 1001 ];
return e;
}();
i.default = l;
cc._RF.pop();
}, {
"../../Script/ProjectConfig": "ProjectConfig",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"../../Script/UserManager": "UserManager",
"../LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../Socket/FastPlayMgr": "FastPlayMgr",
Language: "Language"
} ],
ImageMessageModel: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "478fbd+7FVNJozLdWLSt8Hn", "ImageMessageModel");
var o, n;
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var a = (n = o = function e(t, i) {
r(this, e);
if (i) {
var o = t.o_msg, n = t.m_type;
this.msg_type = n;
if (o) {
this.text = o.text || "";
this.time = o.time || 0;
this.imageUrl = o.image || "";
this.thumImage = o.thum_image || "";
o.fromuserinfo && (this.sendUid = o.fromuserinfo.uid || 0);
null != o.touserinfo && (this.receiveUid = o.touserinfo.uid || 0);
}
} else {
this.msg_type = t.type || 5;
this.text = t.text || 0;
this.time = t.time || 0;
this.imageUrl = t.image || "";
this.thumImage = t.thum_image || "";
null != t.fromuserinfo && (this.sendUid = t.fromuserinfo.uid || 0);
null != t.touserinfo && (this.receiveUid = t.touserinfo.uid || 0);
}
}, o.msg_type = 5, o.text = 0, o.time = 0, o.imageUrl = "", o.thumImage = "", o.sendUid = 0, 
o.receiveUid = 0, n);
t.exports = a;
cc._RF.pop();
}, {} ],
ImageMessage: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "8688b2mV0JLXoNDPjfPxCvz", "ImageMessage");
(function(e) {
e && e.__esModule;
})(e("../../Script/UI/CommonPrefabMgr"));
cc.Class({
extends: cc.Component,
properties: {
image: cc.Sprite,
_imageUrl: "",
bigImagePrefab: cc.Prefab
},
init: function(e) {
var t = this, i = e.thumImage;
t._imageUrl = e.imageUrl;
cc.loader.load({
url: i,
type: "png"
}, function(e, i) {
var o = new cc.SpriteFrame(i);
t.image && o && (t.image.spriteFrame = o);
});
},
showImgManager: function() {
if (this.bigImagePrefab) {
var e = cc.instantiate(this.bigImagePrefab);
if (e && e.getComponent("ImgManager")) {
e.getComponent("ImgManager").init(this._imageUrl);
var t = cc.director.getScene().getChildByName("Canvas");
cc.isValid(t) && t.addChild(e, 800);
}
}
}
});
cc._RF.pop();
}, {
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr"
} ],
ImgManager: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "37adej2lBhF/JExmvQQ5P5U", "ImgManager");
var o = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("../../Script/UI/CommonPrefabMgr"));
cc.Class({
extends: cc.Component,
properties: {
imageFrame: cc.Sprite
},
init: function(e) {
var t = this, i = e;
this.loadingPic = !0;
o.default.createCommonLoading("图片加载中...", 100, 300);
cc.loader.load({
url: i,
type: "png"
}, function(e, i) {
o.default.removeCommonLoading(100);
t.loadingPic = !1;
if (e) o.default.createToast("图片加载失败"); else {
var n = new cc.SpriteFrame(i), r = void 0;
if (i.width > i.height) {
t.imageFrame.node.rotation = 0;
var a = i.width / cc.winSize.width, s = i.height / cc.winSize.height;
r = a > s ? a : s;
} else {
t.imageFrame.node.rotation = -90;
var c = i.width / cc.winSize.height, l = i.height / cc.winSize.width;
r = c > l ? c : l;
}
t.imageFrame.node.scale = 1 / r;
t.imageFrame && n && (t.imageFrame.spriteFrame = n);
}
});
},
dismiss: function() {
if (!this.loadingPic) {
this.node.active = !1;
this.node.destroy();
}
}
});
cc._RF.pop();
}, {
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr"
} ],
Language: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "67fae+iujRNJrgX5DLkuqN7", "Language");
t.exports = {
login: {
wait: "",
readUserAgreement: "阅读并同意用户协议后才可登录",
accountOrPasswordError: "账号或密码错误",
passwordRuleError: "Please input 6-20 char",
passwordNotSame: "您2次输入的密码不一致",
accountBlackError: "账户异常 请联系客服",
accountOrCodeError: "账号或验证码错误",
invalidPhone: "请输入有效的手机号码",
invalidCode: "请输入有效的验证码",
invalidPassword: "请输入有效的密码",
findPasswordSuccess: "密码修改成功",
findPasswordFormalUser: "请先升级正式账号",
getCodeloset: "获取验证码失败，请检查手机号",
getCodeFast: "请求太频繁，请稍后再试",
atLeastOneAccount: "请至少保留一个账号",
accountHasBeenRegistered: "请该账号已被注册",
accountDeviceIpBlackError: "网络异常，登陆失败！",
accountDeviceIpBlackErrorInGame: "网络异常，请重新登陆！",
accountDeviceIpBlackErrorGetCode: "网络异常，获取验证码失败！"
},
net: {
socketUrlErr: "Socket地址错误",
timeout: "请求超时，请稍后再试",
noData: "请求异常，请检查网络",
unknownReeor: "未知错误",
paramRequired: "缺少参数",
httpsRequired: "需要使用HTTPS",
dataError: "数据错误",
dbError: "数据库错误",
cacheError: "缓存错误",
termExpired: "非下注时间",
invalidUser: "用户不存在",
wrongPassword: "密码错误",
wrongAuthCode: "验证码错误",
duplicateAccount: "账户已存在",
invalidToken: "TOKEN失效",
userNotActive: "用户未激活",
notAllowed: "禁止访问",
smsPlatformError: "短信平台错误",
uxinAccount: "友信账户",
PingxxPlatformError: "平台错误",
resourceInsufficient: "资源不足",
balanceInsufficient: "余额不足",
reachLimit: "当前闲家下注已达庄家赔付上限",
bankerFullError: "上庄列表已满",
inBankers: "已在上庄列表中",
coinLocked: "金币被锁定",
tableFullError: "达到限制",
upTableError: "已经在桌上",
downTableError: "已经下桌",
toFast: "你太快了",
haveGot: "你已经领取过",
reconnect: "The network is reconnected"
},
marquee: {
redEnvelopeMarquee1: "<color=#F1F11D>{Playername}</color>最大的烦恼不是钱多不知道怎么花，而是慷慨豪掷<color=#F1F11D>{goldcount}</color>元，前往领取的你却是Vip0。",
redEnvelopeMarquee2: "土豪的世界我不懂，老板<color=#F1F11D>{Playername}</color>大气，老板敞亮，谢谢您的<color=#F1F11D>{goldcount}</color>元红包，今晚的麻辣烫有着落了",
gameMarquee1: "<color=#F1F11D>{Playername}</color> 在<color=#F1F11D>{gametype}</color>玩得正尽兴，突然被不明物体砸得眼冒金星，抬头一看竟然是<color=#F1F11D>{goldcount}</color>元。",
gameMarquee2: "<color=#F1F11D>{Playername}</color>真是踩了狗屎运，偷偷在<color=#F1F11D>{gametype}</color>赚了<color=#F1F11D>{goldcount}</color>元，敢不敢发个红包让大家爽一爽！",
gameMarquee3: "<color=#F1F11D>{Playername}</color>怎么赢钱越狠，你心越荡，刚玩<color=#F1F11D>{gametype}</color>就爆赢<color=#F1F11D>{goldcount}</color>元，真是运气来了挡不住",
gameMarquee4: "恕我直言<color=#F1F11D>{Playername}</color>你是不是把<color=#F1F11D>{gametype}</color>游戏当成了提款机，你赢走的<color=#F1F11D>{goldcount}</color>元可以还回来吗？",
gameMarquee5: "吸金狂魔<color=#F1F11D>{Playername}</color>上辈子一定拯救了银河系，随手就在<color=#F1F11D>{gametype}</color>里带走了<color=#F1F11D>{goldcount}</color>元，简直无情。",
gameMarquee6: "吃吃喝喝都是赔，唯有打牌有来回。<color=#F1F11D>{Playername}</color>闷声发大财，一不留神就在<color=#F1F11D>{gametype}</color>游戏带走了<color=#F1F11D>{goldcount}</color>元。真是欧皇附体，壕气逼人"
},
hall: {
hall1: "昵称不能为空",
hall2: "昵称不能包含空格",
hall3: "昵称不可超过7位汉字",
hall4: "Modified success",
hall5: "vip1及以上才可以发红包",
hall6: "Modification failed, please try again later!"
},
email: {
email1: "您有附件未提取，请提取附件。",
email2: "取消",
email3: "提取",
emailExpired: "邮件已到期，下次请记得领取附件奖励哦～"
},
rank: {
rank1: "今日赢取金币最多的玩家排行",
rank2: "拥有金币最多的玩家排行"
},
slot: {
slot1: "金币不足"
},
reconnectFailed: "网络中断，请更换网络环境",
recharge_cancel: "暂不充值",
recharge_togo: "去充值",
back_tohall: "BACK ",
exit_room: "退出房间会输掉比赛，失去所有已下注筹码。",
exit_room_cancel: "暂不退出",
exit_room_confirm: "确认退出",
long_wait: "您太久没有操作，请到大厅休息一下吧！",
long_wait_confirm: "确定",
saveImage: "请升级至最新版本使用该功能<br/>或直接截图保存二维码。",
saveImage2: "请升级至最新版本使用该功能",
restore: "您有正在进行的游戏！",
restore_cancel: "取消",
restore_togo: "回到游戏",
redEnvelope: {
error1: "红包领取失败！",
error2: "您已经领过奖励啦！"
},
recharge: {
success: {
title: "充值已到账，请查收",
button_txt: "确定"
},
failure: {
title: "充值失败。如有充值问题，请联系在线客服",
title2: "1.若您已付款，金额将在5～30秒后到账；  \n2.若您未付款，请关闭弹窗重新提交申请；\n3.若付款后10分钟仍未到账，请联系客服。",
button_txt: "确定"
}
}
};
cc._RF.pop();
}, {} ],
LauncherContactCustomer: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "fd091bVyzVBtacV1lDAmQiG", "LauncherContactCustomer");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = e("../../../Script/ProjectConfig"), a = e("GameEngineUtil"), s = e("../../../Script/UI/CommonPrefabMgr"), c = cc._decorator, l = c.ccclass, u = c.property, d = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.weChatNum = null;
t.qqNum = null;
t.otherNum = null;
t.weChatBtnLabel = null;
t.qqBtnLabel = null;
t.otherBtnLabel = null;
t._weChatNum = null;
t._qqNum = null;
t._otherNum = null;
return t;
}
t.prototype.onLoad = function() {
this.initContentView();
};
t.prototype.initContentView = function() {
this._weChatNum = "2692467299";
this._qqNum = "2785347118";
this._otherNum = "2651022144";
cc.isValid(this.weChatNum) && (this.weChatNum.string = this._weChatNum);
cc.isValid(this.qqNum) && (this.qqNum.string = this._qqNum);
cc.isValid(this.otherNum) && (this.otherNum.string = this._otherNum);
if (cc.isValid(this.weChatBtnLabel) && cc.isValid(this.qqBtnLabel) && cc.isValid(this.otherBtnLabel)) if (r.default.variable.nativeVersion <= 6) {
this.weChatBtnLabel.string = "复制";
this.qqBtnLabel.string = "复制";
this.otherBtnLabel.string = "复制";
} else {
this.weChatBtnLabel.string = "复制并打开QQ";
this.qqBtnLabel.string = "复制并打开QQ";
this.otherBtnLabel.string = "复制并打开QQ";
}
};
t.prototype.clickCopyAndStartApp = function(e, t) {
if (cc.sys.isNative) if (cc.sys.os == cc.sys.OS_ANDROID) if (r.default.variable.nativeVersion >= 6) {
if ("wechat" == t) {
a.copyText(this._weChatNum);
this.scheduleOnce(function() {
a.startQQWithAndroid();
}, 2);
s.default.createToast("复制成功，2秒后跳转QQ。");
} else if ("qq" == t) {
a.copyText(this._qqNum);
this.scheduleOnce(function() {
a.startQQWithAndroid();
}, 2);
s.default.createToast("复制成功，2秒后跳转QQ。");
} else if ("other" == t) {
a.copyText(this._otherNum);
s.default.createToast("复制成功， 请添加客服联系方式。");
}
} else s.default.createToast("复制成功"); else if (cc.sys.os == cc.sys.OS_IOS) if ("wechat" == t) {
a.copyText(this._weChatNum);
this.scheduleOnce(function() {
a.startQQ();
}, 2);
s.default.createToast("复制成功，2秒后跳转QQ。");
} else if ("qq" == t) {
a.copyText(this._qqNum);
this.scheduleOnce(function() {
a.startQQ();
}, 2);
s.default.createToast("复制成功，2秒后跳转QQ。");
} else if ("other" == t) {
a.copyText(this._otherNum);
s.default.createToast("复制成功， 请添加客服联系方式。");
}
};
n([ u(cc.Label) ], t.prototype, "weChatNum", void 0);
n([ u(cc.Label) ], t.prototype, "qqNum", void 0);
n([ u(cc.Label) ], t.prototype, "otherNum", void 0);
n([ u(cc.Label) ], t.prototype, "weChatBtnLabel", void 0);
n([ u(cc.Label) ], t.prototype, "qqBtnLabel", void 0);
n([ u(cc.Label) ], t.prototype, "otherBtnLabel", void 0);
n([ u ], t.prototype, "_weChatNum", void 0);
n([ u ], t.prototype, "_qqNum", void 0);
n([ u ], t.prototype, "_otherNum", void 0);
return t = n([ l ], t);
}(cc.Component);
i.default = d;
cc._RF.pop();
}, {
"../../../Script/ProjectConfig": "ProjectConfig",
"../../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
GameEngineUtil: "GameEngineUtil"
} ],
LauncherFunction: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "f23fcIIQ2FCJL42CF0s1BBf", "LauncherFunction");
var o = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}(), n = s(e("../../../Script/LocalStorage/LocalStorageUtil")), r = s(e("../../../Script/UI/CommonPrefabMgr")), a = s(e("./../../../Script/GameFramework/ApiMgr"));
function s(e) {
return e && e.__esModule ? e : {
default: e
};
}
function c(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var l = e("UISettingModel"), u = e("GameEngineUtil"), d = e("CommonVariable"), f = function() {
function e() {
c(this, e);
}
o(e, null, [ {
key: "openHomePage",
value: function() {
var e = l.homepage;
if (null == e || void 0 == e || "" == e) {
e = n.default.readHomePage();
l.homepage = e;
}
null != e && "" != e || (e = d.defaultHomePage);
u.openUrlByDefaultBrowser(e);
}
}, {
key: "openCustomer",
value: function() {
var e = this;
a.default.launcherCustomerConfig(function(t) {
if (Object.keys(t).length > 0) {
var i = t.login_appeal.url, o = t.login_appeal.browser, n = t.login_appeal.direction;
e.loginCustomerAppeal(i, o, n);
} else r.default.showLauncherCustomerDialog();
}, function() {
r.default.showLauncherCustomerDialog();
});
}
}, {
key: "loginCustomerAppeal",
value: function(e, t, i) {
var o = "", a = !1, s = "false";
if (e && e.length > 0) {
var c = 3;
cc.vv.timi && (c = 4);
var l = "p=" + n.default.readDeviceInfo() + "&pro_id=" + c;
o = e = e.indexOf("?") >= 0 ? e + "&" + l : e + "?" + l;
}
t && (a = 0 != t);
i && (s = 0 == i ? "false" : "true");
o ? 1 == a ? u.openUrlByDefaultBrowser(o) : u.openUrlByH5Browser(o, s) : r.default.showLauncherCustomerDialog();
}
} ]);
return e;
}();
t.exports = f;
cc._RF.pop();
}, {
"../../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"./../../../Script/GameFramework/ApiMgr": "ApiMgr",
CommonVariable: "CommonVariable",
GameEngineUtil: "GameEngineUtil",
UISettingModel: "UISettingModel"
} ],
LauncherModel: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "7cf7brAZ9ZCG40wNnhUq5zR", "LauncherModel");
var o, n;
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var a = (n = o = function e() {
r(this, e);
}, o.new_user_credit = 3, o.user_is_new = !1, o.VCODE_TARGET = {
REGISTER: 0,
UPGRADE: 1,
RESET_PWD: 1,
RESET_BOX: 3,
RESET_CASH: 4,
LOGIN: 5
}, n);
t.exports = a;
cc._RF.pop();
}, {} ],
LauncherRes: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "c0d04roHntGGI3D+PyphTrS", "LauncherRes");
var o, n, r = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("../../Script/ProjectConfig"));
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var s = e("LauncherSkinRes"), c = (n = o = function e() {
a(this, e);
}, o.audio = s.audio[r.default.variable.curSkin], o.pathPhoto = s.pathPhoto[r.default.variable.curSkin], 
o.font = s.font[r.default.variable.curSkin], o.prefab = s.prefab[r.default.variable.curSkin], 
o.pathPhotos = s.pathPhoto, n);
t.exports = c;
cc._RF.pop();
}, {
"../../Script/ProjectConfig": "ProjectConfig",
LauncherSkinRes: "LauncherSkinRes"
} ],
LauncherSkinRes: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "8dd932ftY5BvJjwZHNYNnIn", "LauncherSkinRes");
var o, n;
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var a = (n = o = function e() {
r(this, e);
}, o.audio = {
beautifulgame: {
bgMusic: "beautifulgame/launcher/audio/login"
},
handsome: {}
}, o.font = {
beautifulgame: {
register_btn_font: "beautifulgame/common/font/txt_button_txt/txt_button_txt",
guest_btn_font: "beautifulgame/common/font/txt_button_txt/txt_button_txt",
login_btn_font: "beautifulgame/common/font/txt_button_txt/txt_button_txt"
},
handsome: {
register_btn_font: "handsome/common/font/txt_button/txt_button_orange/txt_button_orange",
guest_btn_font: "handsome/common/font/txt_button/txt_button_green/txt_button_green",
login_btn_font: "handsome/common/font/txt_button/txt_button_blue/txt_button_blue"
}
}, o.pathPhoto = {
beautifulgame: {
launcher_bg: "beautifulgame/launcher/texture/global_bg",
launcher_bg_happyace: "beautifulgame/launcher/texture/global_bg_happyace",
logo_image: "beautifulgame/launcher/texture/logo",
home_page_button_image: "beautifulgame/launcher/texture/ds_launcher_homepage",
kefu_button_image: "beautifulgame/launcher/texture/ds_launcher_kefu",
loading_girl_spine: "beautifulgame/hall/animation/home_girlnew/meilv-dating_ske",
progress_bg_image: "beautifulgame/launcher/texture/hot_update/loading_img_jindut_bg",
progress_light_image: "beautifulgame/launcher/texture/hot_update/ds_loading_progress",
progress_bg_image_happyace: "beautifulgame/launcher/texture/hot_update/loading_img_jindut_bg_happyace",
progress_light_image_happyace: "beautifulgame/launcher/texture/hot_update/ds_loading_progress_happyace",
progress_slide_flower: "beautifulgame/launcher/texture/hot_update/ds_img_loading_progress_lizi",
progress_slide_flower_light: "",
login_signup_btn_image: "beautifulgame/common/texture/button/common_dialog_img_bg_btn03",
login_guest_btn_image: "beautifulgame/common/texture/button/common_dialog_img_bg_btn06",
login_account_btn_image: "beautifulgame/common/texture/button/common_dialog_img_bg_btn07",
pwd_login_title: "beautifulgame/launcher/texture/login/ds_dialog_mmdl_text",
pwd_login_bg: "beautifulgame/launcher/texture/login/dialog_login_bg",
fast_login_title: "beautifulgame/launcher/texture/login/ds_dialog_ksdl_text",
register_login_title: "beautifulgame/launcher/texture/login/ds_zc_title_text",
find_pwd_title: "beautifulgame/launcher/texture/login/ds_dialog_zhmm_text",
find_pwd_contentbg: "beautifulgame/launcher/texture/login/dialog_find_pwd_contentbg",
upgrade_ac_title: "beautifulgame/launcher/texture/login/ds_dialog_sjzh_text",
find_pwd_title_new: "beautifulgame/launcher/texture/login/ds_dialog_zhmm_text",
gamelogingusetbg: "beautifulgame/common/texture/button/common_dialog_img_bg_btn04",
paione: "beautifulgame/launcher/texture/paione",
paitwo: "beautifulgame/launcher/texture/paittwo"
},
handsome: {
launcher_bg: "handsome/launcher/texture/bd_loading_img_bg",
logo_image: "loading/texture/loading_logo_chengfeng",
home_page_button_image: "handsome/launcher/texture/bd_loading_btn_gw",
loading_girl_spine: "handsome/launcher/animation/loading/dwc_loading_girl",
kefu_button_image: "handsome/launcher/texture/bd_loading_btn_kf",
progress_bg_image: "handsome/launcher/texture/bd_loading_img_jindut_bg",
progress_light_image: "handsome/launcher/texture/bd_loading_bg",
login_signup_btn_image: "handsome/common/texture/button/btn_red_light",
login_guest_btn_image: "handsome/common/texture/button/btn_green_light",
login_account_btn_image: "handsome/common/texture/button/btn_blue_light",
pwd_login_title: "handsome/common/texture/dialogTitle/bd_dialog_mmdl_text",
fast_login_title: "handsome/common/texture/dialogTitle/bd_dialog_ksdl_text",
register_login_title: "handsome/common/texture/dialogTitle/bd_dialog_zc_text",
find_pwd_title: "handsome/common/texture/dialogTitle/bd_dialog_czmm_text",
upgrade_ac_title: "handsome/common/texture/dialogTitle/bd_dialog_sjzh_text",
find_pwd_title_new: "handsome/common/texture/dialogTitle/bd_dialog_zhmm_text"
},
timi: {
launcher_bg: "timi/launcher/texture/hy_loading_img_bg",
logo_image: "loading/texture/loading_logo_timi",
progress_bg_image: "timi/launcher/texture/hy_loading_img_jindut_bg",
progress_light_image: "timi/launcher/texture/hy_loading_bg"
},
yingyangshi: {
launcher_bg: "yingyangshi/launcher/texture/jj_loading_img_bg",
logo_image: "loading/texture/loading_logo_yingyangshi",
progress_bg_image: "yingyangshi/launcher/texture/jj_loading_img_jindut_bg",
progress_light_image: "yingyangshi/launcher/texture/jj_loading_bg"
},
haidilao: {
launcher_bg: "haidilao/launcher/texture/haidilao_loading_img_bg",
logo_image: "loading/texture/loading_logo_haidilao",
progress_bg_image: "haidilao/launcher/texture/haidilao_loading_img_jindut_bg",
progress_light_image: "haidilao/launcher/texture/haidilao_loading_bg"
},
xiyouji: {
launcher_bg: "xiyouji/launcher/texture/lz_loading_img_bg",
logo_image: "loading/texture/loading_logo_xiyouji",
progress_bg_image: "xiyouji/launcher/texture/lz_loading_img_jindut_bg",
progress_light_image: "xiyouji/launcher/texture/lz_loading_bg"
},
wangyi: {
launcher_bg: "wangyi/launcher/texture/dh_loading_img_bg",
logo_image: "loading/texture/loading_logo_wangyi",
progress_bg_image: "wangyi/launcher/texture/dh_loading_img_jindut_bg",
progress_light_image: "wangyi/launcher/texture/dh_loading_bg",
loading_girl_spine: "wangyi/launcher/animation/loading/hlzjh_npc_ske"
}
}, o.prefab = {
beautifulgame: {
fastLogin: "beautifulgame/launcher/prefab/login/fastLogin",
passwordLogin: "beautifulgame/launcher/prefab/login/passwordLogin",
findPassword: "beautifulgame/launcher/prefab/login/findPassword",
register: "beautifulgame/launcher/prefab/login/register"
},
handsome: {
fastLogin: "handsome/launcher/prefab/login/fastLogin",
passwordLogin: "handsome/launcher/prefab/login/passwordLogin",
findPassword: "handsome/launcher/prefab/login/findPassword",
register: "handsome/launcher/prefab/login/register"
}
}, n);
t.exports = a;
cc._RF.pop();
}, {} ],
LauncherView: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "49278dFaBhJGrUIGlbsVhtV", "LauncherView");
var o, n, r = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}(), a = (c(e("../../../Script/UserManager")), c(e("../../../Script/LocalStorage/LocalStorageUtil"))), s = c(e("./../../../Script/GameFramework/ApiMgr"));
c(e("../../../Script/DataParseUtil"));
function c(e) {
return e && e.__esModule ? e : {
default: e
};
}
function l(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var u = e("CommonVariable"), d = e("CommonEventName"), f = e("UISettingModel"), h = (n = o = function() {
function e() {
l(this, e);
}
r(e, null, [ {
key: "parseUISettings",
value: function(e) {
if (e) {
f.parseDataWithUISetting(e);
cc.director.emit(d.refreshUISettings);
}
}
}, {
key: "loadUIConfig",
value: function(e) {
var t = this;
u.BLOCK_SETTING || s.default.loadUIConfig({
version: 3
}, function(i) {
if (i) {
t.retry_time = 0;
a.default.saveHallUIConfig(i);
t.parseUISettings(i);
e && e(0);
}
}, function() {
if (t.retry_time < 3) {
t.retry_time += 1;
t.loadUIConfig(e);
} else {
var i = a.default.readHallUIConfig();
if (i) {
a.default.saveHallUIConfig(i);
t.parseUISettings(i);
e(1);
} else e(2);
}
});
}
} ]);
return e;
}(), o.retry_time = 0, n);
t.exports = h;
cc._RF.pop();
}, {
"../../../Script/DataParseUtil": "DataParseUtil",
"../../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../../Script/UserManager": "UserManager",
"./../../../Script/GameFramework/ApiMgr": "ApiMgr",
CommonEventName: "CommonEventName",
CommonVariable: "CommonVariable",
UISettingModel: "UISettingModel"
} ],
LeaveAlert: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "eb8b3kJePJBIoDa0W2RQI4A", "LeaveAlert");
var o = r(e("../../../Script/Audio/CommonAudioMgr")), n = r(e("../../../Script/Audio/CommonAudio"));
function r(e) {
return e && e.__esModule ? e : {
default: e
};
}
var a = e("FullScreenAdapter");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {
a.applyHorizon(this.node.getChildByName("mask"));
},
init: function(e, t) {
this.frame && this.frame.setPosition(0, 5e3);
this.positiveCallback = "function" == typeof e ? e : function() {};
this.negativeCallback = "function" == typeof t ? t : function() {};
this.show();
},
show: function() {
this.frame && this.frame.runAction(cc.sequence(cc.scaleTo(0, .8), cc.place(0, 0), cc.scaleTo(.2, 1).easing(cc.easeBackOut())));
},
dismiss: function() {
n.default.common && n.default.common.btnMusic && o.default.playEffect(n.default.common.btnMusic);
this.node && (this.node.active = !1);
},
onClickPositive: function() {
this.positiveCallback();
this.dismiss();
},
onClickNegative: function() {
this.negativeCallback();
this.dismiss();
}
});
cc._RF.pop();
}, {
"../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
FullScreenAdapter: "FullScreenAdapter"
} ],
Loading: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "5fb0ehDNlVKZbu7iFwuTskD", "Loading");
o(e("../../Script/Audio/CommonAudioMgr")), o(e("../../Script/Audio/CommonAudio"));
function o(e) {
return e && e.__esModule ? e : {
default: e
};
}
var n = e("FullScreenAdapter");
cc.Class({
extends: cc.Component,
properties: {
maskNode: cc.Node,
text: cc.Label
},
onLoad: function() {
this.audioId = 0;
n.applyHorizon(this.node.getChildByName("mask"));
},
init: function(e) {
this.text.string = e || "loading...";
cc.isValid(this.maskNode) && (this.maskNode.active = !0);
},
onDisable: function() {},
dismiss: function() {
if (this.node) {
this.node.active = !1;
this.node.removeFromParent();
}
},
onClickMask: function() {}
});
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
FullScreenAdapter: "FullScreenAdapter"
} ],
LocalStorageUtil: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "ec37bqxXJ5HzYqydZV1r3J6", "LocalStorageUtil");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = e("GameEngineUtil"), n = function() {
function e() {}
e.init = function() {
this.clearCommonConfig();
this.initAppPackageName();
this.initAppVersionCode();
this.initAppChannel();
this.initDeviceID();
this.initDeviceInfo();
this.initCustomerServiceLastModify();
this.setPlayingGame();
this.initDeviceVibrator();
};
e.clearUserLoginData = function() {
this.clearUserIDAndToken();
};
e.clearCommonConfig = function() {
cc.sys.localStorage.removeItem("_config_show_exchange");
cc.sys.localStorage.removeItem("channel_data");
};
e.buildDeviceInfoItemKey = function() {
return "_deviceInfo_180101_" + this.readAppVersionCode();
};
e.initDeviceVibrator = function() {};
e.initDeviceInfo = function() {
var e = this.buildDeviceInfoItemKey(), t = o.getDeviceInfo();
this.saveData(e, t);
};
e.readDeviceInfo = function() {
var e = this.buildDeviceInfoItemKey(), t = this.readData(e);
if (!t || t.indexOf("null") >= 0) {
t = o.getDeviceInfo();
this.saveData(e, t);
}
var i = "cvn={0}&".format(GAMECONFIG.HOT_CODE), n = t.replace(/cvn=(.*?)&/, i);
n && n.indexOf("cvn=") < 0 && (n = n + "&cvn=" + GAMECONFIG.HOT_CODE);
return n;
};
e.initDeviceID = function() {
var e = this.readData("_config__deviceId_180105");
if (!e || e.length < 10) {
e = o.getDeviceID();
this.saveData("_config__deviceId_180105", e);
}
};
e.readDeviceID = function() {
var e = this.readData("_config__deviceId_180105");
if (!e) {
e = o.getDeviceID();
this.saveData("_config__deviceId_180105", e);
}
return e;
};
e.initAppPackageName = function() {
var e = o.getPackageName();
this.saveData("_config_app_package_name", e);
};
e.readAppPackageName = function() {
var e = this.readData("_config_app_package_name");
e || (e = o.getPackageName());
this.saveData("_config_app_package_name", e);
return e;
};
e.initAppVersionCode = function() {
var e = o.getVersionCode();
this.saveData("_config_app_version_code", e);
};
e.readAppVersionCode = function() {
var e = this.readData("_config_app_version_code");
e || (e = o.getVersionCode());
this.saveData("_config_app_version_code", e);
return e;
};
e.initAppChannel = function() {
var e = o.getChannel();
this.saveData("_config_chn_180209", e);
};
e.readAppChannel = function() {
var e = this.readData("_config_chn_180209");
e || (e = o.getChannel());
this.saveData("_config_chn_180209", e);
return e;
};
e.saveNamingList = function(e) {
this.saveData("_config__naming_server_list", JSON.stringify(e));
};
e.readNamingList = function() {
var e = null, t = this.readData("_config__naming_server_list");
t && t.length > 8 && (e = JSON.parse(t));
return e;
};
e.saveUserID = function(e) {
this.saveData("_config_user_id", "" + e);
};
e.readUserID = function() {
return "" + this.readData("_config_user_id");
};
e.clearUserID = function() {
this.clearData("_config_user_id");
};
e.isLogin = function() {
var e = this.readUserID(), t = this.readUserToken();
return e && t;
};
e.saveUserToken = function(e) {
this.saveData("_config_token", e);
};
e.readUserToken = function() {
return this.readData("_config_token");
};
e.clearUserToken = function() {
this.clearData("_config_token");
};
e.saveBillsBoxNumber = function(e) {
this.saveData("_config_BillsNumber", e);
};
e.readBillsBoxNumber = function() {
return this.readData("_config_BillsNumber");
};
e.saveBankTransGu1 = function(e) {
this.saveData("_config_bankTransGu1", e);
};
e.readBankTransGu1 = function() {
return this.readData("_config_bankTransGu1");
};
e.saveBankTransGu12 = function(e) {
this.saveData("_config_bankTransGu12", e);
};
e.readBankTransGu12 = function() {
return this.readData("_config_bankTransGu12");
};
e.saveBankTransGu2 = function(e) {
this.saveData("_config_bankTransGu2", e);
};
e.readBankTransGu2 = function() {
return this.readData("_config_bankTransGu2");
};
e.saveVIPTopUpTransGu1 = function(e) {
this.saveData("_config_vipTransGu1", e);
};
e.readVIPTopUpTransGu1 = function() {
return this.readData("_config_vipTransGu1");
};
e.saveVIPTopUpTransGu2 = function(e) {
this.saveData("_config_vipTransGu2", e);
};
e.readVIPTopUpTransGu2 = function() {
return this.readData("_config_vipTransGu2");
};
e.saveClickBox = function(e) {
this.saveData("_config_ischecked", e);
};
e.readClickBox = function() {
return this.readData("_config_ischecked");
};
e.clearClickbox = function() {
this.clearData("ischecked");
};
e.clearUserIDAndToken = function() {
this.clearUserID();
this.clearUserToken();
};
e.saveGuestLogin = function(e) {
this.saveData("_config_onGuestLogin", e);
};
e.readGuestLogin = function() {
return this.readData("_config_onGuestLogin");
};
e.initCustomerServiceLastModify = function() {
var e = parseInt(new Date().setDate(new Date().getDate() - 15) / 1e3);
"false" == (this.readData("_config_chat_timeStamp") || "false") && this.saveData("_config_chat_timeStamp", e);
};
e.saveNoticeIds = function(e) {
this.saveData("_config_notice_ids", e);
};
e.readNoticeIds = function() {
return this.readData("_config_notice_ids") || "";
};
e.clearNoticeIds = function() {
this.clearData("notice_ids");
};
e.saveCustomerServiceLastModify = function(e) {
this.saveData("_config_chat_timeStamp", e);
};
e.readCustomerServiceLastModify = function() {
return this.readData("_config_chat_timeStamp") || 1;
};
e.saveClickPayTime = function(e) {
this.saveData("_config_click_pay_time", e);
};
e.getClickPayTime = function(e) {
return this.readData("_config_click_pay_time");
};
e.saveTopUpChannels = function(e) {
this.saveData("_config__top_up_channels_list", e);
};
e.getTopUpChannels = function() {
return this.readData("_config__top_up_channels_list");
};
e.saveGateInfo = function(e) {
this.saveData("_config__gate_info_data", e);
};
e.readGateInfo = function() {
return this.readData("_config__gate_info_data");
};
e.saveServerInfo = function(e) {
this.saveData("_config__server_info_data", e);
};
e.readServerInfo = function() {
return this.readData("_config__server_info_data");
};
e.saveSubServerInfo = function(e) {
this.saveData("_config__server_sub_info_data", JSON.stringify(e));
};
e.readSubServerInfo = function() {
var e = null, t = this.readData("_config__server_sub_info_data");
t && t.length > 100 && (e = JSON.parse(t));
return e;
};
e.saveAccessList = function(e) {
this.saveData("_config__naming_access_list_01", JSON.stringify(e));
};
e.readAccessList = function() {
var e = null, t = this.readData("_config__naming_access_list_01");
t && t.length > 9 && (e = JSON.parse(t));
return e;
};
e.saveGateList = function(e) {
this.saveData("_config__naming_gate_list_01", JSON.stringify(e));
};
e.readGateList = function() {
var e = null, t = this.readData("_config__naming_gate_list_01");
t && t.length > 9 && (e = JSON.parse(t));
if (e && e.length > 0) {
for (var i = e.length, o = [], n = 0; n < i; n++) {
var r = e[n];
o.indexOf(r) >= 0 || o.push(r);
}
e = o;
}
return e;
};
e.saveServerList = function(e) {
this.saveData("_config__naming_server_list_01", JSON.stringify(e));
};
e.readServerList = function() {
var e = null, t = this.readData("_config__naming_server_list_01");
t && t.length > 9 && (e = JSON.parse(t));
return e;
};
e.saveServerInfoLastModify = function() {
var e = new Date().getTime().toString();
this.saveData("_config__server_update_last_modify", e);
};
e.needUpdateServerInfo = function() {
var e = new Date().getTime(), t = this.readData("_config__server_update_last_modify");
t || (t = 0);
return e - parseInt(t) > 2592e6;
};
e.needCheckPopNotice = function() {
var e = new Date().getDate(), t = new Date().getMonth() + 1, i = new Date().getFullYear(), o = this.readData("_config__pop_notice_last_modify"), n = JSON.parse(o);
if (n) {
var r = n.day, a = n.month, s = n.year;
return null == r || null == a || null == s || (e != r || t != a || i != s);
}
return !0;
};
e.savePopNoticeLastModify = function() {
var e = {
day: new Date().getDate(),
month: new Date().getMonth() + 1,
year: new Date().getFullYear()
};
this.saveData("_config__pop_notice_last_modify", JSON.stringify(e));
};
e.saveSystemNotic = function() {
this.saveData("_config__system_notic_rate", !0);
};
e.needSystemNotic = function() {
return this.readData("_config__system_notic_rate");
};
e.clearSystemNotic = function() {
this.clearData("_system_notic_rate");
};
e.needCheckPopAgency = function() {
return new Date().getDay() != this.readData("_config__pop_agency_last_modify");
};
e.savePopAgencyLastModify = function() {
var e = new Date().getDay();
this.saveData("_config__pop_agency_last_modify", e);
};
e.saveAgencyData = function(e) {
this.saveData("_config__agency_list", JSON.stringify(e));
};
e.getAgencyData = function() {
var e = null, t = this.readData("_config__agency_list");
t && t.length > 0 && (e = JSON.parse(t));
return e;
};
e.saveAgencyEnable = function(e) {
this.saveData("_config__agency_enable", e);
};
e.getAgencyEnable = function() {
var e = this.readData("_config__agency_enable");
return 1 == e || "true" == e;
};
e.needShowGuestDialog = function() {
return new Date().getDay() != this.readData("_config__guest_user_tips_dialog_show_");
};
e.saveShowGuestDialog = function() {
var e = new Date().getDay();
this.saveData("_config__guest_user_tips_dialog_show_", e);
};
e.saveSafeboxPwd = function(e) {
this.saveData("_config_GameSafeBoxPwd", e);
};
e.readSafeboxPwd = function() {
return this.readData("_config_GameSafeBoxPwd");
};
e.setPlayingGame = function() {
this.saveData("_config__last_game_info_id_01", "1");
};
e.clearPlayingGame = function() {
this.clearData("_last_game_info_id_01");
};
e.isPlayingGame = function() {
return "1" == this.readData("_config__last_game_info_id_01");
};
e.loadKeyChainAccount = function() {
var e = null, t = this.readData("_config__keychain_account_infos");
t && t.length > 10 && (e = JSON.parse(t));
return e;
};
e.saveKeyChainAccount = function(e) {
this.saveData("_config__keychain_account_infos", JSON.stringify(e));
};
e.clearKeyChainAccount = function() {
this.clearData("_config__keychain_account_infos");
};
e.saveLastLoginAccount = function(e) {
this.saveData("_config__login_input_account_", e);
};
e.getLastLoginAccount = function() {
return this.readData("_config__login_input_account_");
};
e.saveFormalUserAccount = function(e) {
this.saveData("_config__formalUser_input_account_", e);
};
e.getFormalUserAccount = function() {
return this.readData("_config__formalUser_input_account_");
};
e.saveUpgradeFormalUserTag = function(e) {
this.saveData("_config__login_user_tag_famour", e);
};
e.getUpgradeFormalUserTag = function() {
return this.readData("_config__login_user_tag_famour");
};
e.saveBannerNoticeData = function(e) {
this.saveData("_config__hall_banner_notice_list", JSON.stringify(e));
};
e.getBannerNoticeData = function() {
var e = null, t = this.readData("_config__hall_banner_notice_list");
t && t.length > 10 && (e = JSON.parse(t));
return e;
};
e.clearBannerNoticeData = function() {
this.clearData("_hall_banner_notice_list");
};
e.saveWithDrawTypesData = function(e) {
this.saveData("_config__with_draw_types_list_", JSON.stringify(e));
};
e.getWithDrawTypesData = function() {
var e = null, t = this.readData("_config__with_draw_types_list_");
t && t.length > 10 && (e = JSON.parse(t));
return e;
};
e.saveBankTypeInfo = function(e) {
this.saveData("_config_bankTypeInfo", JSON.stringify(e));
};
e.readBankTypeInfo = function() {
return JSON.parse(this.readData("_config_bankTypeInfo"));
};
e.saveBankListData = function(e) {
this.saveData("_config__with_draw_bank_list_", JSON.stringify(e));
};
e.getBankListData = function() {
var e = null, t = this.readData("_config__with_draw_bank_list_");
t && t.length > 10 && (e = JSON.parse(t));
return e;
};
e.saveWithDrawBindInfo = function(e, t) {
this.saveData("_config__with_draw_bind_info_" + e, JSON.stringify(t));
};
e.clearWithDrawBindInfo = function(e) {
this.saveData("_config__with_draw_bind_info_" + e, "");
};
e.getWithDrawBindInfo = function(e) {
var t = null, i = this.readData("_config__with_draw_bind_info_" + e);
i && i.length > 10 && (t = JSON.parse(i));
return t;
};
e.saveBankList = function(e) {
this.saveData("_config__with_draw_bank_list_", JSON.stringify(e));
};
e.getBankList = function() {
var e = null, t = this.readData("_config__with_draw_bank_list_");
t && t.length > 10 && (e = JSON.parse(t));
return e;
};
e.saveHomePage = function(e) {
this.saveData("_config_HomePage", e);
};
e.readHomePage = function() {
return this.readData("_config_HomePage");
};
e.saveSafeBoxCd = function(e) {
this.saveData("_config_SafeBoxCd", e);
};
e.readSafeBoxCd = function() {
return this.readData("_config_SafeBoxCd");
};
e.saveGameType = function(e) {
this.saveData("_config_gameType", e);
};
e.readGameType = function() {
return this.readData("_config_gameType");
};
e.saveRoomIndex = function(e) {
this.saveData("_config_roomIndex", e);
};
e.readRoomIndex = function() {
return this.readData("_config_roomIndex");
};
e.saveBestfiveAnimationStatus = function(e) {
this.saveData("_config_bestfive_leadingAnimation", e);
};
e.readBestfiveAnimationStatus = function() {
return this.readData("_config_bestfive_leadingAnimation");
};
e.saveAnniversaryActivityConfigData = function(e) {
this.saveData("_config_AnniversaryActivityConfig", e);
};
e.readAnniversaryActivityConfigData = function() {
return this.readData("_config_AnniversaryActivityConfig");
};
e.savePassBarrierActivityData = function(e) {
this.saveData("_config_PassBarrierActivity", e);
};
e.readPassBarrierActivityData = function() {
return this.readData("_config_PassBarrierActivity");
};
e.saveLoginRedPacketTime = function(e) {
this.saveData("_config_LoginRedPacketTime", e);
};
e.readLoginRedPacketTime = function() {
return this.readData("_config_LoginRedPacketTime");
};
e.saveAgencyRequestTime = function(e) {
this.saveData("_config_AgencyRequestTime", e);
};
e.readAgencyRequestTime = function() {
return this.readData("_config_AgencyRequestTime");
};
e.saveRegisterForGifts = function() {
this.saveData("_config_RegisterForGifts", "true");
};
e.readRegisterForGifts = function() {
return this.readData("_config_RegisterForGifts");
};
e.clearRegisterForGifts = function() {
this.clearData("_config_RegisterForGifts");
};
e.savePayStatusIsRequest = function() {
this.saveData("_config_PayStatusIsRequest", "1");
};
e.readPayStatusIsRequest = function() {
return this.readData("_config_PayStatusIsRequest");
};
e.clearPayStatusIsRequest = function() {
this.clearData("PayStatusIsRequest");
};
e.saveExchangeGuide = function() {
this.saveData("_config_ExchangeGuide", "true");
};
e.readExchangeGuide = function() {
return this.readData("_config_ExchangeGuide");
};
e.saveEffectSwitch = function(e) {
this.saveData("_config_effect", e);
};
e.readEffectSwitch = function() {
return this.readData("_config_effect");
};
e.saveMobileVibratorSwitch = function(e) {
this.saveData("_config_vibratorswitch", e);
};
e.readMobileVibratorSwitch = function() {
return this.readData("_config_vibratorswitch");
};
e.saveMusicSwitch = function(e) {
this.saveData("_config_sound", e);
};
e.readMusicSwitch = function() {
return this.readData("_config_sound");
};
e.saveLastRequestFishTypeTime = function(e, t) {
var i = "lastRequestFishTypeTime";
t && (i = t + "_lastRequestFishTypeTime");
this.saveData(i, e);
};
e.readLastRequestFishTypeTime = function(e) {
var t = "lastRequestFishTypeTime";
e && (t = e + "_lastRequestFishTypeTime");
return this.readData(t);
};
e.saveFishTideData = function(e, t) {
var i = "fishTideData";
t && (i = t + "_fishTideData");
this.saveData(i, JSON.stringify(e));
};
e.readFishTideData = function(e) {
var t = "fishTideData";
e && (t = e + "_fishTideData");
var i = null, o = this.readData(t);
o && o.length > 0 && (i = JSON.parse(o));
return i;
};
e.saveFishNormalData = function(e, t) {
var i = "fishNormalData";
t && (i = t + "_fishNormalData");
this.saveData(i, JSON.stringify(e));
};
e.readFishNormalData = function(e) {
var t = "fishNormalData";
e && (t = e + "_fishNormalData");
var i = null, o = this.readData(t);
o && o.length > 0 && (i = JSON.parse(o));
return i;
};
e.saveLastModify = function(e) {
var t = new Date().getDay() + "-" + new Date().getHours();
this.saveData(e + "_last_modify_sub0", t);
};
e.readLastModify = function(e) {
return this.readData(e + "_last_modify_sub0");
};
e.saveServerAvatarList = function(e) {
this.saveData("_config_SelectAvatar", e);
};
e.readServerAvatarList = function() {
return this.readData("_config_SelectAvatar");
};
e.saveFirstLogin = function() {
this.saveData("_config_FirstLogin", !0);
};
e.readFirstLogin = function() {
return this.readData("_config_FirstLogin");
};
e.saveIsNew = function(e) {
this.saveData("_config_is_new", e);
};
e.readIsNew = function() {
return this.readData("_config_is_new");
};
e.saveHallUIConfig = function(e) {
this.saveData("_config__hall_ui_config_v3_", JSON.stringify(e));
};
e.readHallUIConfig = function() {
var e = null, t = this.readData("_config__hall_ui_config_v3_");
t && t.length > 20 && (e = JSON.parse(t));
return e;
};
e.savePayUnreadLastRequestTime = function(e, t) {
t && t > 0 && this.saveData(e + "_payUnreadLastRequestTime", t);
};
e.getPayUnreadLastRequestTime = function(e) {
var t = this.readData(e + "_payUnreadLastRequestTime");
return t || 0;
};
e.saveBonusCenterInfo = function(e) {
e && this.saveData("_config__hall_bonus_center_info_", JSON.stringify(e));
};
e.getBonusCenterInfo = function() {
var e = null, t = this.readData("_config__hall_bonus_center_info_");
t && (e = JSON.parse(t));
return e;
};
e.saveBonusCenterInfoLastReadDate = function(e, t) {
t && this.saveData(e + "_hall_bonus_center_info_last_read_date_", t);
};
e.getBonusCenterInfoLastReadDate = function(e) {
var t = this.readData(e + "_hall_bonus_center_info_last_read_date_");
return t || 0;
};
e.savePopWindowTopUpLastOpenDate = function(e, t) {
t && this.saveData(e + "_pop_topup_last_read_date_", t);
};
e.getPopWindowTopUpLastOpenDate = function(e) {
var t = this.readData(e + "_pop_topup_last_read_date_");
return t || 0;
};
e.saveFishingResVersion = function(e) {
this.saveData("_config_fishing_res_version_01", e);
};
e.getFishingResVersion = function() {
return this.readData("_config_fishing_res_version_01");
};
e.saveFishingResUrl = function(e) {
this.saveData("_config_fishing_res_url_01", e);
};
e.getFishingResUrl = function() {
return this.readData("_config_fishing_res_url_01");
};
e.saveFishingMaxGunId = function(e, t, i) {
var o = "fishing_max_gun_" + e;
i && (o = i + "_fishing_max_gun_" + e);
this.saveData(o, t);
};
e.getFishingMaxGunId = function(e, t) {
var i = "fishing_max_gun_" + e;
t && (i = t + "_fishing_max_gun_" + e);
return this.readData(i);
};
e.saveBoolean = function(e, t) {
cc.sys.localStorage.setItem(e, t);
};
e.readBoolean = function(e) {
var t;
return 1 == (t = cc.sys.localStorage.getItem(e)) || "true" == t;
};
e.readData = function(e) {
return cc.sys.localStorage.getItem(e);
};
e.saveData = function(e, t) {
cc.sys.localStorage.setItem(e, t);
};
e.clearData = function(e) {
cc.sys.localStorage.removeItem(e);
};
e.saveUserDataEvent = function(e) {
for (var t in e) {
console.log("saveUserDataEvent this key is" + t + "===value=" + e[t]);
if ("user_id" == t || "userId" == t) {
this.saveUserID(e[t]);
cc.sys.localStorage.setItem(t, "" + e[t]);
} else if ("token" == t) {
this.saveUserToken(e[t]);
cc.sys.localStorage.setItem(t, e[t]);
} else cc.sys.localStorage.setItem(t, e[t]);
}
};
return e;
}();
i.default = n;
cc._RF.pop();
}, {
GameEngineUtil: "GameEngineUtil"
} ],
Localization: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "a775f2MfwFPcJ3QwhLg4kLp", "Localization");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = e("./ProjectConfig"), n = e("./Utils/Utility"), r = function() {
function e() {}
e.getLanguage = function() {
return this.m_languageName;
};
e.init = function(e) {
void 0 === e && (e = null);
var t = "_config_localization_lang";
null == e && (e = cc.sys.localStorage.getItem(t));
if (null == e) {
e = cc.sys.language;
cc.sys.localStorage.setItem(t, e);
}
this.m_languageName = e;
};
e.initByGameName = function(t, i) {
void 0 === i && (i = null);
cc.loader.loadRes(o.default.variable.curSkin + "/" + t + "/lang/" + e.getLanguage() + "/lang", function(e, o) {
if (null == e) {
var n = o;
if (null != n && n.isValid && n.json) {
var r = n.json;
this.addMap(t);
var a = new Map();
for (var s in r) r.hasOwnProperty(s) && (a[s] = r[s]);
this.addMap(t, a);
null != i && i();
}
}
}.bind(this));
};
e.get = function(e, t) {
for (var i = [], o = 2; o < arguments.length; o++) i[o - 2] = arguments[o];
var r = this.m_locals[e];
if (null == r) return "not found module " + e + " name: " + t;
var a = r[t];
return null == a ? "not found module " + e + " name: " + t : n.default.stringFormat(a, i);
};
e.add = function(e, t, i) {
var o = this.m_locals[e];
null == o && (this.m_locals[e] = new Map());
o[t] = i;
};
e.addMap = function(e, t) {
var i = this.m_locals[e];
null == i && (this.m_locals[e] = new Map());
for (var o in t) i[o] = t[o];
};
e.remove = function(e, t) {
var i = this.m_locals[e];
return null == i || i.delete(t);
};
e.removeByModuleName = function(e) {
return this.m_locals.delete(e);
};
e.m_locals = new Map();
e.m_languageName = "";
return e;
}();
i.default = r;
cc._RF.pop();
}, {
"./ProjectConfig": "ProjectConfig",
"./Utils/Utility": "Utility"
} ],
LoginPrefabManager: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "f6433kP6J9EtK068v9E0sVb", "LoginPrefabManager");
var o = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}();
(function(e) {
e && e.__esModule;
})(e("../../../Script/ProjectConfig"));
function n(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var r = e("LauncherRes"), a = e("ComponentRes"), s = function() {
function e() {
n(this, e);
}
o(e, null, [ {
key: "createPasswordLogin",
value: function() {
cc.loader.loadRes(r.prefab.passwordLogin, function(e, t) {
if (t) {
var i = cc.instantiate(t);
i && i.getComponent("PasswordLogin") && i.getComponent("PasswordLogin").showDialog();
}
});
}
}, {
key: "createFindPassword",
value: function(e) {
cc.loader.loadRes(r.prefab.findPassword, function(t, i) {
if (i) {
var o = cc.instantiate(i);
o && o.getComponent("FindPassword") && o.getComponent("FindPassword").showDialog(e);
}
});
}
}, {
key: "createFastLogin",
value: function() {
cc.loader.loadRes(r.prefab.fastLogin, function(e, t) {
if (t) {
var i = cc.instantiate(t);
i && i.getComponent("FastLogin") && i.getComponent("FastLogin").showDialog();
}
});
}
}, {
key: "createRegister",
value: function(e) {
cc.loader.loadRes(a.prefab.guideregister, function(t, i) {
if (i) {
cc.instantiate(i).getComponent("GuideRegister").init(0, e);
}
});
}
} ]);
return e;
}();
t.exports = s;
cc._RF.pop();
}, {
"../../../Script/ProjectConfig": "ProjectConfig",
ComponentRes: "ComponentRes",
LauncherRes: "LauncherRes"
} ],
MailBoxContactDialog: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "0dc622A5mBObIxhaldpXdof", "MailBoxContactDialog");
var o = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("../../Script/BaseFormat"));
var n = e("FullScreenAdapter");
cc.Class({
extends: cc.Component,
properties: {
contactPupupLabel: cc.Label
},
onLoad: function() {
n.applyHorizon(this.node.getChildByName("mask"));
},
showContactPopup: function(e, t) {
var i = this.computeFontWidth(e);
this.contactPupupLabel.string = e + "";
this.contactPupupLabel.node.width = i;
this.contactPupupLabel.node.parent.width = i;
if (t) {
var o = this.contactPupupLabel.node.parent.convertToNodeSpaceAR(t);
o.x += -51;
o.y += 65;
this.contactPupupLabel.node.parent.setPosition(o);
}
this.show();
},
show: function() {},
dismiss: function() {
if (this.node) {
this.node.active = !1;
this.node.removeFromParent();
}
},
computeFontWidth: function(e) {
return 15 * o.default.getWordLength(e) + 20;
}
});
cc._RF.pop();
}, {
"../../Script/BaseFormat": "BaseFormat",
FullScreenAdapter: "FullScreenAdapter"
} ],
MailBoxContent: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "ec6daX62ntMoY09x1rn50mo", "MailBoxContent");
var o = l(e("../../Script/UI/CommonPrefabMgr")), n = l(e("../../Script/Audio/CommonAudioMgr")), r = l(e("../../Script/Audio/CommonAudio")), a = l(e("../../Script/BaseFormat")), s = l(e("../../Script/ProjectConfig")), c = l(e("./../../Script/GameFramework/ApiMgr"));
function l(e) {
return e && e.__esModule ? e : {
default: e
};
}
var u = e("CommonRes"), d = e("CommonFunction"), f = e("MailBoxPrefabMgr"), h = e("Language"), p = e("MailBoxUtil"), g = e("CommonEventName"), m = e("GameEngineUtil");
e("FullScreenAdapter");
cc.Class({
extends: cc.Component,
properties: {
titleLayout: cc.Node,
bottomLayout: cc.Node,
title: cc.Label,
time: cc.Label,
content: cc.RichText,
imgSprite: cc.Sprite,
giftNode: cc.Node,
giftLabel: cc.Label,
getGiftBtn: cc.Node,
getGiftLabel: cc.Label,
emptyNode: cc.Node,
bodyNode: cc.Node,
weChatContactNode: cc.Node,
qqContactNode: cc.Node,
qtContactNode: cc.Node,
scrollView: cc.ScrollView,
_weChatContactString: "",
_qqContactString: "",
_qtContactString: "",
_needShowBottomLayout: !1
},
initContentView: function(e, t) {
cc.director.on("MailGetAllGiftEvent", this.onGetAllMailGiftEvent, this);
cc.isValid(this.scrollView) && this.scrollView.scrollToTop(0);
this.bodyNode.active = !0;
this.emptyNode.active = !1;
this._mail = e;
this.bindIndex = t;
null == e ? this.setEmptyView() : this.initMailDetail(this._mail);
},
initMailDetail: function(e) {
var t = this;
t.title.string = e.title;
t.time.string = a.default.timestampFormatWithYearDetailed(e.recv_time);
if (t._renderString && "function" == typeof t._renderString) {
t.unschedule(t._renderString);
t._renderString = null;
}
t.loadBottomLayout(e);
if (e.text && e.text.length > 0) {
t.scrollView.node.active = !0;
t.imgSprite.node.active = !1;
if (e.text.length > 100) {
t.content.string = "内容加载中...";
t._renderString = function() {
t.content.string = e.text;
t._renderString = null;
};
t.scheduleOnce(t._renderString, e.text.length < 200 ? .5 : 1);
} else t.content.string = e.text;
t.bottomLayout.active = t._needShowBottomLayout;
if (t._needShowBottomLayout) {
t.content.node.parent.height = 340;
t.content.node.parent.parent.height = 340;
t.content.node.parent.parent.setPosition(0, 70);
} else {
t.content.node.parent.height = 430;
t.content.node.parent.parent.height = 430;
t.content.node.parent.parent.setPosition(0, 25);
}
} else {
t.bottomLayout.active = !1;
t.scrollView.node.active = !1;
var i = e.picture;
t.imgSprite.node.setName(t.getUrlTag(i));
t.imgSprite.node.active = !0;
d.setSprite(t.imgSprite, u.texture.loadingDefaultImg, null);
cc.loader.load(i, function(e, i) {
if (!e && i && i.url && cc.isValid(t.imgSprite) && cc.isValid(t.imgSprite.node) && t.imgSprite.node.getName() == t.getUrlTag(i.url)) {
t.bottomLayout.active = t._needShowBottomLayout;
var o = new cc.SpriteFrame(i);
o && (t.imgSprite.spriteFrame = o);
}
});
}
},
loadBottomLayout: function(e) {
this.getBottomLayoutStatus(e);
if (e.package) {
var t = 0;
this.giftNode.active = !1;
for (var i = 0; i < e.package.length; i++) if (e.package[i]) {
this.giftNode.active = !0;
this.giftLabel.string = "" + e.package[i].nu;
t += 1;
}
if (t > 0) {
this.setGetGiftBtnVisiable(!0);
var o = !1;
e.expired_at && e.expired_at <= e.now_ts && (o = !0);
this.initGetGiftBtn(1 == e.accepted || e.accepted, o);
} else this.setGetGiftBtnVisiable(!1);
} else this.setGetGiftBtnVisiable(!1);
this.weChatContactNode.active = !1;
this.qqContactNode.active = !1;
this.qtContactNode.active = !1;
if (null != e.ui) {
var n = e.ui;
this._weChatContactString = "";
this._qqContactString = "";
this._qtContactString = "";
for (var r = 0; r < n.length; r++) {
var a = n[r];
if (a.text) if (1 == a.type) {
this._weChatContactString = a.text;
this.weChatContactNode.active = !0;
} else if (2 == a.type) {
this._qqContactString = a.text;
this.qqContactNode.active = !0;
} else if (3 == a.type) {
this._qtContactString = a.text;
this.qtContactNode.active = !0;
}
}
}
},
getBottomLayoutStatus: function(e) {
this._needShowBottomLayout = !1;
e && (e.ui && e.ui.length > 0 || e.package && e.package.length > 0) && (this._needShowBottomLayout = !0);
},
setGetGiftBtnVisiable: function(e) {
this.getGiftBtn.active = e;
this.giftNode.active = e;
},
initGetGiftBtn: function(e) {
var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
if (e) {
this.getGiftBtn.getComponent(cc.Button).interactable = !1;
this.getGiftLabel.string = "已领取";
this.loadFont(this.getGiftLabel, u.font.grayFont);
d.setComponentSprite(this.getGiftBtn, u.texture.btnGray);
} else if (t) {
this.getGiftBtn.getComponent(cc.Button).interactable = !1;
this.getGiftLabel.string = "已过期";
this.loadFont(this.getGiftLabel, u.font.grayFont);
d.setComponentSprite(this.getGiftBtn, u.texture.btnGray);
} else {
this.getGiftBtn.getComponent(cc.Button).interactable = !0;
this.getGiftLabel.string = "领取";
this.loadFont(this.getGiftLabel, u.font.yellowFont);
d.setComponentSprite(this.getGiftBtn, u.texture.btnYellow);
}
},
onGetGiftClick: function() {
var e = this;
s.default.clickManager(e.getGiftBtn);
n.default.playEffect(r.default.common.btnMusic);
e._mail && 1 != e._mail.accepted && !e._mail.accepted && c.default.getMailGift(e._mail.mail_id, function(t) {
if (cc.isValid(e.node) && e._mail) {
t && t[0] && f.createGetGiftSuccess(t[0].nu);
n.default.playMultiEffect(r.default.common.prize);
e._mail.accepted = 1;
e.initMailDetail(e._mail);
cc.director.emit(g.refreshUserInfo);
cc.director.emit(g.RedEnvelopeRefresh);
}
}, function(t) {
if (t && 32 == t.status && cc.isValid(e.node) && e._mail) {
e._mail.expired_at = mail.now_ts + 1e5;
o.default.createSignleButtonAlert(h.email.emailExpired, "确定");
}
});
},
onDeleteMailClick: function(e) {
var t = this;
e && e.target && s.default.clickManager(e.target);
n.default.playEffect(r.default.common.btnMusic);
p.hasExpiredGift(t._mail) ? t.delMail() : p.hasAcceptedGift(t._mail) ? t.delMail() : o.default.createAlert(h.email.email1, h.email.email2, null, h.email.email3, function() {
t.onGetGiftClick();
});
},
delMail: function() {
var e = this;
c.default.deleteMail(e._mail.mail_id, function(t) {
var i = [];
i.push(e.bindIndex);
cc.director.emit("DeleteTabItem", {
bindIndexArr: i
});
});
},
setEmptyView: function(e) {
this.bodyNode.active = !1;
this.emptyNode.active = !0;
e && this.emptyNode.getComponent(cc.Label) && (this.emptyNode.getComponent(cc.Label).string = e);
},
onClickContactAction: function(e, t) {
s.default.clickManager(this.weChatContactNode);
s.default.clickManager(this.qqContactNode);
s.default.clickManager(this.qtContactNode);
n.default.playEffect(r.default.common.btnMusic);
if (1 == t) {
var i = this._weChatContactString;
o.default.createMutiToast("已复制，请前往添加好友");
m.copyText(i);
this.showContactPopup(i, 1);
var a = setTimeout(function() {
m.startApp("2:" + i);
clearInterval(a);
}, 3e3);
} else if (2 == t) {
var c = this._qqContactString;
o.default.createMutiToast("已复制，请前往添加好友");
m.copyText(c);
this.showContactPopup(c, 2);
var l = setTimeout(function() {
m.startApp("1:" + c);
clearInterval(l);
}, 3e3);
} else if (3 == t) {
var u = this._qtContactString;
o.default.createMutiToast("已复制");
m.copyText(u);
this.showContactPopup(u, 3);
}
},
onGetAllMailGiftEvent: function() {
this._mail.accepted = 1;
this.initMailDetail(this._mail);
},
loadFont: function(e, t) {
cc.loader.loadRes(t, cc.Font, function(t, i) {
t || (e.font = i);
});
},
showContactPopup: function(e, t) {
var i = null;
1 == t ? i = this.weChatContactNode.convertToWorldSpaceAR(cc.v2(0, 0)) : 2 == t ? i = this.qqContactNode.convertToWorldSpaceAR(cc.v2(0, 0)) : 3 == t && (i = this.qtContactNode.convertToWorldSpaceAR(cc.v2(0, 0)));
f.createContact(e, i);
},
getUrlTag: function(e) {
if (e) {
var t = e.lastIndexOf("/");
return e.substring(t + 1, e.length);
}
return "";
}
});
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/BaseFormat": "BaseFormat",
"../../Script/ProjectConfig": "ProjectConfig",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"./../../Script/GameFramework/ApiMgr": "ApiMgr",
CommonEventName: "CommonEventName",
CommonFunction: "CommonFunction",
CommonRes: "CommonRes",
FullScreenAdapter: "FullScreenAdapter",
GameEngineUtil: "GameEngineUtil",
Language: "Language",
MailBoxPrefabMgr: "MailBoxPrefabMgr",
MailBoxUtil: "MailBoxUtil"
} ],
MailBoxDialog: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "c4b3fdP0/JOPIfSzYKbq18X", "MailBoxDialog");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = cc._decorator, a = r.ccclass, s = r.property, c = e("../../Script/Audio/CommonAudioMgr"), l = e("../../Script/Audio/CommonAudio"), u = e("../../Script/UI/CommonPrefabMgr"), d = e("ComponentRes"), f = e("./../../Script/GameFramework/ApiMgr"), h = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.mask = null;
t.frame = null;
t.body = null;
t.contentFrame = null;
t.tabBarContainer = null;
return t;
}
t.prototype.onLoad = function() {};
t.prototype.bindMailData = function(e, t, i) {
var o = this;
if (cc.isValid(o.node)) {
var n = o.node.getComponent("VerticalTabDialog");
n && n.initWithTabDataAndContent(e, t, d.mailBox.titleSprite, 0, i);
var r = cc.callFunc(function() {
cc.isValid(o.contentFrame) && (o.contentFrame.opacity = 255);
});
o.body.active = !0;
o.body.runAction(cc.sequence(cc.delayTime(.04), cc.fadeIn(.2), cc.delayTime(.1), r));
}
};
t.prototype.showMailDialogView = function() {
var e = this, t = cc.callFunc(function() {
cc.isValid(e.body) && e.getMailList();
});
if (cc.isValid(e.node)) {
e.node.setPosition(0, 0);
e.node.opacity = 0;
e.node.scale = 0;
e.mask.width = cc.winSize.width;
e.mask.height = cc.winSize.height;
e.contentFrame.opacity = 0;
e.node.active = !0;
e.node.runAction(cc.sequence(cc.spawn(cc.fadeIn(.15), cc.scaleTo(.15, 1.1)), cc.scaleTo(.15, 1), t)).easing(cc.easeSineOut());
}
};
t.prototype.hideMailDialogView = function() {
var e = this;
c.default.playEffect(l.default.common.btnMusic);
u.default.removeCommonLoading();
cc.isValid(e.node) && e.node.runAction(cc.sequence(cc.scaleTo(.08, 1.1), cc.scaleTo(.1, 0), cc.callFunc(function() {
if (cc.isValid(e.node)) {
e.node.active = !1;
e.body.active = !1;
e.body.opacity = 0;
e.clearMailBody();
}
}, e.node))).easing(cc.easeIn(3));
};
t.prototype.clearMailBody = function() {
cc.isValid(this.node) && this.node.stopAllActions();
var e = this.node.getComponent("VerticalTabDialog");
e && e.removeChildView();
};
t.prototype.getMailList = function() {
var e = this;
f.default.getMailList(function(t) {
var i = t.mails;
i && i.length > 0 ? e.initUI(i) : e.initUI();
}, function() {
e.initUI([], "网络请求失败，请稍后再试");
});
};
t.prototype.initUI = function(e, t) {
var i = [], o = [];
for (var n in e) {
var r = e[n], a = {};
a.prefabData = r;
a.prefabPath = d.mailBox.tabPath;
a.prefabScript = d.mailBox.tabScriptName;
i.push(a);
var s = {};
s.prefabData = r;
s.prefabPath = d.mailBox.bodyPath;
s.prefabScript = d.mailBox.bodyScriptName;
o.push(s);
}
var c = {};
c.prefabData = e;
c.prefabPath = d.mailBox.tabBottomPath;
c.prefabScript = d.mailBox.tabBottomScriptName;
c.location = 0;
var l = {};
l.prefabData = t;
l.prefabPath = d.mailBox.bodyPath;
l.prefabScript = d.mailBox.bodyScriptName;
var u = {
tabWidth: 400,
paddingOffset: 690,
contentWidth: 770,
tabBottomData: c,
emptyData: l
};
this.bindMailData(i, o, u);
};
n([ s(cc.Node) ], t.prototype, "mask", void 0);
n([ s(cc.Node) ], t.prototype, "frame", void 0);
n([ s(cc.Node) ], t.prototype, "body", void 0);
n([ s(cc.Node) ], t.prototype, "contentFrame", void 0);
n([ s(cc.Node) ], t.prototype, "tabBarContainer", void 0);
return t = n([ a ], t);
}(cc.Component);
i.default = h;
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"./../../Script/GameFramework/ApiMgr": "ApiMgr",
ComponentRes: "ComponentRes"
} ],
MailBoxGetGiftSuccess: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "19717gMbbhHDqcjusfRQHxv", "MailBoxGetGiftSuccess");
var o = r(e("../../Script/Audio/CommonAudioMgr")), n = r(e("../../Script/Audio/CommonAudio"));
function r(e) {
return e && e.__esModule ? e : {
default: e
};
}
var a = e("FullScreenAdapter");
cc.Class({
extends: cc.Component,
properties: {
animSpine1: sp.Skeleton,
animSpine2: sp.Skeleton,
giftNumNode: cc.Label,
giftIcon: cc.Node,
btn: cc.Node
},
onLoad: function() {
a.applyHorizon(this.node.getChildByName("mask"));
},
bindData: function(e) {
this.giftNumNode.string = "+" + e;
this.animSpine1.setCompleteListener(function() {});
this.animSpine1.setAnimation(0, "xunhuan", !1);
new Date().valueOf();
this.animSpine2.setCompleteListener(function() {});
this.animSpine2.setAnimation(0, "chuxian", !1);
this.giftNumNode.node.stopAllActions();
this.giftNumNode.node.runAction(cc.sequence(cc.fadeOut(0), cc.delayTime(.03), cc.scaleTo(0, 0, 0), cc.fadeIn(0), cc.scaleTo(.15, 1.2, 1.2), cc.scaleTo(.06, 1, 1)));
this.giftIcon.stopAllActions();
this.giftIcon.runAction(cc.sequence(cc.fadeOut(0), cc.scaleTo(0, 0, 0), cc.scaleTo(0, .81, .81), cc.delayTime(.12), cc.spawn(cc.scaleTo(.09, .71, .71), cc.fadeIn(.09))));
this.btn.stopAllActions();
this.btn.runAction(cc.sequence(cc.fadeOut(0), cc.delayTime(.3), cc.fadeIn(0), cc.scaleTo(0, 0, 0), cc.scaleTo(.15, 1.1, 1.1), cc.scaleTo(.06, .9, .9), cc.scaleTo(.03, 1, 1)));
},
onClickOk: function() {
n.default.common && n.default.common.btnMusic && o.default.playEffect(n.default.common.btnMusic);
if (this.node) {
this.node.active = !1;
this.node.removeFromParent();
}
}
});
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
FullScreenAdapter: "FullScreenAdapter"
} ],
MailBoxItem: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "81fa91KJ7tEnbcU2iHWckDV", "MailBoxItem");
var o = r(e("../../Script/BaseFormat")), n = r(e("./../../Script/GameFramework/ApiMgr"));
function r(e) {
return e && e.__esModule ? e : {
default: e
};
}
var a = e("CommonEventName");
cc.Class({
extends: cc.Component,
properties: {
bg: cc.Sprite,
icon: cc.Node,
title: cc.Label,
time: cc.Label,
emaillBgs: {
default: [],
type: cc.SpriteFrame
},
textColors: {
default: [],
type: cc.Color
}
},
onLoad: function() {
cc.director.on("MailGetAllGiftEvent", this.onGetAllMailGiftEvent, this);
},
onDestroy: function() {
cc.director.off("MailGetAllGiftEvent", this.onGetAllMailGiftEvent, this);
},
initData: function(e, t) {
this.data = e;
0 == e.checked ? this.icon && (this.icon.opacity = 255) : 1 == e.checked && this.icon && (this.icon.opacity = 0);
this.title && (this.title.string = this.formatTitle(e.title));
this.time && (this.time.string = o.default.timestampFormat(e.recv_time));
this.setMailIcon(e.checked);
},
setItemNormal: function() {
if (this.bg) {
this.bg.spriteFrame = this.emaillBgs[0];
if (cc.vv.souhu) {
this.bg.node.width = 320;
this.bg.node.x = -2;
}
}
if (this.title && this.textColors[0]) {
this.title.node.color = this.textColors[0];
if (cc.vv.souhu) {
this.title.node.x = -141;
this.time.node.x = -141;
if (this.title.node.getComponent(cc.LabelOutline)) {
this.title.node.getComponent(cc.LabelOutline).color = cc.Color.WHITE.fromHEX("#2a6dae");
this.time.node.getComponent(cc.LabelOutline).color = cc.Color.WHITE.fromHEX("#2a6dae");
}
}
}
this.time && this.textColors[0] && (this.time.node.color = this.textColors[0]);
this.setMailIcon(this.data.checked);
},
setItemSelect: function() {
if (this.bg) {
this.bg.spriteFrame = this.emaillBgs[1];
if (cc.vv.souhu) {
this.bg.node.width += 20;
this.bg.node.x += 10;
}
}
if (this.title && this.textColors[1]) {
this.title.node.color = this.textColors[1];
if (cc.vv.souhu) {
this.title.node.x -= 10;
this.time.node.x -= 10;
if (this.title.node.getComponent(cc.LabelOutline)) {
this.title.node.getComponent(cc.LabelOutline).color = cc.Color.WHITE.fromHEX("#b74c2a");
this.time.node.getComponent(cc.LabelOutline).color = cc.Color.WHITE.fromHEX("#b74c2a");
}
}
}
this.time && this.textColors[1] && (this.time.node.color = this.textColors[1]);
if (0 == this.data.checked) {
n.default.checkMailInfo(this.data.mail_id, function() {
cc.director.emit(a.checkNewEmail);
});
this.data.checked = !0;
}
this.setMailIcon(!0);
},
setMailIcon: function(e) {
if (e) {
this.data.checked = !0;
this.icon && (this.icon.opacity = 0);
} else {
this.data.checked = !1;
this.icon && (this.icon.opacity = 255);
}
},
onGetAllMailGiftEvent: function() {
if (this.data && this.data.package && this.data.package.length > 0 && 255 == this.icon.opacity) {
n.default.getMailGift(this.data.mail_id);
this.setMailIcon(!0);
}
},
formatTitle: function(e) {
if (o.default.checkWordLength(e, 14)) return e;
var t = o.default.findWordRealIndex(e, 14);
return t == e.length ? e : e.substring(0, t + 1) + "...";
}
});
cc._RF.pop();
}, {
"../../Script/BaseFormat": "BaseFormat",
"./../../Script/GameFramework/ApiMgr": "ApiMgr",
CommonEventName: "CommonEventName"
} ],
MailBoxLeftBottom: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "6a609o/ZntHlbcJ+nhbGTT8", "MailBoxLeftBottom");
var o = s(e("../../Script/UI/CommonPrefabMgr")), n = s(e("../../Script/Audio/CommonAudioMgr")), r = s(e("../../Script/Audio/CommonAudio")), a = s(e("./../../Script/GameFramework/ApiMgr"));
function s(e) {
return e && e.__esModule ? e : {
default: e
};
}
var c = e("MailBoxPrefabMgr"), l = e("MailBoxUtil"), u = e("CommonEventName");
e("DialogUtil");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {
cc.director.on("DeleteTabItem", this.onDeleteTabItem, this);
},
onDestroy: function() {
cc.director.off("DeleteTabItem", this.onDeleteTabItem, this);
},
onDeleteTabItem: function(e) {
var t = e.bindIndexArr;
if (void 0 != this.mails && null != this.mails && t) for (var i = 0; i < t.length; i++) this.mails.splice(t[i], 1);
},
initData: function(e, t) {
this.mails = e;
},
setItemNormal: function() {},
setItemSelect: function() {},
onGetAllGiftClick: function() {
var e = this;
n.default.playEffect(r.default.common.btnMusic);
a.default.getAllMailGift(function(t) {
for (var i = 0; i < e.mails.length; i++) e.mails[i].accepted = 1;
cc.director.emit(u.RedEnvelopeRefresh);
if (t && t.length) {
c.createGetGiftSuccess(t);
cc.director.emit(u.refreshUserInfo);
cc.director.emit("MailGetAllGiftEvent");
} else o.default.createToast("无可领取附件");
}, function() {
o.default.createToast("无可领取附件");
});
},
onDeleteAllMailClick: function() {
var e = this;
n.default.playEffect(r.default.common.btnMusic);
a.default.deleteAllMail(function(t) {
for (var i = [], o = e.mails.length - 1; o >= 0; o--) (l.hasAcceptedGift(e.mails[o]) || l.hasExpiredGift(e.mails[o])) && i.push(o);
cc.director.emit("DeleteTabItem", {
bindIndexArr: i
});
cc.director.emit(u.refreshUserInfo);
});
}
});
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"./../../Script/GameFramework/ApiMgr": "ApiMgr",
CommonEventName: "CommonEventName",
DialogUtil: "DialogUtil",
MailBoxPrefabMgr: "MailBoxPrefabMgr",
MailBoxUtil: "MailBoxUtil"
} ],
MailBoxPrefabMgr: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "9281a8wID1HpK6HGXkEdfme", "MailBoxPrefabMgr");
var o = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}(), n = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("../../Script/ProjectConfig"));
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var a = e("ComponentRes"), s = function() {
function e() {
r(this, e);
}
o(e, null, [ {
key: "createGetGiftSuccess",
value: function(e) {
var t = n.default.getSceneCanvas();
cc.loader.loadRes(a.mailBox.getGiftSuccess, function(i, o) {
if (o) {
var n = cc.instantiate(o);
if (n) {
n.getComponent("MailBoxGetGiftSuccess") && n.getComponent("MailBoxGetGiftSuccess").bindData(e);
cc.isValid(t) && t.addChild(n, 1e3);
}
}
});
}
}, {
key: "createContact",
value: function(e, t) {
var i = n.default.getSceneCanvas();
cc.loader.loadRes(a.mailBox.contact, function(o, n) {
if (n) {
var r = cc.instantiate(n);
if (r) {
cc.isValid(i) && i.addChild(r, 1e3);
r.getComponent("MailBoxContactDialog") && r.getComponent("MailBoxContactDialog").showContactPopup(e, t);
}
}
});
}
} ]);
return e;
}();
t.exports = s;
cc._RF.pop();
}, {
"../../Script/ProjectConfig": "ProjectConfig",
ComponentRes: "ComponentRes"
} ],
MailBoxUtil: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "09ea8Bwe/lO6rtF0D0UIKcj", "MailBoxUtil");
var o = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}();
function n(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var r = function() {
function e() {
n(this, e);
}
o(e, null, [ {
key: "hasAcceptedGift",
value: function(e) {
return !(1 !== e.accepted && 0 !== e.package.length && !e.accepted);
}
}, {
key: "hasExpiredGift",
value: function(e) {
return !!(e && e.expired_at && e.expired_at < e.now_ts);
}
} ]);
return e;
}();
t.exports = r;
cc._RF.pop();
}, {} ],
MailUIMgr: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "9983dk6Aw9OEaxaaExDjmuy", "MailUIMgr");
var o = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}(), n = a(e("./../../Script/GameFramework/ApiMgr")), r = a(e("../../Script/UI/CommonPrefabMgr"));
function a(e) {
return e && e.__esModule ? e : {
default: e
};
}
function s(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
e("DialogUtil"), e("ComponentRes"), e("CommonEventName");
var c = function() {
function e() {
s(this, e);
}
o(e, null, [ {
key: "showMailView",
value: function() {
this.requestMailData();
}
}, {
key: "requestMailData",
value: function() {
var e = this;
n.default.getMailList(function(t) {
t && e.initMailUI(t.mailitemList);
}, function(e) {
e && e.msg && r.default.createToast(e.msg);
}, !0);
}
}, {
key: "initMailUI",
value: function(e) {
r.default.showMailBoxDialog(e);
}
} ]);
return e;
}();
t.exports = c;
cc._RF.pop();
}, {
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"./../../Script/GameFramework/ApiMgr": "ApiMgr",
CommonEventName: "CommonEventName",
ComponentRes: "ComponentRes",
DialogUtil: "DialogUtil"
} ],
MailViewContent: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "30b2dVTIVBJ/an8eyHJxxdI", "MailViewContent");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
e("CommonFunction"), e("ComponentRes");
var r = e("../../Script/BaseFormat"), a = e("CommonLanguage"), s = e("./../../Script/GameFramework/ApiMgr"), c = e("../../Script/UI/CommonPrefabMgr"), l = e("CommonEventName"), u = cc._decorator, d = u.ccclass, f = u.property, h = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.titlelabel = null;
t.titletimelabel = null;
t.contenttextnode = null;
t.contentimgnode = null;
t.bottomlayout = null;
t.modeldata = null;
t.receivegoldbtncanonclick = !0;
return t;
}
t.prototype.initData = function(e) {
this.modeldata = e;
};
t.prototype.onLoad = function() {
this.refreshContentViewShow();
};
t.prototype.start = function() {};
t.prototype.mailDeleteOnclick = function() {
cc.director.emit("DELTEMAILNOTICE", this.modeldata);
};
t.prototype.refreshContentViewShow = function() {
var e = this;
if (this.modeldata) {
cc.isValid(e.titlelabel) && (e.titlelabel.string = e.modeldata.title);
if (cc.isValid(e.titletimelabel)) {
var t = r.default.timestampFormatWithYearDetailedOne(this.modeldata.createat);
e.titletimelabel.string = t;
}
if (cc.isValid(e.bottomlayout)) if (0 == e.modeldata.attachmenttype) {
e.bottomlayout.active = !1;
e.node.getChildByName("contentScrollView").height = 421;
} else if (1 == e.modeldata.attachmenttype) {
e.bottomlayout.active = !0;
var i = cc.find("jinbi/jinbitv", e.bottomlayout);
cc.isValid(i) && (i.getComponent(cc.Label).string = a.currentlanguage.goldshow.one.format(r.default.foramtGold(e.modeldata.amount)));
var o = e.bottomlayout.getChildByName("receivebtn"), n = o.getChildByName("btntv").getComponent(cc.Label);
if (e.modeldata.reward) {
e.bottomlayout.active = !1;
e.node.getChildByName("contentScrollView").height = 421;
} else {
n.string = a.currentlanguage.mail.receive;
e.receivegoldbtncanonclick = !0;
o.on(cc.Node.EventType.TOUCH_END, function(t) {
if (e.receivegoldbtncanonclick) {
e.receivegoldbtncanonclick = !1;
e.modeldata.reward || s.default.getMailGift(e.modeldata.id, function(t) {
e.modeldata.reward = !0;
e.bottomlayout.active = !1;
e.node.getChildByName("contentScrollView").height = 421;
c.default.createToast(a.currentlanguage.mail.getgiftsuccess);
cc.director.emit(l.refreshUserInfo);
}, function(e) {
c.default.createToast(a.currentlanguage.mail.getgiftfail);
});
var i = setTimeout(function() {
e.receivegoldbtncanonclick = !0;
clearInterval(i);
}, 1500);
}
}, e);
}
}
if (0 == e.modeldata.contenttype) {
if (cc.isValid(e.contenttextnode) && cc.isValid(e.contentimgnode)) {
e.contenttextnode.active = !0;
e.contentimgnode.active = !1;
e.contenttextnode.getComponent(cc.Label).string = e.modeldata.content;
}
} else if (1 == e.modeldata.contenttype && cc.isValid(e.contenttextnode) && cc.isValid(e.contentimgnode)) {
e.contenttextnode.active = !1;
e.contentimgnode.active = !0;
cc.loader.load(this.modeldata.content, function(t, i) {
if (!t) try {
if (cc.isValid(e.contentimgnode)) {
var o = e.contentimgnode.getComponent(cc.Sprite), n = new cc.SpriteFrame(i);
n && o && (o.spriteFrame = n);
}
} catch (t) {}
});
}
}
};
t.prototype.setupFont = function(e, t) {
!t || t.length <= 1 || cc.loader.loadRes(t, cc.Font, function(t, i) {
t || cc.isValid(e) && (e.font = i);
});
};
n([ f(cc.Label) ], t.prototype, "titlelabel", void 0);
n([ f(cc.Label) ], t.prototype, "titletimelabel", void 0);
n([ f(cc.Node) ], t.prototype, "contenttextnode", void 0);
n([ f(cc.Node) ], t.prototype, "contentimgnode", void 0);
n([ f(cc.Node) ], t.prototype, "bottomlayout", void 0);
return t = n([ d ], t);
}(cc.Component);
i.default = h;
cc._RF.pop();
}, {
"../../Script/BaseFormat": "BaseFormat",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"./../../Script/GameFramework/ApiMgr": "ApiMgr",
CommonEventName: "CommonEventName",
CommonFunction: "CommonFunction",
CommonLanguage: "CommonLanguage",
ComponentRes: "ComponentRes"
} ],
MailViewDialog: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "a38b9MTHOtBvpRV8Wdpqn8b", "MailViewDialog");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = e("../../Script/Audio/CommonAudioMgr"), a = e("../../Script/Audio/CommonAudio"), s = e("./../../Script/GameFramework/ApiMgr"), c = e("../../Script/UI/CommonPrefabMgr"), l = e("CommonLanguage"), u = e("CommonEventName"), d = cc._decorator, f = d.ccclass, h = d.property, p = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.leftscrollviewcontent = null;
t.leftscrollviewitem = null;
t.rightcontentframe = null;
t.rightcontentprefab = null;
t.deleteallmailnode = null;
t.scrollviewnode = null;
t.contentarray = null;
return t;
}
t.prototype.onLoad = function() {};
t.prototype.scrollToBottomFunction = function() {
cc.log("scrollToBottomFunction");
};
t.prototype.start = function() {};
t.prototype.showMailDialogView = function(e) {
this.contentarray = e;
if (e && 0 != e.length) {
if (this.leftscrollviewcontent && this.leftscrollviewitem) {
this.leftscrollviewcontent.removeAllChildren();
for (var t = 0; t < e.length; t++) {
var i = e[t];
if (0 == t) {
i.ischecked = !0;
if (!i.read) {
i.read = !0;
s.default.readMail(i.id, function(e) {
cc.director.emit(u.REDPOINT);
}, function(e) {});
}
} else i.ischecked = !1;
}
for (t = 0; t < e.length; t++) {
i = e[t];
var o = cc.instantiate(this.leftscrollviewitem);
o.getComponent("MailViewLeftItem").initData(i);
this.leftscrollviewcontent.addChild(o);
i.prefab = o;
}
this.refreshOnclickEvents(e);
this.refreshContentViewShow();
}
} else this.showNoDataShow();
};
t.prototype.refreshOnclickEvents = function(e) {
for (var t = this, i = function(i) {
var o = e[i];
o.prefab && o.prefab.on("click", function() {
for (var i = t.leftscrollviewcontent.children, n = 0; n < i.length; n++) {
if (i[n] == o.prefab) {
cc.log("index=" + n);
t.refreshLeftItemViewShow(e, n, t);
break;
}
}
});
}, o = 0; o < e.length; o++) i(o);
};
t.prototype.refreshLeftItemViewShow = function(e, t, i) {
for (var o = 0; o < e.length; o++) {
e[o].ischecked = !1;
if (t == o) {
e[o].ischecked = !0;
if (!e[o].read) {
e[o].read = !0;
s.default.readMail(e[o].id, function(e) {}, function(e) {});
}
}
e[o].prefab.getComponent("MailViewLeftItem").refreshItemViewShow();
}
i.refreshContentViewShow();
};
t.prototype.refreshContentViewShow = function() {
for (var e, t = 0; t < this.contentarray.length; t++) if (this.contentarray[t].ischecked) {
e = this.contentarray[t];
break;
}
var i = this.rightcontentframe.children;
for (t = 0; t < i.length; t++) i[t].active = !1;
if (e) if (e.contentprefab) {
e.contentprefab.active = !0;
e.contentprefab.getComponent("MailViewContent").refreshContentViewShow();
} else {
var o = cc.instantiate(this.rightcontentprefab);
o.getComponent("MailViewContent").initData(e);
this.rightcontentframe.addChild(o);
e.contentprefab = o;
}
};
t.prototype.onClose = function() {
r.default.playEffect(a.default.common.btnMusic);
if (this.node.getComponent("CommonDialog")) this.node.getComponent("CommonDialog").dismiss(); else {
this.node.active = !1;
this.node.removeFromParent();
}
};
t.prototype.onEnable = function() {
cc.director.on("DELTEMAILNOTICE", this.deletemail, this);
cc.isValid(this.scrollviewnode) && this.scrollviewnode.on("scroll-to-bottom", this.scrollToBottomFunction, this);
};
t.prototype.onDisable = function() {
cc.director.off("DELTEMAILNOTICE");
cc.isValid(this.scrollviewnode) && this.scrollviewnode.off("scroll-to-bottom");
};
t.prototype.deletemail = function(e) {
var t = this;
e && s.default.deleteMail(e.id, function(i) {
for (var o = 0; o < t.contentarray.length; o++) if (t.contentarray[o].id == e.id) {
t.leftscrollviewcontent.removeChild(t.contentarray[o].prefab);
t.contentarray.splice(o, 1);
t.contentarray.length > 0 ? o == t.contentarray.length ? t.refreshLeftItemViewShow(t.contentarray, o - 1, t) : t.refreshLeftItemViewShow(t.contentarray, o, t) : t.showNoDataShow();
break;
}
}, function(e) {});
};
t.prototype.showNoDataShow = function() {
cc.isValid(this.deleteallmailnode) && (this.deleteallmailnode.active = !1);
this.leftscrollviewcontent.removeAllChildren();
this.rightcontentframe.removeAllChildren();
var e = new cc.Node("nodata"), t = e.addComponent(cc.Label);
t.string = l.currentlanguage.mail.emptydata;
t.fontSize = 20;
this.node.addChild(e);
};
t.prototype.deleteAllMail = function() {
var e = this;
s.default.deleteMail(0, function(t) {
e.showNoDataShow();
c.default.createToast(l.currentlanguage.mail.alldelete);
}, function(e) {
c.default.createToast(l.currentlanguage.mail.alldeletefail);
});
};
t.prototype.scrollviewEvents = function(e) {};
n([ h(cc.Node) ], t.prototype, "leftscrollviewcontent", void 0);
n([ h(cc.Prefab) ], t.prototype, "leftscrollviewitem", void 0);
n([ h(cc.Node) ], t.prototype, "rightcontentframe", void 0);
n([ h(cc.Prefab) ], t.prototype, "rightcontentprefab", void 0);
n([ h(cc.Node) ], t.prototype, "deleteallmailnode", void 0);
n([ h(cc.Node) ], t.prototype, "scrollviewnode", void 0);
return t = n([ f ], t);
}(cc.Component);
i.default = p;
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"./../../Script/GameFramework/ApiMgr": "ApiMgr",
CommonEventName: "CommonEventName",
CommonLanguage: "CommonLanguage"
} ],
MailViewLeftItem: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "deeafrEPaBOerlTr/mKh+PD", "MailViewLeftItem");
var o = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("../../Script/BaseFormat"));
cc.Class({
extends: cc.Component,
properties: {
btnBg: {
default: [],
type: cc.SpriteFrame
},
txt: cc.Label,
btnNode: cc.Sprite,
tagview: cc.Node
},
initData: function(e) {
this.itemdata = e;
},
onLoad: function() {
this.refreshItemViewShow();
},
refreshItemViewShow: function() {
if (this.itemdata) {
this.txt && (this.txt.string = this.itemdata.title);
var e = cc.find("body/littletitle", this.node);
if (cc.isValid(e)) {
var t = o.default.timestampFormatOne(this.itemdata.createat);
e.getComponent(cc.Label).string = t;
var i = this.txt.getComponent(cc.Widget).left;
e.getComponent(cc.Widget).left = i;
}
cc.isValid(this.tagview) && (this.itemdata.read ? this.tagview.active = !1 : this.tagview.active = !0);
this.itemdata.ischecked ? this.setItemSelect() : this.setItemNormal();
}
},
setItemNormal: function() {
this.btnNode && (this.btnNode.spriteFrame = this.btnBg[0]);
if (this.txt && cc.vv.beautifulgame) {
this.txt.node.color = cc.color().fromHEX("#b8d4fd");
var e = cc.find("body/littletitle", this.node);
cc.isValid(e) && (e.color = cc.color().fromHEX("#b8d4fd"));
}
},
setItemSelect: function() {
this.btnNode && (this.btnNode.spriteFrame = this.btnBg[1]);
if (this.txt && cc.vv.beautifulgame) {
this.txt.node.color = cc.color().fromHEX("#faef4c");
var e = cc.find("body/littletitle", this.node);
cc.isValid(e) && (e.color = cc.color().fromHEX("#faef4c"));
}
},
getLastedIndex: function(e, t) {
var i = 0;
if (e) for (var o = 0; o < e.length; o++) {
null != e.charAt(o).match(/[^\x00-\xff]/gi) ? i += 2 : i += 1;
if (i >= t) return o;
}
return -1;
}
});
cc._RF.pop();
}, {
"../../Script/BaseFormat": "BaseFormat"
} ],
MarqueeMgr: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "d2739YhBh9OSopR7hapiUXV", "MarqueeMgr");
e("CommonVariable");
t.exports = {
marqueeStack: [],
popTimer: null,
count: 0,
timerNode: null,
startTimer: function() {},
pushMarquee: function(e) {},
cleanMarqueeStack: function() {
if (this.marqueeStack) {
this.marqueeStack.splice(0, this.marqueeStack.length);
this.marqueeStack = [];
}
}
};
cc._RF.pop();
}, {
CommonVariable: "CommonVariable"
} ],
MenuBarBottom: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "265189wvfRC2r3CRYBH9tGl", "MenuBarBottom");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = e("../../Script/Http/HttpErrorManager"), a = e("../BonusCenter/BonusCenterUtil"), s = e("../../Script/GameFramework/ApiMgr"), c = cc._decorator, l = c.ccclass, u = c.property, d = e("../../Script/ProjectConfig"), f = e("UISettingModel"), h = e("../../Script/Audio/CommonAudioMgr"), p = e("../../Script/Audio/CommonAudio"), g = e("CommonFunction"), m = e("../../Script/UI/CommonPrefabMgr"), y = e("../../Script/LocalStorage/LocalStorageUtil"), b = e("GameRestore"), _ = e("NewGameInfo"), v = e("GameEngineUtil"), S = e("CommonEventName"), C = e("../../Script/UserManager"), w = e("LauncherModel"), A = e("CustomerUIMgr"), R = e("SafeBoxUIMgr"), T = e("RechargeSecondModel"), E = e("WithdrawUIMgr"), M = e("TopUpUIMgr"), P = e("CustomerAppealMgr"), k = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.itemKeFu = null;
t.itemSafeBox = null;
t.itemMail = null;
t.itemAnnouncement = null;
t.itemMessage = null;
t.itemExchange = null;
t.itemCharge = null;
t.isShowExchange = null;
t.emailIcon = null;
t.chatIcon = null;
t.messageHd = null;
t.messageBtn = null;
t.noticeHd = null;
t._isFirstLogin = null;
return t;
}
t.prototype.onLoad = function() {
this.updateUISettings();
this.showExchangeGuide();
this._isFirstLogin = y.default.readFirstLogin();
cc.director.on(S.checkNewEmail, this.checkNewEmail, this);
cc.director.on(S.CHECk_CHAT, this.checkoutNewChat, this);
cc.director.on(S.CHECk_NEW, this.checkNew, this);
cc.director.on(S.refreshUISettings, this.updateUISettings, this);
cc.director.on(S.ToCharge, this.clickPay, this);
cc.director.on(S.ToExchange, this.clickExchange, this);
cc.director.on(S.CHECK_SECOND_MSG_NEW, this.requestCheckMsg, this);
cc.director.on(S.ToSafeBox, this.toSafeBox, this);
cc.director.on("SHOW_MENUBAR_BOTTOM", this.showMenuBarBottom, this);
cc.director.on("HIDE_MENUBAR_BOTTOM", this.hideMenuBarBottom, this);
cc.director.on("CHECK_NEW_NOTICE", this.checkoutNewNotice, this);
cc.director.on("CHECK_NEW_EMAIL", this.disposeNewEmailAction, this);
cc.director.on(cc.vv.eventName.LOGIN_SUCCESS_DIALOG_LOGIC, this.dealDialogAction, this);
cc.director.on("DISPOSE_NOTICES_DATA_ACTION", this.disposeNoticesDataAction, this);
cc.director.on(cc.vv.eventName.CLOSE_BONUS_CENTER_LOGIN_DIALOG, this.getHubNoticeAction, this);
this.scheduleOnce(function() {
cc.director.emit("ADD_CHILDNODE_SUCCEED");
}, .2);
};
t.prototype.start = function() {};
t.prototype.onEnable = function() {};
t.prototype.onDisable = function() {};
t.prototype.onDestroy = function() {
cc.director.off(S.checkNewEmail);
cc.director.off(S.CHECk_CHAT);
cc.director.off(S.CHECk_NEW);
cc.director.off(S.refreshUISettings);
cc.director.off(S.ToCharge);
cc.director.off(S.ToExchange);
cc.director.off(S.CHECK_SECOND_MSG_NEW);
cc.director.off(S.ToSafeBox);
cc.director.off("SHOW_MENUBAR_BOTTOM");
cc.director.off("HIDE_MENUBAR_BOTTOM");
cc.director.off("CHECK_NEW_NOTICE");
cc.director.off("CHECK_NEW_EMAIL");
cc.director.off(cc.vv.eventName.LOGIN_SUCCESS_DIALOG_LOGIC);
cc.director.off("DISPOSE_NOTICES_DATA_ACTION");
cc.director.off(cc.vv.eventName.CLOSE_BONUS_CENTER_LOGIN_DIALOG);
};
t.prototype.showExchangeGuide = function() {
if (f.isShowExchangeGuide && w.user_is_new) {
if (cc.isValid(this.isShowExchange)) {
var e = this.isShowExchange.getChildByName("icn_convert");
e && this.scheduleOnce(function() {
cc.isValid(e) && m.default.createExchangeGuide(e, function() {});
}, .2);
}
} else if (!w.user_is_new) {
var t = cc.director.getScene().getChildByName("mask");
cc.isValid(t) && (t.active = !1);
}
};
t.prototype.checkNew = function() {
this.checkNewEmail();
this.checkoutNewChat();
this.requestCheckMsg();
};
t.prototype.checkNewEmail = function() {
var e = this;
s.default.checkNewEmail(function(t) {
cc.isValid(e.node) && t && e.disposeNewEmailAction(t.new);
});
};
t.prototype.disposeNewEmailAction = function(e) {
if (!0 === e) this.emailIcon && (this.emailIcon.getChildByName("icon_hd").active = !0); else if (this.emailIcon) {
this.emailIcon.rotation = 0;
this.emailIcon.getChildByName("icon_hd").active = !1;
}
};
t.prototype.checkoutNewChat = function() {
this.getWebCustomerServiceUrl() ? this.checkWebChatMsg() : this.checkNativeChatMsg();
};
t.prototype.checkNativeChatMsg = function() {
var e = this, t = y.default.readCustomerServiceLastModify() || 0;
s.default.getChatHistory({
user_id: C.default.uid,
last_time: parseInt(t) + 1
}, function(t) {
if (cc.isValid(e.chatIcon)) if (t.length > 0) e.chatIcon && cc.isValid(e.chatIcon) && (e.chatIcon.getChildByName("icon_hd").active = !0); else if (e.chatIcon && cc.isValid(e.chatIcon)) {
e.chatIcon.rotation = 0;
e.chatIcon.getChildByName("icon_hd").active = !1;
}
});
};
t.prototype.checkWebChatMsg = function() {
var e = this;
s.default.checkWebNewCustomer({}, function(t) {
if (cc.isValid(e.chatIcon)) if (t.has_unread_msg) e.chatIcon && cc.isValid(e.chatIcon) && (e.chatIcon.getChildByName("icon_hd").active = !0); else if (e.chatIcon && cc.isValid(e.chatIcon)) {
e.chatIcon.rotation = 0;
e.chatIcon.getChildByName("icon_hd").active = !1;
}
});
};
t.prototype.requestCheckMsg = function() {
var e = this;
s.default.checkNewFastPayMsg(function(t) {
if (t) {
T.red_point = t.has_unread_msg;
e.showMsgRedDot();
}
}, function() {});
};
t.prototype.showMsgRedDot = function() {
T.red_point ? cc.isValid(this.messageHd) && 255 != this.messageHd.opacity && (this.messageHd.opacity = 255) : cc.isValid(this.messageHd) && 0 != this.messageHd.opacity && (this.messageHd.opacity = 0);
};
t.prototype.updateUISettings = function() {
this.initItemActive();
var e = f.bottomBarListArr;
e && e.length > 0 && this.hideAllItem();
for (var t = 0, i = e.length; t < i; t++) {
var o = e[t];
this.updateMenuBarItemActive(o);
}
var n = f.topBarListArr;
for (t = 0, i = n.length; t < i; t++) {
if ("announcement" == n[t].barName) {
this.itemAnnouncement && (this.itemAnnouncement.active = !0);
break;
}
}
};
t.prototype.updateMenuBarItemActive = function(e) {
var t = null;
switch (e.barName) {
case "custom_service":
t = this.itemKeFu;
break;

case "safe_box":
t = this.itemSafeBox;
break;

case "mail":
t = this.itemMail;
break;

case "message":
t = this.itemMessage;
break;

case "exchange":
t = this.itemExchange;
break;

case "bay":
t = this.itemCharge;
}
null != t && (t.active = !0);
};
t.prototype.initItemActive = function() {
this.itemKeFu && (this.itemKeFu.active = !1);
this.itemSafeBox && (this.itemSafeBox.active = !0);
this.itemMail && (this.itemMail.active = !0);
this.itemAnnouncement && (this.itemAnnouncement.active = !0);
this.itemMessage && (this.itemMessage.active = !1);
this.itemExchange && (this.itemExchange.active = !1);
this.itemCharge && (this.itemCharge.active = !1);
};
t.prototype.hideAllItem = function() {
this.itemKeFu && (this.itemKeFu.active = !1);
this.itemSafeBox && (this.itemSafeBox.active = !1);
this.itemMail && (this.itemMail.active = !1);
this.itemAnnouncement && (this.itemAnnouncement.active = !1);
this.itemMessage && (this.itemMessage.active = !1);
this.itemExchange && (this.itemExchange.active = !1);
this.itemCharge && (this.itemCharge.active = !1);
};
t.prototype.clickContact = function() {
var e = this;
h.default.playEffect(p.default.common.btnMusic);
d.default.clickManager(e.itemKeFu);
if (g.checkNetwork()) if (f.customerInfo) {
var t = f.customerInfo.customer_url || "", i = f.customerInfo.max_level || 0, o = 0 != f.customerInfo.browser;
i && C.default.vip > i ? e.dealContactNative() : t && t.length > 0 ? function(t) {
P.dealContactOnlineCustomer(t, function(t) {
m.default.showCustomerServiceSwitchScreenOrientationAnim();
e.scheduleOnce(function() {
1 == o ? v.openUrlByDefaultBrowser(t) : v.openUrlByH5Browser(t, "false", v.H5_REQUEST_CODE.CUSTOMER_SERVICE);
}, 1);
});
}(t) : e.dealContactNative();
} else e.dealContactNative();
};
t.prototype.getWebCustomerServiceUrl = function() {
var e = "";
f && f.customerInfo && f.customerInfo.customer_url && (e = f.customerInfo.customer_url);
return e;
};
t.prototype.dealContactNative = function() {
var e = !1;
if (cc.isValid(this.chatIcon)) {
var t = this.chatIcon.getChildByName("icon_hd");
t && (e = t.active);
}
e ? C.default.is_formal ? A.showView(1) : m.default.createRegisterForGifts() : m.default.showCustomerCenter(e);
};
t.prototype.toSafeBox = function() {
this.clickBaoXianGui(1);
};
t.prototype.clickBaoXianGui = function(e) {
void 0 === e && (e = 0);
d.default.clickManager(this.itemSafeBox);
h.default.playEffect(p.default.common.btnMusic);
if (g.checkNetwork()) if (C.default.is_formal) if (y.default.isPlayingGame()) {
var t = {
game_id: d.default.GAME_TYPE.GAME_HALL
};
console.log("this enter room  is");
s.default.getRoomConfig(t, function(t) {
var i = t.last_game, o = t.room_index, n = t.room;
if (i) {
_.updateRoomList(i, n);
y.default.setPlayingGame();
b.createGameRestoreDialog(i, o);
} else {
y.default.clearPlayingGame();
null != e && 1 == e ? m.default.createBaoXianGui(1) : R.showView();
}
}, function(e) {
var t = e.status;
r.default.handleCommonHttpError(t);
}, !0);
} else null != e && 1 == e ? m.default.createBaoXianGui(1) : R.showView(); else m.default.createRegisterForGifts();
};
t.prototype.clickMailbox = function() {
d.default.clickManager(this.itemMail);
h.default.playEffect(p.default.common.btnMusic);
g.checkNetwork() && m.default.showMailBoxDialog();
};
t.prototype.clickNotice = function() {
d.default.clickManager(this.itemAnnouncement);
h.default.playEffect(p.default.common.btnMusic);
g.checkNetwork() && m.default.showNoticeDialog();
};
t.prototype.clickMessageBtn = function() {
h.default.playEffect(p.default.common.btnMusic);
d.default.hasNetWork() ? this.checkSecondPayToken() : m.default.createToast("Network anomalies, please try again later.");
};
t.prototype.checkSecondPayToken = function() {
var e = this;
T.red_point = !1;
cc.isValid(e.messageHd) && 0 != e.messageHd.opacity && (e.messageHd.opacity = 0);
var t = T.mf_im_token || "", i = T.mf_im_id || 0, o = T.mf_web_site || "";
if (t && t.length > 0 && i && 0 != i && o && o.length > 0) {
var n = T.appendParams(o, t, i);
e.openSecondPayView(n);
} else s.default.fastPayFetchToken(function(n) {
n && T.getImInfo(n);
t = T.mf_im_token || "";
i = T.mf_im_id || 0;
o = T.mf_web_site || "";
var r = T.appendParams(o, t, i);
e.openSecondPayView(r);
}, function(e) {
m.default.createToast("Network anomalies, please try again later.");
});
};
t.prototype.openSecondPayView = function(e) {
d.default.clickManager(this.messageBtn);
m.default.showRehcargeSecondAnim();
this.scheduleOnce(function() {
cc.vv.gameEngineUtil.openUrlByH5Browser(e, "false", v.H5_REQUEST_CODE.SECOND_PAY);
}, 1);
};
t.prototype.clickExchange = function(e) {
d.default.clickManager(this.itemExchange);
e && h.default.playEffect(p.default.common.btnMusic);
if (g.checkNetwork()) if (C.default.is_formal) {
m.default.createCommonLoading("加载中...");
if (y.default.isPlayingGame()) {
var t = {
game_id: d.default.GAME_TYPE.GAME_HALL
};
s.default.getRoomConfig(t, function(e) {
var t = e.last_game, i = e.room_index, o = e.room;
if (t) {
_.updateRoomList(t, o);
y.default.setPlayingGame();
b.createGameRestoreDialog(t, i);
m.default.removeCommonLoading();
} else {
y.default.clearPlayingGame();
E.showView();
}
}, function(e) {
var t = e.status;
r.default.handleCommonHttpError(t);
}, !1);
} else E.showView();
} else m.default.createRegisterForGifts();
};
t.prototype.clickPay = function(e) {
d.default.clickManager(this.itemCharge);
e && h.default.playEffect(p.default.common.btnMusic);
g.checkNetwork() && M.showGameTopUpView();
};
t.prototype.showMenuBarBottom = function() {
cc.isValid(this.node) && (this.node.active = !0);
};
t.prototype.hideMenuBarBottom = function() {
cc.isValid(this.node) && (this.node.active = !1);
};
t.prototype.checkoutNewNotice = function(e) {
var t = y.default.readNoticeIds();
if (cc.isValid(this.noticeHd)) if (e) {
var i = [], o = [];
o = "" == t || t.length <= 0 ? [] : t.split(",");
for (var n = 0; n < e.length; n++) {
var r = "" + e[n].notice_id;
-1 == i.indexOf(r) && i.push(r);
}
for (var a = o, s = 0; s < o.length; s++) {
var c = o[s];
-1 == i.indexOf(c) && a.splice(s, 1);
}
t = a.sort(l).toString();
y.default.saveNoticeIds(t);
i.sort(l).toString() == t ? this.noticeHd && 1 == this.noticeHd.active && (this.noticeHd.active = !1) : this.noticeHd && 0 == this.noticeHd.active && (this.noticeHd.active = !0);
} else this.noticeHd && 1 == this.noticeHd.active && (this.noticeHd.active = !1);
function l(e, t) {
return e - t;
}
};
t.prototype.disposeNoticesDataAction = function(e) {
if (cc.isValid(this.node)) {
for (var t = [], i = 0; i < e.length; i++) {
var o = e[i].is_flash;
null != o && void 0 != o && t.push(parseInt(o));
}
this.checkoutNewNotice(e);
if (!this._isFirstLogin) {
if (y.default.readIsNew()) {
cc.director.emit("SHOW_GIFT_WITH_CONDITION");
return;
}
}
if (-1 != t.indexOf(2)) {
var n = e[t.indexOf(2)].notice_id || 0;
if (d.default.isShowGifts) {
if (!y.default.needSystemNotic()) {
m.default.showNoticeDialog(parseInt(n));
y.default.saveSystemNotic();
}
return;
}
}
if (-1 == t.indexOf(1)) cc.director.emit("SHOW_GIFT_WITH_CONDITION"); else {
n = e[t.indexOf(1)].notice_id || 0;
if (d.default.isShowGifts) if (y.default.needCheckPopNotice()) {
m.default.showNoticeDialog(parseInt(n));
y.default.savePopNoticeLastModify();
} else cc.director.emit("SHOW_GIFT_WITH_CONDITION");
}
}
};
t.prototype.dealDialogAction = function() {
var e = this;
a.default.requestBonusCenter(function(t) {
cc.director.emit(cc.vv.eventName.REFRESH_BONUS_CENTER_INFO);
var i = 0;
t && (i = a.default.showBonusCenterLoginAward(t));
i > 0 ? m.default.createBonusLoginAward(i) : e.getHubNoticeAction();
});
};
t.prototype.getHubNoticeAction = function() {
var e = this;
s.default.getHubNotice(function(t) {
if (t) {
if (!cc.isValid(e.node)) return;
var i = t.notices;
i && e.disposeNoticesDataAction(i);
var o = t.red_envelope || [];
cc.director.emit("DISPOSE_RED_ENVELOPE", o);
var n = t.new_mail;
cc.director.emit("CHECK_NEW_EMAIL", n);
}
});
};
n([ u(cc.Node) ], t.prototype, "itemKeFu", void 0);
n([ u(cc.Node) ], t.prototype, "itemSafeBox", void 0);
n([ u(cc.Node) ], t.prototype, "itemMail", void 0);
n([ u(cc.Node) ], t.prototype, "itemAnnouncement", void 0);
n([ u(cc.Node) ], t.prototype, "itemMessage", void 0);
n([ u(cc.Node) ], t.prototype, "itemExchange", void 0);
n([ u(cc.Node) ], t.prototype, "itemCharge", void 0);
n([ u(cc.Node) ], t.prototype, "isShowExchange", void 0);
n([ u(cc.Node) ], t.prototype, "emailIcon", void 0);
n([ u(cc.Node) ], t.prototype, "chatIcon", void 0);
n([ u(cc.Node) ], t.prototype, "messageHd", void 0);
n([ u(cc.Node) ], t.prototype, "messageBtn", void 0);
n([ u(cc.Node) ], t.prototype, "noticeHd", void 0);
n([ u ], t.prototype, "_isFirstLogin", void 0);
return t = n([ l ], t);
}(cc.Component);
i.default = k;
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/GameFramework/ApiMgr": "ApiMgr",
"../../Script/Http/HttpErrorManager": "HttpErrorManager",
"../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../Script/ProjectConfig": "ProjectConfig",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"../../Script/UserManager": "UserManager",
"../BonusCenter/BonusCenterUtil": "BonusCenterUtil",
CommonEventName: "CommonEventName",
CommonFunction: "CommonFunction",
CustomerAppealMgr: "CustomerAppealMgr",
CustomerUIMgr: "CustomerUIMgr",
GameEngineUtil: "GameEngineUtil",
GameRestore: "GameRestore",
LauncherModel: "LauncherModel",
NewGameInfo: "NewGameInfo",
RechargeSecondModel: "RechargeSecondModel",
SafeBoxUIMgr: "SafeBoxUIMgr",
TopUpUIMgr: "TopUpUIMgr",
UISettingModel: "UISettingModel",
WithdrawUIMgr: "WithdrawUIMgr"
} ],
MenuBarPrefabMgr: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "703f5X0qS1IzpzClmvTFecK", "MenuBarPrefabMgr");
var o, n, r = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}(), a = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("../../Script/ProjectConfig"));
function s(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var c = (n = o = function() {
function e() {
s(this, e);
}
r(e, null, [ {
key: "createUserCenter",
value: function() {
cc.loader.loadRes(this.MenuBarPrefabPath.UserCenter, function(e, t) {
if (t) {
var i = cc.instantiate(t);
if (i) {
var o = cc.director.getScene().getChildByName("Canvas");
cc.isValid(o) && o.addChild(i, a.default.layerZOrder.Dialog);
}
}
});
}
} ]);
return e;
}(), o.MenuBarPrefabPath = {
UserCenter: a.default.variable.curSkin + "/common/prefab/userCenter/UserCenter"
}, n);
t.exports = c;
cc._RF.pop();
}, {
"../../Script/ProjectConfig": "ProjectConfig"
} ],
MenuBarUserInfo: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "cb630KQCQlHpKfHZCNrU2vA", "MenuBarUserInfo");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = cc._decorator, a = r.ccclass, s = r.property, c = e("../../Script/BaseFormat"), l = e("../../Script/UserManager"), u = e("CommonEventName"), d = e("CommonFunction"), f = e("../../Script/UI/CommonPrefabMgr"), h = e("../../Script/Audio/CommonAudioMgr"), p = e("../../Script/Audio/CommonAudio"), g = e("../../Script/LocalStorage/LocalStorageUtil"), m = e("../../Script/ProjectConfig"), y = e("TopUpUIMgr"), b = (e("UserCenterPrefabMgr"), 
e("UISettingModel")), _ = e("CommonLanguage"), v = e("TrackUtil"), S = e("GameEngineUtil"), C = e("LoginPrefabManager"), w = e("./../../Script/GameFramework/ApiMgr"), A = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.userFrame = null;
t.userAvatar = null;
t.userGold = null;
t.safe_box = null;
t.userID = null;
t.avatarFrame = null;
t.toharge = null;
t.toafebox = null;
t.guidebutton = null;
return t;
}
t.prototype.onLoad = function() {
this.setUserInfo();
this.refreshUserInfo();
};
t.prototype.showRegisterForGifts = function() {
h.default.playEffect(p.default.common.btnMusic);
m.default.clickManager(this.guidebutton);
S.trackEvent(v.hallguideregistclick);
f.default.createRegisterForGifts();
};
t.prototype.start = function() {};
t.prototype.onEnable = function() {
cc.director.on(u.refreshUserInfo, this.refreshUserInfo, this);
cc.director.on(u.TAKE_OUT_SAFE_SUCCESS, this.refreshUserInfo, this);
cc.director.on("SHOW_USERINFO_FOR_ROOM", this.showUserInfoForRoom, this);
cc.director.on("SHOW_USERINFO_FOR_HALL", this.showUserInfoForHall, this);
cc.director.on("REFRESH_USER_AVATAR", this.refreshUserAvatarImage, this);
};
t.prototype.onDisable = function() {
cc.director.off(u.refreshUserInfo);
cc.director.off(u.TAKE_OUT_SAFE_SUCCESS);
cc.director.off("SHOW_USERINFO_FOR_ROOM");
cc.director.off("SHOW_USERINFO_FOR_HALL");
cc.director.off("REFRESH_USER_AVATAR");
};
t.prototype.setUserInfo = function() {
var e = l.default.nick, t = l.default.coin > 0 ? l.default.coin : 0, i = l.default.safe_box > 0 ? l.default.safe_box : 0;
if (e) {
this.userID && (this.userID.string = e);
this.userGold && (this.userGold.string = _.currentlanguage.goldshow.one.format(c.default.foramtGold(t)));
this.safe_box && (this.safe_box.string = c.default.formatAmount(i));
}
this.refreshUserAvatarImage();
l.default.is_formal ? cc.isValid(this.guidebutton) && (this.guidebutton.active = !1) : cc.isValid(this.guidebutton) && (this.guidebutton.active = !0);
};
t.prototype.initRegisterForGiftsViewShow = function() {
if (!g.default.readRegisterForGifts() && !l.default.is_formal && m.default.isShowGifts) {
f.default.createRegisterForGifts();
g.default.saveRegisterForGifts();
m.default.isShowGifts = !1;
}
};
t.prototype.refreshUserInfo = function(e) {
var t = this;
w.default.refreshUserInfo(function(i) {
if (cc.isValid(t.node)) {
l.default.initAccount();
l.default.initUser(i);
t.setUserInfo();
t.initRegisterForGiftsViewShow();
cc.director.emit(u.onUserInfoUpdated);
e ? f.default.createToast(_.currentlanguage.hall.refreshcoin) : cc.director.emit(u.CHECk_NEW);
}
}, function(e) {
cc.isValid(t.node);
});
cc.director.emit(u.REDPOINT);
};
t.prototype.refreshUserAvatarImage = function() {
var e = d.getAvatarFromAtlas(l.default.avatar, l.default.gender);
this.userAvatar && e && (this.userAvatar.getComponent(cc.Sprite).spriteFrame = e);
};
t.prototype.clickUserInfo = function() {
m.default.clickManager(this.avatarFrame);
h.default.playEffect(p.default.common.btnMusic);
S.trackEvent(v.halluserframeclick);
l.default.is_formal ? b.uiSwitch.user_center && f.default.showUserCenterDialog() : C.createPasswordLogin();
};
t.prototype.onBalancePlusButtonClick = function() {
h.default.playEffect(p.default.common.btnMusic);
m.default.clickManager(this.toharge);
S.trackEvent(v.halltworechargeonclick);
l.default.is_formal ? y.showGameTopUpView() : C.createPasswordLogin();
};
t.prototype.onSafeBoxPlusButtonClick = function() {
h.default.playEffect(p.default.common.btnMusic);
m.default.clickManager(this.toafebox);
cc.director.emit(u.ToSafeBox);
};
t.prototype.showUserInfoForRoom = function() {
if (cc.isValid(this.node)) {
var e = this.node.height;
this.node.runAction(cc.moveTo(.3, this.node.x, this.node.y + e));
}
};
t.prototype.showUserInfoForHall = function() {
if (cc.isValid(this.node)) {
var e = this.node.height;
this.node.runAction(cc.moveTo(.3, this.node.x, this.node.y - e));
}
};
t.prototype.showUserInfoBg = function(e) {
var t = this.node.getChildByName("bg");
t && (t.active = e);
};
n([ s(cc.Node) ], t.prototype, "userFrame", void 0);
n([ s(cc.Node) ], t.prototype, "userAvatar", void 0);
n([ s(cc.Label) ], t.prototype, "userGold", void 0);
n([ s(cc.Label) ], t.prototype, "safe_box", void 0);
n([ s(cc.Label) ], t.prototype, "userID", void 0);
n([ s(cc.Node) ], t.prototype, "avatarFrame", void 0);
n([ s(cc.Node) ], t.prototype, "toharge", void 0);
n([ s(cc.Node) ], t.prototype, "toafebox", void 0);
n([ s(cc.Node) ], t.prototype, "guidebutton", void 0);
return t = n([ a ], t);
}(cc.Component);
i.default = A;
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/BaseFormat": "BaseFormat",
"../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../Script/ProjectConfig": "ProjectConfig",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"../../Script/UserManager": "UserManager",
"./../../Script/GameFramework/ApiMgr": "ApiMgr",
CommonEventName: "CommonEventName",
CommonFunction: "CommonFunction",
CommonLanguage: "CommonLanguage",
GameEngineUtil: "GameEngineUtil",
LoginPrefabManager: "LoginPrefabManager",
TopUpUIMgr: "TopUpUIMgr",
TrackUtil: "TrackUtil",
UISettingModel: "UISettingModel",
UserCenterPrefabMgr: "UserCenterPrefabMgr"
} ],
MenuBottom: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "b95f2jDxB1DmLlWWp5Np91d", "MenuBottom");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = e("../../Script/GameFramework/ApiMgr"), a = e("../../Script/UI/CommonPrefabMgr"), s = e("../../Script/UserManager"), c = e("TopUpUIMgr"), l = e("WithdrawUIMgr"), u = (e("UserCenterPrefabMgr"), 
e("TeenPattiInfo"), e("../../Script/ProjectConfig")), d = e("../../Script/Audio/CommonAudioMgr"), f = e("../../Script/Audio/CommonAudio"), h = e("TrackUtil"), p = e("GameEngineUtil"), g = e("NoticeUIMgr"), m = e("MailUIMgr"), y = e("LoginPrefabManager"), b = cc._decorator, _ = b.ccclass, v = b.property, S = e("CommonEventName"), C = e("UISettingModel"), w = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.btncontact = null;
t.btnwithdraw = null;
t.btnaddcash = null;
t.notice = null;
t.mailredpoint = null;
t.noticeredpoint = null;
return t;
}
t.prototype.onLoad = function() {
this.scheduleOnce(function() {
cc.director.emit("ADD_CHILDNODE_SUCCEED");
}, .5);
cc.director.on("SHOW_MENUBAR_BOTTOM", this.showMenuBarBottom, this);
cc.director.on("HIDE_MENUBAR_BOTTOM", this.hideMenuBarBottom, this);
cc.director.on(S.REDPOINT, this.refreshRedPotinShow, this);
this.initView();
};
t.prototype.start = function() {};
t.prototype.initView = function() {
var e = cc.find("recharge/sunshine", this.node);
if (cc.isValid(e)) {
var t = cc.rotateBy(.1, 5);
e.runAction(cc.repeatForever(t));
}
var i = this.node.getChildByName("leftbottomlayout");
if (cc.isValid(i)) {
var o = i.getComponent(cc.Widget);
o && o.isAlignLeft && (o.left = 0);
}
this.refreshRedPotinShow();
};
t.prototype.onMessageOnclick = function() {
d.default.playEffect(f.default.common.btnMusic);
u.default.clickManager(this.btncontact);
p.trackEvent(h.hallcontactinfoonclick);
s.default.is_formal ? a.default.showContactUsDialog() : y.createPasswordLogin();
};
t.prototype.onMoneyOnclick = function() {
d.default.playEffect(f.default.common.btnMusic);
u.default.clickManager(this.btnwithdraw);
p.trackEvent(h.hallwithdrawbtnonclick);
s.default.is_formal ? l.showView() : y.createPasswordLogin();
};
t.prototype.onNoticeOnclick = function(e) {
u.default.clickManager(e.target);
d.default.playEffect(f.default.common.btnMusic);
p.trackEvent(h.hallnoticeonclick);
g.showNoticeView(0);
};
t.prototype.onMailOnclick = function(e) {
u.default.clickManager(e.target);
d.default.playEffect(f.default.common.btnMusic);
p.trackEvent(h.hallmialonclick);
s.default.is_formal ? m.showMailView() : y.createPasswordLogin();
};
t.prototype.onRechargeOnclick = function() {
d.default.playEffect(f.default.common.btnMusic);
u.default.clickManager(this.btnaddcash);
s.default.is_formal ? c.showGameTopUpView() : y.createPasswordLogin();
};
t.prototype.showMenuBarBottom = function() {
if (cc.isValid(this.node)) {
var e = this.node.height;
this.node.runAction(cc.moveTo(.3, this.node.x, this.node.y + e));
}
};
t.prototype.hideMenuBarBottom = function() {
if (cc.isValid(this.node)) {
var e = this.node.height;
this.node.runAction(cc.moveTo(.3, this.node.x, this.node.y - e));
}
};
t.prototype.refreshRedPotinShow = function() {
var e = this;
r.default.readRedPoint(function(t) {
1 == t.notice ? C.rednoticepoint = !0 : C.rednoticepoint = !1;
1 == t.mail ? C.redmailpoint = !0 : C.redmailpoint = !1;
cc.isValid(e.mailredpoint) && (e.mailredpoint.active = C.redmailpoint);
cc.isValid(e.noticeredpoint) && (e.noticeredpoint.active = C.rednoticepoint);
}, function(t) {
C.rednoticepoint = !1;
C.redmailpoint = !1;
cc.isValid(e.mailredpoint) && (e.mailredpoint.active = C.redmailpoint);
cc.isValid(e.noticeredpoint) && (e.noticeredpoint.active = C.rednoticepoint);
});
};
t.prototype.onDestroy = function() {
cc.director.off("SHOW_MENUBAR_BOTTOM");
cc.director.off("HIDE_MENUBAR_BOTTOM");
cc.director.off(S.REDPOINT);
};
n([ v(cc.Node) ], t.prototype, "btncontact", void 0);
n([ v(cc.Node) ], t.prototype, "btnwithdraw", void 0);
n([ v(cc.Node) ], t.prototype, "btnaddcash", void 0);
n([ v(cc.Node) ], t.prototype, "notice", void 0);
n([ v(cc.Node) ], t.prototype, "mailredpoint", void 0);
n([ v(cc.Node) ], t.prototype, "noticeredpoint", void 0);
return t = n([ _ ], t);
}(cc.Component);
i.default = w;
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/GameFramework/ApiMgr": "ApiMgr",
"../../Script/ProjectConfig": "ProjectConfig",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"../../Script/UserManager": "UserManager",
CommonEventName: "CommonEventName",
GameEngineUtil: "GameEngineUtil",
LoginPrefabManager: "LoginPrefabManager",
MailUIMgr: "MailUIMgr",
NoticeUIMgr: "NoticeUIMgr",
TeenPattiInfo: "TeenPattiInfo",
TopUpUIMgr: "TopUpUIMgr",
TrackUtil: "TrackUtil",
UISettingModel: "UISettingModel",
UserCenterPrefabMgr: "UserCenterPrefabMgr",
WithdrawUIMgr: "WithdrawUIMgr"
} ],
MessageGlobal: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "e90cfHEfflFA4wr8xx8gnIR", "MessageGlobal");
var o, n;
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var a = (n = o = function e() {
r(this, e);
}, o.scrolling = !1, n);
t.exports = a;
cc._RF.pop();
}, {} ],
MessageTime: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "06f38CAUb1HF6KBh+1R8yKb", "MessageTime");
var o = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("../../Script/BaseFormat"));
cc.Class({
extends: cc.Component,
properties: {
timeStr: cc.Label
},
init: function(e, t) {
this.timeStr && (this.timeStr.string = t ? o.default.timestampFormatWithDetailed(e) : o.default.timestampFormat(e));
}
});
cc._RF.pop();
}, {
"../../Script/BaseFormat": "BaseFormat"
} ],
MessageWithMe: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "4893cj5PBNOt5ts1IqtJUyk", "MessageWithMe");
var o = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("../../Script/UserManager"));
var n = e("CommonFunction"), r = 1, a = 5, s = 6, c = 7;
cc.Class({
extends: cc.Component,
properties: {
generalMessage: cc.Prefab,
imgMessage: cc.Prefab,
payMessage: cc.Prefab,
urlMessage: cc.Prefab,
myAvatar: cc.Sprite,
messageNode: cc.Node
},
init: function(e) {
var t = n.getAvatarFromAtlas(o.default.avatar);
this.myAvatar && t && (this.myAvatar.getComponent(cc.Sprite).spriteFrame = t);
this.messageNode && this.messageNode.removeAllChildren();
switch (e.msg_type) {
case r:
this.createGeneralMessageAction(e);
break;

case a:
this.createImgMessageAction(e);
break;

case s:
this.createUrlMessageAction(e);
break;

case c:
this.createPayMessageAction(e);
}
},
createGeneralMessageAction: function(e) {
this.node.width = 755;
if (this.generalMessage && this.messageNode) {
var t = cc.instantiate(this.generalMessage);
cc.isValid(this.messageNode) && cc.isValid(t) && this.messageNode.addChild(t);
var i = t.getComponent("GeneralMessage");
i && i.init(e, !0);
}
},
createImgMessageAction: function(e) {
this.node.width = 355;
if (this.imgMessage && this.messageNode) {
var t = cc.instantiate(this.imgMessage);
cc.isValid(this.messageNode) && cc.isValid(t) && this.messageNode.addChild(t);
var i = t.getComponent("ImageMessage");
i && i.init(e, !0);
}
},
createPayMessageAction: function(e) {
this.node.width = 755;
if (this.payMessage && this.messageNode) {
var t = cc.instantiate(this.payMessage);
cc.isValid(this.messageNode) && cc.isValid(t) && this.messageNode.addChild(t);
var i = t.getComponent("PayMessage");
i && i.init(e, !0);
}
},
createUrlMessageAction: function(e) {
this.node.width = 755;
if (this.urlMessage && this.messageNode) {
var t = cc.instantiate(this.urlMessage);
cc.isValid(this.messageNode) && cc.isValid(t) && this.messageNode.addChild(t);
var i = t.getComponent("UrlMessage");
i && i.init(e, !0);
}
}
});
cc._RF.pop();
}, {
"../../Script/UserManager": "UserManager",
CommonFunction: "CommonFunction"
} ],
MessageWithService: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "9a2f9/pf6VIOqlK4dYOBWpm", "MessageWithService");
var o = 1, n = 5, r = 6, a = 7;
cc.Class({
extends: cc.Component,
properties: {
generalMessage: cc.Prefab,
imgMessage: cc.Prefab,
payMessage: cc.Prefab,
urlMessage: cc.Prefab,
messageNode: cc.Node
},
init: function(e) {
this.messageNode && this.messageNode.removeAllChildren();
switch (e.msg_type) {
case o:
this.createGeneralMessageAction(e);
break;

case n:
this.createImgMessageAction(e);
break;

case r:
this.createUrlMessageAction(e);
break;

case a:
this.createPayMessageAction(e);
}
},
createGeneralMessageAction: function(e) {
this.node.width = 755;
if (this.generalMessage && this.messageNode) {
var t = cc.instantiate(this.generalMessage);
cc.isValid(this.messageNode) && cc.isValid(t) && this.messageNode.addChild(t);
var i = t.getComponent("GeneralMessage");
i && i.init(e, !1);
}
},
createImgMessageAction: function(e) {
this.node.width = 355;
if (this.imgMessage && this.messageNode) {
var t = cc.instantiate(this.imgMessage);
cc.isValid(this.messageNode) && cc.isValid(t) && this.messageNode.addChild(t);
var i = t.getComponent("ImageMessage");
i && i.init(e, !1);
}
},
createPayMessageAction: function(e) {
this.node.width = 755;
if (this.payMessage && this.messageNode) {
var t = cc.instantiate(this.payMessage);
cc.isValid(this.messageNode) && cc.isValid(t) && this.messageNode.addChild(t);
var i = t.getComponent("PayMessage");
i && i.init(e, !1);
}
},
createUrlMessageAction: function(e) {
this.node.width = 755;
if (this.urlMessage && this.messageNode) {
var t = cc.instantiate(this.urlMessage);
cc.isValid(this.messageNode) && cc.isValid(t) && this.messageNode.addChild(t);
var i = t.getComponent("UrlMessage");
i && i.init(e, !1);
}
}
});
cc._RF.pop();
}, {} ],
MyInfo: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "1e7441tWnpN+pWmfilRKEyx", "MyInfo");
var o = r(e("../../Script/UserManager")), n = r(e("../../Script/BaseFormat"));
function r(e) {
return e && e.__esModule ? e : {
default: e
};
}
var a = e("CommonFunction"), s = (e("ComponentRes"), e("GameEngineUtil")), c = e("TrackUtil"), l = 0, u = 1;
cc.Class({
extends: cc.Component,
properties: {
chipFrame: cc.Prefab,
chipFrameNode: cc.Node,
myAvatar: cc.Sprite,
myGolds: cc.Label,
myName: cc.Label,
showAward: cc.Node,
winAnim: cc.Node,
particleNode: cc.Node,
awardBgImgs: {
default: [],
type: cc.SpriteFrame
},
awardFonts: {
default: [],
type: cc.Font
},
continueFrame: cc.Node,
_selectChipCallBack: null,
_continueCallBack: null,
_autoContinueCallBack: null,
_chipControllers: [],
_chipValueArr: [],
_usableChipIndexArr: [],
_selectChipIndex: -1,
_continueType: l,
_multi: 1,
_showAwardX: 0
},
onLoad: function() {
cc.vv.beautifulgame ? this._showAwardX = -60 : cc.vv.souhu && (this._showAwardX = -60);
},
initWithCallBackAction: function(e, t, i, r) {
var s = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 1;
this._selectChipIndex = -1;
this._multi = s;
"function" == typeof e && (this._selectChipCallBack = e);
"function" == typeof t && (this._continueCallBack = t);
"function" == typeof i && (this._autoContinueCallBack = i);
"function" == typeof r && r(this.myAvatar.node);
cc.isValid(this.myName) && (this.myName.string = o.default.nick || "");
cc.isValid(this.myGolds) && (this.myGolds.string = "₹ " + n.default.formatAmount(o.default.coin) || 0);
cc.isValid(this.myAvatar) && (this.myAvatar.spriteFrame = a.getAvatarFromAtlas(o.default.avatar, o.default.gender));
},
updateChipsAction: function(e, t) {
var i = this;
i._chipControllers = [];
if (cc.isValid(i.chipFrameNode)) {
i.chipFrameNode.removeAllChildren();
if (e && i.chipFrame) {
i._chipValueArr = e;
for (var o = function(e, t) {
var o = i._chipValueArr[e], n = cc.instantiate(i.chipFrame);
cc.isValid(i.chipFrameNode) && i.chipFrameNode.addChild(n);
if (n.getComponent("ChipFrame")) {
n.getComponent("ChipFrame").initValueWithInfoAction(o, e, 2);
i._chipControllers.push(n.getComponent("ChipFrame"));
}
n.on("touchend", function() {
i.selectChipAction(e);
});
}, n = 0, r = i._chipValueArr.length; n < r; n++) o(n);
}
i.updateChipIsAvailableAction();
i.selectChipAction(parseInt(t));
}
},
selectChipAction: function(e) {
if (!(this._usableChipIndexArr.indexOf(e) < 0) && this._selectChipIndex != e && this._chipControllers[e]._status) {
cc.log("选中筹码index" + e);
0 == e ? s.trackEvent(c.bestfivegamechiponeclick) : 1 == e ? s.trackEvent(c.bestfivegamechiptwoclcik) : 2 == e ? s.trackEvent(c.bestfivegamechipthreeclick) : 3 == e ? s.trackEvent(c.bestfivegamechipfourclick) : 4 == e ? s.trackEvent(c.bestfivegamechipfiveclick) : 5 == e && s.trackEvent(c.bestfivegamechipsixclick);
this.playSelectChipAnimationAction(e);
this._selectChipCallBack && this._selectChipCallBack(e);
this._selectChipIndex = e;
}
},
playSelectChipAnimationAction: function(e) {
for (var t = 0, i = this._chipControllers.length; t < i; t++) {
var o = this._chipControllers[t];
t == e ? o.showSelectedAnimAction() : o.hideSelectedAnimAction();
}
},
clickContinueAction: function() {
switch (this._continueType) {
case l:
this._continueCallBack && this._continueCallBack();
break;

case u:
this._autoContinueCallBack && this._autoContinueCallBack();
}
},
updateAutoContinueUIAction: function(e) {
if (this._continueType == u) {
var t = 0;
t = e ? 255 : 0;
if (cc.isValid(this.continueFrame)) {
var i = this.continueFrame.getChildByName("check");
i && (i.opacity = t);
}
}
},
updateContinueTypeAction: function(e) {
this._continueType = e ? u : l;
},
updateChipIsAvailableAction: function() {
this._usableChipIndexArr = [];
for (var e = [], t = 0, i = this._chipValueArr.length; t < i; t++) {
this._chipValueArr[t] * this._multi <= o.default.coin ? this._usableChipIndexArr.push(t) : e.push(t);
}
for (var n = 0, r = e.length; n < r; n++) {
var a = e[n], s = this._chipControllers[a];
s && s.showDisableAction();
}
if (this._usableChipIndexArr.length > 0) {
for (var c = 0, l = this._usableChipIndexArr.length; c < l; c++) {
var u = this._usableChipIndexArr[c];
this._chipControllers[u].showNomalAction();
}
if (this._usableChipIndexArr.indexOf(this._selectChipIndex) < 0) {
this._selectChipIndex = Math.max.apply(null, this._usableChipIndexArr);
this.setBtnAniAction();
} else this.setBtnAniAction();
} else {
this._selectChipIndex = -1;
this.setBtnAniAction();
}
},
setBtnAniAction: function() {
this.playSelectChipAnimationAction(this._selectChipIndex);
this._selectChipCallBack && this._selectChipCallBack(this._selectChipIndex);
},
updateMyGoldsWithBetAction: function() {
var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
o.default.addCoinCount(e);
cc.isValid(this.myGolds) && (this.myGolds.string = "₹ " + n.default.formatAmount(o.default.coin));
this.updateChipIsAvailableAction();
},
updateMyGoldsWithCheckAction: function(e, t) {
if (cc.isValid(this.myGolds)) {
e < 0 && (e = 0);
this.myGolds.string = "₹ " + n.default.formatAmount(e / 1e3);
}
o.default.coin = e / 1e3;
t && this.updateChipIsAvailableAction();
},
showAwardAnimAction: function(e) {
arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
var t = this, i = -1;
if (e > 0) i = 0; else {
if (!(e < 0)) return;
i = 1;
}
var o = t.awardBgImgs[i], r = t.awardFonts[i];
if (cc.isValid(t.showAward) && o && r) {
var a = cc.find("award", t.showAward);
a && (a.getComponent(cc.Label).font = r);
if (e > 0) {
if (a) {
a.getComponent(cc.Label).fontSize = 32;
a.getComponent(cc.Label).spacingX = 3;
a.getComponent(cc.Label).string = "+" + n.default.formatAmount(e / 1e3);
if (t.particleNode && t.particleNode.getComponent(cc.ParticleSystem)) {
t.particleNode.opacity = 255;
t.particleNode.getComponent(cc.ParticleSystem).resetSystem();
t.scheduleOnce(function() {
if (cc.isValid(t.particleNode)) {
t.particleNode.getComponent(cc.ParticleSystem).stopSystem();
t.particleNode.opacity = 0;
}
}, 1);
}
}
} else if (e < 0 && a) {
a.getComponent(cc.Label).fontSize = 26;
a.getComponent(cc.Label).spacingX = 2;
var s = Math.round(100 * e) / 100;
a.getComponent(cc.Label).string = "-" + n.default.formatAmount(Math.abs(s / 1e3));
}
t.scheduleOnce(function() {
if (cc.isValid(t.showAward)) {
t.showAward.opacity = 255;
t.showAward.getComponent(cc.Sprite).spriteFrame = o;
t.showAward.x = t._showAwardX;
t.showAward.y = -50;
t.showAward.stopAllActions();
t.showAward.runAction(cc.sequence(cc.moveTo(2.5, cc.v2(t._showAwardX, 50)).easing(cc.easeOut(10)), cc.fadeOut(.1), cc.moveTo(.1, cc.v2(t._showAwardX, -50))));
}
}, .6);
}
},
hideAwardAnimAction: function() {
cc.isValid(this.winAnim) && (this.winAnim.opacity = 0);
},
confirmMeIsBankerAction: function(e) {
if (1 == e) for (var t = 0, i = this._chipControllers.length; t < i; t++) {
var o = this._chipControllers[t];
o && o.showDisableAction();
} else this.selectChipAction(this._selectChipIndex);
},
onDestroy: function() {},
disableAllChip: function() {
for (var e = 0, t = this._chipControllers.length; e < t; e++) {
var i = this._chipControllers[e];
i && i.showDisableAction();
}
},
resumeAllChip: function() {
for (var e = 0, t = this._chipValueArr.length; e < t; e++) {
var i = this._chipControllers[e];
if (!i) return;
this._chipValueArr[e] * this._multi <= o.default.coin && i.showNomalAction();
}
this.playSelectChipAnimationAction(this._selectChipIndex);
},
updateNiuniuChipIsAvailableAction: function(e, t) {
this._usableChipIndexArr = [];
for (var i = [], n = 0, r = this._chipValueArr.length; n < r; n++) {
this._chipValueArr[n] <= (o.default.coin - (e - 1) * t) / e ? this._usableChipIndexArr.push(n) : i.push(n);
}
for (var a = 0, s = i.length; a < s; a++) {
var c = i[a], l = this._chipControllers[c];
l && l.showDisableAction();
}
if (this._usableChipIndexArr.length > 0) {
for (var u = 0, d = this._usableChipIndexArr.length; u < d; u++) {
var f = this._usableChipIndexArr[u];
this._chipControllers[f].showNomalAction();
}
if (this._usableChipIndexArr.indexOf(this._selectChipIndex) < 0) {
this._selectChipIndex = Math.max.apply(null, this._usableChipIndexArr);
this.setBtnAniAction();
} else this.setBtnAniAction();
} else {
this._selectChipIndex = -1;
this.setBtnAniAction();
}
},
resumeNiuniuAllChip: function(e, t) {
for (var i = 0, n = this._chipValueArr.length; i < n; i++) {
var r = this._chipControllers[i];
if (!r) return;
this._chipValueArr[i] <= (o.default.coin - (e - 1) * t) / e && r.showNomalAction();
}
this.playSelectChipAnimationAction(this._selectChipIndex);
}
});
cc._RF.pop();
}, {
"../../Script/BaseFormat": "BaseFormat",
"../../Script/UserManager": "UserManager",
CommonFunction: "CommonFunction",
ComponentRes: "ComponentRes",
GameEngineUtil: "GameEngineUtil",
TrackUtil: "TrackUtil"
} ],
"NamingAccess.proto": [ function(e, t, i) {
"use strict";
cc._RF.push(t, "f1f23ivXmZMQb+IjHmdBoCy", "NamingAccess.proto");
t.exports = 'syntax = "proto3";\npackage msg;\n\n// 对时，服务端存活探测, id=0\nmessage Ping {\n    int64 Timestamp = 1;\n}\n\n//对时，服务端返回当前时间，id=99\nmessage Pong {\n    int64 Timestamp = 1;\n}\n\n//----------------------------客户端请求--------------------------\n//消息后缀为Req，表示客户端向服务端发送的请求\n//用户认证，id:1，用户认证\nmessage AuthReq {\n    int64 Timestamp = 1;\n    uint64 UserID = 2;\n    string DeviceID = 3; //客户端设备号\n    string Package = 4; //客户端包名\n    string Channel = 5; //客户端渠道号\n    string VersionName = 6; //客户端游戏版本号版本号4.9.0，预留字段\n    int32 VersionCode = 7; //客户端版本号16\n}\n//请求热更新地址, id:2\nmessage UpdateNewReq {\n    int64 Timestamp = 1;\n}\n//请求网关地址, id:3\nmessage GateWayReq {\n    int64 Timestamp = 1;\n}\n//请求接入地址, id:4\nmessage AccessAddrReq {\n    int64 Timestamp = 1;\n}\n\n// 请求接入server list， id：5\nmessage ServerListReq {\n    int64 Timestamp = 1;\n}\n\n//游戏内部热更新, id: 6\nmessage InnerGameUpdateReq {\n    int64 Timestamp = 1;\n    int32 GameID = 2; //0：返回所有游戏的热更新配置，非0：返回指定游戏的热更新配置\n}\n//--------------------------服务端应答------------------------------\n// naming状态信息, 包含热更新-网关-接入三个部分, 在客户端auth的时候同步, id: 101\nmessage NamingST {\n    int64 Timestamp = 1;\n    int32 UpdateForce = 2; //是否强制升级\n    string UpdateVersion = 3; //热更新版本号\n    string UpdateContent = 4;\n    int32 UpdateDuration = 5;\n    string UpdatePackageUrl = 6;\n    string UpdateGameVersion = 7;\n    string Url = 8; // 下载地址\n    repeated string GateList = 9; //网关地址\n    repeated string AccessList = 10; //接入naming地址\n    map<int32, GameServer> ServerList = 11; // 各个游戏服地址\n}\n// 热更新地址通知，id：102\nmessage UpdateNewNT {\n    int64 Timestamp = 1;\n    int32 Force = 2;\n    string Version = 3; // 客户端版本\n    string Content = 4;\n    int32 Duration = 5;\n    string PackageUrl = 6; // 游戏热更新\n    string GameVersion = 7; //游戏版本\n    string Url = 8; //客户端下载链接\n}\n//网关地址通知, id: 103\nmessage GateWayNT {\n    int64 Timestamp = 1;\n    repeated string GateList = 2;\n}\n//接入地址通知, id: 104\nmessage AccessAddrNT {\n    int64 Timestamp = 1;\n    repeated string AccessList = 2;\n}\n\n//接入游戏域名列表，id： 105\nmessage ServerListNT {\n    int64 Timestamp = 1;\n    map<int32, GameServer> ServerList = 2; // 各个游戏服地址\n}\n\n//ip黑名单禁止访问， id: 108\nmessage IpBlacklistNT {\n    int64 Timestamp = 1;\n    string Ip =2;\n}\n\nmessage GameServer {\n    int32 GameType = 1; //与枚举对应\n    string GameHttp = 2;\n    string GameWs = 3;\n}\n\n// im work\n// 装饰元素\nmessage AdornElement {\n    string Name = 1;\n    string Colour = 2;\n    string Font = 3;\n    string Value = 4;\n}\n\n// IM 广播 id: 106\nmessage BroadCastNT {\n    int64 Timestamp = 1;\n    int32 BroadCastType = 2;\n    string Template = 3;\n    map<string, AdornElement> Element = 4;\n}\n\nmessage InnerUpdateInfo {\n    int32 GameID = 1;\n    string Url = 2;\n}\n//游戏内热更新地址, id: 107\nmessage InnerGameUpdateNT {\n    int64 Timestamp = 1;\n    repeated InnerUpdateInfo Info=2;\n}';
cc._RF.pop();
}, {} ],
NamingServiceMgr: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "f1a7dBW86FOl5u2L2q1Oa+U", "NamingServiceMgr");
var o = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}(), n = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("../../../Script/LocalStorage/LocalStorageUtil"));
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var a = e("NamingSocket"), s = e("CommonEventName"), c = e("NewGameInfo"), l = function() {
function e() {
r(this, e);
}
o(e, null, [ {
key: "requestNamingService",
value: function() {
var e = this;
c.initAccessServer();
a.closeIfUserChanged();
setTimeout(function() {
a.init(e.eventsMsgHandle);
}, 1e3);
}
}, {
key: "closeNamingService",
value: function() {
a.close();
}
}, {
key: "eventsMsgHandle",
value: function(t, i) {
a.msgType.NamingST == t ? e.parseNamingMessage(i) : a.msgType.UpdateNewNT == t ? cc.director.emit(s.EVENT_NAMING_UPDATENEW_MSG, i) : a.msgType.AccessAddrNT == t ? cc.director.emit(s.EVENT_NAMING_ACCESSLIST_MSG, i) : a.msgType.GateWayNT == t ? cc.director.emit(s.EVENT_NAMING_GATEWAY_MSG, i) : a.msgType.ServerListNT == t ? cc.director.emit(s.EVENT_NAMING_SERVERLIST_MSG, i) : a.msgType.BroadCastNT == t ? cc.director.emit(s.EVENT_IM_NEW_MESSAGE, i) : a.msgType.InnerGameUpdateNT == t ? cc.director.emit(s.EVENT_NAMING_GAME_UPDATE_MSG, i) : a.msgType.IpBlacklistNT == t && cc.director.emit(s.IP_BLACK_LIST, i);
}
}, {
key: "requestUpdateNew",
value: function() {
a.requestUpdateNew();
}
}, {
key: "requestGameUpdateNew",
value: function(e, t) {
a.requestGameUpdateNew(e, t);
}
}, {
key: "requestGateWay",
value: function() {
a.requestGateWay();
}
}, {
key: "requestAccessList",
value: function() {
a.requestAccessList();
}
}, {
key: "requestServerList",
value: function() {
a.requestServerList();
}
}, {
key: "initAccessServerByDefault",
value: function(e) {
a.initAccessServer(e);
}
}, {
key: "parseNamingMessage",
value: function(e) {
if (e) {
var t = e.AccessList, i = [];
if (t && t.length > 0) for (var o in t) {
var r = t[o];
i.indexOf(r) >= 0 || i.push(r);
}
var a = n.default.readAccessList();
if (a && a.length > 0) for (var l in a) {
var u = a[l];
i.indexOf(u) >= 0 || i.push(u);
}
n.default.saveAccessList(i);
var d = e.GateList;
if (d && d.length > 0) {
var f = n.default.readGateList();
if (f) for (var h = d.length - 1; h >= 0; h--) {
var p = d[h], g = f.indexOf(p);
g >= 0 && f.splice(g, 1);
f.unshift(p);
} else f = d;
n.default.saveGateList(f);
}
var m = e.ServerList;
if (m) {
var y = Object.keys(m);
y && y.length >= 1 && n.default.saveServerList(m);
}
c.initAccessServer();
c.initHallServer();
c.initGameServer();
var b = e.UpdateForce, _ = e.UpdateContent, v = e.Url, S = e.UpdateVersion, C = e.UpdatePackageUrl, w = e.UpdateGameVersion;
cc.director.emit(s.EVENT_UPDATENEW_APP_UPDATE_MSG, {
type: b,
content: _,
version: S,
url: v,
packageUrl: C,
gameVersion: w
});
}
}
} ]);
return e;
}();
t.exports = l;
cc._RF.pop();
}, {
"../../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
CommonEventName: "CommonEventName",
NamingSocket: "NamingSocket",
NewGameInfo: "NewGameInfo"
} ],
NamingSocket: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "8aabefBooJFMZYt3pOskTEx", "NamingSocket");
var o, n, r = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}(), a = c(e("../../../Script/LocalStorage/LocalStorageUtil")), s = c(e("../../../Script/ProjectConfig"));
function c(e) {
return e && e.__esModule ? e : {
default: e
};
}
function l(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function u(e, t) {
if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return !t || "object" != typeof t && "function" != typeof t ? e : t;
}
function d(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
});
t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
var f = e("CommonProtoBuf3"), h = e("CommonSocketModel"), p = e("NamingAccess.proto"), g = e("CommonSocket"), m = (e("CommonVariable"), 
e("CommonEventName")), y = e("NewGameInfo"), b = e("GameEngineUtil"), _ = (n = o = function(e) {
d(t, h);
function t() {
l(this, t);
return u(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
}
r(t, null, [ {
key: "buildNamingSocketUrl",
value: function() {
return null;
}
}, {
key: "init",
value: function(e) {
if (null == this.namingSocket) {
this._eventCallback = e;
this.protoBuf = new f(p, cc.url.raw("resources/protobufs/NamingAccess.proto"), this.msgType);
this.startWebsocket();
}
}
}, {
key: "startWebsocket",
value: function() {
var e = this;
e.namingSocket = new g(s.default.GAME_TYPE.NAMING_SERVICE, e.buildNamingSocketUrl(), null, function(t) {
var i = e.protoBuf.decode(t);
i && e.msgType[i.index] && "function" == typeof e._eventCallback && e._eventCallback(i.index, i.msgData);
}, function() {
e.authReqSend();
}, function() {
e.isConnected || e.checkNetwork();
}, function() {
e.isConnected = !0;
e.retryCount = 1;
}, !0);
}
}, {
key: "checkNetwork",
value: function() {}
}, {
key: "initAccessServer",
value: function(e) {
e = "ws://" + e + ".net:9880";
var t = a.default.readAccessList();
if (!t || t.length <= 0) t = [ e ]; else {
var i = t.indexOf(e);
i >= 0 && t.splice(i, 1);
t.unshift(e);
}
a.default.saveAccessList(t);
y.initAccessServer();
}
}, {
key: "hascachenaming",
value: function() {
var e = a.default.readGateList(), t = a.default.readServerList();
return !!(e && t && e.length > 0);
}
}, {
key: "skipNaming",
value: function() {
y.initHallServer();
y.initGameServer();
cc.director.emit(m.EVENT_UPDATENEW_APP_UPDATE_MSG, {
type: 0,
content: "",
version: "0.0.0",
url: "",
packageUrl: "",
gameVersion: "0.0.0"
});
}
}, {
key: "authReqSend",
value: function() {
var e = parseInt(a.default.readUserID()), t = a.default.readDeviceID(), i = a.default.readAppPackageName(), o = a.default.readAppChannel(), n = a.default.readAppVersionCode();
GAMECONFIG.VERSION_CODE = b.getVersionName();
var r = GAMECONFIG.VERSION_CODE;
GAMECONFIG.HOT_CODE && (r = GAMECONFIG.HOT_CODE);
this.cache_uid = e;
var s = {
Timestamp: new Date().getTime(),
UserID: e,
DeviceID: t,
Package: i,
Channel: o,
VersionName: r,
VersionCode: n
};
cc.log("send Package =" + s.Package);
cc.log("send VersionName =" + s.VersionName);
cc.log("send VersionCode =" + s.VersionCode);
cc.log("send Channel =" + s.Channel);
this.send(1, "msg.AuthReq", s);
}
}, {
key: "send",
value: function(e, t, i) {
var o = this.protoBuf.encode(e, t, i);
this.namingSocket && this.namingSocket.send(o);
}
}, {
key: "requestUpdateNew",
value: function() {
this.send(2, "msg.UpdateNewReq", {
Timestamp: new Date().getTime()
});
}
}, {
key: "requestGameUpdateNew",
value: function(e, t) {
if (this.namingSocket) {
var i = {
GameID: e,
Timestamp: new Date().getTime()
};
this.send(6, "msg.InnerGameUpdateReq", i);
} else t && t();
}
}, {
key: "requestGateWay",
value: function() {
this.send(3, "msg.GateWayReq", {
Timestamp: new Date().getTime()
});
}
}, {
key: "requestAccessList",
value: function() {
this.send(4, "msg.AccessAddrReq", {
Timestamp: new Date().getTime()
});
}
}, {
key: "requestServerList",
value: function() {
this.send(5, "msg.ServerListReq", {
Timestamp: new Date().getTime()
});
}
}, {
key: "close",
value: function() {
if (null != this.namingSocket) {
this.namingSocket.close();
this.namingSocket = null;
}
}
}, {
key: "closeIfUserChanged",
value: function() {
if (null != this.namingSocket) {
if (parseInt(a.default.readUserID()) == this.cache_uid) return;
this.namingSocket.close();
this.namingSocket = null;
}
}
} ]);
return t;
}(), o.accessList = null, o.namingSocket = null, o.isConnected = !1, o.namingSocketUrl = null, 
o.retryCount = 1, o.maxRetryCount = 10, o.cache_uid = null, o.msgType = cc.Enum({
Pong: 99,
NamingST: 101,
UpdateNewNT: 102,
GateWayNT: 103,
AccessAddrNT: 104,
ServerListNT: 105,
BroadCastNT: 106,
InnerGameUpdateNT: 107,
IpBlacklistNT: 108
}), o._eventCallback = null, n);
t.exports = _;
cc._RF.pop();
}, {
"../../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../../Script/ProjectConfig": "ProjectConfig",
CommonEventName: "CommonEventName",
CommonProtoBuf3: "CommonProtoBuf3",
CommonSocket: "CommonSocket",
CommonSocketModel: "CommonSocketModel",
CommonVariable: "CommonVariable",
GameEngineUtil: "GameEngineUtil",
"NamingAccess.proto": "NamingAccess.proto",
NewGameInfo: "NewGameInfo"
} ],
NativePush: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "6bef7gdoRpL0o6Bbtsmuhbg", "NativePush");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = e("UISettingModel"), n = e("GameEngineUtil"), r = e("../../../Script/BaseFormat"), a = e("./../../../Script/GameFramework/ApiMgr"), s = function() {
function e() {}
e.initNativiePush = function() {
var e = this;
o.uiSwitch.push && a.default.getPushInfo(function(t) {
if (t) {
n.savePushNotificationToNative(JSON.stringify(t));
e.disposePushInfoAction(t);
}
});
};
e.disposePushInfoAction = function(e) {
n.closePushFromNative();
for (var t = e.list || [], i = 0, o = t.length; i < o; i++) {
var r = t[i];
if (1 != r.deleted) {
var a = r.expire_at, s = new Date().getTime();
s = parseInt("" + s / 1e3, 10);
if (!(null != a && s > a)) for (var c = r.content || "", l = r.title || "", u = r.pop_at || [], d = r._id || "", f = 0, h = u.length; f < h; f++) {
var p = u[f], g = p.type || 0;
if (1 == g) {
for (var m = p.value || [], y = 0, b = m.length; y < b; y++) if (s < m[y]) {
var _ = d + "_" + g + "_" + (v = m[y] + "");
n.openPushFromNative(this.buildLocalPushId(_), v, l, c, _);
}
} else if (2 == g) {
var v;
_ = d + "_" + g + "_" + (v = s + 24 * (p.value || 0) * 60 * 60);
n.openPushFromNative(this.buildLocalPushId(_), v, l, c, _);
}
}
}
}
};
e.buildLocalPushId = function(e) {
return r.default.getHashCode(e);
};
e.addTrackWithDidReceiveNotificationResponse = function(e) {
a.default.clickPushNotification(e, function(e) {});
};
e.addTrackWithDeliveredNotification = function(e) {
a.default.pushNotificationSucceed(e, function(e) {});
};
return e;
}();
t.exports = s;
i.default = s;
cc._RF.pop();
}, {
"../../../Script/BaseFormat": "BaseFormat",
"./../../../Script/GameFramework/ApiMgr": "ApiMgr",
GameEngineUtil: "GameEngineUtil",
UISettingModel: "UISettingModel"
} ],
NetworkFix: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "3526fYvGPpMS6UGj37SgXI2", "NetworkFix");
Object.defineProperty(i, "__esModule", {
value: !0
});
e("CommonVariable");
var o = function() {
return function() {};
}();
t.exports = o;
i.default = o;
cc._RF.pop();
}, {
CommonVariable: "CommonVariable"
} ],
NewCommonHttp: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "1d335EOXjpG963QUO6qrwBp", "NewCommonHttp");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = e("../../Script/LocalStorage/LocalStorageUtil"), n = e("../../Script/UserManager"), r = e("../Http/HttpErrorManager"), a = e("../../Script/ProjectConfig"), s = e("../UI/CommonPrefabMgr"), c = e("crypto"), l = e("buffer").Buffer, u = e("Api_pb"), d = (u.PingReq, 
u.PingResp, u.AnonymousLoginReq, u.AnonymousLoginResp, u.UserInfoReq, u.UserInfoResp, 
u.SettingsReq, u.SettingsResp, u.ReqHeader), f = (u.RespHeader, function() {
function e() {
this.aes_key = this.decodeBase64("kCBwZSXvpKC6iShm0BKBuw==");
this.sign_key = this.decodeBase64("aGVsbG9uaSomZmQyZmZkOThzamd3YQ==");
this._createRequest();
this.showLoadingAniTime = 1200;
this.timeoutStatus = !1;
this.closeLoading = !0;
this.showLoading = !1;
this.closeToast = !1;
this.backupHost = null;
this.host = null;
this.requestUrl = null;
this.requestType = null;
this.sendData = null;
this.option = null;
this.ignoreTokenError = !1;
this.successCallback = null;
this.errorCallback = null;
this._canRetry = !1;
this.probufRequest = null;
this.probufReponse = null;
}
e.prototype.getJSON = function(e, t, i, o, n, r, a, c, l, u, d, f, h, p, g) {
void 0 === c && (c = !1);
void 0 === l && (l = {});
void 0 === d && (d = !0);
void 0 === f && (f = !1);
void 0 === h && (h = 3e3);
this.closeLoading = d;
this.showLoading = c;
this.closeToast = f;
this.ignoreTokenError = u;
if (this.httpRequest) {
this.showLoading && s.default.createCommonLoading("Loading...");
this._parseBackupHost(t);
this.host = e;
this.requestType = o;
this.option = l;
this.successCallback = r;
this.errorCallback = a;
this.probufRequest = p;
this.probufReponse = g;
this.sendData = this._buildSendData(n);
this.requestUrl = this._buildFullUrl(e, i, this.requestType, this.sendData);
console.log("this transform rep is " + g);
this._startRequest();
}
};
e.prototype._createRequest = function() {
var e = cc.loader.getXMLHttpRequest();
e.responseType = "arraybuffer";
null == e ? console.log("toast:网络初始化失败") : this.httpRequest = e;
};
e.prototype._startRequest = function() {
var e = this;
e.timeoutStatus = !1;
console.log("CommonHttp post url:" + e.requestUrl);
e.httpRequest.open(e.requestType, e.requestUrl, !0);
e._setHeader();
e._sendRequest(e.requestType, e.option, e.sendData);
e.httpRequest.onreadystatechange = function() {
e._onResponse(e.successCallback, e.errorCallback, e.ignoreTokenError);
};
e.httpRequest.timeout = 1e4;
e.httpRequest.ontimeout = function(t) {
console.log("ontimeout: " + t);
e.timer && clearTimeout(e.timer);
e._onTimeout(e.errorCallback);
};
e.httpRequest.onerror = function(t) {
console.log("onerror: " + t);
e.timer && clearTimeout(e.timer);
e._onTimeout(e.errorCallback);
};
e._onBusinessTimeout();
};
e.prototype._abortRequest = function() {
this.httpRequest && (this.httpRequest = null);
this._createRequest();
};
e.prototype._onResponse = function(e, t, i) {
var o = this;
(function() {
var n = o.httpRequest.readyState, r = o.httpRequest.status;
if (4 == n) {
o._hideLoading();
o.timer && clearTimeout(o.timer);
if (1 == o.timeoutStatus) return;
try {
var s = null;
o.httpRequest && (s = o.httpRequest.response);
var c = o.probufRequest.array;
if (c) {
cc.log(o.requestUrl + "\nrequestdata \n");
o.logHttpResponse(c);
}
var u = o.aes_decrypt(new l(s), o.aes_key), d = o.probufReponse.deserializeBinary(u), f = d.getHeader(), h = f.getCode(), p = {
status: h,
msg: m = f.getMsg(),
trace_id: f.getTraceId()
}, g = d.toObject();
cc.log(o.requestUrl + "\nresponsedata \nhttpstatus=" + r + " httpcode=" + h);
o.logHttpResponse(g);
if (s && "" != s) {
if (200 == r && 0 == h) {
a.default.variable.network = 1;
"function" == typeof e && e(g);
} else if (r) if ("{}" == s) {
if (o._canRetryWithBackupUrl("err_fun")) {
o._retryWithBackupUrl();
}
} else o._errFun(p, t, i);
} else o._errFun(p, t, !1);
} catch (e) {
var m = {};
o._errFun(m, t, !1);
}
}
})();
};
e.prototype.logHttpResponse = function(e) {
if (e) for (var t in e) {
var i = e[t];
if (i instanceof Object && void 0 != i && null != i) {
cc.log(t, "values...");
this.logHttpResponse(i);
} else cc.log(t, e[t]);
}
};
e.prototype._buildFullUrl = function(e, t, i, o) {
if (e) {
(e = e.toString()).indexOf("http") < 0 && (e = "http://" + e);
"/" == e.charAt(e.length - 1) && (e = e.substring(0, e.length - 1));
}
"/" != t.charAt(0) && (t = "/" + t);
var n = e + t, r = "&gv=" + GAMECONFIG.VERSION_CODE;
if ("POST" == i.toUpperCase()) {
n = n.indexOf("?") >= 0 ? n + "&sign=" + this.sign : n + "?sign=" + this.sign;
n += r;
}
return n;
};
e.prototype._setHeader = function() {
if (this.httpRequest) {
this.httpRequest.setRequestHeader("content-type", "application/x-protobuf");
var e = o.default.readDeviceInfo();
cc.log("this header is===" + e);
this.httpRequest.setRequestHeader("X-Auth-Track", e);
}
};
e.prototype._buildSendData = function(e) {
var t = new Date().getTime() / 1e3, i = new d();
i.setTimestamp(parseInt(t.toString()));
var r = n.default.uid, a = n.default.token;
if (!r || !a) {
r = o.default.readUserID();
a = o.default.readUserToken();
}
cc.log("this userid " + r + "token is" + a);
if (r && a) {
i.setUserId(r);
i.setAuthToken(a.toString());
}
this.probufRequest.setHeader(i);
var s = this.probufRequest.serializeBinary();
cc.log("req_plain = ", this.encodeHex(s));
var c = this.aes_encrypt(new l(s), this.aes_key);
cc.log("req_encrypted = " + this.encodeHex(c));
var u = o.default.readDeviceInfo(), f = this.md5_digest(s, u, this.sign_key);
cc.log("sign = " + f);
this.sign = f;
return c;
};
e.prototype.encodeHex = function(e) {
for (var t = [], i = 0, o = e; i < o.length; i++) {
var n = o[i];
t.push(n.toString(16).padStart(2, "0"));
}
return t.join("");
};
e.prototype.decodeBase64 = function(e) {
return l.from(e, "base64");
};
e.prototype.aes_encrypt = function(e, t) {
var i = c.createCipheriv("aes-128-ecb", t, ""), o = i.update(e, "utf-8");
return l.concat([ new l(o), new l(i.final()) ]);
};
e.prototype.aes_decrypt = function(e, t) {
var i = c.createDecipheriv("aes-128-ecb", t, ""), o = i.update(e, "utf-8");
return l.concat([ new l(o), new l(i.final()) ]);
};
e.prototype.md5_digest = function(e, t, i) {
var o = l.concat([ new l(e), new l(t), new l(i) ]);
return c.createHash("md5").update(o).digest("hex", i);
};
e.prototype._sendRequest = function(e, t, i) {
this.httpRequest && (i ? this.httpRequest.send(i) : this.httpRequest.send());
};
e.prototype._parseBackupHost = function(e) {
this.backupHost = [];
if (e) for (var t = e.length, i = 0; i < t; i++) {
var o = e[i];
o && this.backupHost.push(o);
}
};
e.prototype._canRetryWithBackupUrl = function(e) {
var t = !1;
this.backupHost && this.backupHost.length > 0 && (t = !0);
this._canRetry = t;
console.log("---- retryWithBackupUrl: " + e + "  -> " + t);
return t;
};
e.prototype._changeHost = function() {
if (this.backupHost && this.backupHost.length > 0) {
var e = this.backupHost.shift(), t = this.host;
t && "/" == t.charAt(t.length - 1) && (t = t.substring(0, t.length - 1));
var i = e;
i && "/" == i.charAt(i.length - 1) && (i = i.substring(0, i.length - 1));
this.requestUrl = this.requestUrl.replace(t, i);
this.host = e;
}
};
e.prototype._retryWithBackupUrl = function() {
this._changeHost();
this._abortRequest();
this._startRequest();
};
e.prototype._hideLoading = function() {
this._canRetry || this.closeLoading && this.showLoading && s.default.removeCommonLoading();
};
e.prototype._onTimeout = function(e) {
this.timeoutStatus = !0;
if (this._canRetryWithBackupUrl("time_out")) this._retryWithBackupUrl(); else {
s.default.removeCommonLoading();
if ("function" == typeof e) {
console.log("timeOut callback");
e(-1);
}
this._showToast();
}
};
e.prototype._onBusinessTimeout = function() {
var e = this;
e.timer = setTimeout(function() {
s.default.removeCommonLoading();
e.httpRequest.abort();
}, 1e4);
};
e.prototype._errFun = function(e, t, i) {
var o;
e && (o = e.status);
if (o && 502 != o && 404 != o && 503 != o) {
s.default.removeCommonLoading();
"function" == typeof t && t(e);
r.default.disposeHttpErrorWithProtoResp(o, e, i);
} else if (this.timeoutStatus) {
s.default.removeCommonLoading();
this._showToast();
} else if (this._canRetryWithBackupUrl("err_fun")) this._retryWithBackupUrl(); else {
s.default.removeCommonLoading();
"function" == typeof t && t(e);
r.default.disposeHttpErrorWithProtoResp(o, e, i);
}
};
e.prototype._showToast = function() {
this.closeToast || s.default.createToast("Request timed out");
};
return e;
}());
t.exports = f;
cc._RF.pop();
}, {
"../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../Script/ProjectConfig": "ProjectConfig",
"../../Script/UserManager": "UserManager",
"../Http/HttpErrorManager": "HttpErrorManager",
"../UI/CommonPrefabMgr": "CommonPrefabMgr",
Api_pb: "Api_pb",
buffer: 47,
crypto: 56
} ],
NewCommonSocket: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "028a8Ai3alC0LBGUo4ub5hN", "NewCommonSocket");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o, n = e("../Reference/CommonDepend");
(function(e) {
var t = function() {
function e() {}
e.prototype.init = function(e, t, o, n) {
new i(e, t, o, n);
};
e.prototype.send = function() {};
e.prototype.close = function() {};
return e;
}();
e.NewCommonSocketIns = t;
var i = function() {
function e(e, t, i, o) {
this.socketOptions = e;
this.onMsgCallback = t;
this.onInitCallBack = i;
this.onCloseCallback = o;
}
e.prototype.initSocket = function() {
this.setSocketName();
this.setSocketUrl();
this.createWebSocket();
this.createEventHandle();
};
e.prototype.initHeart = function() {
this.heartOptions.last_ping = this.getCurrentTimestamp();
this.heartOptions.last_pang = this.getCurrentTimestamp();
this.heartOptions.proto = new CommonProtoBuf3(n.default.CommonProto, cc.url.raw("resources/protobufs/CommonProto3.proto"), cc.Enum({
Pong: 99
}));
};
e.prototype.createWebSocket = function() {
var e = this.socketOptions.url, t = this.socketOptions.params;
t && (e = n.default.BaseFormat.spliceUrlParam(e, t));
this.webSocket = new WebSocket(e);
this.webSocket.binaryType = "arraybuffer";
};
e.prototype.createEventHandle = function() {
var e = this;
if (e.webSocket) {
e.webSocket.onopen = function() {};
e.webSocket.onmessage = function(t) {
e.heartOptions.last_pang = e.getCurrentTimestamp();
};
e.webSocket.onerror = function() {};
e.webSocket.onclose = function(e) {};
}
};
e.prototype.setSocketUrl = function() {
if (!this.socketOptions.url) {
var e = this.socketOptions.gameId, t = n.default.GameUtil.getSocketUrlListByGameId(e), i = null;
t && (i = t[0]);
this.socketOptions.backup_url = t;
this.socketOptions.url = i;
}
};
e.prototype.setSocketName = function() {
var e = this.socketOptions.gameId;
this.socketOptions.name = n.default.GameUtil.getSocketNameByGameId(e);
};
e.prototype.startHeartCheck = function() {
var e = this;
e.heartOptions.interHeart = setInterval(function() {
var t = e.getCurrentTimestamp(), i = e.heartOptions.timeout / 1e3;
if (t - e.heartOptions.last_ping >= i) {
var o = {
Timestamp: new Date().getTime()
};
e.commonProto3Send(0, "msg.Ping", o);
}
var n = e.heartOptions.reconnectTimeout / 1e3;
if (t - e.heartOptions.last_pang >= n && 1 == e.needReconnect) {
e.webSocket && e.webSocket.close();
e.reconnect();
e.heartOptions.last_ping = e.getCurrentTimestamp();
e.heartOptions.last_pang = e.getCurrentTimestamp();
}
}, e.heartOptions.timeout);
};
e.prototype.commonProto3Send = function(e, t, i) {
var o = this.heartOptions.proto;
if (o) {
var n = o.encode(e, t, i);
if (null != this.webSocket && this.webSocket.readyState === WebSocket.OPEN) {
this.webSocket.send(n);
this.heartOptions.last_ping = this.getCurrentTimestamp();
}
}
};
e.prototype.close = function() {
this.heartOptions.last_ping = this.getCurrentTimestamp();
this.heartOptions.last_pang = this.getCurrentTimestamp();
};
e.prototype.reconnect = function() {};
e.prototype.getCurrentTimestamp = function() {
return Date.parse(new Date().toString()) / 1e3;
};
return e;
}();
e.NewCommonSocket = i;
})(o || (o = {}));
i.default = o;
cc._RF.pop();
}, {
"../Reference/CommonDepend": "CommonDepend"
} ],
NewGameInfo: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "ab89byVAIJGSYhgiRPrqakt", "NewGameInfo");
var o, n, r = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}(), a = c(e("../../Script/ProjectConfig")), s = c(e("../../Script/LocalStorage/LocalStorageUtil"));
function c(e) {
return e && e.__esModule ? e : {
default: e
};
}
function l(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var u = e("GameEngineUtil"), d = (e("CommonVariable"), n = o = function() {
function e() {
l(this, e);
}
r(e, null, [ {
key: "initAccessServer",
value: function() {
var e = s.default.readAccessList(), t = [];
if (e && e.length > 0) for (var i = 0; i < e.length; i++) {
var o = e[i];
t.indexOf(o) >= 0 || t.push(o);
}
this.gameServer[a.default.GAME_TYPE.NAMING_SERVICE] = {
GameWs: t
};
}
}, {
key: "initHallServer",
value: function() {
var e = s.default.readGateList();
e && e.length > 0 && u.saveHostToNative(e[0]);
var t = {
GameHttp: e
};
this.gameServer[a.default.GAME_TYPE.GAME_HALL] = t;
this.gameServer[a.default.GAME_TYPE.KEFU] = t;
this.gameServer[a.default.GAME_TYPE.LOGIN] = t;
this.gameServer[a.default.GAME_TYPE.LAUNCHER] = t;
this.gameServer[a.default.GAME_TYPE.GAME_ROOM] = t;
this.gameServer[a.default.GAME_TYPE.RUMMY] = t;
}
}, {
key: "initGameServer",
value: function() {
var e = s.default.readServerList();
if (e) for (var t in a.default.GAME_TYPE) {
var i = a.default.GAME_TYPE[t];
e[i] && (this.gameServer[i] = e[i]);
}
}
}, {
key: "getGameHttpServer",
value: function(e) {
if (this.gameServer) {
var t = this.gameServer[e];
if (t) {
var i = t.GameHttp;
if (e == a.default.GAME_TYPE.GAME_HALL || e == a.default.GAME_TYPE.KEFU || e == a.default.GAME_TYPE.LOGIN || e == a.default.GAME_TYPE.LAUNCHER || e == a.default.GAME_TYPE.GAME_ROOM) return i;
if (i) {
return i.split(",");
}
}
}
return null;
}
}, {
key: "getGameWsServer",
value: function(e) {
if (this.gameServer) {
var t = this.gameServer[e];
if (t) {
var i = t.GameWs;
if (e == a.default.GAME_TYPE.NAMING_SERVICE) return i;
if (i) {
return i.split(",");
}
}
}
return null;
}
}, {
key: "init",
value: function(e) {}
}, {
key: "updateRoomList",
value: function(e, t) {
this.roomList[e] = t;
}
}, {
key: "getDefaultFirstRoom",
value: function(e) {
var t = this.roomList;
if (null == t) return -1;
var i = t[e];
return this.isArrayFn(i) && i.length > 0 ? i[0].id : -1;
}
}, {
key: "getRoomInfo",
value: function() {
var e = this.current.gameID, t = this.current.room, i = this.getSeeRoomListByGameID(e);
if (this.isArrayFn(i)) for (var o = 0; o < i.length; o++) if (i[o].id == t) return i[o];
return {};
}
}, {
key: "getRoomInfoByGameID",
value: function(e, t) {
var i = this.getSeeRoomListByGameID(e);
if (this.isArrayFn(i)) for (var o = 0; o < i.length; o++) if (i[o].id == t) return i[o];
return {};
}
}, {
key: "getSeeRoomListByGameID",
value: function(e) {
var t = this.roomList;
if (null == t) return [];
var i = t[e];
return this.isArrayFn(i) ? i : [];
}
}, {
key: "getSeeRoomList",
value: function(e) {
(!e || e <= 0) && (e = this.current.gameID);
return this.getSeeRoomListByGameID(e);
}
}, {
key: "getSafeBoxCoolTime",
value: function() {
var e = s.default.readSafeBoxCd();
return e || 0;
}
}, {
key: "getIndexByRoom",
value: function(e, t) {
for (var i = this.getSeeRoomListByGameID(e), o = 0; o < i.length; o++) if (i[o].id == t) return o;
return -1;
}
}, {
key: "isArrayFn",
value: function(e) {
return "function" == typeof Array.isArray ? Array.isArray(e) : "[object Array]" === Object.prototype.toString.call(e);
}
} ]);
return e;
}(), o.gameServer = {}, o.marqueeGameId = -1, o.current = {
gameID: -1,
room: -1
}, o.roomList = {}, o.isReconnect = !1, o.isFishingRestore = !1, o.user_h5 = !1, 
o.h5_url = "", o.frame_url = "", n);
t.exports = d;
cc._RF.pop();
}, {
"../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../Script/ProjectConfig": "ProjectConfig",
CommonVariable: "CommonVariable",
GameEngineUtil: "GameEngineUtil"
} ],
NewWithdrawInfoFrame: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "f9556H/GZBG56s3Aipywxl8", "NewWithdrawInfoFrame");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = e("./../../../Script/GameFramework/ApiMgr"), a = e("../../../Script/UI/CommonPrefabMgr"), s = e("GameEngineUtil"), c = e("TrackUtil"), l = e("CommonLanguage"), u = (e("FormatCheckUtil"), 
e("CommonEventName")), d = cc._decorator, f = d.ccclass, h = d.property, p = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.bankCode = null;
t.ifcscode = null;
t.accountNum = null;
t.accountName = null;
t.mainContent = null;
t.bankPrefab = null;
t.arrowIconNode = null;
t.arrowIconArray = [];
t.text = "hello";
t.modeldata = null;
t.numberditChanged = !0;
t.nameditChanged = !0;
t.codeditChanged = !0;
t.toprightitem = null;
t.isOpenBankList = !1;
return t;
}
t.prototype.onLoad = function() {
cc.director.on(u.WITHDRAW_SELECT_BANK_CODE, this.chooseBankCode, this);
this.bankCode.enabled = !1;
var e = this.modeldata.withdrawdebitcard;
if (e) {
e.accountnumber && (this.accountNum.string = e.accountnumber);
e.accountholdername && (this.accountName.string = e.accountholdername);
e.ifsccode && (this.ifcscode.string = e.ifsccode);
e.bankcodeno && (this.bankCode.string = e.bankcodeno);
}
this.toprightitem = cc.instantiate(this.bankPrefab);
this.toprightitem.getComponent("WithdrawSelectBank").initData(this.bankCode.string);
this.toprightitem.x = 0;
this.toprightitem.y = -100;
var t = cc.director.getScene();
if (cc.isValid(t)) {
var i = t.getChildByName("Canvas");
cc.isValid(i) && i.addChild(this.toprightitem, a.default.layerZOrder.dialog);
}
this.toprightitem.active = !1;
};
t.prototype.onDestroy = function() {
cc.director.off(u.WITHDRAW_SELECT_BANK_CODE, this.chooseBankCode, this);
a.default.removeAlert("WithdrawSelectBank");
};
t.prototype.initData = function(e) {
this.modeldata = e;
};
t.prototype.chooseBankCode = function(e) {
this.bankCode.string = e.bankCode;
};
t.prototype.link = function() {
var e = this, t = e.bankCode.string, i = e.ifcscode.string, o = e.accountNum.string, n = e.accountName.string;
s.trackEvent(c.withdrawdebitlinkclick);
if (!t || t.length <= 0) a.default.createToast(l.currentlanguage.debit.debitphonenotice); else if (!i || i.length <= 0) a.default.createToast("Please enter the Bank IFCS Code"); else if (!o || o.length <= 0) a.default.createToast("Please enter the Account Number"); else if (!n || n.length <= 0) a.default.createToast("Please enter the Account Holder Name"); else {
var u = {
type: 1,
account: o,
name: n,
bankCode: t,
ifcs: i
};
r.default.postWithDrawBindInfo(u, function(t) {
if (t.withdrawbinds && t.withdrawbinds.withdrawdebitcard) {
e.modeldata.withdrawdebitcard = t.withdrawbinds.withdrawdebitcard;
cc.director.emit("JUMPTOAPPLYWITHDRAWCONTENT", t);
a.default.createToast("Information submitted successfully");
}
}, function(e) {
e && e.msg && a.default.createToast(e.msg);
});
}
};
t.prototype.start = function() {};
t.prototype.showBankListMethod = function() {
this.bankCode.string;
if (this.isOpenBankList) {
this.isOpenBankList = !1;
this.arrowIconNode.getComponent(cc.Sprite).spriteFrame = this.arrowIconArray[0];
this.toprightitem.active = !1;
} else {
this.isOpenBankList = !0;
this.arrowIconNode.getComponent(cc.Sprite).spriteFrame = this.arrowIconArray[1];
this.toprightitem.active = !0;
}
};
t.prototype.accountNumberEditChanged = function() {
if (this.numberditChanged) {
this.numberditChanged = !1;
s.trackEvent(c.withdrawdebitnnumbereditchanged);
}
};
t.prototype.accountNameEditChanged = function() {
if (this.nameditChanged) {
this.nameditChanged = !1;
s.trackEvent(c.withdrawdebitnameeditchanged);
}
};
t.prototype.accountCodeEditChanged = function() {
if (this.codeditChanged) {
this.codeditChanged = !1;
s.trackEvent(c.withdrawdebitcodeeditchanged);
}
};
n([ h(cc.EditBox) ], t.prototype, "bankCode", void 0);
n([ h(cc.EditBox) ], t.prototype, "ifcscode", void 0);
n([ h(cc.EditBox) ], t.prototype, "accountNum", void 0);
n([ h(cc.EditBox) ], t.prototype, "accountName", void 0);
n([ h(cc.Node) ], t.prototype, "mainContent", void 0);
n([ h(cc.Prefab) ], t.prototype, "bankPrefab", void 0);
n([ h(cc.Sprite) ], t.prototype, "arrowIconNode", void 0);
n([ h([ cc.SpriteFrame ]) ], t.prototype, "arrowIconArray", void 0);
n([ h ], t.prototype, "text", void 0);
return t = n([ f ], t);
}(cc.Component);
i.default = p;
cc._RF.pop();
}, {
"../../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"./../../../Script/GameFramework/ApiMgr": "ApiMgr",
CommonEventName: "CommonEventName",
CommonLanguage: "CommonLanguage",
FormatCheckUtil: "FormatCheckUtil",
GameEngineUtil: "GameEngineUtil",
TrackUtil: "TrackUtil"
} ],
NodeManager: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "16786QVKb1G4YIxhmGb62rN", "NodeManager");
cc._RF.pop();
}, {} ],
NoticeBody: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "793ab3I/kRIL5M/kODoFGHG", "NoticeBody");
var o = s(e("../../Script/ProjectConfig")), n = s(e("../../Script/Audio/CommonAudioMgr")), r = s(e("../../Script/Audio/CommonAudio")), a = s(e("../../Script/UI/CommonPrefabMgr"));
function s(e) {
return e && e.__esModule ? e : {
default: e
};
}
var c = e("CommonFunction"), l = e("CommonRes"), u = (e("GameEngineUtil"), e("Language"));
cc.Class({
extends: cc.Component,
properties: {
titleLabel: cc.Label,
contentLabel: cc.Label,
emptyNode: cc.Node,
bodyNode: cc.Node,
imgBodyNode: cc.Node,
img: cc.Node,
imgBtn: cc.Node,
txt_box: cc.Node,
btn_link: cc.Node,
scrollView: cc.ScrollView,
_callBack: null
},
initContentView: function(e, t) {
cc.isValid(this.scrollView) && this.scrollView.getComponent(cc.ScrollView).scrollToTop(0);
this._picUrl = e.picture;
"function" == typeof t && (this._callBack = t);
cc.isValid(this.bodyNode) && (this.bodyNode.active = !1);
cc.isValid(this.emptyNode) && (this.emptyNode.active = !1);
cc.isValid(this.imgBodyNode) && (this.imgBodyNode.active = !1);
c.setComponentSprite(this.img, l.texture.loadingDefaultImg, null);
if (null != e && "" != e && void 0 != e) {
1 == e.type ? this.showText(e) : 2 == e.type && (9 == e.kind ? this.showPicABtn(e) : this.showPic(e));
this.kind = e.kind;
this.target = e.jump_url;
this.direction = e.direction;
this.browser = e.browser;
} else cc.isValid(this.emptyNode) && (this.emptyNode.active = !0);
},
btnClick: function() {
o.default.clickManager(this.btn_link);
c.clickEventHandler(this.kind, this.target, this.direction, this.browser, !0);
6 == this.kind ? this._callBack && this._callBack() : n.default.playEffect(r.default.common.btnMusic);
},
imgClick: function() {
o.default.clickManager(this.img);
c.clickEventHandler(this.kind, this.target, this.direction, this.browser, !0);
6 == this.kind ? this._callBack && this._callBack() : n.default.playEffect(r.default.common.btnMusic);
},
saveImgBtnClick: function() {
o.default.clickManager(this.imgBtn);
cc.vv.gameEngineUtil.saveImage2SystemPhoto(this._picUrl) || a.default.createSignleButtonAlert(u.saveImage2, "确定");
},
setEmptyView: function(e) {
this.bodyNode.active = !1;
this.emptyNode.active = !0;
if (e) {
this.emptyNode.getComponent(cc.Label).string = e;
var t = this.emptyNode.getComponent(cc.Label).node.position.y;
this.emptyNode.getComponent(cc.Label).node.position = cc.v2(274, t);
this.emptyNode.getComponent(cc.Label).node.width = 408;
}
},
showText: function(e) {
cc.isValid(this.bodyNode) && (this.bodyNode.active = !0);
cc.isValid(this.imgBodyNode) && (this.imgBodyNode.active = !1);
if (cc.isValid(this.titleLabel)) {
this.titleLabel.node.active = !0;
this.titleLabel.string = e.title;
}
if (cc.isValid(this.contentLabel)) {
this.contentLabel.node.active = !0;
this.contentLabel.string = e.text;
}
cc.isValid(this.txt_box) && (this.txt_box.active = !0);
if (0 != e.kind) {
if (cc.isValid(this.btn_link)) {
this.btn_link.active = !0;
if (this.scrollView) {
this.scrollView.height = 345;
this.scrollView.node.getChildByName("view").height = 345;
}
}
} else if (cc.isValid(this.btn_link)) {
this.btn_link.active = !1;
if (cc.isValid(this.scrollView) && this.scrollView) {
this.scrollView.height = 430;
this.scrollView.node.getChildByName("view").height = 430;
}
}
},
showPic: function(e) {
cc.isValid(this.bodyNode) && (this.bodyNode.active = !1);
cc.isValid(this.imgBodyNode) && (this.imgBodyNode.active = !0);
cc.isValid(this.imgBtn) && (this.imgBtn.active = !1);
this.loadImg(e.picture, !1);
},
showPicABtn: function(e) {
cc.isValid(this.bodyNode) && (this.bodyNode.active = !1);
cc.isValid(this.imgBodyNode) && (this.imgBodyNode.active = !0);
cc.isValid(this.imgBtn) && (this.imgBtn.active = !1);
this.loadImg(e.picture, !0);
},
loadImg: function(e, t) {
var i = this;
if (cc.isValid(i.imgBodyNode)) {
c.setComponentSprite(i.img, l.texture.loadingDefaultImg, null);
i.img.setName(i.getUrlTag(e));
i.img.active = !0;
cc.loader.load(e, function(e, o) {
if (!e && o && o.url && cc.isValid(i.img) && i.img.getName() == i.getUrlTag(o.url)) {
var n = new cc.SpriteFrame(o);
if (n && cc.isValid(i.img)) {
i.img.getComponent(cc.Sprite) && (i.img.getComponent(cc.Sprite).spriteFrame = n);
cc.isValid(i.imgBtn) && t && (i.imgBtn.active = !0);
}
}
});
}
},
getUrlTag: function(e) {
if (e) {
var t = e.lastIndexOf("/");
return e.substring(t + 1, e.length);
}
return e;
}
});
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/ProjectConfig": "ProjectConfig",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
CommonFunction: "CommonFunction",
CommonRes: "CommonRes",
GameEngineUtil: "GameEngineUtil",
Language: "Language"
} ],
NoticeContent: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "c9a88xsQIFGm6efWqiNnrVg", "NoticeContent");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
e("CommonFunction");
var r = e("../../Script/CommonCmdUtil"), a = cc._decorator, s = a.ccclass, c = a.property, l = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.label = null;
t.modeldata = null;
t.contentcanclick = !0;
return t;
}
t.prototype.initData = function(e) {
this.modeldata = e;
};
t.prototype.onLoad = function() {
this.refreshContentViewShow();
};
t.prototype.start = function() {};
t.prototype.refreshContentViewShow = function() {
var e = this;
if (this.modeldata) if (0 == this.modeldata.contenttype) {
var t = e.node.getChildByName("title");
if (cc.isValid(t)) {
t.active = !0;
t.getComponent(cc.Label).string = this.modeldata.title;
}
var i = cc.find("contentScrollView/view/content/text", e.node), o = cc.find("contentScrollView/view/content/img", e.node);
if (cc.isValid(i) && cc.isValid(o)) {
i.active = !0;
o.active = !1;
i.getComponent(cc.Label).string = this.modeldata.content;
}
} else if (1 == this.modeldata.contenttype) {
t = e.node.getChildByName("title");
cc.isValid(t) && (t.active = !1);
var n = e.node.getChildByName("contentScrollView");
if (cc.isValid(n)) {
var a = n.getComponent(cc.Widget);
a.isAlignTop = !0;
a.top = 0;
a.isAlignBottom = !0;
a.bottom = 0;
}
i = cc.find("contentScrollView/view/content/text", e.node);
var s = cc.find("contentScrollView/view/content/img", e.node);
if (cc.isValid(i) && cc.isValid(s)) {
i.active = !1;
s.active = !0;
cc.loader.load(this.modeldata.content, function(t, i) {
if (!t) try {
if (cc.isValid(s)) {
var o = s.getComponent(cc.Sprite), n = new cc.SpriteFrame(i);
n && o && (o.spriteFrame = n);
if (e.modeldata.cmd) {
e.contentcanclick = !0;
s.on(cc.Node.EventType.TOUCH_END, function(t) {
if (e.contentcanclick) {
e.contentcanclick = !1;
r.default.doCmd(e.modeldata.cmd);
var i = setTimeout(function() {
e.contentcanclick = !0;
clearInterval(i);
}, 1500);
}
}, e);
}
}
} catch (t) {}
});
}
}
};
n([ c(cc.Label) ], t.prototype, "label", void 0);
return t = n([ s ], t);
}(cc.Component);
i.default = l;
cc._RF.pop();
}, {
"../../Script/CommonCmdUtil": "CommonCmdUtil",
CommonFunction: "CommonFunction"
} ],
NoticeDialog: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "448a7DaiLFIJrMSiJVigxF0", "NoticeDialog");
var o = s(e("../../Script/UI/CommonPrefabMgr")), n = s(e("../../Script/Audio/CommonAudioMgr")), r = s(e("../../Script/Audio/CommonAudio")), a = s(e("../../Script/ProjectConfig"));
function s(e) {
return e && e.__esModule ? e : {
default: e
};
}
var c = e("NoticeUIMgr"), l = e("CommonEventName");
cc.Class({
extends: cc.Component,
properties: {
mask: cc.Node,
frame: cc.Node,
body: cc.Node,
leftBar: cc.Node,
leftBarScrollView: cc.ScrollView,
content: cc.Node,
leftBarItem: cc.Prefab,
noticeBody: cc.Node,
rightContentFrame: cc.Node,
emptyStr: cc.Node,
_selectedNoticeId: 0,
_selectedIndex: 0,
_leftbarChildren: [],
_contentList: [],
_tabList: []
},
onLoad: function() {
if (cc.isValid(this.node)) {
this.node.scale = 0;
this.node.opacity = 0;
this.node.active = !1;
}
this._selectedIndex = 0;
this._contentList = [];
this._tabList = [];
},
showNoticeDialogView: function(e) {
var t = this;
t._selectedNoticeId = e || 0;
var i = cc.callFunc(function() {
cc.isValid(t.rightFrame) && (t.rightContentFrame.opacity = 255);
}), o = cc.callFunc(function() {
if (cc.isValid(t.body)) {
t.noticeDialogAction();
t.body.active = !0;
t.body.runAction(cc.sequence(cc.delayTime(.04), cc.fadeIn(.2), cc.delayTime(.2), i));
}
});
if (cc.isValid(t.node)) {
t.node.setPosition(0, 0);
t.node.opacity = 0;
t.node.scale = 0;
t.mask.width = cc.winSize.width;
t.mask.height = cc.winSize.height;
t.rightContentFrame.opacity = 0;
t.node.active = !0;
t.node.runAction(cc.sequence(cc.spawn(cc.fadeIn(.15), cc.scaleTo(.15, 1.1)), cc.scaleTo(.15, 1), o)).easing(cc.easeSineOut());
}
},
hideNoticeDialogView: function(e) {
var t = this;
e && e.target && a.default.clickManager(e.target);
n.default.playEffect(r.default.common.btnMusic);
o.default.removeCommonLoading();
if (cc.isValid(t.node)) {
t.node.runAction(cc.sequence(cc.scaleTo(.08, 1.1), cc.scaleTo(.1, 0), cc.callFunc(function() {
if (cc.isValid(t.node)) {
t.node.active = !1;
t.body.active = !1;
t.body.opacity = 0;
t.clearNoticeBody();
}
}, t.node))).easing(cc.easeIn(3));
cc.director.emit(l.EVENT_UPDATE_NOTICEACTION);
}
},
clearNoticeBody: function() {
if (cc.isValid(this.node)) {
if (cc.isValid(this.leftBar)) {
this.leftBar.removeAllChildren();
this._selectedIndex = 0;
this._contentList = [];
this._tabList = [];
}
this.node.stopAllActions();
}
},
noticeDialogAction: function() {
var e = this;
e._contentList = [];
c.requestNoticeData(function(t, i, o) {
if (cc.isValid(e.node)) {
e._contentList = i;
e._tabList = t;
e.addTabChild();
}
});
},
addTabChild: function() {
var e = this;
e._leftbarChildren = [];
if (null != e._tabList && e.leftBarItem) {
cc.isValid(e.leftBar) && e.leftBar.removeAllChildren();
if (e._tabList.length <= 0) {
e.showEmptyDataAction();
return;
}
cc.isValid(e.rightContentFrame) && (e.rightContentFrame.opacity = 255);
cc.isValid(e.emptyStr) && (e.emptyStr.opacity = 0);
for (var t = function(t) {
var i = e._tabList[t].prefabData;
if (i) {
var o = cc.instantiate(e.leftBarItem);
if (o && o.getComponent("NoticeItem") && cc.isValid(e.leftBar)) {
e.leftBar.addChild(o);
o.getComponent("NoticeItem").initData(i);
e._leftbarChildren.push(o);
o.on("click", function() {
n.default.playEffect(r.default.common.btnMusic);
e.onClickTabItem(t);
});
}
}
}, i = 0; i < e._tabList.length; i++) t(i);
cc.isValid(e.leftBarScrollView) && e.leftBarScrollView.scrollToTop(0);
e._selectedIndex = e.getIndexWithNoticeId(e._selectedNoticeId);
-1 == e._selectedIndex && (e._selectedIndex = 0);
e.onClickTabItem(e._selectedIndex);
} else e.showEmptyDataAction();
},
showEmptyDataAction: function() {
cc.isValid(this.leftBar) && this.leftBar.removeAllChildren();
cc.isValid(this.rightContentFrame) && (this.rightContentFrame.opacity = 0);
cc.isValid(this.emptyStr) && (this.emptyStr.opacity = 255);
},
onClickTabItem: function(e) {
var t = this._leftbarChildren[this._selectedIndex];
cc.isValid(t) && t.getComponent("NoticeItem").setItemNormal();
var i = this._leftbarChildren[e];
cc.isValid(i) && i.getComponent("NoticeItem").setItemSelect();
this._selectedIndex = e;
this.initContent(this._selectedIndex);
},
getIndexWithNoticeId: function(e) {
for (var t = -1, i = 0; i < this._tabList.length; i++) {
var o = this._tabList[i];
if (o) {
var n = o.prefabData;
if (n) {
if ((n.notice_id || 0) == e) return t = i;
}
}
}
return t;
},
initContent: function(e) {
var t = this, i = t._contentList[e];
if (i) {
var o = i.prefabData;
if (o && cc.isValid(t.noticeBody) && t.noticeBody.getComponent("NoticeBody")) {
t.noticeBody.getComponent("NoticeBody").initContentView(o, function() {
t.dismiss();
});
t.noticeBody.opacity = 255;
}
}
},
dismiss: function() {
if (this.node.getComponent("CommonDialog")) {
this.node.getComponent("CommonDialog").dismiss();
cc.director.emit(l.EVENT_UPDATE_NOTICEACTION);
} else {
n.default.playEffect(r.default.common.btnMusic);
this.node.destroy();
cc.director.emit(l.EVENT_UPDATE_NOTICEACTION);
}
}
});
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/ProjectConfig": "ProjectConfig",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
CommonEventName: "CommonEventName",
NoticeUIMgr: "NoticeUIMgr"
} ],
NoticeItem: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "b19afaDBQRE5rr6qFYAijg3", "NoticeItem");
var o = r(e("../../Script/LocalStorage/LocalStorageUtil")), n = (r(e("../../Script/Audio/CommonAudioMgr")), 
r(e("../../Script/Audio/CommonAudio")), r(e("../../Script/BaseFormat")));
function r(e) {
return e && e.__esModule ? e : {
default: e
};
}
var a = e("CommonEventName");
cc.Class({
extends: cc.Component,
properties: {
btnNode: cc.Sprite,
title: cc.Label,
topImg: cc.Sprite,
redIcon: cc.Node,
btnBg: {
default: [],
type: cc.SpriteFrame
},
btnTextColors: {
default: [],
type: cc.Color
},
topBg: {
default: [],
type: cc.SpriteFrame
},
_noticeId: ""
},
initData: function(e) {
e.tag > 0 && this.topImg && (this.topImg.spriteFrame = this.topBg[Math.abs(e.tag - 3)]);
this.btnNode && (this.btnNode.spriteFrame = this.btnBg[0]);
this.title && (this.title.string = this.formatTitle(e.title));
var t = o.default.readNoticeIds(), i = [];
i = "" == t || t.length <= 0 ? [] : t.split(",");
this._noticeId = "" + e.notice_id || "";
-1 != i.indexOf(this._noticeId) ? this.redIcon.active = !1 : this.redIcon.active = !0;
this.setItemNormal();
},
setItemNormal: function() {
if (this.btnNode) {
this.btnNode.spriteFrame = this.btnBg[0];
if (cc.vv.souhu) {
this.btnNode.node.width = 320;
this.btnNode.node.x = -2;
}
}
if (this.title && this.title.node) {
this.title.node.color = this.btnTextColors[0];
if (cc.vv.souhu && this.title.node.getComponent(cc.LabelOutline)) {
this.title.node.getComponent(cc.LabelOutline).color = cc.Color.WHITE.fromHEX("#2a6dae");
}
}
},
setItemSelect: function() {
if (this.btnNode) {
this.btnNode.spriteFrame = this.btnBg[1];
if (cc.vv.souhu) {
this.btnNode.node.width = 340;
this.btnNode.node.x = 8;
}
}
if (this.title && this.title.node) {
this.title.node.color = this.btnTextColors[1];
if (cc.vv.souhu && this.title.node.getComponent(cc.LabelOutline)) {
this.title.node.getComponent(cc.LabelOutline).color = cc.Color.WHITE.fromHEX("#b74c2a");
}
}
var e = o.default.readNoticeIds(), t = [];
if (-1 == (t = "" == e || e.length <= 0 ? [] : e.split(",")).indexOf(this._noticeId)) {
t.push(this._noticeId);
o.default.saveNoticeIds(t.sort(function(e, t) {
return e - t;
}).toString());
}
if (1 == this.redIcon.active) {
cc.director.emit(a.checkNewNotice);
this.redIcon.active = !1;
}
},
formatTitle: function(e) {
if (n.default.checkWordLength(e, 14)) return e;
var t = n.default.findWordRealIndex(e, 14);
return t == e.length ? e : e.substring(0, t + 1) + "...";
}
});
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/BaseFormat": "BaseFormat",
"../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
CommonEventName: "CommonEventName"
} ],
NoticeMarquee: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "4cb9fWvTWtGmqydCp8LHjzY", "NoticeMarquee");
var o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
return typeof e;
} : function(e) {
return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e;
}, n = a(e("../../Script/LocalStorage/LocalStorageUtil")), r = a(e("../../Script/ProjectConfig"));
function a(e) {
return e && e.__esModule ? e : {
default: e
};
}
function s(e) {
if (Array.isArray(e)) {
for (var t = 0, i = Array(e.length); t < e.length; t++) i[t] = e[t];
return i;
}
return Array.from(e);
}
e("Language");
var c = e("CommonEventName");
e("NewGameInfo");
cc.Class({
extends: cc.Component,
properties: {
marqueeLab: cc.Node,
marqueeLab2: cc.Node,
amountFont: cc.Font,
_needCheckNotice: !1,
_isStop: !0,
_noticeMessage: [],
_msgList: [],
_msg1: null,
_msg2: null,
_nodeY: 0,
_nodeW: 0,
_mLabList1: [],
_mLabList2: [],
_fontFamily: "PingFangSC-Semibold,STHeitiSC-Medium,Helvetica-Bold,Noto Sans SC Bold,Droid Sans Fallback,Microsoft YaHei Bold"
},
onLoad: function() {
this.addLabelList(this.marqueeLab, this._mLabList1, 11);
this.addLabelList(this.marqueeLab2, this._mLabList2, 11);
this.activeNoticeView();
this.initViewPosition();
this.hideView();
cc.director.on("test_notice_msg_01", this.testNewMessage, this);
},
activeNoticeView: function() {
this._nodeW = this.node.width;
this._nodeY = 543;
var e = {
w: 1280,
h: 720
};
e && (this._nodeY = e.h / 2 - 177);
this._needCheckNotice = !0;
cc.director.on(c.EVENT_IM_NEW_MESSAGE, this.onNewMessage, this);
},
initViewPosition: function() {
var e = this.marqueeLab.x, t = this.marqueeLab.width;
this.marqueeLab2.x = e + t + 80;
},
showView: function() {
var e = -this.node.width / 2;
this._nodeY = 260;
var t = {
w: cc.winSize.width,
h: cc.winSize.height
};
t && (this._nodeY = t.h / 2 - 177);
this.node && (this.node.x = e);
},
hideView: function() {
var e = 1280, t = 920, i = {
w: 1280,
h: 720
};
if (i) {
e = i.w;
t = i.h + 200;
}
if (this.node) {
this.node.x = e;
this.node.y = t;
}
},
testNewMessage: function() {
var e = {
Element: {
PlayerName: {
Name: "",
Colour: "#ffe10d",
Font: "",
Value: "1009144"
},
RoomName: {
Name: "",
Colour: "",
Font: "",
Value: "1000元炮场"
},
AwardType: {
Name: "",
Colour: "#ff9c00",
Font: "",
Value: "魔鬼鱼"
},
GameId: {
Name: "",
Colour: "",
Font: "",
Value: "fishing"
},
GameType: {
Name: "",
Colour: "#00e84c",
Font: "",
Value: "街机捕鱼"
},
GoldCount: {
Name: "",
Colour: "",
Font: "amountFont",
Value: "3500.00元"
},
FortType: {
Name: "",
Colour: "#ff9c00",
Font: "",
Value: "100元炮台"
}
},
Timestamp: 1558958623095,
BroadCastType: 6,
Template: "百发百中！恭喜{PlayerName}在{GameType}中使用{FortType}击中{AwardType}赢得{GoldCount}"
};
this._noticeMessage.push(e);
var t = {
Element: {},
Timestamp: 1557891993021,
BroadCastType: 3,
Template: "不拼不搏，人生白活！恭喜<color=#EE4273>19431119</c>在龙虎斗里一把赢得<color=#F1F11D>2660.0</c>元。"
};
this._noticeMessage.push(t);
var i = this;
[].concat(s(Array(100).keys())).forEach(function() {
i._noticeMessage.push(e);
i._noticeMessage.push(t);
});
},
onNewMessage: function(e) {
var t = n.default.readGameType();
if (e && t != r.default.GAME_TYPE.LOGIN && t != r.default.GAME_TYPE.LAUNCHER) {
var i = e.Element.GameId.Value;
if ("rummy" == i && ("rummy" != i || t != r.default.GAME_TYPE.RUMMY)) {
if (e && (3 == e.BroadCastType || 6 == e.BroadCastType)) {
this._msgList.unshift(e);
this._msgList.length > 20 && this._msgList.pop();
if (this._isStop) {
this._isStop = !1;
this._handleNextMessage();
}
}
}
}
},
_handleNextMessage: function() {
var e = this;
if (this._msgList.length > 0) {
if (!this._tag) {
this._tag = !0;
this.scheduleOnce(function() {
e._noticeMessage.unshift(e._msgList.shift());
e._tag = !1;
}, 5);
}
} else this._isStop = !0;
},
_rnd: function(e, t) {
return Math.floor(Math.random() * (t - e + 1) + e);
},
setupMsg: function(e, t, i) {
if (i) {
var n = i.Template;
if (n) {
var r = i.Element;
if (r) {
var a = this;
if (6 == i.BroadCastType) {
var s = n.split(/{|}/);
s && t.length < s.length && a.addLabelList(e, t, s.length - t.length);
if (t && t.length > 0) for (var c = function(e) {
var i = t[e];
i.string = "";
var n = s[e];
if ("object" == ("undefined" == typeof r ? "undefined" : o(r)) && n && r[n]) {
i.string = r[n].Value ? r[n].Value : "";
if ("amountFont" == r[n].Font) {
cc.loader.loadRes("beautifulgame/common/font/notice_marquee_font/1000", cc.Font, function(e, t) {
e || (i.font = t);
});
i.fontSize = 15;
i.isSystemFontUsed = !1;
i.node.color = cc.Color.WHITE;
i.node.y = 14;
i.SpacingX = -1;
i.fontFamily = "";
} else if (void 0 != r[n].Colour && "" != r[n].Colour) {
a.clearLabel(i);
var c = cc.Color.BLACK;
c.fromHEX(r[n].Colour);
i.node.color = c;
} else a.clearLabel(i);
} else {
i.string = n || "";
a.clearLabel(i);
}
}, l = 0; l < t.length; l++) c(l);
} else if (3 == i.BroadCastType) {
var u = (n = (n = n.replace(/<color=/g, "{<color=")).replace(/<\/c>/g, "}")).split(/{|}/);
u && t.length < u.length && a.addLabelList(e, t, u.length - t.length);
if (t && t.length > 0) for (l = 0; l < t.length; l++) {
var d = t[l];
d.string = "";
var f = u[l];
if (f) {
var h = f.match(/<color=(.*?)>/);
if (h && h.length > 1 && h[1]) {
var p = h[1], g = f.replace("<color=" + p + ">", "");
d.string = g || "";
a.clearLabel(d);
var m = cc.Color.BLACK;
m.fromHEX(p);
d.node.color = m;
} else {
d.string = f || "";
a.clearLabel(d);
}
} else {
d.string = "";
a.clearLabel(d);
}
}
}
}
}
}
},
addLabelList: function(e, t, i) {
if (!(i < 1)) for (var o = 0; o < i; o++) {
var n = new cc.Node(), r = n.addComponent(cc.Label);
r.node.anchorX = 0;
r.node.anchorY = .5;
r.fontSize = 24;
r.string = "";
r.verticalAlign = cc.Label.VerticalAlign.CENTER;
r.lineHeight = 24;
r.isSystemFontUsed = !0;
n.parent = e;
t.push(r);
}
},
update: function(e) {
var t = n.default.readGameType();
if (t == r.default.GAME_TYPE.LOGIN || t == r.default.GAME_TYPE.LAUNCHER) this.hideView(); else {
this.node.y = this._nodeY;
this.showNoticeView();
}
},
showNoticeView: function() {
var e = 0, t = 0, i = 0, o = 0;
if (!this._msg1) {
this._noticeMessage && this._noticeMessage.length > 0 && (this._msg1 = this._noticeMessage.shift());
if (this._msg1) {
this.setupMsg(this.marqueeLab, this._mLabList1, this._msg1);
this.marqueeLab.x = 500;
this.showView();
}
this._msg2 && (t = this.marqueeLab2.x) + (o = this.marqueeLab2.width) >= 500 && (this.marqueeLab.x = t + o + 80);
}
if (!this._msg2) {
this._noticeMessage && this._noticeMessage.length > 0 && (this._msg2 = this._noticeMessage.shift());
if (this._msg2) {
this.setupMsg(this.marqueeLab2, this._mLabList2, this._msg2);
this.marqueeLab2.x = 500;
this.showView();
}
this._msg1 && (e = this.marqueeLab.x) + (i = this.marqueeLab.width) >= 500 && (this.marqueeLab2.x = e + i + 80);
}
e = this.marqueeLab.x;
i = this.marqueeLab.width;
t = this.marqueeLab2.x;
o = this.marqueeLab2.width;
if (e <= t) {
if (t - e <= i) {
t = e + i + 80;
this.marqueeLab2.x = t;
}
} else if (e - t <= o) {
e = t + o + 80;
this.marqueeLab.x = e;
}
if (this._msg1) {
e -= 1.5;
this.marqueeLab.x = e;
}
if (this._msg2) {
t -= 1.5;
this.marqueeLab2.x = t;
}
if (e <= -i) {
this._msg1 = null;
this.clearLabList(this._mLabList1);
this._handleNextMessage();
}
if (t <= -o) {
this._msg2 = null;
this.clearLabList(this._mLabList2);
this._handleNextMessage();
}
null == this._msg1 && null == this._msg2 && (!this._noticeMessage || this._noticeMessage.length <= 0) && this.hideView();
},
clearLabList: function(e) {
if (e && !(e.length < 1)) for (var t = e.length, i = 0; i < t; i++) {
var o = e[i];
o.string = "";
this.clearLabel(o);
}
},
clearLabel: function(e) {
if (e) {
e.font = null;
e.fontSize = 24;
e.isSystemFontUsed = !0;
e.node.color = cc.Color.WHITE;
e.node.y = 2;
e.fontFamily = this._fontFamily;
}
}
});
cc._RF.pop();
}, {
"../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../Script/ProjectConfig": "ProjectConfig",
CommonEventName: "CommonEventName",
Language: "Language",
NewGameInfo: "NewGameInfo"
} ],
NoticeUIMgr: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "f6a75bVJ9pEPpNBLe5HHP7w", "NoticeUIMgr");
var o = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}(), n = a(e("./../../Script/GameFramework/ApiMgr")), r = a(e("../../Script/UI/CommonPrefabMgr"));
function a(e) {
return e && e.__esModule ? e : {
default: e
};
}
function s(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
e("DialogUtil"), e("ComponentRes"), e("CommonEventName");
var c = function() {
function e() {
s(this, e);
}
o(e, null, [ {
key: "showNoticeView",
value: function(e) {
this.requestNoticeData(e);
}
}, {
key: "requestNoticeData",
value: function(e) {
var t = this;
n.default.checkNewNotice(function(i) {
i && t.initNoticeUI(i.noticeitemList, e);
}, function(e) {
e && e.msg && r.default.createToast(e.msg);
}, !0);
}
}, {
key: "initNoticeUI",
value: function(e, t) {
r.default.showNoticeDialog(e, t);
}
} ]);
return e;
}();
t.exports = c;
cc._RF.pop();
}, {
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"./../../Script/GameFramework/ApiMgr": "ApiMgr",
CommonEventName: "CommonEventName",
ComponentRes: "ComponentRes",
DialogUtil: "DialogUtil"
} ],
NoticeViewDialog: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "73b0dbdz11Ch5Rx+G0AIJ5h", "NoticeViewDialog");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = e("../../Script/Audio/CommonAudioMgr"), a = e("../../Script/Audio/CommonAudio"), s = e("CommonLanguage"), c = e("CommonEventName"), l = cc._decorator, u = l.ccclass, d = l.property, f = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.leftscrollviewcontent = null;
t.leftscrollviewitem = null;
t.rightcontentframe = null;
t.rightcontentprefab = null;
t.contentarray = null;
return t;
}
t.prototype.showNoticeDialogView = function(e, t) {
var i = this;
i.contentarray = e;
(void 0 == t || null == t || t < 0) && (t = 0);
cc.director.emit(c.REDPOINT);
if (e && 0 != e.length) {
if (i.leftscrollviewcontent && i.leftscrollviewitem) {
i.leftscrollviewcontent.removeAllChildren();
for (var o = 0; o < e.length; o++) {
var n = e[o];
n.ischecked = o == t;
}
var r = function(t) {
var o = t, n = e[t], r = cc.instantiate(i.leftscrollviewitem);
r.getComponent("NoticeViewLeftItem").initData(n);
i.leftscrollviewcontent.addChild(r);
n.prefab = r;
r.on("click", function() {
i.refreshLeftItemViewShow(e, o, i);
});
};
for (o = 0; o < e.length; o++) r(o);
i.refreshContentViewShow();
}
} else i.showNoDataShow();
};
t.prototype.refreshLeftItemViewShow = function(e, t, i) {
for (var o = 0; o < e.length; o++) {
e[o].ischecked = !1;
t == o && (e[o].ischecked = !0);
e[o].prefab.getComponent("NoticeViewLeftItem").refreshItemViewShow();
}
i.refreshContentViewShow();
};
t.prototype.refreshContentViewShow = function() {
for (var e, t = 0; t < this.contentarray.length; t++) if (this.contentarray[t].ischecked) {
e = this.contentarray[t];
break;
}
var i = this.rightcontentframe.children;
for (t = 0; t < i.length; t++) i[t].active = !1;
if (e) if (e.contentprefab) {
e.contentprefab.active = !0;
e.contentprefab.getComponent("NoticeContent").refreshContentViewShow();
} else {
var o = cc.instantiate(this.rightcontentprefab);
o.getComponent("NoticeContent").initData(e);
this.rightcontentframe.addChild(o);
e.contentprefab = o;
}
};
t.prototype.showNoDataShow = function() {
this.leftscrollviewcontent.removeAllChildren();
this.rightcontentframe.removeAllChildren();
var e = new cc.Node("nodata"), t = e.addComponent(cc.Label);
t.string = s.currentlanguage.notice.emptydata;
t.fontSize = 20;
this.node.addChild(e);
};
t.prototype.start = function() {};
t.prototype.onClose = function() {
r.default.playEffect(a.default.common.btnMusic);
if (this.node.getComponent("CommonDialog")) this.node.getComponent("CommonDialog").dismiss(); else {
this.node.active = !1;
this.node.removeFromParent();
}
};
n([ d(cc.Node) ], t.prototype, "leftscrollviewcontent", void 0);
n([ d(cc.Prefab) ], t.prototype, "leftscrollviewitem", void 0);
n([ d(cc.Node) ], t.prototype, "rightcontentframe", void 0);
n([ d(cc.Prefab) ], t.prototype, "rightcontentprefab", void 0);
return t = n([ u ], t);
}(cc.Component);
i.default = f;
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
CommonEventName: "CommonEventName",
CommonLanguage: "CommonLanguage"
} ],
NoticeViewLeftItem: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "9878dBK29RGkL9V5WniMUr8", "NoticeViewLeftItem");
e("RechargeSecondModel"), e("CommonEventName");
cc.Class({
extends: cc.Component,
properties: {
btnBg: {
default: [],
type: cc.SpriteFrame
},
txt: cc.Label,
btnNode: cc.Sprite,
tagview: cc.Node
},
initData: function(e) {
this.itemdata = e;
},
onLoad: function() {
this.refreshItemViewShow();
},
refreshItemViewShow: function() {
if (this.itemdata) {
this.txt && (this.txt.string = this.itemdata.title);
if (cc.isValid(this.tagview)) if (this.itemdata.tag && this.itemdata.tag.length > 0) {
this.tagview.active = !0;
var e = this.tagview.getChildByName("tag");
cc.isValid(e) && (e.getComponent(cc.Label).string = this.itemdata.tag);
} else this.tagview.active = !1;
this.itemdata.ischecked ? this.setItemSelect() : this.setItemNormal();
}
},
setItemNormal: function() {
this.btnNode && (this.btnNode.spriteFrame = this.btnBg[0]);
this.txt && cc.vv.beautifulgame && (this.txt.node.color = cc.color().fromHEX("#b8d4fd"));
},
setItemSelect: function() {
this.btnNode && (this.btnNode.spriteFrame = this.btnBg[1]);
this.txt && cc.vv.beautifulgame && (this.txt.node.color = cc.color().fromHEX("#faef4c"));
},
getLastedIndex: function(e, t) {
var i = 0;
if (e) for (var o = 0; o < e.length; o++) {
null != e.charAt(o).match(/[^\x00-\xff]/gi) ? i += 2 : i += 1;
if (i >= t) return o;
}
return -1;
}
});
cc._RF.pop();
}, {
CommonEventName: "CommonEventName",
RechargeSecondModel: "RechargeSecondModel"
} ],
OfflineMessageModel: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "4d9e7Je/dRKM5Kg7JBKOHbk", "OfflineMessageModel");
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.exports = function e(t, i) {
o(this, e);
if (i) {
var n = t.o_msg, r = t.m_type;
this.msg_type = r;
if (n) {
this.toast = n.toast || "";
this.time = n.time || 0;
}
}
};
cc._RF.pop();
}, {} ],
OfflineMessage: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "3e6c1hO3dlKP6Sv+wjCVYzC", "OfflineMessage");
cc.Class({
extends: cc.Component,
properties: {
txtLabel: cc.Label
},
onLoad: function() {},
initWithText: function(e) {
this.txtLabel && (this.txtLabel.string = e);
}
});
cc._RF.pop();
}, {} ],
PPGameLib: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "37b33QEiUVKy53oA62Og4SU", "PPGameLib");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = function() {
function e() {}
e.gameUrlForFinPlay = function(e, t, i, o, n, r, a, s) {
return [ "https://" + e, "/gs2c/playGame.do?key=" + encodeURIComponent([ "token=" + t, "&symbol=" + i, "&technology=" + o, "&platform=" + n, "&language=" + r, "&cashierUrl=" + a, "&lobbyUrl=" + s ].join("")) ].join("");
};
e.gameUrl = function(e, t, i, o, n, r, a, s, c) {
var l = encodeURIComponent([ "token=" + t, "&symbol=" + i, "&technology=" + o, "&platform=" + n, "&language=" + r, "&cashierUrl=" + a, "&lobbyUrl=" + s ].join(""));
return c ? [ "https://" + e, "/gs2c/playGame.do?key=" + l + "&stylename=" + c ].join("") : [ "https://" + e, "/gs2c/playGame.do?key=" + l ].join("");
};
return e;
}();
i.default = o;
cc._RF.pop();
}, {} ],
PasswordLogin: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "77993SOdytFAoOJQITSDf21", "PasswordLogin");
var o = d(e("../../../../Script/UI/CommonPrefabMgr")), n = d(e("../../../../Script/Audio/CommonAudioMgr")), r = d(e("../../../../Script/Audio/CommonAudio")), a = d(e("../../../../Script/LocalStorage/LocalStorageUtil")), s = d(e("../../../../Script/UserManager")), c = d(e("../../../../Script/BaseFormat")), l = d(e("../../../../Script/ProjectConfig")), u = d(e("./../../../../Script/GameFramework/ApiMgr"));
function d(e) {
return e && e.__esModule ? e : {
default: e
};
}
var f = e("Language"), h = e("AutoLoginUtil"), p = e("LoginPrefabManager"), g = e("CommonEventName"), m = e("DialogUtil"), y = e("AutoLogin"), b = e("GameEngineUtil"), _ = (e("LauncherRes"), 
e("FormatCheckUtil")), v = e("CommonLanguage"), S = e("TrackUtil");
cc.Class(function(e, t, i) {
t in e ? Object.defineProperty(e, t, {
value: i,
enumerable: !0,
configurable: !0,
writable: !0
}) : e[t] = i;
return e;
}({
extends: cc.Component,
properties: {
editUserAccount: cc.EditBox,
editUserPassword: cc.EditBox,
btnIphoneLogin: cc.Node,
btnPassLogin: cc.Node,
btnFindPass: cc.Node,
historyArrowButton: {
default: null,
type: cc.Node
},
historyAccountFrame: {
default: null,
type: cc.Node
},
historyAccountItem: {
default: [],
type: cc.Node
},
historyAccountItemLine: {
default: [],
type: cc.Node
},
historyAccountData: [],
phoneeditChanged: !0,
passwordChanged: !0,
haspasswordloginsuccess: !1
},
showDialog: function() {
m.addNormalDialog(this.node, {
type: "label",
content: "Login"
}, {
bindDialog: !0,
height: 420
});
},
onLoad: function() {
this.initData();
},
initData: function() {
var e = a.default.getLastLoginAccount();
if (e && e.length >= 10) {
c.default.isPhoneNumber(e) && (this.editUserAccount.string = e);
}
this.initHistoryAccountViews();
this.historyAccountFrame.active = !1;
this.loadKeyChainAccounts();
this.bindHistoryData();
this.initDefaultAccounts();
},
loadKeyChainAccounts: function() {
this.historyAccountData = h.loadPhoneNumberAccounts();
},
initHistoryAccountViews: function() {
for (var e = this, t = function(t) {
e.historyAccountItemLine[t] = e.historyAccountFrame.getChildByName("item_line_" + t);
e.historyAccountItem[t] = e.historyAccountFrame.getChildByName("account_item" + t);
e.historyAccountItem[t].getChildByName("account_item_click").on("touchend", function() {
e.onHistoryItemClicked(t);
});
e.historyAccountItem[t].getChildByName("account_btn_delete").on("touchend", function() {
e.onHistoryItemDelete(t);
});
}, i = 0; i < 3; i++) t(i);
},
bindHistoryData: function() {
if (this.historyAccountData.length <= 0) {
this.historyArrowButton.active = !1;
this.historyAccountFrame.active = !1;
} else {
this.historyArrowButton.active = !1;
var e = this.historyAccountData[0];
if (e && 11 == e[2].length) {
this.historyAccountItem[0].active = !0;
this.historyAccountItem[0].getChildByName("account_text").getComponent(cc.Label).string = e[2];
var t = this.historyAccountData[1];
if (t && 11 == t[2].length) {
this.historyAccountItem[1].active = !0;
this.historyAccountItem[1].getChildByName("account_text").getComponent(cc.Label).string = t[2];
var i = this.historyAccountData[2];
if (i && 11 == i[2].length) {
this.historyAccountItem[2].active = !0;
this.historyAccountItem[2].getChildByName("account_text").getComponent(cc.Label).string = i[2];
} else {
this.historyAccountItem[2].active = !1;
this.historyAccountItemLine[2].active = !1;
}
} else {
this.historyAccountItem[1].active = !1;
this.historyAccountItemLine[1].active = !1;
this.historyAccountItem[2].active = !1;
this.historyAccountItemLine[2].active = !1;
}
} else {
this.historyAccountItem[0].active = !1;
this.historyAccountItemLine[0].active = !1;
this.historyAccountItem[1].active = !1;
this.historyAccountItemLine[1].active = !1;
this.historyAccountItem[2].active = !1;
this.historyAccountItemLine[2].active = !1;
this.historyAccountFrame.active = !1;
}
}
},
initDefaultAccounts: function() {
if (cc.inputtingLoginPhone && cc.inputtingLoginPhone.length >= 10) {
this.editUserAccount.string = cc.inputtingLoginPhone;
h.getPwdByPhone(cc.inputtingLoginPhone);
} else if (!(this.historyAccountData.length <= 0)) {
var e = this.historyAccountData[0];
if (e) {
var t = e[2];
if (t) {
var i = c.default.isPhoneNumber(t);
this.editUserAccount.string = i ? t : "";
} else this.editUserAccount.string = "";
}
}
},
showHistoryView: function() {
n.default.playEffect(r.default.common.btnMusic);
this.historyAccountFrame.active = !this.historyAccountFrame.active;
},
hideHistoryView: function() {
this.historyAccountFrame.active = !1;
},
onHistoryItemClicked: function(e) {
n.default.playEffect(r.default.common.btnMusic);
var t = this.historyAccountData[e];
this.editUserAccount.string = t[2];
t && t[3] || (this.editUserPassword.string = "");
var i = t[2];
i && 11 == i.length ? cc.inputtingLoginPhone = i : cc.inputtingLoginPhone = null;
this.unschedule(this.hideHistoryView);
this.schedule(this.hideHistoryView, .1, 0, 0);
},
onHistoryItemDelete: function(e) {
n.default.playEffect(r.default.common.btnMusic);
this.unschedule(this.hideHistoryView);
if (this.historyAccountData.length > 1) {
var t = this.historyAccountData[e];
h.deleteAccount(t[2]);
this.removeItemFromHistoryData(t[2]);
this.bindHistoryData();
} else o.default.createToast(f.login.atLeastOneAccount);
},
removeItemFromHistoryData: function(e) {
for (var t = this.historyAccountData.length, i = [], o = 0; o < t; o++) e != this.historyAccountData[o][2] && i.push(this.historyAccountData[o]);
this.historyAccountData = i;
},
onPhoneInputStart: function() {},
onPhoneInputing: function() {
if (this.phoneeditChanged) {
this.phoneeditChanged = !1;
b.trackEvent(S.logindialogphoneinputchanged);
}
var e = this.editUserAccount.string;
e && e.length >= 10 ? cc.inputtingLoginPhone = e : cc.inputtingLoginPhone = null;
this.historyAccountFrame.active = !1;
},
onPhoneInputEnd: function() {
var e = this.editUserAccount.string;
a.default.saveLastLoginAccount(e);
this.schedule(this.hideHistoryView, .1, 0, 0);
},
onPwdInputStart: function() {
this.hideHistoryView();
},
onPwdInputting: function() {
if (this.passwordChanged) {
this.passwordChanged = !1;
b.trackEvent(S.logindialogpasswordinputchanged);
}
},
onPwdInputend: function() {
this.hideHistoryView();
},
onPwdInputReturn: function() {},
onPasswordLogin: function() {
var e = this;
l.default.clickManager(e.btnPassLogin);
b.trackEvent(S.logindialogconfirmbtnclick);
n.default.playEffect(r.default.common.btnMusic);
var t = this.editUserAccount.string, i = this.editUserPassword.string;
if (_.checkPhoneNumber(t) && _.checkPassword(i)) {
var c = {
phone: t,
password: i
};
u.default.passwordLogin(c, function(o) {
a.default.saveUserDataEvent(o);
s.default.initAccount();
e.haspasswordloginsuccess = !0;
e.onLoginSuccess(t, i);
var n = l.default.getSceneCanvas();
n && null != n.getComponent("HallGame") ? cc.director.emit(g.refreshUserInfo) : y.loadGameHallScene(!0);
m.removeNormalDialog();
a.default.saveLastLoginAccount(t);
}, function(e) {
e && e.msg ? o.default.createToast(e.msg) : o.default.createToast(v.currentlanguage.login.accountOrPasswordError);
});
}
},
onLoginSuccess: function(e, t) {
h.addAccount(s.default.uid, s.default.token, e, t);
},
onDestroy: function() {},
onJumpFindPassword: function() {
l.default.clickManager(this.btnFindPass);
m.removeNormalDialog();
n.default.playEffect(r.default.common.btnMusic);
p.createFindPassword(!0);
},
notamemberyet: function(e) {
l.default.clickManager(e.target);
m.removeNormalDialog();
n.default.playEffect(r.default.common.btnMusic);
o.default.createRegisterForGifts();
},
onJumpCodeLogin: function() {
l.default.clickManager(this.btnPassLogin);
m.removeNormalDialog();
n.default.playEffect(r.default.common.btnMusic);
p.createFastLogin(function() {
m.removeNormalDialog();
});
}
}, "onDestroy", function() {
this.haspasswordloginsuccess || b.trackEvent(S.logindialogclosebtnclick);
}));
cc._RF.pop();
}, {
"../../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../../../Script/BaseFormat": "BaseFormat",
"../../../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../../../Script/ProjectConfig": "ProjectConfig",
"../../../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"../../../../Script/UserManager": "UserManager",
"./../../../../Script/GameFramework/ApiMgr": "ApiMgr",
AutoLogin: "AutoLogin",
AutoLoginUtil: "AutoLoginUtil",
CommonEventName: "CommonEventName",
CommonLanguage: "CommonLanguage",
DialogUtil: "DialogUtil",
FormatCheckUtil: "FormatCheckUtil",
GameEngineUtil: "GameEngineUtil",
Language: "Language",
LauncherRes: "LauncherRes",
LoginPrefabManager: "LoginPrefabManager",
TrackUtil: "TrackUtil"
} ],
PayMessageModel: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "21b14yzP+5Hz5dQ9KY3P8/z", "PayMessageModel");
var o, n;
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var a = (n = o = function e(t, i) {
r(this, e);
if (i) {
var o = t.o_msg, n = t.m_type;
this.msg_type = n;
if (o) {
this.text = o.text || "";
this.time = o.time || 0;
this.payItems = o.items || [];
o.fromuserinfo && (this.sendUid = o.fromuserinfo.uid || 0);
null != o.touserinfo && (this.receiveUid = o.touserinfo.uid || 0);
}
} else {
this.msg_type = t.type || 7;
this.text = t.text || 0;
this.time = t.time || 0;
this.payItems = t.items || [];
null != t.fromuserinfo && (this.sendUid = t.fromuserinfo.uid || 0);
null != t.touserinfo && (this.receiveUid = t.touserinfo.uid || 0);
}
}, o.msg_type = 7, o.text = 0, o.time = 0, o.payItems = [], o.sendUid = 0, o.receiveUid = 0, 
n);
t.exports = a;
cc._RF.pop();
}, {} ],
PayMessage: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "feef5Q2NKlPP4h5aSPItyud", "PayMessage");
var o = a(e("../../Script/UI/CommonPrefabMgr")), n = a(e("../../Script/Audio/CommonAudioMgr")), r = a(e("../../Script/Audio/CommonAudio"));
function a(e) {
return e && e.__esModule ? e : {
default: e
};
}
var s = e("GameEngineUtil");
cc.Class({
extends: cc.Component,
properties: {
textLab: cc.RichText,
payInfoArr: {
default: [],
type: cc.Node
},
_payItems: []
},
init: function(e) {
for (var t = 0, i = this.payInfoArr.length; t < i; t++) {
this.payInfoArr[t].active = !1;
}
this.textLab && e.text && (this.textLab.string = e.text);
var o = e.payItems;
this._payItems = o;
for (var n = 0, r = o.length; n < r; n++) {
var a = o[n];
this.updatePayInfoAction(a, n);
}
},
updatePayInfoAction: function(e, t) {
var i = this.payInfoArr[t];
if (i) {
i.active = !0;
var o = cc.find("contentText", i);
o && (o.getComponent(cc.Label).string = e);
}
},
clickCopyBtnAction: function(e, t) {
n.default.playEffect(r.default.common.btnMusic);
var i = parseInt(t), a = this._payItems[i].split(":")[1];
if (a) {
o.default.createToast("复制成功");
s.copyText(a);
}
}
});
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
GameEngineUtil: "GameEngineUtil"
} ],
PayTM: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "fd60ae5JMFC0qHusFzvMsCy", "PayTM");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = e("./../../../Script/GameFramework/ApiMgr"), a = e("../../../Script/UI/CommonPrefabMgr"), s = e("GameEngineUtil"), c = e("TrackUtil"), l = e("CommonLanguage"), u = e("FormatCheckUtil"), d = cc._decorator, f = d.ccclass, h = d.property, p = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.phoneedit = null;
t.emailedit = null;
t.text = "hello";
t.modeldata = null;
t.phoneeditChanged = !0;
return t;
}
t.prototype.onLoad = function() {
var e = this.modeldata.withdrawpaytm;
if (e) {
e.payeemobile && (this.phoneedit.string = e.payeemobile);
e.payeeemail && (this.emailedit.string = e.payeeemail);
}
};
t.prototype.initData = function(e) {
this.modeldata = e;
};
t.prototype.start = function() {};
t.prototype.linkOnclick = function() {
var e = this;
s.trackEvent(c.withdrawpaytmlinkclick);
var t = e.phoneedit.string;
if (!t || t.length <= 0) a.default.createToast(l.currentlanguage.paytm.editphonenotice); else if (u.checkPhoneNumber(t)) {
var i = {
type: 0,
phone: t
};
r.default.postWithDrawBindInfo(i, function(t) {
if (t.withdrawbinds && t.withdrawbinds.withdrawpaytm) {
e.modeldata.withdrawpaytm = t.withdrawbinds.withdrawpaytm;
cc.director.emit("JUMPTOAPPLYWITHDRAWCONTENT", t);
a.default.createToast("Information submitted successfully");
}
}, function(e) {
e && e.msg && a.default.createToast(e.msg);
});
}
};
t.prototype.phoneEditTextChanged = function() {
if (this.phoneeditChanged) {
this.phoneeditChanged = !1;
s.trackEvent(c.withdrawpaytmphoneclick);
}
};
n([ h(cc.EditBox) ], t.prototype, "phoneedit", void 0);
n([ h(cc.EditBox) ], t.prototype, "emailedit", void 0);
n([ h ], t.prototype, "text", void 0);
return t = n([ f ], t);
}(cc.Component);
i.default = p;
cc._RF.pop();
}, {
"../../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"./../../../Script/GameFramework/ApiMgr": "ApiMgr",
CommonLanguage: "CommonLanguage",
FormatCheckUtil: "FormatCheckUtil",
GameEngineUtil: "GameEngineUtil",
TrackUtil: "TrackUtil"
} ],
PhoneValidCode: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "07e728oJjtE7L9l2tCBg9gW", "PhoneValidCode");
var o = s(e("../../Script/Audio/CommonAudio")), n = s(e("../../Script/Audio/CommonAudioMgr")), r = s(e("../../Script/UI/CommonPrefabMgr")), a = (s(e("../../Script/LocalStorage/LocalStorageUtil")), 
s(e("./../../Script/GameFramework/ApiMgr")));
function s(e) {
return e && e.__esModule ? e : {
default: e
};
}
var c = e("Language"), l = e("FormatCheckUtil"), u = (e("LoginPrefabManager"), e("ValidCodeEnum")), d = e("TrackUtil"), f = e("GameEngineUtil"), h = e("CommonLanguage");
cc.Class({
extends: cc.Component,
properties: {
btnGetCode: cc.Node,
btnTimer: cc.Node,
timerLabel: cc.Label
},
init: function(e) {
this.resetInit();
this.getPhoneCodeParam = e;
},
onGetCodeClick: function(e) {
n.default.playEffect(o.default.common.btnMusic);
if (!(this.countDownTimer && this.countDownTimer > 0)) {
this.TotalTime = 60;
this.countDownTimer = 0;
e && e > 0 && (this.TotalTime = e);
"function" == typeof this.getPhoneCodeParam ? this.getPhoneCodeLogic(this.getPhoneCodeParam()) : this.getPhoneCodeLogic(this.getPhoneCodeParam);
}
},
update: function(e) {
if (this.countDownTimer <= 0) this.resetInit(); else {
this.countDownTimer -= e;
this.timerLabel && (this.timerLabel.string = c.login.wait + Math.ceil(this.countDownTimer));
}
},
resetInit: function() {
this.countDownTimer = 0;
this.timerLabel && (this.timerLabel.string = "");
this.btnTimer && (this.btnTimer.active = !1);
this.btnGetCode && (this.btnGetCode.active = !0);
},
startCountDownTimer: function() {
this.countDownTimer = this.TotalTime;
this.timerLabel && (this.timerLabel.string = c.login.wait + Math.ceil(this.countDownTimer));
this.btnTimer && (this.btnTimer.active = !0);
this.btnGetCode && (this.btnGetCode.active = !1);
},
getPhoneCodeLogic: function(e) {
n.default.playEffect(o.default.common.btnMusic);
null != e && "" != e && void 0 != e && l.checkPhoneNumber(e.phone) && this.requestPhoneCode(e);
},
requestPhoneCode: function(e) {
var t = this;
e && e.target == u.target.REGISTER && f.trackEvent(d.guideregistonclickvery);
a.default.getNewPhoneCode(e, function(e) {
t.startCountDownTimer();
}, function(e) {
if (e) {
2006 == e.status ? r.default.createToast(h.currentlanguage.net.phoneerr) : e.msg && r.default.createToast(e.msg);
}
});
}
});
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"./../../Script/GameFramework/ApiMgr": "ApiMgr",
CommonLanguage: "CommonLanguage",
FormatCheckUtil: "FormatCheckUtil",
GameEngineUtil: "GameEngineUtil",
Language: "Language",
LoginPrefabManager: "LoginPrefabManager",
TrackUtil: "TrackUtil",
ValidCodeEnum: "ValidCodeEnum"
} ],
Poker: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "39f2ebA0+tApZK9F86b55EV", "Poker");
var o = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("../../Script/ProjectConfig"));
var n = e("CommonAtlasMgr");
cc.Class({
extends: cc.Component,
properties: {
number: cc.Node,
flowerColor: cc.Node,
icon: cc.Node
},
initWithGameAndCardId: function(e, t) {
cc.log("gameId" + e);
cc.log("cardId" + t);
var i = parseInt(t / 4 + 1), n = parseInt(t % 4) + 1;
if (e == o.default.GAME_TYPE.REDBLACK) i = 14 == (i = Math.floor(t / 4 + 2)) ? 1 : i; else if (e == o.default.GAME_TYPE.NEWDOUDIZHU || e == o.default.GAME_TYPE.TEENPATTI || e == o.default.GAME_TYPE.CATTLE || e == o.default.GAME_TYPE.BLOODCATTLE || e == o.default.GAME_TYPE.NEW_BAIRENNIUNIU || e == o.default.GAME_TYPE.NEW_REDBLACK || e == o.default.GAME_TYPE.BRCFLOWER) {
n = parseInt(t / 13);
i = 52 == t ? 13 : 53 == t ? 14 : t % 13;
i += 1;
t < 52 && (n = Math.abs(4 - n));
}
this.init(i, n);
},
init: function(e, t) {
cc.log("number" + e);
cc.log("flower" + t);
var i = (t - 1) % 4;
i = 0 == i || 3 == i ? 1 : 0;
var o = "", r = "", a = "";
if (e >= 1 && e < 16 && t >= 1 && t < 5) {
a = "img_" + t;
if (e > 13) {
this.flowerColor && (this.flowerColor.active = !1);
o = "txt_" + e;
} else {
this.flowerColor && (this.flowerColor.active = !0);
o = "txt_" + e + "_" + i;
}
r = e > 10 && e < 14 ? "img_" + e + "_" + i : e > 13 ? "img_" + e : "bigImg_" + t;
this.node.getComponent(cc.Sprite).spriteFrame = n.getPokerFaceFrame();
if (e > 13) {
this.number.active = !1;
this.flowerColor.active = !1;
this._setSpriteFrameWithAtlas(r, this.icon);
} else {
this.number.active = !0;
this.flowerColor.active = !0;
this._setSpriteFrameWithAtlas(o, this.number);
this._setSpriteFrameWithAtlas(a, this.flowerColor);
this._setSpriteFrameWithAtlas(r, this.icon);
}
}
},
_setSpriteFrameWithAtlas: function(e, t) {
var i = n.getPokerSpriteFrame(e);
i && (t.getComponent(cc.Sprite).spriteFrame = i);
},
_setSpriteFrame: function(e, t) {
var i = null;
if (e) {
var o = null;
(i = cc.url.raw(e)) && (o = cc.textureCache.addImage(i));
var n = null;
o && (n = new cc.SpriteFrame(o, cc.Rect(0, 0, o.width, o.height)));
t && t.getComponent(cc.Sprite) && (t.getComponent(cc.Sprite).spriteFrame = n);
}
},
showCardback: function() {
var e = n.getPokerBackFrame();
e && (this.node.getComponent(cc.Sprite).spriteFrame = e);
this.hideCardFlower();
},
showCardFail: function() {
var e = n.getPokerFailFrame();
e && (this.node.getComponent(cc.Sprite).spriteFrame = e);
this.hideCardFlower();
},
showCardGiveup: function() {
var e = n.getPokerGiveupFrame();
e && (this.node.getComponent(cc.Sprite).spriteFrame = e);
this.hideCardFlower();
},
showNull: function() {
this.node && this.node.getComponent(cc.Sprite) && (this.node.getComponent(cc.Sprite).spriteFrame = null);
this.hideCardFlower();
},
hideCardFlower: function() {
this.number && this.number.getComponent(cc.Sprite) && (this.number.getComponent(cc.Sprite).spriteFrame = null);
this.flowerColor && this.flowerColor.getComponent(cc.Sprite) && (this.flowerColor.getComponent(cc.Sprite).spriteFrame = null);
this.icon && this.icon.getComponent(cc.Sprite) && (this.icon.getComponent(cc.Sprite).spriteFrame = null);
}
});
cc._RF.pop();
}, {
"../../Script/ProjectConfig": "ProjectConfig",
CommonAtlasMgr: "CommonAtlasMgr"
} ],
PopDialogControl: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "c9715g7orBAc6a/TQ9+kDUx", "PopDialogControl");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = cc._decorator, a = r.ccclass, s = r.property, c = e("../../../Script/Audio/CommonAudioMgr"), l = e("../../../Script/Audio/CommonAudio"), u = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.mask = null;
t.frame = null;
t.content = null;
t.body = null;
return t;
}
t.prototype.onLoad = function() {};
t.prototype.start = function() {};
t.prototype.showPopDialog = function(e) {
var t = this, i = cc.callFunc(function() {
if (e) {
e();
cc.isValid(t.body) && (t.body.active = !0);
}
});
if (cc.isValid(t.node)) {
t.node.setPosition(0, 0);
t.node.opacity = 0;
t.node.scale = 0;
t.mask.width = cc.winSize.width;
t.mask.height = cc.winSize.height;
t.body.active = !1;
t.node.active = !0;
t.node.runAction(cc.sequence(cc.spawn(cc.fadeIn(.15), cc.scaleTo(.15, 1.1)), cc.scaleTo(.15, 1), i)).easing(cc.easeSineOut());
}
};
t.prototype.hidePopDialog = function() {
var e = this;
c.default.playEffect(l.default.common.btnMusic);
window.buttonClick = !0;
cc.isValid(e.node) && e.node.runAction(cc.sequence(cc.scaleTo(.08, 1.1), cc.spawn(cc.fadeOut(.1), cc.scaleTo(.1, 0)), cc.callFunc(function() {
if (cc.isValid(e.node)) {
e.body.active = !1;
e.node.active = !1;
}
}, e.node))).easing(cc.easeIn(3));
};
n([ s(cc.Node) ], t.prototype, "mask", void 0);
n([ s(cc.Node) ], t.prototype, "frame", void 0);
n([ s(cc.Node) ], t.prototype, "content", void 0);
n([ s(cc.Node) ], t.prototype, "body", void 0);
return t = n([ a ], t);
}(cc.Component);
i.default = u;
cc._RF.pop();
}, {
"../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr"
} ],
PopWindowPull: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "4bf18HUUpJEv4muyqNurCz0", "PopWindowPull");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = e("../../Script/UserManager"), n = e("../../Script/LocalStorage/LocalStorageUtil"), r = e("./../GameFramework/ApiMgr"), a = function() {
function e() {}
e.getPopWindowPull = function() {
var e = this;
r.default.getPopWindowPull(function(t) {
t && e.disposePopWindowAction(t);
}, function() {});
};
e.disposePopWindowAction = function(e) {
e && e.popwin && e.popwin.content && (this._topupCfgData = e.popwin);
};
e.showTopupAnnouncement = function() {
if (!this._topupCfgData || !this._topupCfgData.content) return null;
if (0 == this._topupCfgData.frequency) return null;
if (1 == this._topupCfgData.frequency) {
if (this.hasShowTopupToday()) return null;
this.savePopWindowTopUpLastOpenDate();
return this.getTopUpContent();
}
if (2 == this._topupCfgData.frequency) {
this.savePopWindowTopUpLastOpenDate();
return this.getTopUpContent();
}
};
e.getTopUpContent = function() {
if (this._topupCfgData && this._topupCfgData.content) {
return this._topupCfgData.content.split(/[\n]/);
}
return null;
};
e.hasShowTopupToday = function() {
var e = n.default.getPopWindowTopUpLastOpenDate(o.default.uid);
return this.getTodayDate() == e;
};
e.savePopWindowTopUpLastOpenDate = function() {
n.default.savePopWindowTopUpLastOpenDate(o.default.uid, this.getTodayDate());
};
e.getTodayDate = function() {
var e = new Date();
return e.getFullYear() + "-" + (e.getMonth() + 1) + "-" + e.getDate();
};
e._topupCfgData = null;
return e;
}();
t.exports = a;
i.default = a;
cc._RF.pop();
}, {
"../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../Script/UserManager": "UserManager",
"./../GameFramework/ApiMgr": "ApiMgr"
} ],
PreloadSceneMgr: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "2655axQL0FJm50BQy6wysF5", "PreloadSceneMgr");
var o = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}(), n = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("../../Script/ProjectConfig"));
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var a = function() {
function e() {
r(this, e);
}
o(e, null, [ {
key: "PreloadSceneWithGameId",
value: function(e) {}
}, {
key: "getSceneNameWithGameId",
value: function(e) {
var t = "";
switch (e = parseInt(e)) {
case n.default.GAME_TYPE.LAUNCHER:
t = "Launcher";
break;

case n.default.GAME_TYPE.GAME_HALL:
t = "Hall";
break;

case n.default.GAME_TYPE.GAME_ROOM:
t = "GameRoom";
break;

case n.default.GAME_TYPE.WATERMARGIN:
t = "WaterMargin";
break;

case n.default.GAME_TYPE.FISH:
t = "FishGame";
break;

case n.default.GAME_TYPE.NEWDOUDIZHU:
t = "LandLordGame";
break;

case n.default.GAME_TYPE.TEENPATTI:
t = "TeenPattiGame";
break;

case n.default.GAME_TYPE.CATTLE:
t = "Blood";
break;

case n.default.GAME_TYPE.BLOODCATTLE:
t = "BloodCattle";
break;

case n.default.GAME_TYPE.RUMMY:
t = "RummyGame";
}
return t;
}
} ]);
return e;
}();
t.exports = a;
cc._RF.pop();
}, {
"../../Script/ProjectConfig": "ProjectConfig"
} ],
ProgramInit: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "74f31mes9xEEIxqybn2z4A/", "ProgramInit");
var o = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}(), n = a(e("../../../Script/ProjectConfig")), r = a(e("../../../Script/LocalStorage/LocalStorageUtil"));
function a(e) {
return e && e.__esModule ? e : {
default: e
};
}
function s(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var c = e("GameEngineUtil"), l = (e("RootNode"), function() {
function e() {
s(this, e);
}
o(e, null, [ {
key: "init",
value: function(e) {
this.initUI(e);
this.initNative();
this.initServer();
this.initLocalStorage();
this.startNetworkWatch();
}
}, {
key: "initUI",
value: function(e) {
if (cc.vv) if ("beautifulgame" == n.default.variable.curSkin) cc.vv.beautifulgame = !0; else if ("handsome" == n.default.variable.curSkin) {
cc.vv.souhu = !0;
"timi" == n.default.variable.curSkinChild ? cc.vv.timi = !0 : "yingyangshi" == n.default.variable.curSkinChild ? cc.vv.yingyangshi = !0 : "haidilao" == n.default.variable.curSkinChild ? cc.vv.haidilao = !0 : "xiyouji" == n.default.variable.curSkinChild ? cc.vv.xiyouji = !0 : "wangyi" == n.default.variable.curSkinChild && (cc.vv.wangyi = !0);
}
}
}, {
key: "initNative",
value: function() {
0 === n.default.variable.nativeVersion && c.init();
}
}, {
key: "initDebugUtil",
value: function() {}
}, {
key: "initServer",
value: function() {}
}, {
key: "initLocalStorage",
value: function() {
r.default.init();
r.default.clearSystemNotic();
}
}, {
key: "preloadHallScene",
value: function() {
cc.director.preloadScene("Hall");
}
}, {
key: "startNetworkWatch",
value: function() {
c.isNetworkAvailable();
c.startWatchNetWorkState();
}
} ]);
return e;
}());
t.exports = l;
cc._RF.pop();
}, {
"../../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../../Script/ProjectConfig": "ProjectConfig",
GameEngineUtil: "GameEngineUtil",
RootNode: "RootNode"
} ],
ProjectConfig: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "0ceceDizBBJZI+zacxOTpxS", "ProjectConfig");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = e("./GameFramework/GameType"), n = function() {
function e() {}
e.getSceneCanvas = function() {
if (cc.director) {
var e = cc.director.getScene();
if (cc.isValid(e)) {
var t = e.getChildByName("Canvas");
return cc.isValid(t) ? t : null;
}
return null;
}
return null;
};
e.hasNetWork = function() {
return "1" == "" + this.variable.network || !0 === this.variable.network;
};
e.getAvatar = function() {
var e = this.variable.curSkin + "/common/texture/usercenter/avatar/";
return {
boyAvatar: e + "head_boy1",
girlAvatar: e + "head_girl1",
kefuAvatar: e + "head_headkefu",
boy1: e + "head_boy1",
boy2: e + "head_boy2",
boy3: e + "head_boy3",
boy4: e + "head_boy4",
boy5: e + "head_boy5",
boy6: e + "head_boy6",
boy7: e + "head_boy7",
boy8: e + "head_boy8",
girl1: e + "head_girl1",
girl2: e + "head_girl2",
girl3: e + "head_girl3",
girl4: e + "head_girl4",
girl5: e + "head_girl5",
girl6: e + "head_girl6",
girl7: e + "head_girl7",
girl8: e + "head_girl8"
};
};
e.globalFunc = function() {};
e.clickManager = function(e) {
var t = e.getComponent(cc.Button);
cc.isValid(t) && (t.interactable = !1);
var i = setTimeout(function() {
cc.isValid(t) && (t.interactable = !0);
clearInterval(i);
}, 1500);
};
e.getGameIdWithGameName = function(t) {
var i = -1;
switch (t) {
case "lord":
i = e.GAME_TYPE.NEWDOUDIZHU;
break;

case "hero":
i = e.GAME_TYPE.WATERMARGIN;
break;

case "fishing":
i = e.GAME_TYPE.FISH;
break;

case "fishing2":
i = e.GAME_TYPE.NEW_FISHING;
break;

case "fishing3":
i = e.GAME_TYPE.NEW_FISHING3;
break;

case "flower":
i = e.GAME_TYPE.TEENPATTI;
break;

case "cattle":
i = e.GAME_TYPE.CATTLE;
break;

case "blood":
i = e.GAME_TYPE.BLOODCATTLE;
break;

case "brc_bull":
i = e.GAME_TYPE.NEW_BAIRENNIUNIU;
break;

case "brc_longhu":
i = e.GAME_TYPE.NEW_LONGHUDOU;
break;

case "brc_honghei":
i = e.GAME_TYPE.BRCFLOWER;
break;

case "brc_shark":
i = e.GAME_TYPE.NEW_SHARK;
break;

case "brc_flower":
i = e.GAME_TYPE.BRCFLOWER;
break;

case "ebet_bjl":
i = e.GAME_TYPE.EBET_BJL;
break;

case "ebet_lh":
i = e.GAME_TYPE.EBET_LH;
break;

case "fight":
i = e.GAME_TYPE.PAIGOW;
break;

case "im_dj":
i = e.GAME_TYPE.IM_CG;
break;

case "rummy":
i = e.GAME_TYPE.RUMMY;
}
return i;
};
e.getGameSceneWithGameId = function(t) {
var i = null;
switch (t) {
case e.GAME_TYPE.LAUNCHER:
i = e.SCENE_NAME.LAUNCHER;
break;

case e.GAME_TYPE.GAME_HALL:
i = e.SCENE_NAME.GAME_HALL;
break;

case e.GAME_TYPE.GAME_ROOM:
i = e.SCENE_NAME.GAME_ROOM;
break;

case e.GAME_TYPE.WATERMARGIN:
i = e.SCENE_NAME.WATERMARGIN;
break;

case e.GAME_TYPE.FISH:
i = e.SCENE_NAME.FISH;
break;

case e.GAME_TYPE.NEWDOUDIZHU:
i = e.SCENE_NAME.NEWDOUDIZHU;
break;

case e.GAME_TYPE.TEENPATTI:
i = e.SCENE_NAME.TEENPATTI;
break;

case e.GAME_TYPE.RUMMY:
i = e.SCENE_NAME.RUMMY;
break;

case e.GAME_TYPE.CATTLE:
i = e.SCENE_NAME.CATTLE;
break;

case e.GAME_TYPE.BLOODCATTLE:
i = e.SCENE_NAME.BLOODCATTLE;
break;

case e.GAME_TYPE.NEW_BAIRENNIUNIU:
i = e.SCENE_NAME.NEW_BAIRENNIUNIU;
break;

case e.GAME_TYPE.NEW_LONGHUDOU:
i = e.SCENE_NAME.NEW_LONGHUDOU;
break;

case e.GAME_TYPE.REDBLACK:
i = e.SCENE_NAME.NEW_REDBLACK;
break;

case e.GAME_TYPE.NEW_SHARK:
i = e.SCENE_NAME.NEW_SHARK;
break;

case e.GAME_TYPE.NEW_FISHING:
i = e.SCENE_NAME.NEW_FISHING_SCENE[this.getFishSceneIdWithSkin()];
break;

case e.GAME_TYPE.NEW_FISHING3:
i = e.SCENE_NAME.NEW_FISHING_SCENE3;
break;

case e.GAME_TYPE.LOGIN:
i = e.SCENE_NAME.LOGIN;
break;

case e.GAME_TYPE.PAIGOW:
i = e.SCENE_NAME.PAIGOW;
break;

case e.GAME_TYPE.BRCFLOWER:
i = e.SCENE_NAME.NEW_REDBLACK;
break;

case e.GAME_TYPE.TEENPATTI:
i = e.SCENE_NAME.TEENPATTI;
}
return i;
};
e.getFishSceneIdWithSkin = function() {
var e = -1;
if (cc.vv.beautifulgame) e = 0; else {
e = 1;
cc.vv.yingyangshi ? e = 2 : cc.vv.timi ? e = 3 : cc.vv.haidilao ? e = 4 : cc.vv.xiyouji ? e = 5 : cc.vv.wangyi && (e = 6);
}
return e;
};
e.isFishGame = function(t) {
return t == e.GAME_TYPE.FISH || t == e.GAME_TYPE.NEW_FISHING || t == e.GAME_TYPE.NEW_FISHING3;
};
e.isGameSceneExists = function(e) {
var t = this.getGameSceneWithGameId(e);
return !!cc.director._getSceneUuid(t);
};
e.phoneIsiphoneX = function(e) {
if (null == e) this.isIphoneX = !1; else {
if ("iPhone X" == e) {
this.isIphoneX = !0;
return;
}
if ("iPhone XR" == e) {
this.isIphoneX = !0;
return;
}
if ("iPhone XS" == e) {
this.isIphoneX = !0;
return;
}
if ("iPhone XS Max" == e) {
this.isIphoneX = !0;
return;
}
this.isIphoneX = !1;
}
};
e.getProId = function() {
var e = 3;
cc.vv.timi && (e = 4);
return e;
};
e.isNative = function() {
return cc.sys.isNative ? cc.sys.os === cc.sys.OS_ANDROID ? "android" : cc.sys.os === cc.sys.OS_IOS ? "iOS" : void 0 : "web";
};
e.variable = {
curSkin: "beautifulgame",
curLanguage: "english",
curSkinChild: "",
screenSize: {
width: 1280,
height: 720
},
nativeVersion: 0,
vestVersion: 0,
network: 1,
ip: "",
exitStatus: !1,
goldconfig: {
beautifulgame: {
isgold: !0,
base: 1e3,
digits: 2
}
}
};
e.neglectWidth = 60;
e.isEnterGame = !1;
e.isIphoneX = !1;
e.isShowGifts = !0;
e.isFormalUser = !1;
e.layerZOrder = {
Game: 0,
TopFrame: 400,
Dialog: 500,
Lottery: 1e3,
LotteryDialog: 1500,
LotteryToast: 1800,
RedEnvelope: 9e3,
Barrage: 5e3,
Toast: 8e3
};
e.loadComAtlasSucceed = !1;
e.GAME_TYPE = o.default;
e.SCENE_NAME = {
GAME_HALL: "Hall",
KEFU: "CustomerContactService",
WATERMARGIN: "WaterMargin",
FISH: "FishGame",
NEWDOUDIZHU: "LandLordGame",
TEENPATTI: "TeenPattiGame",
CATTLE: "Blood",
RUMMY: "RummyGame",
NEW_BAIRENNIUNIU: "BrcNiuniuGame",
NEW_LONGHUDOU: "BrcBigBattleGame",
NEW_REDBLACK: "BrcRedBlackGame",
NEW_SHARK: "BrcShark",
BRC_FLOWER: "BrcFlowerGame",
BLOODCATTLE: "BloodCattle",
PAIGOW: "PaiGowGame",
NEW_FISHING_SCENE: [ "FishingLoadingScene_hq", "FishingLoadingScene_cf", "FishingLoadingScene_jj", "FishingLoadingScene_hy", "FishingLoadingScene_haidilao", "FishingLoadingScene_lz", "FishingLoadingScene_dh" ],
NEW_FISHING_SCENE3: "BFishing",
LOGIN: "Login",
LAUNCHER: "LauncherBeautifulGame",
GAME_ROOM: "GameRoom"
};
e.audio = {};
return e;
}();
i.default = n;
cc._RF.pop();
}, {
"./GameFramework/GameType": "GameType"
} ],
PromoterAcStageInfo: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "6ee88of2X5Ifo5ADN8lCOGd", "PromoterAcStageInfo");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = e("PromoterPrefabMgr"), a = cc._decorator, s = a.ccclass, c = a.property, l = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.unitPriceLabel = null;
t.totalPriceLabel = null;
t.friendLabel = null;
t.finishSprite = null;
t.ongoingSprite = null;
t.data = null;
return t;
}
t.prototype.onLoad = function() {
this.data = null;
};
t.prototype.setData = function(e) {
if (e) {
this.data = e;
this.unitPriceLabel && (this.unitPriceLabel.string = e.single_award + "元/位");
this.totalPriceLabel && (this.totalPriceLabel.string = e.single_award * e.count + "元");
this.friendLabel && (this.friendLabel.string = "第" + e.start + "~" + e.sum + "位好友");
e.register.done !== e.count && 0 != e.register.prize || e.login.done !== e.count && 0 != e.login.prize || e.recharge.done !== e.count && 0 != e.recharge.prize ? 0 === e.register.done && 0 === e.login.done && 0 === e.recharge.done || this.ongoingSprite && (this.ongoingSprite.opacity = 255) : this.finishSprite && (this.finishSprite.opacity = 255);
}
};
t.prototype.clickMySelf = function(e) {
this.data && r.showActivityDetail(this.data);
};
n([ c(cc.Label) ], t.prototype, "unitPriceLabel", void 0);
n([ c(cc.Label) ], t.prototype, "totalPriceLabel", void 0);
n([ c(cc.Label) ], t.prototype, "friendLabel", void 0);
n([ c(cc.Node) ], t.prototype, "finishSprite", void 0);
n([ c(cc.Node) ], t.prototype, "ongoingSprite", void 0);
return t = n([ s ], t);
}(cc.Component);
i.default = l;
cc._RF.pop();
}, {
PromoterPrefabMgr: "PromoterPrefabMgr"
} ],
PromoterActivityRankItem: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "fcf952eeZZFgJQCKaKos2+y", "PromoterActivityRankItem");
var o = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("../../Script/BaseFormat"));
var n = e("CommonFunction");
cc.Class({
extends: cc.Component,
properties: {
LabelRank: cc.Label,
LabelNick: cc.Label,
LabelFriend: cc.Label,
LabelWeekRebate: cc.Label,
SpriteAvatar: cc.Sprite,
SpriteBoard: cc.Node,
itemID: 0,
SpriteRank: cc.Sprite,
LabelRankFont: cc.Font,
RankBgArr: {
type: cc.SpriteFrame,
default: []
}
},
initData: function(e) {
if (e) {
if (void 0 === e.rank) return;
this.itemID = e.rank - 1;
if (e.rank > 0 && e.rank <= 3) {
this.LabelRank && (this.LabelRank.node.active = !1);
if (this.SpriteRank) {
this.SpriteRank.node.active = !0;
this.SpriteRank.spriteFrame = this.RankBgArr[e.rank - 1];
}
} else {
this.LabelRank && (this.LabelRank.node.active = !0);
this.SpriteRank && (this.SpriteRank.node.active = !1);
if (e.rank > 3 && e.rank <= 8) {
if (this.LabelRank) {
this.LabelRank.font = this.LabelRankFont;
this.LabelRank.node.color = cc.Color.WHITE.fromHEX("#ffffff");
this.LabelRank.string = "NO." + e.rank;
}
} else if (this.LabelRank) {
this.LabelRank.font = null;
var t = cc.Color.WHITE;
cc.vv.beautifulgame ? t = cc.Color.WHITE.fromHEX("#ebe19b") : cc.vv.souhu && (t = cc.Color.WHITE.fromHEX("#4E83BC"));
var i = this.LabelRank.node.getComponent(cc.LabelOutline);
i || (i = this.LabelRank.node.addComponent(cc.LabelOutline));
this.LabelRank.node.color = t;
i.color = t;
this.LabelRank.string = 0 == e.rank ? "未上榜" : "" + e.rank;
}
}
this.LabelNick && (this.LabelNick.string = e.addr);
this.LabelFriend && (this.LabelFriend.string = e.child_count + "");
this.LabelWeekRebate && (this.LabelWeekRebate.string = o.default.formatAmount(e.award));
var r = e.avatar || "", a = 0;
void 0 != e.gender && null != e.gender && (a = 1 == e.gender ? 1 : 0);
var s = n.getAvatarFromAtlas(r, a);
this.SpriteAvatar && s && (this.SpriteAvatar.spriteFrame = s);
}
}
});
cc._RF.pop();
}, {
"../../Script/BaseFormat": "BaseFormat",
CommonFunction: "CommonFunction"
} ],
PromoterActivityRank: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "cc55dkA2I5OLLhnY7EWI8xc", "PromoterActivityRank");
var o = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("./../../Script/GameFramework/ApiMgr"));
var n = e("DialogUtil"), r = e("PromoterGlobal");
cc.Class({
extends: cc.Component,
properties: {
ContentNode: cc.Node,
PromoterRankItem: cc.Prefab,
EmptyNode: cc.Node,
MeItem: cc.Node,
ScrollView: cc.ScrollView
},
showDialog: function() {
this.spawnCount = 6;
this.totalCount = 0;
this.spacing = 5;
this.itemTemplateHeight = 70;
this.items = [];
this.updateTimer = 0;
this.updateInterval = .2;
this.lastContentPosY = 0;
this.bufferZone = this.spawnCount * (this.itemTemplateHeight + this.spacing) / 2;
var e = void 0;
cc.vv.beautifulgame ? e = "beautifulgame/common/texture/promoter/ds_text_title_hdpm" : cc.vv.souhu && (e = "handsome/common/texture/promoter/bd_text_title_hdpm");
var t = {
type: "sprite",
content: e
};
n.addNormalDialog(this.node, t);
},
start: function() {
var e = this;
r.rank_data && r.rank_data.length > 0 ? e.fillData(r.rank_data) : o.default.partenerRank(function(t) {
e.fillData(t);
}, function(e) {});
},
fillData: function(e) {
if (e) {
if (e.list && e.list.length > 0 && this.PromoterRankItem) {
this.EmptyNode.active = !1;
this.ContentNode.removeAllChildren();
this.data = e.list;
for (var t = 0; t < this.data.length; t++) this.data[t].rank = t + 1;
this.totalCount = e.list.length;
this.ContentNode.height = this.totalCount * (this.itemTemplateHeight + this.spacing) + this.spacing;
this.totalCount < this.spawnCount && (this.spawnCount = this.totalCount);
for (var i = 0; i < this.spawnCount; ++i) {
var o = cc.instantiate(this.PromoterRankItem);
this.ContentNode.addChild(o);
o.setPosition(0, -o.height * (.5 + i) - this.spacing * (i + 1));
o.getComponent("PromoterActivityRankItem").initData(this.data[i]);
this.items.push(o);
}
}
} else this.EmptyNode.active = !0;
e.my && this.MeItem && this.MeItem.getComponent("PromoterActivityRankItem") && this.MeItem.getComponent("PromoterActivityRankItem").initData(e.my);
},
getPositionInView: function(e) {
var t = e.parent.convertToWorldSpaceAR(e.position);
return this.ScrollView.node.convertToNodeSpaceAR(t);
},
update: function(e) {
this.updateTimer += e;
if (!(this.updateTimer < this.updateInterval)) {
this.updateTimer = 0;
for (var t = this.items, i = this.ContentNode.y < this.lastContentPosY, o = (this.itemTemplateHeight + this.spacing) * t.length, n = 0, r = 0; r < t.length; ++r) {
var a = this.getPositionInView(t[r]);
if (i) {
n = t[r].y + o;
if (a.y < -this.bufferZone && n < 0) {
t[r].y = n;
var s = t[r].getComponent("PromoterActivityRankItem"), c = s.itemID - t.length;
s.initData(this.data[c]);
}
} else {
n = t[r].y - o;
if (a.y > this.bufferZone && n > -this.ContentNode.height) {
t[r].y = n;
var l = t[r].getComponent("PromoterActivityRankItem"), u = l.itemID + t.length;
l.initData(this.data[u]);
}
}
}
this.lastContentPosY = this.ScrollView.content.y;
}
},
onEnable: function() {},
onDisable: function() {}
});
cc._RF.pop();
}, {
"./../../Script/GameFramework/ApiMgr": "ApiMgr",
DialogUtil: "DialogUtil",
PromoterGlobal: "PromoterGlobal"
} ],
PromoterActivity: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "b0ea3y4hW5HtaRCCghUfTK4", "PromoterActivity");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = e("../../Script/ProjectConfig"), a = e("PromoterGlobal"), s = e("PromoterModel"), c = e("QrCodeUtil"), l = e("CommonEventName"), u = e("PromoterPrefabMgr"), d = e("../../Script/Audio/CommonAudioMgr"), f = e("../../Script/Audio/CommonAudio"), h = e("GameEngineUtil"), p = e("./../../Script/GameFramework/ApiMgr"), g = cc._decorator, m = g.ccclass, y = g.property, b = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.friendLabel = null;
t.moneyLabel = null;
t.bannerSprite = null;
t.horizonScrollView = null;
t.stageInfoPrefab = null;
t.stageContainer = null;
t.arrowLeft = null;
t.arrowRight = null;
t.shareLayout = null;
t.marqueArray = [];
t.topFrame = null;
t.contentFrame = null;
t.bottomFrame = null;
t.siderBarFrame = null;
return t;
}
t.prototype.onLoad = function() {
this.node.width = cc.winSize.width;
this.node.height = cc.winSize.height;
cc.isValid(this.topFrame) && (this.topFrame.opacity = 0);
cc.isValid(this.contentFrame) && (this.contentFrame.opacity = 0);
cc.isValid(this.bottomFrame) && (this.bottomFrame.opacity = 0);
cc.isValid(this.siderBarFrame) && (this.siderBarFrame.opacity = 0);
this.arrowLeft.on(cc.Node.EventType.TOUCH_END, this.clickArrowLeft, this);
this.arrowRight.on(cc.Node.EventType.TOUCH_END, this.clickArrowRight, this);
d.default.playEffect(f.default.common.share);
};
t.prototype.initPromoterView = function() {
this.renderData();
this.getActivityRank();
this.loadConfigData();
};
t.prototype.renderData = function() {
if (cc.isValid(this.node)) {
this.friendLabel && (this.friendLabel.string = a.children_count);
this.moneyLabel && (this.moneyLabel.string = a.award);
if (a.banner) {
var e = this;
cc.loader.load({
url: a.banner,
type: "png"
}, function(t, i) {
if (!t) {
var o = new cc.SpriteFrame(i);
e.bannerSprite && (e.bannerSprite.spriteFrame = o);
}
});
}
this.initStageInfo(a.ac_info);
this.initShareChannel(a.share_channels);
}
};
t.prototype.loadConfigData = function() {
var e = this;
p.default.getPyramidConfig(function(t) {
if (t) {
a.initConfig(t);
e.renderData();
}
}, function() {});
};
t.prototype.initStageInfo = function(e) {
if (e && e.length > 0) {
var t = 1;
e.length > 4 && this.arrowRight && (this.arrowRight.opacity = 255);
if (this.stageInfoPrefab && this.stageContainer) {
this.stageContainer.removeAllChildren();
for (var i = function(i) {
var n = cc.instantiate(o.stageInfoPrefab);
o.stageContainer.addChild(n);
if (n.getComponent("PromoterAcStageInfo")) {
var r = e[i];
r.start = t;
r.sum = r.start + e[i].count - 1;
t += e[i].count;
n.getComponent("PromoterAcStageInfo").setData(r);
n.on(cc.Node.EventType.TOUCH_END, function() {
n.getComponent("PromoterAcStageInfo").clickMySelf(i);
});
}
}, o = this, n = 0; n < e.length; n++) i(n);
}
}
};
t.prototype.initShareChannel = function(e) {
if (e && e.length > 0 && this.shareLayout && this.shareLayout.childrenCount > 0) for (var t = 0; t < e.length; t++) {
var i = e[t];
if (s.ShareChannel.Wechat == i.id) {
if (this.shareLayout.getChildByName("Wx")) {
var o = this.shareLayout.getChildByName("Wx");
o.active = i.enabled;
i.enabled && o.getChildByName("Double") && (o.getChildByName("Double").opacity = 255);
}
} else if (s.ShareChannel.Group == i.id) {
if (this.shareLayout.getChildByName("Group")) {
var n = this.shareLayout.getChildByName("Group");
n.active = i.enabled;
i.enabled && n.getChildByName("Double") && (n.getChildByName("Double").opacity = 255);
}
} else if (s.ShareChannel.CopyLink == i.id) {
if (this.shareLayout.getChildByName("Link")) {
var r = this.shareLayout.getChildByName("Link");
r.active = i.enabled;
i.enabled && r.getChildByName("Double") && (r.getChildByName("Double").opacity = 255);
}
} else if (s.ShareChannel.Qrcode == i.id && this.shareLayout.getChildByName("Qr")) {
var l = this.shareLayout.getChildByName("Qr");
l.active = i.enabled;
if (i.enabled && l.getChildByName("Double")) {
l.getChildByName("Double").opacity = 255;
c.generateQrView(l.getChildByName("View"), a.link);
}
}
}
};
t.prototype.getActivityRank = function() {
var e = this;
e.marqueArray && 0 != e.marqueArray.length && p.default.partenerRank(function(t) {
if (t && t.list && t.list.length > 0) {
a.rank_data = t;
if (!cc.isValid(e.node)) return;
e.showMarque();
}
}, function() {});
};
t.prototype.showMarque = function() {
var e = this, t = 0, i = t % 2, o = a.rank_data.list[t];
if (cc.isValid(e.marqueArray[i])) {
e.marqueArray[i].string = "恭喜" + o.nickname + "邀请" + o.child_count + "位好友，赚取现金" + o.award + "元";
e.schedule(function() {
var i, o;
if ((t += 1) >= a.rank_data.list.length) {
t = 0;
o = ((i = (a.rank_data.list.length - 1) % 2) + 1) % 2;
}
if (t >= 1) {
i = (t - 1) % 2;
o = t % 2;
}
var n = a.rank_data.list[t];
e.marqueAction(i, o, n);
}, 3, 1e4, 0);
}
};
t.prototype.marqueAction = function(e, t, i) {
var o = this;
if (cc.isValid(o.marqueArray[e])) {
var n = 0;
cc.vv.beautifulgame ? n = -195 : cc.vv.souhu && (n = -228);
o.marqueArray[e].node.runAction(cc.sequence(cc.spawn(cc.moveTo(.3, cc.v2(n, 45)), cc.fadeOut(.3)), cc.callFunc(function() {
o.marqueArray[e].node.y = -45;
})));
o.marqueArray[t].string = "恭喜" + i.nickname + "邀请" + i.child_count + "位好友，赚取现金" + i.award + "元";
o.marqueArray[t].node.runAction(cc.spawn(cc.moveTo(.3, cc.v2(n, 0)), cc.fadeIn(.3)));
}
};
t.prototype.clickBack = function(e) {
this.unscheduleAllCallbacks();
this.node.destroy();
};
t.prototype.clickRule = function(e) {
r.default.clickManager(e.target);
u.showRuleHelp(a.ac_rule, 2);
};
t.prototype.clickRank = function(e) {
r.default.clickManager(e.target);
u.showRankDialog();
};
t.prototype.clickWx = function(e) {
r.default.clickManager(e.target);
cc.director.emit(l.EVENT_PYRAMID_SHARE_WX, 1);
};
t.prototype.clickLink = function(e) {
r.default.clickManager(e.target);
u.showCopyLinkDialog(a.tips, a.link);
h.copyText(a.link);
};
t.prototype.clickGroup = function(e) {
r.default.clickManager(e.target);
cc.director.emit(l.EVENT_PYRAMID_SHARE_WX, 1);
};
t.prototype.clickQr = function(e) {
r.default.clickManager(e.target);
u.showQrCodeDialog(a.link);
};
t.prototype.clickArrowRight = function() {
cc.isValid(this.horizonScrollView) && this.horizonScrollView.scrollToRight(.5);
};
t.prototype.clickArrowLeft = function() {
cc.isValid(this.horizonScrollView) && this.horizonScrollView.scrollToLeft(.5);
};
t.prototype.scrollViewEventsAction = function() {
if (cc.isValid(this.horizonScrollView) && cc.isValid(this.arrowLeft) && cc.isValid(this.arrowRight)) {
var e = this.horizonScrollView.getMaxScrollOffset().x, t = this.horizonScrollView.getScrollOffset().x;
if (0 != e) {
var i = t / e;
if (i >= -.1) {
0 != this.arrowLeft.opacity && (this.arrowLeft.opacity = 0);
255 != this.arrowRight.opacity && (this.arrowRight.opacity = 255);
} else if (i <= -.9) {
0 != this.arrowRight.opacity && (this.arrowRight.opacity = 0);
255 != this.arrowLeft.opacity && (this.arrowLeft.opacity = 255);
} else {
255 != this.arrowRight.opacity && (this.arrowRight.opacity = 255);
255 != this.arrowLeft.opacity && (this.arrowLeft.opacity = 255);
}
}
}
};
t.prototype.show = function() {
var e = this, t = cc.callFunc(function() {
e.initPromoterView();
cc.isValid(e.bottomFrame) && (e.bottomFrame.opacity = 255);
cc.isValid(e.siderBarFrame) && (e.siderBarFrame.opacity = 255);
}), i = cc.callFunc(function() {
cc.isValid(e.topFrame) && (e.topFrame.opacity = 255);
cc.isValid(e.contentFrame) && e.contentFrame.runAction(cc.sequence(cc.delayTime(0), cc.fadeIn(.2), cc.delayTime(.2), t));
});
if (cc.isValid(e.node)) {
e.node.setPosition(0, 0);
e.node.opacity = 0;
e.node.scale = 0;
e.node.active = !0;
e.node.runAction(cc.sequence(cc.spawn(cc.fadeTo(.15, 255), cc.scaleTo(.15, 1.1)), cc.scaleTo(.15, 1), i)).easing(cc.easeSineOut());
}
};
t.prototype.dismiss = function() {
var e = this;
f.default.common && f.default.common.btnMusic && d.default.playEffect(f.default.common.btnMusic);
cc.isValid(e.node) && e.node.runAction(cc.sequence(cc.scaleTo(.08, 1.1), cc.scaleTo(.1, 0), cc.delayTime(.2), cc.callFunc(function() {
e.node.destroy();
}, this.node))).easing(cc.easeIn(3));
};
n([ y(cc.Label) ], t.prototype, "friendLabel", void 0);
n([ y(cc.Label) ], t.prototype, "moneyLabel", void 0);
n([ y(cc.Sprite) ], t.prototype, "bannerSprite", void 0);
n([ y(cc.ScrollView) ], t.prototype, "horizonScrollView", void 0);
n([ y(cc.Prefab) ], t.prototype, "stageInfoPrefab", void 0);
n([ y(cc.Node) ], t.prototype, "stageContainer", void 0);
n([ y(cc.Node) ], t.prototype, "arrowLeft", void 0);
n([ y(cc.Node) ], t.prototype, "arrowRight", void 0);
n([ y(cc.Node) ], t.prototype, "shareLayout", void 0);
n([ y(cc.Label) ], t.prototype, "marqueArray", void 0);
n([ y(cc.Node) ], t.prototype, "topFrame", void 0);
n([ y(cc.Node) ], t.prototype, "contentFrame", void 0);
n([ y(cc.Node) ], t.prototype, "bottomFrame", void 0);
n([ y(cc.Node) ], t.prototype, "siderBarFrame", void 0);
return t = n([ m ], t);
}(cc.Component);
i.default = b;
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/ProjectConfig": "ProjectConfig",
"./../../Script/GameFramework/ApiMgr": "ApiMgr",
CommonEventName: "CommonEventName",
GameEngineUtil: "GameEngineUtil",
PromoterGlobal: "PromoterGlobal",
PromoterModel: "PromoterModel",
PromoterPrefabMgr: "PromoterPrefabMgr",
QrCodeUtil: "QrCodeUtil"
} ],
PromoterBannerItem: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "5e3beq2tRVPm4oaARUDT0Zl", "PromoterBannerItem");
var o = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("../../Script/ProjectConfig"));
var n = e("CommonFunction");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {},
initData: function(e) {
var t = this;
t.data = e;
e.pic && cc.loader.load(e.pic, function(e, i) {
var o = new cc.SpriteFrame(i);
o && cc.isValid(t.node) && t.node.getComponent(cc.Sprite) && (t.node.getComponent(cc.Sprite).spriteFrame = o);
});
},
onClickBanner: function(e) {
o.default.clickManager(e.target);
if (this.data) {
cc.director.emit(cc.vv.eventName.EVENT_PYRAMID_EXIT);
var t = this.data.kind, i = this.data.target, r = this.data.direction, a = this.data.browser;
n.clickEventHandler(t, i, r, a, !0);
}
}
});
cc._RF.pop();
}, {
"../../Script/ProjectConfig": "ProjectConfig",
CommonFunction: "CommonFunction"
} ],
PromoterBanner: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "db651s9YDtLFqQPVZRgEGTl", "PromoterBanner");
cc.Class({
extends: cc.Component,
properties: {
BannerContent: cc.Node,
BannerItem: cc.Prefab
},
onLoad: function() {
this.time = 0;
this.PageView = this.node.getComponent(cc.PageView);
this.PageView.removeAllPages();
var e = cc.instantiate(this.BannerItem);
this.PageView.addPage(e);
},
start: function() {},
onDataLoaded: function(e) {
if (e && e.length > 0) {
this.PageView.removeAllPages();
for (var t = 0; t < e.length; t++) {
var i = cc.instantiate(this.BannerItem);
i.getComponent("PromoterBannerItem").initData(e[t]);
this.PageView.addPage(i);
}
}
},
update: function(e) {
this.time += e;
if (this.time >= 10) {
this.time = 0;
var t = this.PageView.getPages().length, i = (this.PageView.getCurrentPageIndex() + 1) % t;
this.PageView.scrollToPage(i, .4);
}
}
});
cc._RF.pop();
}, {} ],
PromoterDetailItem: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "112937Qry5GEYtUdsKPDtbj", "PromoterDetailItem");
var o = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("../../Script/BaseFormat"));
cc.Class({
extends: cc.Component,
properties: {
LabelNick: cc.Label,
SpriteDirect: cc.Node,
LabelTax: cc.Label,
LabelRebate: cc.Label
},
initData: function(e) {
this.LabelNick && (this.LabelNick.string = e.nickname);
this.LabelTax && (this.LabelTax.string = o.default.formatAmount(e.tax));
this.LabelRebate && (this.LabelRebate.string = e.prize + "");
this.SpriteDirect && (this.SpriteDirect.active = e.direct);
}
});
cc._RF.pop();
}, {
"../../Script/BaseFormat": "BaseFormat"
} ],
PromoterDialogAwardInfo: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "297d7ysjxJD8qSkVIxbAXU+", "PromoterDialogAwardInfo");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = e("DialogUtil"), a = e("../../Script/ProjectConfig"), s = e("PromoterGlobal"), c = e("PromoterModel"), l = e("CommonEventName"), u = e("PromoterPrefabMgr"), d = cc._decorator, f = d.ccclass, h = d.property, p = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.unitPriceLabel = null;
t.totalPriceLabel = null;
t.friendLabel = null;
t.loginLayout = null;
t.registLayout = null;
t.rechargeLayout = null;
t.shareLayout = null;
t._index = -1;
return t;
}
t.prototype.showDialog = function(e, t) {
var i;
cc.vv.beautifulgame ? i = "beautifulgame/common/texture/promoter/ds_text_title_jlsm" : cc.vv.souhu && (i = "handsome/common/texture/promoter/bd_text_title_jlsm");
var o = {
type: "sprite",
content: i
};
r.addNormalDialog(this.node, o);
this._index = t;
if (e) {
this.unitPriceLabel && (this.unitPriceLabel.string = e.single_award + "元/位");
this.totalPriceLabel && (this.totalPriceLabel.string = "+" + e.single_award * e.count + "元");
this.friendLabel && (this.friendLabel.string = "邀请第" + e.start + "~" + e.sum + "位好友，每位好友价值" + e.single_award + "元");
this.setData(e, s.share_channels);
}
};
t.prototype.setData = function(e, t) {
if (this.registLayout && this.loginLayout && this.rechargeLayout) {
if (e.register.prize > 0) {
this.registLayout.active = !0;
this.registLayout.getChildByName("Award") && this.registLayout.getChildByName("Award").getComponent(cc.Label) && (this.registLayout.getChildByName("Award").getComponent(cc.Label).string = "+" + e.register.prize + "元");
this.registLayout.getChildByName("Status") && this.registLayout.getChildByName("Status").getComponent(cc.RichText) && (cc.vv.beautifulgame ? this.registLayout.getChildByName("Status").getComponent(cc.RichText).string = "已完成<color=#ff0000>" + e.register.done + "</color>位" : cc.vv.souhu && (this.registLayout.getChildByName("Status").getComponent(cc.RichText).string = "已完成<color=#eb505c>" + e.register.done + "</color>位"));
} else this.registLayout.active = !1;
if (e.login.prize > 0) {
this.loginLayout.active = !0;
this.loginLayout.getChildByName("Award") && this.loginLayout.getChildByName("Award").getComponent(cc.Label) && (this.loginLayout.getChildByName("Award").getComponent(cc.Label).string = "+" + e.login.prize + "元");
this.loginLayout.getChildByName("Status") && this.loginLayout.getChildByName("Status").getComponent(cc.RichText) && (cc.vv.beautifulgame ? this.loginLayout.getChildByName("Status").getComponent(cc.RichText).string = "已完成<color=#ff0000>" + e.login.done + "</color>位" : cc.vv.souhu && (this.loginLayout.getChildByName("Status").getComponent(cc.RichText).string = "已完成<color=#eb505c>" + e.login.done + "</color>位"));
} else this.loginLayout.active = !1;
if (e.recharge.prize > 0) {
this.rechargeLayout.active = !0;
this.rechargeLayout.getChildByName("Award") && this.rechargeLayout.getChildByName("Award").getComponent(cc.Label) && (this.rechargeLayout.getChildByName("Award").getComponent(cc.Label).string = "+" + e.recharge.prize + "元");
this.rechargeLayout.getChildByName("Status") && this.rechargeLayout.getChildByName("Status").getComponent(cc.RichText) && (cc.vv.beautifulgame ? this.rechargeLayout.getChildByName("Status").getComponent(cc.RichText).string = "已完成<color=#ff0000>" + e.recharge.done + "</color>位" : cc.vv.souhu && (this.rechargeLayout.getChildByName("Status").getComponent(cc.RichText).string = "已完成<color=#eb505c>" + e.recharge.done + "</color>位"));
} else this.rechargeLayout.active = !1;
if (t && t.length > 0 && this.shareLayout && this.shareLayout.childrenCount > 0) for (var i = 0; i < t.length; i++) {
var o = t[i];
c.ShareChannel.Wechat == o.id ? this.shareLayout.getChildByName("Wx") && (this.shareLayout.getChildByName("Wx").active = o.enabled) : c.ShareChannel.Group == o.id ? this.shareLayout.getChildByName("Group") && (this.shareLayout.getChildByName("Group").active = o.enabled) : c.ShareChannel.CopyLink == o.id ? this.shareLayout.getChildByName("Link") && (this.shareLayout.getChildByName("Link").active = o.enabled) : c.ShareChannel.Qrcode == o.id && this.shareLayout.getChildByName("Qr") && (this.shareLayout.getChildByName("Qr").active = o.enabled);
}
}
};
t.prototype.clickWx = function(e) {
a.default.clickManager(e.target);
cc.director.emit(l.EVENT_PYRAMID_SHARE_WX, 1);
};
t.prototype.clickLink = function(e) {
a.default.clickManager(e.target);
u.showCopyLinkDialog(s.tips, s.link);
};
t.prototype.clickGroup = function(e) {
a.default.clickManager(e.target);
cc.director.emit(l.EVENT_PYRAMID_SHARE_WX, 1);
};
t.prototype.clickQr = function(e) {
a.default.clickManager(e.target);
u.showQrCodeDialog(s.link);
};
n([ h(cc.Label) ], t.prototype, "unitPriceLabel", void 0);
n([ h(cc.Label) ], t.prototype, "totalPriceLabel", void 0);
n([ h(cc.Label) ], t.prototype, "friendLabel", void 0);
n([ h(cc.Node) ], t.prototype, "loginLayout", void 0);
n([ h(cc.Node) ], t.prototype, "registLayout", void 0);
n([ h(cc.Node) ], t.prototype, "rechargeLayout", void 0);
n([ h(cc.Node) ], t.prototype, "shareLayout", void 0);
n([ h ], t.prototype, "_index", void 0);
return t = n([ f ], t);
}(cc.Component);
i.default = p;
cc._RF.pop();
}, {
"../../Script/ProjectConfig": "ProjectConfig",
CommonEventName: "CommonEventName",
DialogUtil: "DialogUtil",
PromoterGlobal: "PromoterGlobal",
PromoterModel: "PromoterModel",
PromoterPrefabMgr: "PromoterPrefabMgr"
} ],
PromoterDialogCopyLink: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "e0d74q2do1LD6UDhMv3WGoY", "PromoterDialogCopyLink");
var o = r(e("../../Script/ProjectConfig")), n = r(e("../../Script/UI/CommonPrefabMgr"));
function r(e) {
return e && e.__esModule ? e : {
default: e
};
}
var a = e("DialogUtil"), s = e("GameEngineUtil");
cc.Class({
extends: cc.Component,
properties: {
DescLabel: cc.Label,
LinkLabel: cc.Label,
_link: ""
},
showDialog: function(e, t) {
this.DescLabel && (this.DescLabel.string = e);
this._link = t;
this.LinkLabel && (this.LinkLabel.string = this.formatLinkText(t));
var i = void 0;
cc.vv.beautifulgame ? i = "beautifulgame/common/texture/promoter/ds_text_title_fxhy" : cc.vv.souhu && (i = "handsome/common/texture/promoter/bd_text_title_fxhy");
var o = {
type: "sprite",
content: i
};
a.addNormalDialog(this.node, o);
},
clickWechat: function(e) {
o.default.clickManager(e.target);
if (s.hasWeChat()) {
s.copyText(this._link);
cc.sys.os == cc.sys.OS_ANDROID ? s.startWeChatWithAndroid() : cc.sys.os == cc.sys.OS_IOS && s.startWeChat();
} else n.default.createToast("请先安装微信");
},
clickQQ: function(e) {
o.default.clickManager(e.target);
if (s.hasQQ()) {
s.copyText(this._link);
cc.sys.os == cc.sys.OS_ANDROID ? s.startQQWithAndroid() : cc.sys.os == cc.sys.OS_IOS && s.startQQ();
} else n.default.createToast("请先安装QQ");
},
formatLinkText: function(e) {
var t = 0, i = 0;
if (e) {
for (var o = 0; o < e.length; o++) {
var n = e.charAt(o);
null != n.match(/[^\x00-\xff]/gi) ? t += 2 : t += "." == n || "/" == n || ":" == n ? .5 : 1;
if (t > 35) {
i = o;
break;
}
}
return e.substring(0, i) + "...";
}
return e;
}
});
cc._RF.pop();
}, {
"../../Script/ProjectConfig": "ProjectConfig",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
DialogUtil: "DialogUtil",
GameEngineUtil: "GameEngineUtil"
} ],
PromoterDialogHelp: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "0551dnm0y5PmICajf+skbZa", "PromoterDialogHelp");
(function(e) {
e && e.__esModule;
})(e("../../Script/ProjectConfig"));
var o = e("DialogUtil");
cc.Class({
extends: cc.Component,
properties: {
ContentNode: cc.Label
},
showDialog: function(e, t) {
e && this.ContentNode && (this.ContentNode.string = e);
var i = void 0;
cc.vv.beautifulgame ? 1 == t ? i = "beautifulgame/common/texture/promoter/ds_tghd_title_bzxx" : 2 == t && (i = "beautifulgame/common/texture/promoter/ds_tghd_title_hdgz") : cc.vv.souhu && (1 == t ? i = "handsome/common/texture/promoter/bd_text_title_help" : 2 == t && (i = "handsome/common/texture/promoter/bd_text_title_explain"));
var n = {
type: "sprite",
content: i
};
o.addNormalDialog(this.node, n);
}
});
cc._RF.pop();
}, {
"../../Script/ProjectConfig": "ProjectConfig",
DialogUtil: "DialogUtil"
} ],
PromoterDialogPrize: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "d3951WO5bFGT6LbFXnzbTXt", "PromoterDialogPrize");
var o = r(e("../../Script/ProjectConfig")), n = r(e("../../Script/BaseFormat"));
function r(e) {
return e && e.__esModule ? e : {
default: e
};
}
var a = e("CommonEventName");
cc.Class({
extends: cc.Component,
properties: {
PrizeLabel: cc.Label,
LabelExt: cc.Node,
YestodayNode: cc.Node,
YesTodayValue: cc.Label
},
showDialog: function(e) {
this.link = e.link;
this.money = e.win;
this.PrizeLabel && (this.PrizeLabel.string = e.win);
this.LabelExt && (this.LabelExt.active = e.ext);
if (0 == e.last_top) this.YestodayNode && (this.YestodayNode.active = !1); else {
this.YestodayNode && (this.YestodayNode.active = !0);
this.YesTodayValue && (this.YesTodayValue.string = "昨日第1名收益：" + n.default.formatAmount(e.last_top) + "元");
}
},
onClickBack: function(e) {
o.default.clickManager(e.target);
this.node && this.node.getComponent("CommonDialog") && this.node.getComponent("CommonDialog").dismiss();
},
onClickInvite: function(e) {
o.default.clickManager(e.target);
cc.director.emit(a.EVENT_PYRAMID_SHARE_WX, 2);
}
});
cc._RF.pop();
}, {
"../../Script/BaseFormat": "BaseFormat",
"../../Script/ProjectConfig": "ProjectConfig",
CommonEventName: "CommonEventName"
} ],
PromoterDialogQr: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "449a85X4sVEVp7ErdePhv6u", "PromoterDialogQr");
var o = r(e("../../Script/ProjectConfig")), n = r(e("../../Script/UI/CommonPrefabMgr"));
function r(e) {
return e && e.__esModule ? e : {
default: e
};
}
var a = e("DialogUtil"), s = e("QrCodeUtil"), c = e("GameEngineUtil"), l = e("Language");
cc.Class({
extends: cc.Component,
properties: {
QRCodeView: cc.Node,
url: ""
},
showDialog: function(e) {
var t = void 0;
this.url = e;
cc.vv.beautifulgame ? t = "beautifulgame/common/texture/promoter/ds_text_title_smlj" : cc.vv.souhu && (t = "handsome/common/texture/promoter/bd_text_title_smlj");
var i = {
type: "sprite",
content: t
};
a.addNormalDialog(this.node, i);
"string" == typeof e && s.generateQrView(this.QRCodeView, e);
},
clickSaveImage: function() {
o.default.variable.nativeVersion >= 15 ? c.shareImageToWx(this.url, "true") : n.default.createSignleButtonAlert(l.saveImage, "确定");
}
});
cc._RF.pop();
}, {
"../../Script/ProjectConfig": "ProjectConfig",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
DialogUtil: "DialogUtil",
GameEngineUtil: "GameEngineUtil",
Language: "Language",
QrCodeUtil: "QrCodeUtil"
} ],
PromoterFormal: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "d77322inURGTZ9QvU3uaa8P", "PromoterFormal");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = e("DialogUtil"), a = e("../../Script/ProjectConfig"), s = e("../../Script/UI/CommonPrefabMgr"), c = cc._decorator, l = c.ccclass, u = (c.property, 
function(e) {
o(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.showDialog = function() {
var e;
cc.vv.beautifulgame ? e = "beautifulgame/common/texture/promoter/ds_text_title_hhr" : cc.vv.souhu && (e = "handsome/common/texture/promoter/bd_text_title_hhr");
var t = {
type: "sprite",
content: e
};
r.addNormalDialog(this.node, t, {
bindDialog: !0
});
};
t.prototype.clickFormalUser = function(e) {
a.default.clickManager(e.target);
r.removeNormalDialog();
s.default.createFormalUser();
};
return t = n([ l ], t);
}(cc.Component));
i.default = u;
cc._RF.pop();
}, {
"../../Script/ProjectConfig": "ProjectConfig",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
DialogUtil: "DialogUtil"
} ],
PromoterGlobal: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "5d3ebSl91RLGa/MXhbu4TFm", "PromoterGlobal");
var o, n, r = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}();
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var s = (n = o = function() {
function e() {
a(this, e);
}
r(e, null, [ {
key: "initConfig",
value: function(e) {
if (e) {
this.profit_img = e.profit_img;
this.invite_img = e.invite_img;
this.link = e.link;
this.tips = e.tips;
this.rule = e.rule;
this.banners = e.banners;
this.wechat_share = e.wechat_share;
if (e.partner) {
this.ac_info = e.partner.info;
this.children_count = e.partner.children_count;
this.award = e.partner.award;
this.share_channels = e.partner.share_channels;
this.ac_rule = e.partner.rule;
this.banner = e.partner.banner;
}
}
}
} ]);
return e;
}(), o.rule = "", o.link = "", o.tips = "", o.invite_img = null, o.profit_img = null, 
o.banners = [], o.wechat_share = !0, o.ac_rule = "", o.award = 0, o.children_count = 0, 
o.share_channels = [], o.banner = "", o.ac_info = [], o.rank_data = [], n);
t.exports = s;
cc._RF.pop();
}, {} ],
PromoterMarqueItem: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "107a9I1dBRK4KfRfeFfDEpZ", "PromoterMarqueItem");
var o = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("../../Script/BaseFormat"));
cc.Class({
extends: cc.Component,
properties: {
notice: cc.RichText
},
init: function(e) {
this.notice && (cc.vv.beautifulgame ? this.notice.string = "恭喜" + e.nickname + "，领取昨日推广返利<color=#ff0000>" + o.default.formatAmount(e.award) + "</c>元" : cc.vv.souhu && (this.notice.string = "恭喜" + e.nickname + "，领取昨日推广返利<color=#fadf4b>" + o.default.formatAmount(e.award) + "</c>元"));
}
});
cc._RF.pop();
}, {
"../../Script/BaseFormat": "BaseFormat"
} ],
PromoterMarque: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "6c18fLDbd9J5o6WoltqjbZt", "PromoterMarque");
cc.Class({
extends: cc.Component,
properties: {
MarqueItem: cc.Prefab
},
onLoad: function() {
this.MarqueParent1 = this.node.getChildByName("MarqueeParent1");
this.MarqueParent2 = this.node.getChildByName("MarqueeParent2");
this.startMove = !1;
this.Spacing1X = 20;
this.Spacing2X = 25;
this.Left2 = 100;
this.node.opacity = 0;
},
start: function() {},
loadData: function(e) {
if (e && e.length > 0) {
for (var t = [], i = function(e) {
var t = 0, i = 0, o = null, n = [ e ];
for (t = 0; t < e; t++) n[t] = t;
for (t = 1; t <= e; t++) if ((i = parseInt(Math.random() * (e - t)) + t) != t) {
o = n[t - 1];
n[t - 1] = n[i - 1];
n[i - 1] = o;
}
return n;
}(e.length), o = 0; o < i.length; o++) t.push(e[i[o]]);
for (var n = 0; n < t.length; n++) {
var r = cc.instantiate(this.MarqueItem);
if (r && r.getComponent("PromoterMarqueItem")) {
n % 2 == 0 ? this.MarqueParent1 && this.MarqueParent1.addChild(r) : this.MarqueParent2 && this.MarqueParent2.addChild(r);
r.getComponent("PromoterMarqueItem").init(t[n]);
}
}
this.startMarque();
}
},
startMarque: function() {
var e = this;
e.scheduleOnce(function() {
e.startMove = !0;
for (var t = 0, i = 0; i < e.MarqueParent1.childrenCount; i++) {
e.MarqueParent1.children[i].x = t;
t = t + e.MarqueParent1.children[i].width + e.Spacing1X;
}
e.MarqueParent1.width = t;
for (var o = e.Left2, n = 0; n < e.MarqueParent2.childrenCount; n++) {
e.MarqueParent2.children[n].x = o;
o = o + e.MarqueParent2.children[n].width + e.Spacing2X;
}
e.MarqueParent2.width = o;
e.node.opacity = 255;
}, .5);
},
update: function(e) {
if (this.startMove) {
for (var t = 0; t < this.MarqueParent1.childrenCount; t++) {
this.MarqueParent1.children[t].x -= 1;
this.MarqueParent1.children[t].x <= -(this.MarqueParent1.children[t].width + this.Spacing1X) && (this.MarqueParent1.children[t].x += this.MarqueParent1.width);
}
for (var i = 0; i < this.MarqueParent2.childrenCount; i++) {
this.MarqueParent2.children[i].x -= 1;
this.MarqueParent2.children[i].x <= -(this.MarqueParent2.children[i].width + this.Spacing2X) && (this.MarqueParent2.children[i].x += this.MarqueParent2.width - this.Left2);
}
}
}
});
cc._RF.pop();
}, {} ],
PromoterModel: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "2f39eq2e9ZK5b9+O87zBEvu", "PromoterModel");
Object.defineProperty(i, "__esModule", {
value: !0
});
(function(e) {
e[e.CopyLink = 0] = "CopyLink";
e[e.Wechat = 1] = "Wechat";
e[e.Group = 2] = "Group";
e[e.Qrcode = 3] = "Qrcode";
})(i.ShareChannel || (i.ShareChannel = {}));
cc._RF.pop();
}, {} ],
PromoterPrefabMgr: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "ffc5d9JVdRPdrg3qhsPgqeL", "PromoterPrefabMgr");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = e("../../Script/ProjectConfig"), n = function() {
function e() {}
e.showQrCodeDialog = function(e) {
cc.loader.loadRes(o.default.variable.curSkin + "/common/prefab/promoter/DialogQrView", function(t, i) {
if (i) {
var o = cc.instantiate(i);
o && o.getComponent("PromoterDialogQr") && o.getComponent("PromoterDialogQr").showDialog(e);
}
});
};
e.showCopyLinkDialog = function(e, t) {
cc.loader.loadRes(o.default.variable.curSkin + "/common/prefab/promoter/DialogCopyLink", function(i, o) {
if (o) {
var n = cc.instantiate(o);
n && n.getComponent("PromoterDialogCopyLink") && n.getComponent("PromoterDialogCopyLink").showDialog(e, t);
}
});
};
e.showActivityDetail = function(e) {
cc.loader.loadRes(o.default.variable.curSkin + "/common/prefab/promoter/ac/PromoterAwardInfo", function(t, i) {
if (i) {
var o = cc.instantiate(i);
o && o.getComponent("PromoterDialogAwardInfo") && o.getComponent("PromoterDialogAwardInfo").showDialog(e);
}
});
};
e.showRuleHelp = function(e, t) {
cc.loader.loadRes(o.default.variable.curSkin + "/common/prefab/promoter/DialogHelp", function(i, o) {
if (o) {
var n = cc.instantiate(o);
n && n.getComponent("PromoterDialogHelp") && n.getComponent("PromoterDialogHelp").showDialog(e, t);
}
});
};
e.showRankDialog = function() {
cc.loader.loadRes(o.default.variable.curSkin + "/common/prefab/promoter/ac/PromoterActivityRank", function(e, t) {
if (t) {
var i = cc.instantiate(t);
i && i.getComponent("PromoterActivityRank") && i.getComponent("PromoterActivityRank").showDialog();
}
});
};
return e;
}();
i.default = n;
t.exports = n;
cc._RF.pop();
}, {
"../../Script/ProjectConfig": "ProjectConfig"
} ],
PromoterTabDetail: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "53bd9eiP0JObJkpq/8WSr/9", "PromoterTabDetail");
var o = r(e("../../Script/ProjectConfig")), n = r(e("./../../Script/GameFramework/ApiMgr"));
function r(e) {
return e && e.__esModule ? e : {
default: e
};
}
var a = e("CommonEventName");
cc.Class({
extends: cc.Component,
properties: {
FilterLabel: cc.Label,
DropdownOptionView: cc.Node,
ContentNode: cc.Node,
ButtonPrevios: cc.Button,
ButtonNext: cc.Button,
LabelPage: cc.Label,
PromotItemView: cc.Prefab,
MScrollView: cc.ScrollView,
ArrowFilter: cc.Node,
EmptyNode: cc.Node
},
onLoad: function() {
this.size = 20;
this.DropdownItemArray = [ {
index: 0,
show: "昨日",
time: 1
}, {
index: 1,
show: "近3日",
time: 3
}, {
index: 2,
show: "近7日",
time: 7
} ];
this.SearchDate = this.DropdownItemArray[0].time;
this.SelectDateIndex = this.DropdownItemArray[0].index;
this.CurrentPage = 1;
this.TotalPage = 1;
this.DropdownOptionArray = [];
this.DropdownItem1 = this.DropdownOptionView.getChildByName("DropItem1");
this.DropdownItem2 = this.DropdownOptionView.getChildByName("DropItem2");
},
start: function() {
this.loadData();
},
loadData: function() {
var e = this, t = {
page: e.CurrentPage,
day: e.SearchDate,
size: e.size
};
n.default.getPromoterDetail(t, function(t) {
if (t) {
e.TotalPage = Math.ceil(t.total / e.size);
e.LabelPage && (e.LabelPage.string = e.CurrentPage + "/" + e.TotalPage);
if (t.list && t.list.length > 0 && e.PromotItemView) {
e.EmptyNode.active = !1;
e.MScrollView.node.active = !0;
e.ContentNode.removeAllChildren();
for (var i = 0; i < t.list.length; i++) {
var o = cc.instantiate(e.PromotItemView);
if (o && o.getComponent("PromoterDetailItem")) {
o.getComponent("PromoterDetailItem").initData(t.list[i]);
e.ContentNode.addChild(o);
}
}
e.MScrollView.scrollToTop(.1);
} else {
e.MScrollView.node.active = !1;
e.EmptyNode.active = !0;
e.LabelPage && (e.LabelPage.string = "0/0");
}
e.ButtonPrevios && (e.ButtonPrevios.interactable = t.page > 1);
e.ButtonNext && (e.ButtonNext.interactable = t.page < e.TotalPage);
}
}, function(e) {});
},
onEnable: function() {},
onDisable: function() {},
onClickFilterDate: function() {
this.ArrowFilter && (this.ArrowFilter.rotation = 180);
this.DropdownOptionView && (this.DropdownOptionView.active = !0);
this.DropdownOptionArray = [];
for (var e = 0; e < this.DropdownItemArray.length; e++) e !== this.SelectDateIndex && this.DropdownOptionArray.push(this.DropdownItemArray[e]);
this.DropdownItem1.attr({
exData: this.DropdownOptionArray[0]
});
this.DropdownItem2.attr({
exData: this.DropdownOptionArray[1]
});
this.DropdownItem1.getChildByName("Label").getComponent(cc.Label).string = this.DropdownItem1.exData.show;
this.DropdownItem2.getChildByName("Label").getComponent(cc.Label).string = this.DropdownItem2.exData.show;
},
onClickDropdownOutside: function() {
this.ArrowFilter && (this.ArrowFilter.rotation = 0);
this.DropdownOptionView && (this.DropdownOptionView.active = !1);
},
onClickDropdownItem: function(e) {
this.onClickDropdownOutside();
var t = e.target.exData;
this.SelectDateIndex = t.index;
this.SearchDate = t.time;
this.FilterLabel && (this.FilterLabel.string = t.show);
this.CurrentPage = 1;
this.LabelPage && (this.LabelPage.string = this.CurrentPage + "/" + this.TotalPage);
this.loadData();
},
onClickPivious: function(e) {
o.default.clickManager(e.target);
this.CurrentPage -= 1;
this.CurrentPage < 1 && (this.CurrentPage = 1);
this.LabelPage && (this.LabelPage.string = this.CurrentPage + "/" + this.TotalPage);
this.loadData();
},
onClickNext: function(e) {
o.default.clickManager(e.target);
this.CurrentPage += 1;
this.LabelPage && (this.LabelPage.string = this.CurrentPage + "/" + this.TotalPage);
this.loadData();
},
onClickShareWechat: function(e) {
o.default.clickManager(e.target);
cc.director.emit(a.EVENT_PYRAMID_SHARE_WX, 1);
}
});
cc._RF.pop();
}, {
"../../Script/ProjectConfig": "ProjectConfig",
"./../../Script/GameFramework/ApiMgr": "ApiMgr",
CommonEventName: "CommonEventName"
} ],
PromoterTabGuide: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "6eb7cKHQ7FKjbcS0h7g1M3i", "PromoterTabGuide");
var o = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("../../Script/ProjectConfig"));
var n = e("CommonEventName"), r = e("PromoterPrefabMgr"), a = e("PromoterGlobal");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {},
start: function() {},
onEnable: function() {},
onDisable: function() {},
onClickHelp: function(e) {
o.default.clickManager(e.target);
r.showRuleHelp(a.rule, 1);
},
onClickBanner: function(e) {
o.default.clickManager(e.target);
cc.director.emit(n.EVENT_PYRAMID_SHARE_WX, 1);
}
});
cc._RF.pop();
}, {
"../../Script/ProjectConfig": "ProjectConfig",
CommonEventName: "CommonEventName",
PromoterGlobal: "PromoterGlobal",
PromoterPrefabMgr: "PromoterPrefabMgr"
} ],
PromoterTabMy: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "af559CPW3ZHPq8kl8XP3mGr", "PromoterTabMy");
var o = s(e("../../Script/ProjectConfig")), n = s(e("../../Script/UI/CommonPrefabMgr")), r = s(e("../../Script/BaseFormat")), a = s(e("./../../Script/GameFramework/ApiMgr"));
function s(e) {
return e && e.__esModule ? e : {
default: e
};
}
var c = e("GameEngineUtil"), l = e("PromoterGlobal"), u = e("CommonEventName"), d = e("QrCodeUtil"), f = e("PromoterPrefabMgr");
cc.Class({
extends: cc.Component,
properties: {
YesTotalLabel: cc.Label,
YesDirectTotalLabel: cc.Label,
YesOtherTotalLabel: cc.Label,
DirectAmountLabel: cc.Label,
OtherAmountAlabel: cc.Label,
TotalLabel: cc.Label,
ReceiveButtonLabel: cc.Label,
ReceiveButton: cc.Button,
QRCodeView: cc.Node,
Top3Node: {
type: cc.Node,
default: []
},
ReceiveButtonBgArr: {
type: cc.SpriteFrame,
default: []
},
ReceiveButtonFontArr: {
type: cc.Font,
default: []
}
},
onLoad: function() {
this.status = 0;
this.ReceiveButton && (this.ReceiveButton.node.opacity = 0);
},
start: function() {
this.setConfigView();
},
loadData: function(e) {
if (e) {
this.setInfoView(e.info);
this.setTop3(e.top3);
}
},
setInfoView: function(e) {
if (e) {
this.status = e.status;
this.YesTotalLabel && (this.YesTotalLabel.string = r.default.formatAmount(e.award_yesterday));
this.YesDirectTotalLabel && (this.YesDirectTotalLabel.string = r.default.formatAmount(e.award_yesterday_direct));
this.YesOtherTotalLabel && (this.YesOtherTotalLabel.string = r.default.formatAmount(e.award_yesterday - e.award_yesterday_direct));
this.DirectAmountLabel && (this.DirectAmountLabel.string = e.direct_count + "");
this.OtherAmountAlabel && (this.OtherAmountAlabel.string = e.other_count + "");
this.TotalLabel && (this.TotalLabel.string = "您已累计获得好友返利：" + r.default.formatAmount(e.award) + "元");
if (!this.ReceiveButtonLabel || !this.ReceiveButton || !this.ReceiveButton.node.getComponent(cc.Sprite)) return;
this.ReceiveButton.node.opacity = 255;
var t = e.award_unreceived;
if (0 == t) {
e.award > 0 ? this.ReceiveButtonLabel.string = "已领取" : this.ReceiveButtonLabel.string = "暂无收益";
this.ReceiveButton.node.getComponent(cc.Sprite).spriteFrame = this.ReceiveButtonBgArr[1];
this.ReceiveButtonLabel.font = this.ReceiveButtonFontArr[1];
} else if (t > 0) {
this.ReceiveButtonLabel.string = "领取奖励(" + r.default.formatAmount(t) + "元)";
this.ReceiveButton.node.getComponent(cc.Sprite).spriteFrame = this.ReceiveButtonBgArr[0];
this.ReceiveButtonLabel.font = this.ReceiveButtonFontArr[0];
}
this.ReceiveButton.interactable = 0 != t;
}
},
setConfigView: function() {
l.invite_img && c.cachePromotionImage(l.invite_img, 1);
l.profit_img && c.cachePromotionImage(l.profit_img, 2);
d.generateQrView(this.QRCodeView, l.link);
},
setTop3: function(e) {
if (e && 3 === e.length && this.Top3Node && 3 === this.Top3Node.length) for (var t = 0; t < 3; t++) if (this.Top3Node[t]) {
var i = this.Top3Node[t].getChildByName("Label"), o = this.Top3Node[t].getChildByName("TotalValue");
i && i.getComponent(cc.Label) && (i.getComponent(cc.Label).string = e[t].nickname);
o && o.getComponent(cc.Label) && (o.getComponent(cc.Label).string = r.default.formatAmount(e[t].award));
}
},
onEnable: function() {},
onDisable: function() {},
onClickQRView: function(e) {
o.default.clickManager(e.target);
f.showQrCodeDialog(l.link);
},
onClickWechat: function(e) {
o.default.clickManager(e.target);
cc.director.emit(u.EVENT_PYRAMID_SHARE_WX, 1);
},
onClickCopyLink: function(e) {
var t = cc.find("Canvas/Promoter");
o.default.clickManager(e.target);
if (1 === t.scale) {
f.showCopyLinkDialog(l.tips, l.link);
c.copyText(l.link);
}
},
onClickReceivePrize: function(e) {
o.default.clickManager(e.target);
if (1 != this.status) {
var t = this;
a.default.receivePrize(function(e) {
cc.loader.loadRes(o.default.variable.curSkin + "/common/prefab/promoter/DialogPrize", function(i, o) {
if (o) {
var a = cc.instantiate(o);
if (a && a.getComponent("PromoterDialogPrize")) {
var s = {
link: l.link,
win: r.default.formatAmount(e.amount),
ext: e.include_past,
last_top: e.last_top
};
a.getComponent("PromoterDialogPrize").showDialog(s);
cc.director.getScene().getChildByName("Canvas").addChild(a, n.default.layerZOrder.dialog);
t.ReceiveButtonLabel && (t.ReceiveButtonLabel.string = "已领取");
t.ReceiveButton && (t.ReceiveButton.interactable = !1);
t.ReceiveButton.node.getComponent(cc.Sprite).spriteFrame = t.ReceiveButtonBgArr[1];
t.ReceiveButtonLabel.font = t.ReceiveButtonFontArr[1];
cc.director.emit(u.EVENT_PYRAMID_REDDOT, !1);
cc.director.emit(u.refreshUserInfo);
}
}
});
}, function(e) {
n.default.createToast(e.msg ? e.msg : "领取失败");
});
} else n.default.createToast("推广员身份已被禁用，暂无法领取奖励");
}
});
cc._RF.pop();
}, {
"../../Script/BaseFormat": "BaseFormat",
"../../Script/ProjectConfig": "ProjectConfig",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"./../../Script/GameFramework/ApiMgr": "ApiMgr",
CommonEventName: "CommonEventName",
GameEngineUtil: "GameEngineUtil",
PromoterGlobal: "PromoterGlobal",
PromoterPrefabMgr: "PromoterPrefabMgr",
QrCodeUtil: "QrCodeUtil"
} ],
PromoterTabWeek: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "9e221jNHLJJTKk1b+OvDRLJ", "PromoterTabWeek");
var o = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("./../../Script/GameFramework/ApiMgr"));
cc.Class({
extends: cc.Component,
properties: {
ContentNode: cc.Node,
PromoterWeekItem: cc.Prefab,
EmptyNode: cc.Node,
MeItem: cc.Node,
ScrollView: cc.ScrollView
},
onLoad: function() {
this.spawnCount = 6;
this.totalCount = 0;
this.spacing = 0;
this.itemTemplateHeight = 70;
this.items = [];
this.updateTimer = 0;
this.updateInterval = .2;
this.lastContentPosY = 0;
this.bufferZone = this.spawnCount * (this.itemTemplateHeight + this.spacing) / 2;
},
start: function() {
var e = this;
o.default.getPromoterWeekRank(function(t) {
if (t) if (t.list && t.list.length > 0 && e.PromoterWeekItem) {
e.EmptyNode.active = !1;
e.ContentNode.removeAllChildren();
e.data = t.list;
for (var i = 0; i < e.data.length; i++) e.data[i].rank = i + 1;
e.totalCount = t.list.length;
e.ContentNode.height = e.totalCount * (e.itemTemplateHeight + e.spacing) + e.spacing;
e.totalCount < e.spawnCount && (e.spawnCount = e.totalCount);
for (var o = 0; o < e.spawnCount; ++o) {
var n = cc.instantiate(e.PromoterWeekItem);
e.ContentNode.addChild(n);
n.setPosition(0, -n.height * (.5 + o) - e.spacing * (o + 1));
n.getComponent("PromoterWeekItem").initData(e.data[o]);
e.items.push(n);
}
} else e.EmptyNode.active = !0; else e.EmptyNode.active = !0;
t.my && e.MeItem && e.MeItem.getComponent("PromoterWeekItem") && e.MeItem.getComponent("PromoterWeekItem").initData(t.my);
}, function(e) {});
},
getPositionInView: function(e) {
var t = e.parent.convertToWorldSpaceAR(e.position);
return this.ScrollView.node.convertToNodeSpaceAR(t);
},
update: function(e) {
this.updateTimer += e;
if (!(this.updateTimer < this.updateInterval)) {
this.updateTimer = 0;
for (var t = this.items, i = this.ContentNode.y < this.lastContentPosY, o = (this.itemTemplateHeight + this.spacing) * t.length, n = 0, r = 0; r < t.length; ++r) {
var a = this.getPositionInView(t[r]);
if (i) {
n = t[r].y + o;
if (a.y < -this.bufferZone && n < 0) {
t[r].y = n;
var s = t[r].getComponent("PromoterWeekItem"), c = s.itemID - t.length;
s.initData(this.data[c]);
}
} else {
n = t[r].y - o;
if (a.y > this.bufferZone && n > -this.ContentNode.height) {
t[r].y = n;
var l = t[r].getComponent("PromoterWeekItem"), u = l.itemID + t.length;
l.initData(this.data[u]);
}
}
}
this.lastContentPosY = this.ScrollView.content.y;
}
},
onEnable: function() {},
onDisable: function() {}
});
cc._RF.pop();
}, {
"./../../Script/GameFramework/ApiMgr": "ApiMgr"
} ],
PromoterWeekItem: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "550cf7mQ51BqpKLwhT7nKu3", "PromoterWeekItem");
var o = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("../../Script/BaseFormat"));
var n = e("CommonFunction");
cc.Class({
extends: cc.Component,
properties: {
LabelRank: cc.Label,
LabelNick: cc.Label,
LabelWeekRebate: cc.Label,
SpriteAvatar: cc.Sprite,
SpriteBoard: cc.Node,
itemID: 0,
SpriteRank: cc.Sprite,
LabelRankFont: cc.Font,
RankBgArr: {
type: cc.SpriteFrame,
default: []
}
},
initData: function(e) {
if (e) {
this.itemID = e.rank - 1;
if (e.rank > 0 && e.rank <= 3) {
this.LabelRank && (this.LabelRank.node.active = !1);
if (this.SpriteRank) {
this.SpriteRank.node.active = !0;
this.SpriteRank.spriteFrame = this.RankBgArr[e.rank - 1];
}
} else {
this.LabelRank && (this.LabelRank.node.active = !0);
this.SpriteRank && (this.SpriteRank.node.active = !1);
if (e.rank > 3 && e.rank <= 8) {
if (this.LabelRank) {
this.LabelRank.font = this.LabelRankFont;
this.LabelRank.node.color = cc.Color.WHITE.fromHEX("#ffffff");
this.LabelRank.string = "NO." + e.rank;
}
} else if (this.LabelRank) {
this.LabelRank.font = null;
var t = cc.Color.WHITE;
cc.vv.beautifulgame ? t = cc.Color.WHITE.fromHEX("#ebe19b") : cc.vv.souhu && (t = cc.Color.WHITE.fromHEX("#4E83BC"));
var i = this.LabelRank.node.getComponent(cc.LabelOutline);
i || (i = this.LabelRank.node.addComponent(cc.LabelOutline));
this.LabelRank.node.color = t;
i.color = t;
this.LabelRank.string = 0 == e.rank ? "未上榜" : "" + e.rank;
}
}
this.LabelNick && (this.LabelNick.string = e.location);
this.LabelWeekRebate && (this.LabelWeekRebate.string = o.default.formatAmount(e.award));
var r = e.avatar || "", a = 0;
void 0 != e.gender && null != e.gender && (a = 1 == e.gender ? 1 : 0);
var s = n.getAvatarFromAtlas(r, a);
this.SpriteAvatar && s && (this.SpriteAvatar.spriteFrame = s);
}
}
});
cc._RF.pop();
}, {
"../../Script/BaseFormat": "BaseFormat",
CommonFunction: "CommonFunction"
} ],
Promoter: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "7d607YnGVZDn4opZu4HEJ2J", "Promoter");
var o = c(e("../../Script/UI/CommonPrefabMgr")), n = c(e("../../Script/ProjectConfig")), r = c(e("../../Script/Audio/CommonAudio")), a = c(e("../../Script/Audio/CommonAudioMgr")), s = c(e("./../../Script/GameFramework/ApiMgr"));
function c(e) {
return e && e.__esModule ? e : {
default: e
};
}
var l = e("PromoterGlobal");
cc.Class({
extends: cc.Component,
properties: {
MarqueeNode: cc.Node,
BannerNode: cc.Node,
TabNodes: cc.Node,
ViewNodes: cc.Node,
TabBgArray: {
type: cc.SpriteFrame,
default: []
},
TabLabelFontArr: {
type: cc.Font,
default: []
},
TabMyNode: cc.Node,
contentFrame: cc.Node
},
onLoad: function() {
this.SelectIndex = 0;
this.node.width = cc.winSize.width;
this.node.height = cc.winSize.height;
cc.isValid(this.MarqueeNode) && (this.MarqueeNode.opacity = 0);
cc.isValid(this.contentFrame) && (this.contentFrame.opacity = 0);
this.TabNodes.children && 0 != this.TabNodes.children.length && this.ViewNodes.children && 0 != this.ViewNodes.children.length || this.onBackClick();
cc.director.on(cc.vv.eventName.EVENT_PYRAMID_EXIT, this.quit, this);
a.default.playEffect(r.default.common.shareSys);
},
onDestroy: function() {
cc.director.off(cc.vv.eventName.EVENT_PYRAMID_EXIT, this.quit, this);
},
loadPromoterData: function() {
var e = this;
s.default.getMyPromoter(function(t) {
e.TabMyNode && e.TabMyNode.getComponent("PromoterTabMy") && e.TabMyNode.getComponent("PromoterTabMy").loadData({
info: t.info,
top3: t.top3
});
e.setBarrage(t.barrage);
}, function(e) {});
e.setBanner(l.banners);
},
setBanner: function(e) {
this.BannerNode && this.BannerNode.getComponent("PromoterBanner") && this.BannerNode.getComponent("PromoterBanner").onDataLoaded(e);
},
setBarrage: function(e) {
this.MarqueeNode && this.MarqueeNode.getComponent("PromoterMarque") && this.MarqueeNode.getComponent("PromoterMarque").loadData(e);
},
clickTab: function(e, t) {
var i = this;
if (t != i.SelectIndex && !(t < 0 || t >= i.TabNodes.childrenCount)) {
i.TabNodes.children.forEach(function(e) {
if (e) {
e.getComponent(cc.Sprite) && (e.getComponent(cc.Sprite).spriteFrame = i.TabBgArray[0]);
var t = e.getChildByName("Label");
cc.vv.beautifulgame ? t && (t.color = cc.Color.WHITE.fromHEX("#C5CBFD")) : cc.vv.souhu && t && t.getComponent(cc.Label) && (t.getComponent(cc.Label).font = i.TabLabelFontArr[0]);
}
});
var o = i.TabNodes.children[t];
o.getComponent(cc.Sprite) && (o.getComponent(cc.Sprite).spriteFrame = i.TabBgArray[1]);
var n = o.getChildByName("Label");
cc.vv.beautifulgame ? n && (n.color = cc.Color.WHITE.fromHEX("#FFFFFF")) : cc.vv.souhu && n && n.getComponent(cc.Label) && (n.getComponent(cc.Label).font = i.TabLabelFontArr[1]);
i.ViewNodes.children[t].active = !0;
i.ViewNodes.children[i.SelectIndex].active = !1;
i.SelectIndex = t;
}
},
onBackClick: function(e) {
n.default.clickManager(e.target);
a.default.playEffect(r.default.common.btnMusic);
o.default.removeCommonLoading();
this.quit();
},
quit: function() {
this.node.destroy();
},
show: function() {
var e = this, t = cc.callFunc(function() {
e.loadPromoterData();
}), i = cc.callFunc(function() {
cc.isValid(e.contentFrame) && e.contentFrame.runAction(cc.sequence(cc.delayTime(0), cc.fadeIn(.2), cc.delayTime(.2), t));
});
if (cc.isValid(e.node)) {
e.node.setPosition(0, 0);
e.node.opacity = 0;
e.node.scale = 0;
e.node.active = !0;
e.node.runAction(cc.sequence(cc.spawn(cc.fadeTo(.15, 255), cc.scaleTo(.15, 1.1)), cc.scaleTo(.15, 1), i)).easing(cc.easeSineOut());
}
},
dismiss: function() {
var e = this;
r.default.common && r.default.common.btnMusic && a.default.playEffect(r.default.common.btnMusic);
cc.isValid(e.node) && e.node.runAction(cc.sequence(cc.scaleTo(.08, 1.1), cc.scaleTo(.1, 0), cc.delayTime(.2), cc.callFunc(function() {
e.node.destroy();
}, this.node))).easing(cc.easeIn(3));
}
});
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/ProjectConfig": "ProjectConfig",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"./../../Script/GameFramework/ApiMgr": "ApiMgr",
PromoterGlobal: "PromoterGlobal"
} ],
QrCodeUtil: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "50a0eYiSw5P66DN5gOSLG+f", "QrCodeUtil");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = function() {
function e() {}
e.generateQrView = function(e, t) {
if ("string" == typeof t && e && t) {
var i = e.addComponent(cc.Graphics), o = new QRCode(-1, QRErrorCorrectLevel.H);
o.addData(t);
o.make();
i.fillColor = cc.Color.BLACK;
for (var n = e.width / o.getModuleCount(), r = e.height / o.getModuleCount(), a = 0; a < o.getModuleCount(); a++) for (var s = 0; s < o.getModuleCount(); s++) if (o.isDark(a, s)) {
var c = Math.ceil((s + 1) * n) - Math.floor(s * n), l = Math.ceil((a + 1) * n) - Math.floor(a * n);
i.rect(Math.round(s * n), Math.round(a * r), c, l);
i.fill();
}
}
};
return e;
}();
i.default = o;
cc._RF.pop();
}, {} ],
RechargeAgencyItem: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "54f09eCuOpJB5fW3yBz99g7", "RechargeAgencyItem");
e("WithdrawGlobal");
var o = {
bankcard: "银行卡",
wechat: "微信",
alipay: "支付宝",
other: "其它"
};
cc.Class({
extends: cc.Component,
properties: {
labelOrderID: cc.Label,
labelPrice: cc.Label,
labelPayType: cc.Label,
labelStatus: cc.RichText,
labelTs: cc.Label,
bg: cc.Node,
bg_dis: cc.Node
},
init: function(e, t) {
this.labelOrderID.string = e.id.toString().slice(-8);
this.labelPrice.string = e.price;
this.labelPayType.string = o[e.extend.pay_type];
var i = "";
if (0 == e.status || 1 == e.status) {
i = "审核中";
this.labelStatus.node.color = new cc.Color().fromHEX(WithdrawProjectConfig.color.agency_wait);
} else if (4 == e.status || 8 == e.status) {
i = "未通过";
this.labelStatus.node.color = new cc.Color().fromHEX(WithdrawProjectConfig.color.agency_fail);
} else if (2 == e.status) {
i = "已到账";
this.labelStatus.node.color = new cc.Color().fromHEX(WithdrawProjectConfig.color.agency_finished);
}
this.labelStatus.string = i;
var n = "" + e.ts;
this.labelTs.string = n.slice(2);
this.callBack = t;
this.bankcardInfo = e.extend.bankcard_info;
this.transferInfo = e;
this.status = e.status;
"function" == typeof this.callBack && this.callBack(this.bankcardInfo, this.status, this.transferInfo);
},
setItemNormal: function() {
this.bg.active = !1;
this.bg_dis.active = !0;
},
setItemSelect: function() {
this.bg.active = !0;
this.bg_dis.active = !1;
"function" == typeof this.callBack && this.callBack(this.bankcardInfo, this.status, this.transferInfo);
}
});
cc._RF.pop();
}, {
WithdrawGlobal: "WithdrawGlobal"
} ],
RechargeAwaitTransfer: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "ecddffYZBBFL60kjtvbnBjf", "RechargeAwaitTransfer");
var o = c(e("../../../../Script/ProjectConfig")), n = c(e("../../../../Script/UI/CommonPrefabMgr")), r = c(e("../../../../Script/LocalStorage/LocalStorageUtil")), a = c(e("../../../../Script/Audio/CommonAudioMgr")), s = c(e("../../../../Script/Audio/CommonAudio"));
function c(e) {
return e && e.__esModule ? e : {
default: e
};
}
var l = e("RechargePrefabMgr"), u = e("GameEngineUtil");
cc.Class({
extends: cc.Component,
properties: {
myBankInfo: cc.Node,
myCardInfo: cc.Node,
myNameInfo: cc.Node,
myMoneyInfo: cc.Node,
myTransferBank: cc.Label,
myTransferName: cc.Label,
myTransferMoney: cc.Label,
myTransferType: cc.Label,
myTransferCard: cc.Label,
offTransferBank: cc.Label,
offTransferName: cc.Label,
offTransferBankSub: cc.Label,
offTransferBankCode: cc.Label,
contDownLab: cc.Label,
contDownIcon: cc.Node,
guideNode: cc.Node,
guideUrl: "",
_time: 0
},
onLoad: function() {
if (1 != r.default.readBankTransGu2()) {
this.guideNode && 0 == this.guideNode.active && (this.guideNode.active = !0);
r.default.saveBankTransGu2(1);
}
},
init: function(e, t, i, o, n, r, a, s) {
var c = this;
c.selectTransferType = e;
c.myTransferType.string = "bankcard" == e ? "转账银行：" : "wechat" == e ? "转账微信：" : "alipay" == e ? "转账支付宝：" : "转账方式：";
if (i.bankcard_info) {
c.offTransferBankCode.string = i.bankcard_info.account_number + "";
c.offTransferName.string = i.bankcard_info.account_holder;
c.offTransferBank.string = i.bankcard_info.bank;
c.offTransferBankSub.string = i.bankcard_info.subbranch;
} else {
c.offTransferBank.string = "";
c.offTransferName.string = "";
c.offTransferBankSub.string = "";
c.offTransferBankCode.string = "";
}
if (t) {
if (null != t.bank && t.bank.length > 0) {
c.myBankInfo.active = !0;
c.myTransferBank.string = t.bank;
} else {
c.myBankInfo.active = !1;
c.myTransferBank.string = "";
}
if (null != t.name && t.name.length > 0) {
c.myNameInfo.active = !0;
c.myTransferName.string = t.name;
} else {
c.myNameInfo.active = !1;
c.myTransferName.string = "";
}
if (null != t.money && t.money.length > 0) {
c.myMoneyInfo.active = !0;
c.myTransferMoney.string = t.money;
} else {
c.myMoneyInfo.active = !1;
c.myTransferMoney.string = "";
}
if (null != t.account && t.account.length > 0) {
c.myCardInfo.active = !0;
c.myTransferCard.string = t.account;
} else {
c.myCardInfo.active = !1;
c.myTransferCard.string = "";
}
} else {
c.myBankInfo.active = !1;
c.myCardInfo.active = !1;
c.myNameInfo.active = !1;
c.myMoneyInfo.active = !1;
c.myTransferBank.string = "";
c.myTransferName.string = "";
c.myTransferMoney.string = "";
c.myTransferCard.string = "";
}
c._time = a || 0;
if (c._time <= 0) {
c.contDownLab.string = "0";
c.contDownLab.node.active = !1;
c.contDownIcon.active = !1;
} else {
var l = (parseInt(c._time / 60) || 0) + "", u = (parseInt(c._time % 60) || 0) + "";
c.contDownLab.string = l + "分" + u + "秒";
c.contDownLab.node.active = !0;
c.contDownIcon.active = !0;
c.countDownCallback = function() {
if (c._time <= 0) {
c.unschedule(c.countDownCallback);
c.contDownLab.string = "0";
c.contDownLab.node.active = !1;
c.contDownIcon.active = !1;
} else {
var e = (parseInt(c._time / 60) || 0) + "", t = (parseInt(c._time % 60) || 0) + "";
c.contDownLab.string = e + "分" + t + "秒";
c._time--;
}
};
c.schedule(c.countDownCallback, 1);
}
c.bankUrl = o;
c.alipayUrl = n;
c.guideUrl = r;
c.callBack = s;
},
dismiss: function() {
a.default.playEffect(s.default.common.btnMusic);
if (this.node) {
this.node.active = !1;
this.node.removeFromParent();
}
this.callBack();
},
copyAccount: function() {
a.default.playEffect(s.default.common.btnMusic);
var e = this.offTransferBankCode.string;
u.copyText(e);
n.default.createToast("复制成功");
},
copyHolder: function() {
a.default.playEffect(s.default.common.btnMusic);
var e = this.offTransferName.string;
u.copyText(e);
n.default.createToast("复制成功");
},
clickTransferGuideAction: function(e) {
o.default.clickManager(e.target);
a.default.playEffect(s.default.common.btnMusic);
l.createTransferGuidePages(this.bankUrl, this.alipayUrl, this.selectTransferType);
},
clickGuideAction: function() {
a.default.playEffect(s.default.common.btnMusic);
this.guideNode && 1 == this.guideNode.active && (this.guideNode.active = !1);
}
});
cc._RF.pop();
}, {
"../../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../../../Script/ProjectConfig": "ProjectConfig",
"../../../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
GameEngineUtil: "GameEngineUtil",
RechargePrefabMgr: "RechargePrefabMgr"
} ],
RechargeBankListItem: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "0c7f0JxNvpH+IRLyBusGOgp", "RechargeBankListItem");
cc.Class({
extends: cc.Component,
properties: {
labelName: {
type: cc.Node,
default: null
},
labelBg: {
type: cc.Node,
default: null
},
_onItemSelectCallback: null,
_bankName: null
},
onLoad: function() {
cc.director.on("recharge_banklist_item_unselect", this.hideItemBg, this);
},
onDisable: function() {
cc.director.off("recharge_banklist_item_unselect");
},
init: function(e, t) {
this._bankName = e;
this.labelName && (this.labelName.getComponent(cc.Label).string = e);
this._onItemSelectCallback = t;
},
onItemClick: function() {
cc.director.emit("recharge_banklist_item_unselect");
this.showItemBg();
this._onItemSelectCallback && this._onItemSelectCallback(this._bankName);
},
showItemBg: function() {
this.labelBg && (this.labelBg.active = !0);
this.labelName && (cc.vv.beautifulgame ? this.labelName.color = new cc.Color(255, 229, 57) : cc.vv.souhu && (this.labelName.color = new cc.Color(255, 255, 255)));
},
hideItemBg: function() {
this.labelBg && (this.labelBg.active = !1);
this.labelName && (cc.vv.beautifulgame ? this.labelName.color = cc.color(238, 206, 157) : cc.vv.souhu && (this.labelName.color = cc.color(59, 132, 193)));
}
});
cc._RF.pop();
}, {} ],
RechargeBankList: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "cfabeeP9l5FyYnW0Gp8YlWW", "RechargeBankList");
r(e("../../../../Script/LocalStorage/LocalStorageUtil"));
var o = r(e("../../../../Script/Audio/CommonAudioMgr")), n = r(e("../../../../Script/Audio/CommonAudio"));
function r(e) {
return e && e.__esModule ? e : {
default: e
};
}
cc.Class({
extends: cc.Component,
properties: {
listView: {
default: null,
type: cc.Node
},
listItemPrefab: {
type: cc.Prefab,
default: null
},
scrollView: {
type: cc.ScrollView,
default: null
},
_bankName: null
},
onLoad: function() {
this.showDefaultBankList();
},
autoScrollViewToTop: function() {
this.scrollView.scrollToBottom(0);
this.scrollView.scrollToTop(.5);
},
onItemSelect: function(e) {
o.default.playEffect(n.default.common.btnMusic);
this._bankName = e;
},
onOkButtonClick: function() {
o.default.playEffect(n.default.common.btnMusic);
this.onClose();
},
onClose: function() {
o.default.playEffect(n.default.common.btnMusic);
if (this.node) {
this.node.active = !1;
this.node.removeFromParent();
}
},
showDefaultBankList: function(e, t, i) {
var o = [];
if (t && t.length > 0) for (var n = 0; n < t.length; n++) {
var r = t[n];
o.push(r);
}
if (e && e.length > 0) for (var a = 0; a < e.length; a++) {
var s = e[a];
o.indexOf(s) < 0 && o.push(s);
}
for (var c = 0; c < o.length; c++) {
var l = o[c], u = cc.instantiate(this.listItemPrefab);
u && u.getComponent("RechargeBankListItem") && u.getComponent("RechargeBankListItem").init(l, function(e) {
i(e);
});
cc.isValid(this.listView) && this.listView.addChild(u);
}
this.schedule(this.autoScrollViewToTop, .5, 0, 0);
}
});
cc._RF.pop();
}, {
"../../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil"
} ],
RechargeComplaintAgent: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "3857ccrwgRGzJ4qX1/b7MLr", "RechargeComplaintAgent");
var o = l(e("../../Script/BaseFormat")), n = l(e("../../Script/UI/CommonPrefabMgr")), r = l(e("../../Script/Audio/CommonAudioMgr")), a = l(e("../../Script/Audio/CommonAudio")), s = l(e("../../Script/ProjectConfig")), c = l(e("./../../Script/GameFramework/ApiMgr"));
function l(e) {
return e && e.__esModule ? e : {
default: e
};
}
var u = e("ComponentSkinRes"), d = e("DialogUtil"), f = e("RechargeSecondModel"), h = e("GameEngineUtil");
cc.Class({
extends: cc.Component,
properties: {
avatar: cc.Sprite,
nickName: cc.Label,
feedback_edit: cc.EditBox,
submitBtn: cc.Node,
_toggleArr: []
},
onLoad: function() {
this.init();
},
showDialog: function() {
var e = {
type: "sprite",
content: u.topUp.beautifulgame.titleComplaintAgentSprite
};
d.addNormalDialog(this.node, e);
},
init: function() {
var e = this;
cc.isValid(e.nickName) && (e.nickName.string = f.nickname || "");
f.avatar && f.avatar.length > 0 && cc.loader.load(f.avatar, function(t, i) {
if (null == t) {
var o = new cc.SpriteFrame(i);
o && cc.isValid(e.avatar) && (e.avatar.spriteFrame = o);
}
});
},
clickContainerFrame: function(e, t) {
r.default.playEffect(a.default.common.btnMusic);
var i = parseInt(t);
if (this._toggleArr) {
var o = this._toggleArr.indexOf(i);
1 == e.isChecked ? o < 0 && this._toggleArr.push(i) : o > -1 && this._toggleArr.splice(o, 1);
}
},
clickSubmitBtn: function() {
r.default.playEffect(a.default.common.btnMusic);
if (cc.isValid(this.feedback_edit)) {
var e = this.feedback_edit.string;
if (o.default.checkWordLength(e, 12)) {
n.default.createToast("投诉内容至少为6个汉字或12个字符");
return;
}
}
if (s.default.hasNetWork()) {
var t = {
types: this._toggleArr,
agency_id: f.id,
images: this.images,
content: this.feedback_edit.string
};
c.default.PostAppeal(t, function() {
n.default.createToast("您的投诉已经提交，请留意客服消息。");
d.removeNormalDialog();
}, function() {});
} else n.default.createToast("The network is abnormal. Please try again later");
},
clickUploadImage: function() {
r.default.playEffect(a.default.common.btnMusic);
cc.sys.isNative && s.default.variable.nativeVersion >= 3 ? h.openAlbum() : n.default.createToast("请重新下载客户端，更新至最新版本");
},
uploadingImageSucceed: function(e) {
if (e) {
var t = e || "";
null == t || t.length <= 0 ? n.default.createToast("图片上传失败，请稍后再试！") : s.default.hasNetWork() || n.default.createToast("请检查手机网络");
}
}
});
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/BaseFormat": "BaseFormat",
"../../Script/ProjectConfig": "ProjectConfig",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"./../../Script/GameFramework/ApiMgr": "ApiMgr",
ComponentSkinRes: "ComponentSkinRes",
DialogUtil: "DialogUtil",
GameEngineUtil: "GameEngineUtil",
RechargeSecondModel: "RechargeSecondModel"
} ],
RechargeContactAgent: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "55a93zL6gFNfZLUMw7uqx/H", "RechargeContactAgent");
var o = s(e("../../../../Script/Audio/CommonAudioMgr")), n = s(e("../../../../Script/Audio/CommonAudio")), r = s(e("../../../../Script/UI/CommonPrefabMgr")), a = s(e("../../../../Script/LocalStorage/LocalStorageUtil"));
function s(e) {
return e && e.__esModule ? e : {
default: e
};
}
var c = e("GameEngineUtil");
cc.Class({
extends: cc.Component,
properties: {
mainWrap: cc.Node,
TxtWrap: {
default: [],
type: cc.Node
},
lbinfo: cc.RichText,
Qbtn: cc.Button,
WXbtn: cc.Button,
JBbtn: cc.Button,
nick_name: cc.String,
final_id: cc.String,
guideNode: cc.Node
},
onLoad: function() {
var e = this;
if (e.JBbtn) {
e.JBbtn.active = !0;
e.JBbtn.node && e.JBbtn.node.on("touchend", function() {
o.default.playEffect(n.default.common.btnMusic);
e.openJB();
}, this);
}
if (1 != a.default.readVIPTopUpTransGu2()) {
e.guideNode && 0 == e.guideNode.active && (e.guideNode.active = !0);
a.default.saveVIPTopUpTransGu2(1);
}
},
initWithData: function(e) {
var t = this;
t.lbinfo && (t.lbinfo.string = "仅支持" + e.min_amount + "元以上代理充值");
for (var i in e) {
if ("qq" == i) {
var o = e[i];
t.final_id = "QQ: " + o;
if (null != o) {
if (o.replace(/\s+/g, "").length > 0) {
if (t.TxtWrap && t.TxtWrap[0]) {
t.TxtWrap[0].active = !0;
t.TxtWrap[0].getChildByName("lbtxt2") && t.TxtWrap[0].getChildByName("lbtxt2").getComponent(cc.Label) && (t.TxtWrap[0].getChildByName("lbtxt2").getComponent(cc.Label).string = e.qq);
}
t.Qbtn && t.Qbtn.node && t.Qbtn.node.on("touchend", function() {
t.openQ(e.qq);
}, this);
}
}
}
if ("weixin" == i) {
var n = e[i];
t.final_id = "微信: " + n;
if (null != n) {
if (n.replace(/\s+/g, "").length > 0) {
if (t.TxtWrap && t.TxtWrap[1]) {
t.TxtWrap[1].active = !0;
t.TxtWrap[1].getChildByName("lbtxt2") && t.TxtWrap[1].getChildByName("lbtxt2").getComponent(cc.Label) && (t.TxtWrap[1].getChildByName("lbtxt2").getComponent(cc.Label).string = e.weixin);
}
t.WXbtn && t.WXbtn.node && t.WXbtn.node.on("touchend", function() {
t.openWX(e.weixin);
}, this);
}
}
}
}
this.nick_name = e.nick_name;
},
openQ: function(e) {
o.default.playEffect(n.default.common.btnMusic);
if (cc.sys.os == cc.sys.OS_IOS) {
c.copyText(e);
r.default.createToast("代理QQ号已复制，即将跳转QQ，长按输入框即可粘贴QQ号添加好友");
setTimeout(function() {
e && "" != e && !isNaN(e) ? c.openUrlByDefaultBrowser("mqq://im/chat?chat_type=wpa&uin=" + e + "&version=1&src_type=web") : c.openUrlByDefaultBrowser("mqq://im/chat?chat_type=wpa&uin=1&version=1&src_type=web");
}, 1e3);
} else if (cc.sys.os == cc.sys.OS_ANDROID) if (c.hasQQ()) {
c.copyText(e);
r.default.createToast("代理QQ号已复制，即将跳转QQ，长按输入框即可粘贴QQ号添加好友");
setTimeout(function() {
c.startApp("1:" + e);
}, 1e3);
} else r.default.createToast("请先安装QQ。");
},
openWX: function(e) {
o.default.playEffect(n.default.common.btnMusic);
if (cc.sys.os == cc.sys.OS_IOS) {
c.copyText(e);
r.default.createToast("代理微信号已复制，即将跳转微信，长按输入框即可粘贴微信号添加好友");
setTimeout(function() {
c.openUrlByDefaultBrowser("weixin://dl/chat");
}, 1e3);
} else if (cc.sys.os == cc.sys.OS_ANDROID) if (c.hasWeChat()) {
c.copyText(e);
r.default.createToast("代理微信号已复制，即将跳转微信，长按输入框即可粘贴微信号添加好友");
setTimeout(function() {
c.startApp("2:" + e);
}, 1e3);
} else r.default.createToast("请先安装微信。");
},
openJB: function() {
o.default.playEffect(n.default.common.btnMusic);
r.default.createReportAgent(this.nick_name);
},
closeDialog: function() {
o.default.playEffect(n.default.common.btnMusic);
this.mainWrap && this.mainWrap.runAction(cc.sequence(cc.scaleTo(.15, 1.1).easing(cc.easeSineOut()), cc.spawn(cc.fadeOut(.1), cc.scaleTo(.1, 0)), cc.callFunc(function() {
this.active = !1;
this.destroy();
}, this.node)));
},
clickGuideAction: function() {
o.default.playEffect(n.default.common.btnMusic);
this.guideNode && (this.guideNode.active = !1);
}
});
cc._RF.pop();
}, {
"../../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
GameEngineUtil: "GameEngineUtil"
} ],
RechargeCustomer: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "6874fpaJNlKR7UIZwiYHk2Z", "RechargeCustomer");
var o = c(e("../../../../../Script/UI/CommonPrefabMgr")), n = c(e("../../../../../Script/Audio/CommonAudioMgr")), r = c(e("../../../../../Script/Audio/CommonAudio")), a = c(e("../../../../../Script/ProjectConfig")), s = c(e("../../../../../Script/BaseFormat"));
function c(e) {
return e && e.__esModule ? e : {
default: e
};
}
var l = e("TopUpDataMgr"), u = e("GamePayLanguage");
cc.Class({
extends: cc.Component,
properties: {
inputBox: cc.EditBox,
orderListPrefab: cc.Prefab,
rechargeServicePrefab: cc.Prefab,
bottomTips: cc.RichText,
btnWrap: cc.Node,
btnItemPrefab: cc.Prefab
},
onLoad: function() {
cc.vv.beautifulgame && cc.vv.editBoxMgr.addOutlineWithNode(this.inputBox.node);
window.buttonClick = !0;
var e = this;
e.payData = l.getChannelData(3888);
if (e.payData) {
this.max_amount = e.payData.max_amount;
this.min_amount = e.payData.min_amount;
isNaN(e.payData.base) ? e.base = 1 : e.base = e.payData.base;
0 == e.base ? e.inputBox.inputMode = 5 : e.inputBox.inputMode = 2;
this.clickMilious = [];
this.bottomTips && e.payData.comment && (this.bottomTips.string = e.payData.comment);
this.btnWrap && this.btnWrap.removeAllChildren();
this.amountArr = e.payData.recharge_amount.split(",");
var t = s.default.stringFormat(u.recharge.place_holder, {
MinAmount: e.min_amount,
MaxAmount: e.max_amount
}), i = {
min_amount: e.min_amount,
max_amount: e.max_amount
};
e.inputBox && (e.inputBox.placeholder = t);
if (this.amountArr && this.amountArr.length > 0) for (var o = 0; o < this.amountArr.length; o++) if (o < 8) {
var n = this.amountArr[o], r = cc.instantiate(e.btnItemPrefab);
r && r.getComponent("RechargePlusBtn") && r.getComponent("RechargePlusBtn").initData(n, i);
cc.isValid(e.btnWrap) && e.btnWrap.addChild(r);
}
cc.director.on("GamepayBet", function(t) {
var i = parseInt(t);
e.inputBox && (e.inputBox.string = i + "");
});
}
},
initContentView: function() {},
onOrderListClick: function() {
n.default.playEffect(r.default.common.btnMusic);
if (a.default.hasNetWork()) {
if (this.orderListPrefab) {
var e = cc.instantiate(this.orderListPrefab);
if (e && e.getComponent("RechargeOrder")) {
e.getComponent("RechargeOrder").init(this.payData);
e.getComponent("RechargeOrder").showDialog();
}
}
} else o.default.createToast("The network is abnormal. Please try again later");
},
onAmountClick: function(e, t) {
this.inputBox && (this.inputBox.string = [ 100, 500, 1e3, 2e3, 3e3, 5e3, 1e4 ][t]);
},
onClearInputClick: function() {
n.default.playEffect(r.default.common.btnMusic);
this.inputBox && (this.inputBox.string = "");
},
onSubmitClick: function() {
n.default.playEffect(r.default.common.btnMusic);
if (window.buttonClick) {
window.buttonClick = !1;
this.schedule(function() {
window.buttonClick = !0;
}, 1, 0, 0);
var e = void 0;
if (e = 0 == this.base ? parseFloat(this.inputBox.string) : parseInt(this.inputBox.string)) {
var t = e;
if (0 == this.base || t % this.base == 0) if (this.min_amount && t < this.min_amount) o.default.createToast("充值金额最低" + this.min_amount + "元"); else if (this.max_amount && this.max_amount > 0 && t > this.max_amount) o.default.createToast("充值金额最高" + this.max_amount + "元"); else {
var i = this, a = function() {
if (i.rechargeServicePrefab) {
var e = cc.instantiate(i.rechargeServicePrefab);
if (e && e.getComponent("RechargeService")) {
e.getComponent("RechargeService").init(-1, t);
e.getComponent("RechargeService").showDialog();
}
}
};
if (this.clickMilious.length < 4) {
var s = Date.parse(new Date());
this.clickMilious.push(s);
a();
} else {
var c = this.clickMilious[0], l = Date.parse(new Date());
if (l - c <= 3e4) {
o.default.createToast("操作频繁，请稍后重试");
return;
}
this.clickMilious.push(l);
this.clickMilious.splice(0, 1);
a();
}
} else o.default.createToast("请输入" + this.base + "的倍数");
} else o.default.createToast("请输入充值金额");
}
},
onInputBoxTextChanged: function() {
if (this.inputBox) {
var e = this.inputBox.string, t = this.trimInputNumber(e);
this.inputBox.string = t;
}
},
trimInputNumber: function(e) {
var t = "";
if (e += "") for (var i = 0; i < e.length; i++) {
var o = e.charAt(i);
"0" != o && "1" != o && "2" != o && "3" != o && "4" != o && "5" != o && "6" != o && "7" != o && "8" != o && "9" != o || (t += o);
}
return t;
}
});
cc._RF.pop();
}, {
"../../../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../../../../Script/BaseFormat": "BaseFormat",
"../../../../../Script/ProjectConfig": "ProjectConfig",
"../../../../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
GamePayLanguage: "GamePayLanguage",
TopUpDataMgr: "TopUpDataMgr"
} ],
RechargeDialog: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "b3f72s9D8JMVJeZ7h6MUFHF", "RechargeDialog");
var o = u(e("../../Script/UI/CommonPrefabMgr")), n = u(e("../../Script/ProjectConfig")), r = u(e("../../Script/Audio/CommonAudioMgr")), a = u(e("../../Script/Audio/CommonAudio")), s = u(e("../../Script/LocalStorage/LocalStorageUtil")), c = u(e("../../Script/UserManager")), l = u(e("./../../Script/GameFramework/ApiMgr"));
function u(e) {
return e && e.__esModule ? e : {
default: e
};
}
var d = e("TopUpUIMgr"), f = e("CommonEventName");
cc.Class({
extends: cc.Component,
properties: {
mask: cc.Node,
frame: cc.Node,
body: cc.Node,
leftFrame: cc.Node,
rightFrame: cc.Node,
left_bar: cc.Node,
content: cc.Node,
leftBottomBtn: cc.Node,
leftBarItem: cc.Prefab,
loading: cc.Node,
dropUp: cc.Node,
dropDown: cc.Node,
leftScrollView: cc.ScrollView,
rechargeHistoryRedDot: cc.Node,
_maxScrollOffsetY: 0,
_tabList: [],
_contentPrefabArr: [],
_contentPrefabPath: [],
_leftbarChildren: [],
_contentList: [],
_defaultLeftTabIndex: 0,
disableMaskView: cc.Node
},
onLoad: function() {
s.default.clearPayStatusIsRequest();
this.initEvent();
},
initEvent: function() {
var e = this;
if ("1" != s.default.readPayStatusIsRequest()) {
e.disableMaskView.active = !1;
e.disableMaskView.opacity = 0;
}
cc.director.on("enable_pay_view_click", function(t) {
e.disableMaskView.active = !1;
}, e);
cc.director.on("disable_pay_view_click", function(t) {
e.disableMaskView.active = !0;
}, e);
},
showRechargeDialogView: function(e, t) {
var i = this;
i.initEvent();
o.default.removeCommonLoading();
if (cc.isValid(i.node)) {
var r = n.default.getSceneCanvas();
if (cc.isValid(r)) {
i.node.parent = r;
i.node.zIndex = n.default.layerZOrder.Dialog - 100;
var a = !1;
if (e && t) {
a = !0;
i.initRechargeDialog();
i._contentList = t;
i._tabList = e;
}
if ("4888" == cc.vv.last_click_pay_channel) {
cc.director.emit(cc.vv.eventName.CHECK_SECOND_MSG_NEW);
cc.director.emit(cc.vv.eventName.REFRESH_FAST_PAY_LIST_RED_DOT);
}
var s = cc.callFunc(function() {
if (cc.isValid(i.rightFrame)) {
i.rightFrame.active = !0;
i.requestPayUnRead();
}
}), c = cc.callFunc(function() {
if (cc.isValid(i.body)) {
i.setUpRechargeUI(a);
i.body.opacity = 0;
i.body.active = !0;
i.body.runAction(cc.sequence(cc.delayTime(.04), cc.fadeIn(.2), cc.delayTime(.2), s));
}
});
if (cc.isValid(i.node)) {
i.node.setPosition(0, 0);
i.node.opacity = 0;
i.node.scale = 0;
i.rightFrame.active = !1;
i.mask.width = cc.winSize.width;
i.mask.height = cc.winSize.height;
i.node.active = !0;
i.node.runAction(cc.sequence(cc.spawn(cc.fadeIn(.15), cc.scaleTo(.15, 1.1)), cc.scaleTo(.15, 1), c)).easing(cc.easeSineOut());
}
}
}
},
setupLeftBarTabPosition: function() {
if (this._leftbarChildren) for (var e = this._leftbarChildren.length, t = 0; t < e; t++) {
var i = this._leftbarChildren[t], o = i.y, n = i.width;
i.setPosition(-n - 50, o);
}
},
playLeftTabAnimation: function(e) {
if (this._leftbarChildren) {
for (var t = this._leftbarChildren.length, i = 0; i < t; i++) {
var o = this._leftbarChildren[i];
cc.isValid(o) && o.runAction(cc.sequence(cc.delayTime(.2 + e + .06 * i), cc.moveTo(.4, cc.v2(0, o.y))));
}
this.content.runAction(cc.sequence(cc.delayTime(.06 * t + e), cc.fadeIn(.2)));
}
},
hideRechargeDialogView: function(e) {
e && e.target && n.default.clickManager(e.target);
var t = this;
r.default.playEffect(a.default.common.btnMusic);
o.default.removeCommonLoading();
if (cc.isValid(t.node)) {
t.node.runAction(cc.sequence(cc.scaleTo(.08, 1.1), cc.scaleTo(.1, 0), cc.callFunc(function() {
if (cc.isValid(t.node)) {
t.node.active = !1;
t.body.active = !1;
t.body.opacity = 0;
t.cacheNodeToRoot();
}
}, t.node))).easing(cc.easeIn(3));
cc.director.emit(f.refreshUserInfo);
}
cc.director.emit(f.MAKE_SHOW_GAME);
},
cacheNodeToRoot: function() {
var e = cc.director.getScene();
if (cc.isValid(e)) {
var t = e.getChildByName("rootNode");
if (cc.isValid(t)) {
this.node.parent = t;
this.node.zIndex = n.default.layerZOrder.Dialog - 100;
}
}
},
initRechargeDialog: function() {
var e = this;
e.rechargeHistoryRedDot.active = !1;
cc.director.on(f.REFRESH_PAY_UNREAD_MSG, function() {
e.requestPayUnRead();
});
e._contentPrefabArr = [];
e._contentPrefabPath = [];
e._leftbarChildren = [];
e._contentList = [];
e._defaultLeftTabIndex = 0;
e._thisPayUnreadRequestTime = 0;
cc.director.emit(cc.vv.eventName.CHECK_SECOND_MSG_NEW);
},
rechargeDialogAction: function() {
var e = this;
e._tabList = [];
d.loadPayChannels(function(t, i, r) {
var a = n.default.getSceneCanvas();
if (cc.isValid(a) && cc.isValid(e.node)) {
var s = a.getChildByName("RechargeDialog");
s && a.removeChild(s);
o.default.removeCommonLoading();
a.addChild(e.node, 500);
var c = setTimeout(function() {
e._contentList = i;
e._tabList = t;
e.addTabChild(r);
e.loading.active = !1;
clearInterval(c);
}, 500);
}
});
},
setUpRechargeUI: function(e) {
if (e) {
this.addTabChild();
this.loading.active = !1;
}
},
addTabChild: function() {
var e = this;
if (cc.isValid(e.left_bar) && cc.isValid(e.content)) {
e.left_bar.removeAllChildren();
e.content.removeAllChildren();
for (var t = function(t) {
var i = t, o = e._tabList[t], n = cc.instantiate(e.leftBarItem);
if (n && n.getComponent(o.prefabScript)) {
n.getComponent(o.prefabScript).initData(o.prefabData);
e._leftbarChildren.push(n);
}
cc.isValid(e.left_bar) && e.left_bar.addChild(n);
cc.isValid(e.leftScrollView) && e.leftScrollView.scrollToTop(0);
var s = void 0;
e.left_bar && (s = e.left_bar.children) && s[e._defaultLeftTabIndex] && s[e._defaultLeftTabIndex].getComponent(o.prefabScript) && s[e._defaultLeftTabIndex].getComponent(o.prefabScript).setItemSelect();
n && n.on("click", function() {
r.default.playEffect(a.default.common.btnMusic);
e._defaultLeftTabIndex != i && e.onClickTabItem(i);
});
}, i = 0; i < e._tabList.length; i++) t(i);
e._tabList.length > 5 ? e.dropDown && (e.dropDown.opacity = 255) : e.dropDown && (e.dropDown.opacity = 0);
e.dropUp && (e.dropUp.opacity = 0);
e.onClickTabItem(e._defaultLeftTabIndex);
}
},
scrollViewEventsAction: function() {
if (!(this._tabList.length <= 5)) {
this._maxScrollOffsetY = this.leftScrollView.getMaxScrollOffset().y;
var e = this.leftScrollView.getScrollOffset().y / this._maxScrollOffsetY;
if (e <= 0) {
0 != this.dropUp.opacity && (this.dropUp.opacity = 0);
255 != this.dropDown.opacity && (this.dropDown.opacity = 255);
} else if (e >= 1) {
0 != this.dropDown.opacity && (this.dropDown.opacity = 0);
255 != this.dropUp.opacity && (this.dropUp.opacity = 255);
} else {
255 != this.dropUp.opacity && (this.dropUp.opacity = 255);
255 != this.dropDown.opacity && (this.dropDown.opacity = 255);
}
}
},
onClickTabItem: function(e) {
if (this._leftbarChildren) {
this._leftbarChildren[this._defaultLeftTabIndex] && this._leftbarChildren[this._defaultLeftTabIndex].getComponent("WalletTopUpLeftTabItem").setItemNormal();
this._leftbarChildren[e] && this._leftbarChildren[e].getComponent("WalletTopUpLeftTabItem").setItemSelect();
this._defaultLeftTabIndex = e;
this.initContent(this._defaultLeftTabIndex);
}
},
initContent: function(e) {
var t = this;
cc.vv.last_click_pay_channel = t._contentList[e].prefabData.source_type;
if (t._contentPrefabArr && t._contentPrefabArr.length > 0) for (var i = 0; i < t._contentPrefabArr.length; i++) t._contentPrefabArr[i].active = !1;
var o = t._contentPrefabPath.indexOf(t._contentList[e].prefabData.source_type);
if (o > -1) {
t._contentPrefabArr && (t._contentPrefabArr[o].active = !0);
t.initContentData(e, t._contentPrefabArr[o]);
} else cc.loader.loadRes(t._contentList[e].prefabPath, function(i, o) {
if (!i && o) {
var n = cc.instantiate(o);
cc.isValid(t.content) && t.content.addChild(n);
t._contentPrefabArr && null != n && t._contentPrefabArr.push(n);
t._contentPrefabPath && null != t._contentList && t._contentPrefabPath.push(t._contentList[e].prefabData.source_type);
t.initContentData(e, n);
}
});
},
initContentData: function(e, t) {
this._contentList && this._contentList[e].prefabScript && t.getComponent(this._contentList[e].prefabScript) && t.getComponent(this._contentList[e].prefabScript).initContentView(this._contentList[e].prefabData);
},
requestPayUnRead: function() {
var e = this, t = {
t: s.default.getPayUnreadLastRequestTime(c.default.uid)
};
l.default.PayUnread(t, function(t) {
if (t) {
e._thisPayUnreadRequestTime = t.t;
var i = !1;
1 == t.has_unread_msg && (i = !0);
cc.isValid(e.rechargeHistoryRedDot) && (e.rechargeHistoryRedDot.active = i);
}
});
},
clickRechargeRecording: function() {
r.default.playEffect(a.default.common.btnMusic);
if (cc.isValid(this.rechargeHistoryRedDot)) {
s.default.savePayUnreadLastRequestTime(c.default.uid, this._thisPayUnreadRequestTime);
this.rechargeHistoryRedDot.active = !1;
}
n.default.clickManager(this.leftBottomBtn);
o.default.createRechargeRecord();
},
dismiss: function() {
cc.director.off(f.REFRESH_PAY_UNREAD_MSG);
cc.director.off("enable_pay_view_click");
cc.director.off("disable_pay_view_click");
if (this.node.getComponent("CommonDialog")) {
this.node.getComponent("CommonDialog").dismiss();
cc.director.emit(f.refreshUserInfo);
}
},
onDisable: function() {
cc.director.off(f.REFRESH_PAY_UNREAD_MSG);
cc.director.off("enable_pay_view_click");
cc.director.off("disable_pay_view_click");
}
});
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../Script/ProjectConfig": "ProjectConfig",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"../../Script/UserManager": "UserManager",
"./../../Script/GameFramework/ApiMgr": "ApiMgr",
CommonEventName: "CommonEventName",
TopUpUIMgr: "TopUpUIMgr"
} ],
RechargeEvaluationAgent: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "894dfzgOEVIVauvBNS2yJvm", "RechargeEvaluationAgent");
var o = a(e("../../Script/UI/CommonPrefabMgr")), n = a(e("../../Script/ProjectConfig")), r = a(e("./../../Script/GameFramework/ApiMgr"));
function a(e) {
return e && e.__esModule ? e : {
default: e
};
}
var s = e("ComponentRes"), c = e("RechargeRecordingModel"), l = e("DialogUtil");
cc.Class({
extends: cc.Component,
properties: {
nickName: cc.Label,
avatar: cc.Sprite,
evaluationEdit: cc.EditBox,
submitBtn: cc.Node,
starArr: {
default: [],
type: cc.Sprite
},
starLight: cc.SpriteFrame,
starDis: cc.SpriteFrame,
placeholder: cc.Node,
_callBack: null
},
onLoad: function() {
this._starCount = 5;
this._subStar = 0;
this.init();
},
showDialog: function(e) {
"function" == typeof e && (this._callBack = e);
var t = {
type: "sprite",
content: s.topUp.titleEvaluationAgentSprite
};
l.addNormalDialog(this.node, t);
},
init: function() {
var e = this;
cc.isValid(e.nickName) && (e.nickName.string = c.agency_nickname);
if (e.starArr) {
for (var t = 0; t < e.starArr.length; t++) e.starArr[t].spriteFrame = e.starLight;
e._subStar = e._starCount;
}
c.agency_avatar && c.agency_avatar.length > 0 && cc.loader.load(c.agency_avatar, function(t, i) {
if (null == t) {
var o = new cc.SpriteFrame(i);
o && cc.isValid(e.avatar) && (e.avatar.spriteFrame = o);
}
});
},
clickStar: function(e, t) {
var i = parseInt(t);
if (i > this._starCount) {
for (var o = 0; o < this.starArr.length; o++) for (var n = 0; n < i; n++) this.starArr[n].spriteFrame = this.starLight;
this._starCount = i;
} else if (i < this._starCount) {
for (var r = this.starArr.length - 1; r >= 0; r--) for (var a = this.starArr.length - 1; a >= i; a--) this.starArr[a].spriteFrame = this.starDis;
this._starCount = i;
} else if (i == this._starCount) {
for (var s = 0; s < this.starArr.length; s++) for (var c = 0; c < i; c++) this.starArr[c].spriteFrame = this.starLight;
this._starCount = i;
}
this._subStar = i;
},
clickSubmitBtn: function() {
var e = this, t = void 0;
cc.isValid(e.evaluationEdit) && (t = e.evaluationEdit.string);
if (n.default.hasNetWork()) {
var i = {
order_id: c.id,
star: e._subStar,
content: t
};
r.default.PostComment(i, function() {
o.default.createToast("评价成功！");
l.removeNormalDialog();
e._callBack && e._callBack();
}, function() {});
} else o.default.createToast("The network is abnormal. Please try again later");
},
editingDidBegan: function() {
cc.isValid(this.placeholder) && (this.placeholder.active = !1);
},
editingDidEnded: function() {
if (cc.isValid(this.evaluationEdit)) {
var e = this.evaluationEdit.string;
"" != e && 0 != e.length || cc.isValid(this.placeholder) && (this.placeholder.active = !0);
}
}
});
cc._RF.pop();
}, {
"../../Script/ProjectConfig": "ProjectConfig",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"./../../Script/GameFramework/ApiMgr": "ApiMgr",
ComponentRes: "ComponentRes",
DialogUtil: "DialogUtil",
RechargeRecordingModel: "RechargeRecordingModel"
} ],
RechargeEvaluationDetails: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "5847aXdWglHMqsN8oB7Sg7z", "RechargeEvaluationDetails");
var o = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("../../Script/BaseFormat"));
var n = e("ComponentRes"), r = e("DialogUtil"), a = e("RechargeRecordingModel");
cc.Class({
extends: cc.Component,
properties: {
nickName: cc.Label,
avatar: cc.Sprite,
comment_content: cc.Label,
starArr: {
default: [],
type: cc.Sprite
},
starLight: cc.SpriteFrame,
starDis: cc.SpriteFrame
},
onLoad: function() {
this.initContent();
},
showDialog: function() {
var e = {
type: "sprite",
content: n.topUp.titleEvaluationDetailsSprite
};
r.addNormalDialog(this.node, e);
},
initContent: function() {
for (var e = this, t = a.comment_star, i = a.comment_content.replace(/\s+/g, ""), n = a.agency_nickname, r = a.agency_avatar, s = 0; s < t; s++) e.starArr[s].spriteFrame = e.starLight;
cc.isValid(e.nickName) && (e.nickName.string = n);
if (cc.isValid(e.comment_content) && o.default.isValidString(i)) {
o.default.checkWordLength(i, 1) ? e.comment_content.string = "你没有发表评论哦～" : e.comment_content.string = i;
o.default.checkWordLength(i, 40) ? e.comment_content.horizontalAlign = cc.Label.HorizontalAlign.CENTER : e.comment_content.horizontalAlign = cc.Label.HorizontalAlign.LEFT;
}
r && r.length > 0 && cc.loader.load(r, function(t, i) {
if (null == t) {
var o = new cc.SpriteFrame(i);
o && cc.isValid(e.avatar) && (e.avatar.spriteFrame = o);
}
});
}
});
cc._RF.pop();
}, {
"../../Script/BaseFormat": "BaseFormat",
ComponentRes: "ComponentRes",
DialogUtil: "DialogUtil",
RechargeRecordingModel: "RechargeRecordingModel"
} ],
RechargeGuidePages: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "60613+6VNZE+r9yoSZ+OF+e", "RechargeGuidePages");
cc.Class({
extends: cc.Component,
properties: {
content: cc.WebView,
_bankUrl: "",
_alipayUrl: ""
},
onLoad: function() {},
init: function(e, t, i) {
this._bankUrl = e;
this._alipayUrl = t;
"bankcard" == i ? this.clickBankBrn() : this.clickAlipayBtn();
},
clickAlipayBtn: function() {
var e = this;
e.node.getChildByName("top").getChildByName("btnAlipay").color = new cc.color("#FFFFFF");
e.node.getChildByName("top").getChildByName("btnBank").color = new cc.color("#A09E9E");
e.scheduleOnce(function() {
e.content.url = e._alipayUrl;
}, .5);
},
clickBankBrn: function() {
var e = this;
e.node.getChildByName("top").getChildByName("btnAlipay").color = new cc.color("#A09E9E");
e.node.getChildByName("top").getChildByName("btnBank").color = new cc.color("#FFFFFF");
e.scheduleOnce(function() {
e.content.url = e._bankUrl;
}, .5);
},
dismiss: function() {
if (this.node) {
this.node.active = !1;
this.node.removeFromParent();
}
}
});
cc._RF.pop();
}, {} ],
RechargeNoticeDialog: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "7c3fbnSRWpM3alqqLp5frZH", "RechargeNoticeDialog");
var o = r(e("../../../Script/Audio/CommonAudioMgr")), n = r(e("../../../Script/Audio/CommonAudio"));
function r(e) {
return e && e.__esModule ? e : {
default: e
};
}
var a = e("FullScreenAdapter");
cc.Class({
extends: cc.Component,
properties: {
txt1: cc.RichText,
txt2: cc.RichText,
txt3: cc.RichText
},
onLoad: function() {
a.applyHorizon(this.node.getChildByName("mask"));
},
init: function(e) {
this.txt1.string = "";
this.txt2.string = "";
this.txt3.string = "";
e.length >= 3 && (this.txt3.string = e[2]);
e.length >= 2 && (this.txt2.string = e[1]);
e.length >= 1 && (this.txt1.string = e[0]);
this.show();
},
show: function() {},
hideDialog: function() {
o.default.playMultiEffect(n.default.common.btnMusic);
this.node.active = !1;
this.node.removeFromParent();
}
});
cc._RF.pop();
}, {
"../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
FullScreenAdapter: "FullScreenAdapter"
} ],
RechargeOrderItem: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "7d619Udtr9JrIyakfwqkjfm", "RechargeOrderItem");
var o = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("../../../../../Script/UI/CommonPrefabMgr"));
var n = e("GameEngineUtil");
cc.Class({
extends: cc.Component,
properties: {
orderId: cc.Label,
orderAmount: cc.Label,
orderStatus: cc.Label,
orderTime: cc.Label,
agent: cc.Label,
textColors: {
default: [],
type: cc.Color
},
rechargeServicePrefab: cc.Prefab
},
bindData: function(e) {
this.payInfo = e;
this.orderId.string = "订单号:" + e.id;
this.orderAmount.string = e.price + "元";
this.orderTime.string = "充值时间：" + e.ts;
this.agent.string = "代理员：" + e.extend.agency_id;
if (1 == e.status) {
this.orderStatus.string = "未完成";
this.orderStatus.node.color = this.textColors[0];
} else if (2 == e.status) {
this.orderStatus.string = "成功";
this.orderStatus.node.color = this.textColors[1];
} else if (4 == e.status) {
this.orderStatus.string = "失败";
this.orderStatus.node.color = this.textColors[2];
} else if (8 == e.status) {
this.orderStatus.string = "取消";
this.orderStatus.node.color = this.textColors[3];
}
},
onCopyClick: function() {
n.copyText("订单号：" + this.payInfo.id);
o.default.createToast("复制成功");
},
onContactAgentClick: function() {
if (this.rechargeServicePrefab) {
var e = cc.instantiate(this.rechargeServicePrefab);
if (e && e.getComponent("RechargeService")) {
e.getComponent("RechargeService").init(this.payInfo.extend.service_id, this.payInfo.price);
e.getComponent("RechargeService").showDialog();
}
}
}
});
cc._RF.pop();
}, {
"../../../../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
GameEngineUtil: "GameEngineUtil"
} ],
RechargeOrder: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "45d1aZN3WhOhoQWmATz0KuB", "RechargeOrder");
var o = c(e("../../../../../Script/UI/CommonPrefabMgr")), n = c(e("../../../../../Script/Audio/CommonAudioMgr")), r = c(e("../../../../../Script/Audio/CommonAudio")), a = c(e("../../../../../Script/ProjectConfig")), s = c(e("./../../../../../Script/GameFramework/ApiMgr"));
function c(e) {
return e && e.__esModule ? e : {
default: e
};
}
var l = e("DialogUtil"), u = e("ComponentRes");
cc.Class({
extends: cc.Component,
properties: {
scrollView: cc.Node,
contentWrap: cc.Node,
orderItemPrefab: cc.Prefab,
emptyInfo: cc.Node,
nextBtn: cc.Node,
preBtn: cc.Node,
tips: cc.Label,
currentPage: 0,
pageSize: 10,
total: 0
},
init: function(e) {
this.payData = e;
this.isLoading = !1;
this.loadOrderList(0);
},
showDialog: function() {
l.addNormalDialog(this.node, {
type: "sprite",
content: u.topUp.titleRechargeOrderSprite
}, {
width: 1100,
height: 670
});
},
onPreBtnClick: function() {
n.default.playEffect(r.default.common.btnMusic);
if (a.default.hasNetWork()) {
if (0 != this.total) if (this.currentPage <= 0) this.currentPage = 0; else {
this.currentPage = parseInt(this.currentPage) - 1;
this.loadOrderList(this.currentPage);
}
} else o.default.createToast("The network is abnormal. Please try again later");
},
onNextBtnClick: function() {
n.default.playEffect(r.default.common.btnMusic);
if (a.default.hasNetWork()) {
if (0 != this.total) if (this.currentPage >= this.getMaxPage()) this.currentPage = this.getMaxPage(); else {
this.currentPage = parseInt(this.currentPage) + 1;
this.loadOrderList(this.currentPage);
}
} else o.default.createToast("The network is abnormal. Please try again later");
},
getMaxPage: function() {
return Math.ceil(this.total / this.pageSize);
},
loadOrderList: function(e) {
var t = this;
if (!t.isLoading) {
t.isLoading = !0;
var i = {
pay_type: t.payData.pay_type,
page: e
};
s.default.getOrderHistory(i, function(i) {
t.isLoading = !1;
if (i) {
var o = i.pays_info;
t.total = i.count;
if (o.length <= 0) {
t.emptyInfo.active = !0;
t.contentWrap.active = !1;
t.preBtn.active = !1;
t.nextBtn.active = !1;
t.tips.node.active = !0;
} else {
t.emptyInfo.active = !1;
t.contentWrap.active = !0;
t.preBtn.active = !0;
t.nextBtn.active = !0;
t.tips.node.active = !0;
t.setBottomBtnStatus(e);
t.fillData(o);
}
t.total > 0 && (t.tips.string = "每页10条数据，当前第" + (e + 1) + "页");
}
}, function() {
t.isLoading = !1;
});
}
},
setBottomBtnStatus: function(e) {
var t = this.getMaxPage();
if (t <= 1) {
this.preBtn.active = !1;
this.nextBtn.active = !1;
} else if (0 == e) {
this.preBtn.active = !1;
this.nextBtn.active = !0;
} else if (e == t - 1) {
this.preBtn.active = !0;
this.nextBtn.active = !1;
} else {
this.preBtn.active = !0;
this.nextBtn.active = !0;
}
},
fillData: function(e) {
this.contentWrap.active = !0;
this.contentWrap.removeAllChildren();
for (var t = 0; t < e.length; t++) {
var i = cc.instantiate(this.orderItemPrefab);
i.getComponent("RechargeOrderItem").bindData(e[t]);
cc.isValid(this.contentWrap) && this.contentWrap.addChild(i);
}
this.scrollView.getComponent(cc.ScrollView).scrollToTop(0);
},
onCloseClick: function() {
if (this.node) {
this.node.active = !1;
this.node.removeFromParent();
}
}
});
cc._RF.pop();
}, {
"../../../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../../../../Script/ProjectConfig": "ProjectConfig",
"../../../../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"./../../../../../Script/GameFramework/ApiMgr": "ApiMgr",
ComponentRes: "ComponentRes",
DialogUtil: "DialogUtil"
} ],
RechargePlusBtn: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "72d5bivXJVEjq1UFXh6Yxu4", "RechargePlusBtn");
var o = r(e("../../../../Script/Audio/CommonAudioMgr")), n = r(e("../../../../Script/Audio/CommonAudio"));
function r(e) {
return e && e.__esModule ? e : {
default: e
};
}
cc.Class({
extends: cc.Component,
properties: {
lbTxt: cc.Label,
rechargePlusBtn: cc.Button,
txtFont: cc.Font
},
onLoad: function() {},
initData: function(e, t) {
var i = this;
i.lbTxt && (i.lbTxt.string = e);
if (parseInt(e) < parseInt(t.min_amount) || parseInt(e) > parseInt(t.max_amount)) {
i.rechargePlusBtn.interactable = !1;
i.lbTxt.font = i.txtFont;
cc.vv.souhu;
} else i.node && i.node.on("touchend", function() {
i.selectItem(e);
});
},
selectItem: function(e) {
o.default.playEffect(n.default.common.btnMusic);
cc.director.emit("GamepayBet", e);
}
});
cc._RF.pop();
}, {
"../../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr"
} ],
RechargePrefabMgr: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "49e02g/5OJD4pbpmg6/pyJt", "RechargePrefabMgr");
var o = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("../../../../Script/ProjectConfig"));
var n = 500, r = {
beautifulgame: {
transferGu1: o.default.variable.curSkin + "/common/prefab/wallet/topup/guide/RechargeTransferGuide1",
transferGu2: o.default.variable.curSkin + "/common/prefab/wallet/topup/guide/RechargeTransferGuide2",
transferExplanation: o.default.variable.curSkin + "/common/prefab/wallet/topup/guide/RechargeTransferExplanation",
alert_PaySuccess: o.default.variable.curSkin + "/common/prefab/wallet/topup/RechargePaySuccess",
bankList: o.default.variable.curSkin + "/common/prefab/wallet/topup/RechargeBankList",
awaitTransfer: o.default.variable.curSkin + "/common/prefab/wallet/topup/RechargeAwaitTransfer",
guidePages: o.default.variable.curSkin + "/common/prefab/wallet/topup/guide/RechargeGuidePages",
qrcode: o.default.variable.curSkin + "/common/prefab/wallet/topup/RechargeQrcode"
},
handsome: {
transferGu1: o.default.variable.curSkin + "/common/prefab/wallet/topup/guide/RechargeTransferGuide1",
transferGu2: o.default.variable.curSkin + "/common/prefab/wallet/topup/guide/RechargeTransferGuide2",
transferExplanation: o.default.variable.curSkin + "/common/prefab/wallet/topup/guide/RechargeTransferExplanation",
alert_PaySuccess: o.default.variable.curSkin + "/common/prefab/wallet/topup/dialog/RechargePaySuccess",
bankList: o.default.variable.curSkin + "/common/prefab/wallet/topup/bank/RechargeBankList",
awaitTransfer: o.default.variable.curSkin + "/common/prefab/wallet/topup/bank/RechargeAwaitTransfer",
guidePages: o.default.variable.curSkin + "/common/prefab/wallet/topup/guide/RechargeGuidePages",
qrcode: o.default.variable.curSkin + "/common/prefab/wallet/topup/RechargeQrcode"
}
}, a = {
ToAlert_PaySuccess: function() {
cc.loader.loadRes(r[o.default.variable.curSkin].alert_PaySuccess, function(e, t) {
if (t) {
var i = cc.instantiate(t);
if (i) {
var o = cc.director.getScene().getChildByName("Canvas");
cc.isValid(o) && o.addChild(i, n);
}
}
});
},
createTransferGu1Dialog: function() {
cc.loader.loadRes(r[o.default.variable.curSkin].transferGu1, function(e, t) {
var i = void 0, o = cc.director.getScene().getChildByName("Canvas"), r = o.getChildByName("RechargeTransferGuide1");
r && o.removeChild(r);
t && (i = cc.instantiate(t)) && cc.isValid(o) && o.addChild(i, n);
});
},
createTransferGu2Dialog: function() {
cc.loader.loadRes(r[o.default.variable.curSkin].transferGu2, function(e, t) {
var i = void 0, o = cc.director.getScene().getChildByName("Canvas"), r = o.getChildByName("RechargeTransferGuide2");
r && o.removeChild(r);
t && (i = cc.instantiate(t)) && cc.isValid(o) && o.addChild(i, n);
});
},
createTransferExplanation: function(e) {
cc.loader.loadRes(r[o.default.variable.curSkin].transferExplanation, function(t, i) {
var o = void 0, r = cc.director.getScene().getChildByName("Canvas"), a = r.getChildByName("RechargeTransferExplanation");
a && r.removeChild(a);
if (i && (o = cc.instantiate(i))) {
o.getComponent("RechargeTransferExplanation").init(e);
cc.isValid(r) && r.addChild(o, n);
}
});
},
createTransferGuidePages: function(e, t, i) {
cc.loader.loadRes(r[o.default.variable.curSkin].guidePages, function(o, r) {
var a = void 0, s = cc.director.getScene().getChildByName("Canvas"), c = s.getChildByName("RechargeGuidePages");
c && s.removeChild(c);
if (r && (a = cc.instantiate(r))) {
a.getComponent("RechargeGuidePages").init(e, t, i);
cc.isValid(s) && s.addChild(a, n);
}
});
},
createBankList: function(e, t, i) {
cc.loader.loadRes(r[o.default.variable.curSkin].bankList, function(o, r) {
if (r) {
var a = cc.instantiate(r);
if (a) {
a.getComponent("RechargeBankList").showDefaultBankList(e, t, function(e) {
i(e);
});
var s = cc.director.getScene().getChildByName("Canvas");
cc.isValid(s) && s.addChild(a, n);
}
}
});
},
createAwaitTransfer: function(e, t, i, a, s, c, l, u) {
cc.loader.loadRes(r[o.default.variable.curSkin].awaitTransfer, function(o, r) {
if (r) {
var d = cc.instantiate(r);
if (d) {
d.getComponent("RechargeAwaitTransfer").init(e, t, i, a, s, c, l, function() {
u();
});
var f = cc.director.getScene().getChildByName("Canvas");
cc.isValid(f) && f.addChild(d, n);
}
}
});
},
showQrcodeAction: function(e, t) {
cc.loader.loadRes(r[o.default.variable.curSkin].qrcode, function(i, o) {
if (o) {
var n = cc.instantiate(o);
n && n.getComponent("RechargeQrcode") && n.getComponent("RechargeQrcode").init(e, t);
}
});
}
};
t.exports = a;
cc._RF.pop();
}, {
"../../../../Script/ProjectConfig": "ProjectConfig"
} ],
RechargeQrcode: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "b74fe51akNE2KQEWeboDzw7", "RechargeQrcode");
var o = r(e("../../../Script/BaseFormat")), n = r(e("../../../Script/ProjectConfig"));
function r(e) {
return e && e.__esModule ? e : {
default: e
};
}
var a = e("GameEngineUtil"), s = e("DialogUtil"), c = e("ComponentRes");
cc.Class({
extends: cc.Component,
properties: {
payTypeLab: cc.Label,
qrcodeFrame: cc.Node,
refreshFrame: cc.Node,
realAmount: cc.Label,
subAmount: cc.Label,
saveAndOpen: cc.Node,
save: cc.Node,
screenShotFrame: cc.Node,
safetyFrame: cc.Node,
screenShotTime: cc.Label,
officialText: cc.RichText,
backGround: cc.Node,
_payType: "",
_payNumStr: ""
},
init: function(e, t) {
this._payType = "1000" == t ? "微信" : "支付宝";
this._payNumStr = t;
this.payTypeLab && (this.payTypeLab.string = this._payType);
this.showQrcodeAction(e.url);
var i = e.real_amount || 0, r = (e.order_amount || 0) - i;
this.realAmount && (this.realAmount.string = i);
this.subAmount && (this.subAmount.string = o.default.formatAmount(r, 2));
cc.sys.isNative && n.default.variable.nativeVersion >= 11 ? this.showSaveAndOpenFrame() : this.showScreenShotFrame();
this.officialText && null != e.hint && (this.officialText.string = e.hint);
s.addNormalDialog(this.node, {
type: "sprite",
content: c.topUp.titleQRcodeRechargeSprite
});
},
showSaveFrame: function() {
this.saveAndOpen && (this.saveAndOpen.active = !1);
this.save && (this.save.active = !0);
this.screenShotFrame && (this.screenShotFrame.active = !1);
},
showSaveAndOpenFrame: function() {
if (this.saveAndOpen) {
this.saveAndOpen.active = !0;
this.saveAndOpen.getChildByName("text") && (this.saveAndOpen.getChildByName("text").getComponent(cc.Label).string = "保存截图到相册并打开" + this._payType);
}
this.save && (this.save.active = !1);
this.screenShotFrame && (this.screenShotFrame.active = !1);
},
showScreenShotFrame: function() {
this.saveAndOpen && (this.saveAndOpen.active = !1);
this.save && (this.save.active = !1);
if (this.screenShotFrame) {
this.screenShotFrame.active = !0;
this.screenShotFrame.getChildByName("payType") && (this.screenShotFrame.getChildByName("payType").getComponent(cc.Label).string = this._payType);
}
},
showQrcodeAction: function(e) {
var t = this.qrcodeFrame.addComponent(cc.Graphics);
if ("string" == typeof e) {
var i = new QRCode(-1, QRErrorCorrectLevel.H);
i.addData(e);
i.make();
t.fillColor = cc.Color.BLACK;
for (var o = this.qrcodeFrame.width / i.getModuleCount(), n = this.qrcodeFrame.height / i.getModuleCount(), r = 0; r < i.getModuleCount(); r++) for (var a = 0; a < i.getModuleCount(); a++) if (i.isDark(r, a)) {
var s = Math.ceil((a + 1) * o) - Math.floor(a * o), c = Math.ceil((r + 1) * o) - Math.floor(r * o);
t.rect(Math.round(a * o), Math.round(r * n), s, c);
t.fill();
}
this.backGround && (this.backGround.active = !0);
this.qrcodeFrame && (this.qrcodeFrame.active = !0);
this.refreshFrame && (this.refreshFrame.active = !1);
}
},
clickSaveAndOpenAction: function() {
var e = this;
e.saveAndOpen && (e.saveAndOpen.active = !1);
e.safetyFrame && (e.safetyFrame.active = !0);
e.transitionTimeAction();
e.scheduleOnce(function() {
a.screenShotAction(e._payNumStr);
}, .5);
},
clickSaveAction: function() {
var e = this;
e.save && (e.save.active = !1);
e.safetyFrame && (e.safetyFrame.active = !0);
e.transitionTimeAction();
e.scheduleOnce(function() {
a.screenShotAction(e._payNumStr);
}, .5);
},
transitionTimeAction: function() {
var e = new Date(), t = e.getFullYear(), i = e.getMonth() + 1;
i = i < 10 ? "0" + i : i;
var o = e.getDate();
o = o < 10 ? "0" + o : o;
var n = e.getHours();
n = n < 10 ? "0" + n : n;
var r = e.getMinutes(), a = e.getSeconds();
r = r < 10 ? "0" + r : r;
a = a < 10 ? "0" + a : a;
this.screenShotTime && (this.screenShotTime.string = t + "-" + i + "-" + o + " " + n + ":" + r + ":" + a);
}
});
cc._RF.pop();
}, {
"../../../Script/BaseFormat": "BaseFormat",
"../../../Script/ProjectConfig": "ProjectConfig",
ComponentRes: "ComponentRes",
DialogUtil: "DialogUtil",
GameEngineUtil: "GameEngineUtil"
} ],
RechargeRecordEnum: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "0de5939a8FJ17Pj4/x7go7e", "RechargeRecordEnum");
var o, n;
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var a = (n = o = function e() {
r(this, e);
}, o.payTypeEnum = {
QR_ALIPAY: 1206,
OFFICE_AGENCY_CHARGE: 1205,
JUSTPAY_WXAPP: 1204,
QUOTA_WXPAY: 1203,
QUOTA_ALIPAY: 1202,
UNION_TRANSFER: 1201,
CARD_PAY: 1019,
AGENCY_CHARGE: 1003,
JUSTPAY_JD: 1013,
JUSTPAY_QQ: 1012,
JUSTPAY_UNION: 1002,
JUSTPAY_ALI: 1001,
JUSTPAY_WX: 1e3,
JUSTPAY_MF: 4888,
CLOUD_FLASH: 88,
WEI_ZHI: 0,
properties: {
1206: {
name: "微信"
},
1205: {
name: "官方代理充值"
},
1204: {
name: "微信"
},
1203: {
name: "定额微信"
},
1202: {
name: "支付宝"
},
1201: {
name: "银行卡转账"
},
1019: {
name: "点卡支付"
},
1003: {
name: "VIP专属通道"
},
1013: {
name: "京东"
},
1012: {
name: "qq钱包"
},
1002: {
name: "银联"
},
1001: {
name: "支付宝"
},
1000: {
name: "微信"
},
4888: {
name: "秒付"
},
88: {
name: "云闪付"
},
0: {
name: "未知类型"
}
}
}, o.payStatusEnum = {
WAIT: 0,
SUBMIT: 1,
DONE: 2,
FAIL: 3,
CANCEL: 4,
RECOVER: 8,
properties: {
0: {
name: "待支付"
},
1: {
name: "待支付"
},
2: {
name: "订单交易完成"
},
3: {
name: "支付失败"
},
4: {
name: "支付失败"
},
8: {
name: "已追分"
}
}
}, n);
t.exports = a;
cc._RF.pop();
}, {} ],
RechargeRecordingItem: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "2860aQO6zhMk4RuHlg25zyC", "RechargeRecordingItem");
var o = c(e("../../Script/ProjectConfig")), n = c(e("../../Script/Audio/CommonAudioMgr")), r = c(e("../../Script/Audio/CommonAudio")), a = c(e("../../Script/UI/CommonPrefabMgr")), s = (c(e("../../Script/UserManager")), 
c(e("../../Script/LocalStorage/LocalStorageUtil")), c(e("./../../Script/GameFramework/ApiMgr")));
function c(e) {
return e && e.__esModule ? e : {
default: e
};
}
var l = e("GameEngineUtil"), u = e("RechargeRecordEnum"), d = e("CommonFunction"), f = e("UISettingModel"), h = e("RechargeRecordingModel"), p = e("RechargeSecondModel"), g = e("CustomerAppealMgr");
cc.Class({
extends: cc.Component,
properties: {
payTypeIcon: {
default: [],
type: cc.SpriteFrame
},
paumentIcon: cc.Sprite,
amount: cc.Label,
paument_name: cc.Label,
second_name: cc.Label,
number: cc.Label,
create_time: cc.Label,
pay_time: cc.Label,
status_name: cc.Node,
payTime: cc.Node,
appealBtn: cc.Node,
amountFont: cc.Font,
earthBtn: cc.Node,
earthDetailsBtn: cc.Node,
evaluationPrefab: cc.Prefab,
evaluationDetailsPrefab: cc.Prefab,
contactAgentBtn: cc.Node,
secondPayNode: cc.Node,
secondAvatar: cc.Sprite,
copyBtn: cc.Node,
itemData: [],
type: 0
},
onLoad: function() {
this.registerClickEvent();
},
updateItem: function(e, t) {
if (e) {
this.itemData = e;
this.type = t;
h.initRecordInfo(e);
var i = u.payStatusEnum, o = u.payTypeEnum;
this.defaultPayTypeIcon(o, h.type);
this.payTypeStatus(i);
this.secondPayOrder(o, i);
this.loadPayTypeIcon(o, h.type);
if (i.DONE == e.status) cc.isValid(this.amount) && (this.amount.string = "+" + h.price || 0); else if (cc.isValid(this.amount)) {
this.amount.font = null;
cc.vv.beautifulgame ? this.amount.node.color = new cc.Color(229, 195, 144) : this.amount.node.color = new cc.Color(98, 165, 207);
this.amount.string = h.price || 0;
}
cc.isValid(this.paument_name) && (this.paument_name.string = h.payTypeName);
cc.isValid(this.number) && (this.number.string = h.id);
cc.isValid(this.create_time) && (this.create_time.string = h.created_at);
cc.isValid(this.pay_time) && (this.pay_time.string = h.updated_at);
}
},
loadPayTypeIcon: function(e, t) {
var i = this, o = h.icon;
o.length > 0 && cc.loader.load(o, function(o, n) {
if (null == o) {
var r = new cc.SpriteFrame(n);
i.paumentIcon && cc.isValid(i.paumentIcon.node) && (r ? i.paumentIcon.spriteFrame = r : i.defaultPayTypeIcon(e, t));
} else i.defaultPayTypeIcon(e, t);
});
},
registerClickEvent: function() {
var e = this;
cc.isValid(e.contactAgentBtn) && e.contactAgentBtn.on("click", function() {
h.initRecordInfo(e.itemData);
e.clickContactAgentBtn();
});
cc.isValid(e.earthBtn) && e.earthBtn.on("click", function() {
h.initRecordInfo(e.itemData);
e.clickEarthBtn();
});
cc.isValid(e.copyBtn) && e.copyBtn.on("click", function() {
h.initRecordInfo(e.itemData);
e.copyOrderBtn();
});
cc.isValid(e.earthDetailsBtn) && e.earthDetailsBtn.on("click", function() {
h.initRecordInfo(e.itemData);
e.clickEarthDetailsBtn();
});
cc.isValid(e.appealBtn) && e.appealBtn.on("click", function() {
h.initRecordInfo(e.itemData);
e.onRechargeBtnClickAction();
});
},
secondPayOrder: function(e, t) {
var i = this;
if (e.JUSTPAY_MF == h.type) {
t.DONE == h.status && cc.isValid(i.payTime) && (i.payTime.active = !0);
cc.isValid(i.secondPayNode) && (i.secondPayNode.active = !0);
cc.isValid(i.contactAgentBtn) && (i.contactAgentBtn.active = !0);
cc.isValid(i.second_name) && (i.second_name.string = h.agency_nickname);
h.agency_avatar.length > 0 && cc.loader.load(h.agency_avatar, function(e, t) {
if (null == e) {
var o = new cc.SpriteFrame(t);
o && cc.isValid(i.secondAvatar) && (i.secondAvatar.spriteFrame = o);
}
});
if (h.can_comment) {
cc.isValid(i.earthBtn) && (i.earthBtn.active = !0);
cc.isValid(i.earthDetailsBtn) && (i.earthDetailsBtn.active = !1);
cc.isValid(i.appealBtn) && (i.appealBtn.active = !1);
} else if (h.comment_star > 0) {
cc.isValid(i.earthBtn) && (i.earthBtn.active = !1);
cc.isValid(i.earthDetailsBtn) && (i.earthDetailsBtn.active = !0);
cc.isValid(i.appealBtn) && (i.appealBtn.active = !1);
} else cc.isValid(i.contactAgentBtn) && cc.vv.beautifulgame && (i.contactAgentBtn.x = 640);
} else if (t.DONE == h.status) {
cc.isValid(i.payTime) && (i.payTime.active = !0);
cc.isValid(i.appealBtn) && (i.appealBtn.active = !1);
} else cc.isValid(i.appealBtn) && (i.appealBtn.active = !0);
},
payTypeStatus: function(e) {
if (cc.isValid(this.status_name) && this.status_name.getComponent(cc.Label)) if (e.WAIT == h.status) {
this.status_name.getComponent(cc.Label).string = e.properties[e.WAIT].name;
cc.vv.souhu ? this.status_name.color = new cc.color(229, 168, 0) : this.status_name.color = new cc.color(255, 88, 249);
} else if (e.SUBMIT == h.status) {
this.status_name.getComponent(cc.Label).string = e.properties[e.SUBMIT].name;
cc.vv.souhu ? this.status_name.color = new cc.color(229, 168, 0) : this.status_name.color = new cc.color(255, 88, 249);
} else if (e.DONE == h.status) {
this.status_name.getComponent(cc.Label).string = e.properties[e.DONE].name;
cc.vv.souhu ? this.status_name.color = new cc.color(55, 169, 5) : this.status_name.color = new cc.color(133, 250, 81);
} else if (e.FAIL == h.status) {
this.status_name.getComponent(cc.Label).string = e.properties[e.FAIL].name;
cc.vv.souhu ? this.status_name.color = new cc.color(255, 0, 23) : this.status_name.color = new cc.color(255, 89, 89);
} else if (e.CANCEL == h.status) {
this.status_name.getComponent(cc.Label).string = e.properties[e.CANCEL].name;
cc.vv.souhu ? this.status_name.color = new cc.color(255, 0, 23) : this.status_name.color = new cc.color(255, 89, 89);
} else if (e.RECOVER == h.status) {
this.status_name.getComponent(cc.Label).string = e.properties[e.RECOVER].name;
cc.vv.souhu ? this.status_name.color = new cc.color(55, 169, 5) : this.status_name.color = new cc.color(255, 89, 89);
}
},
defaultPayTypeIcon: function(e, t) {
var i = this, o = function(e) {
i.paumentIcon && cc.isValid(i.paumentIcon.node) && (i.paumentIcon.spriteFrame = e);
};
e.QR_ALIPAY == t ? o(i.payTypeIcon[0]) : e.OFFICE_AGENCY_CHARGE == t ? o(i.payTypeIcon[3]) : e.JUSTPAY_WXAPP == t ? o(i.payTypeIcon[0]) : e.QUOTA_WXPAY == t ? o(i.payTypeIcon[0]) : e.QUOTA_ALIPAY == t ? o(i.payTypeIcon[1]) : e.UNION_TRANSFER == t ? o(i.payTypeIcon[2]) : e.AGENCY_CHARGE == t ? o(i.payTypeIcon[5]) : e.JUSTPAY_UNION == t ? o(i.payTypeIcon[7]) : e.JUSTPAY_ALI == t ? o(i.payTypeIcon[1]) : e.JUSTPAY_WX == t ? o(i.payTypeIcon[0]) : e.CLOUD_FLASH == t ? o(i.payTypeIcon[8]) : e.JUSTPAY_QQ == t ? o(i.payTypeIcon[9]) : e.JUSTPAY_JD == t ? o(i.payTypeIcon[10]) : e.CARD_PAY == t ? o(i.payTypeIcon[6]) : e.JUSTPAY_MF == t ? o(i.payTypeIcon[11]) : cc.vv.souhu ? o(i.payTypeIcon[12]) : o(i.payTypeIcon[6]);
},
copyOrderBtn: function() {
n.default.playEffect(r.default.common.btnMusic);
l.copyText(this.formatCopyText());
a.default.createToast("复制到剪切板");
},
formatCopyText: function() {
var e = u.payStatusEnum, t = u.payTypeEnum, i = void 0;
cc.isValid(this.status_name) && this.status_name.getComponent && (i = this.status_name.getComponent(cc.Label).string);
var o = h.payTypeName, n = h.agency_nickname, r = h.id, a = h.created_at, s = h.updated_at;
return e.DONE == h.status && t.JUSTPAY_MF == h.type ? "支付类型    " + o + "\n秒付专员    " + n + "\n订单号      " + r + "\n创建时间    " + a + "\n支付时间    " + s + "\n状态        " + i : t.JUSTPAY_MF == h.type ? "支付类型    " + o + "\n秒付专员    " + n + "\n订单号      " + r + "\n创建时间    " + a + "\n状态        " + i : e.DONE == h.status ? "支付类型    " + o + "\n订单号      " + r + "\n创建时间    " + a + "\n支付时间    " + s + "\n状态        " + i : "支付类型    " + o + "\n订单号      " + r + "\n创建时间    " + a + "\n状态        " + i;
},
onRechargeBtnClickAction: function() {
n.default.playEffect(r.default.common.btnMusic);
cc.isValid(this.appealBtn) && o.default.clickManager(this.appealBtn);
if (d.checkNetwork()) {
var e = h.id, t = !1;
f.customerInfo && (null == f.customerInfo.browser && "" == f.customerInfo.browser || (t = 0 != f.customerInfo.browser));
f.appealLink ? g.dealContactOnlineCustomer(f.appealLink, function(i) {
var o = i + "&orderid=" + e;
1 == t ? l.openUrlByDefaultBrowser(o) : l.openUrlByH5Browser(o, "false", l.H5_REQUEST_CODE.CUSTOMER_SERVICE);
}) : a.default.createToast("跳转失败");
}
},
clickEarthBtn: function() {
var e = this;
n.default.playEffect(r.default.common.btnMusic);
cc.isValid(e.earthBtn) && o.default.clickManager(e.earthBtn);
if (cc.isValid(e.evaluationPrefab)) {
var t = cc.instantiate(e.evaluationPrefab);
cc.isValid(t) && t.getComponent("RechargeEvaluationAgent") && t.getComponent("RechargeEvaluationAgent").showDialog(function() {
cc.isValid(e.earthBtn) && (e.earthBtn.active = !1);
cc.isValid(e.earthDetailsBtn) && (e.earthDetailsBtn.active = !0);
e.type >= 0 ? cc.director.emit(cc.vv.eventName.REFRESH_PAY_RECORD_LIST_COMMENT) : cc.director.emit(cc.vv.eventName.REFRESH_PAY_RECORD_LIST_ALL);
});
}
},
clickEarthDetailsBtn: function() {
n.default.playEffect(r.default.common.btnMusic);
cc.isValid(this.earthDetailsBtn) && o.default.clickManager(this.earthDetailsBtn);
if (cc.isValid(this.evaluationDetailsPrefab)) {
var e = cc.instantiate(this.evaluationDetailsPrefab);
cc.isValid(e) && e.getComponent("RechargeEvaluationDetails") && e.getComponent("RechargeEvaluationDetails").showDialog();
}
},
clickContactAgentBtn: function() {
var e = this;
n.default.playEffect(r.default.common.btnMusic);
cc.isValid(e.contactAgentBtn) && o.default.clickManager(e.contactAgentBtn);
if (d.checkNetwork()) {
var t = p.mf_im_token, i = p.mf_im_id, c = h.agency_im_id, u = p.mf_web_site, f = function(t) {
a.default.showRehcargeSecondAnim();
e.scheduleOnce(function() {
l.openUrlByH5Browser(t, "false", l.H5_REQUEST_CODE.SECOND_PAY);
}, 1);
};
if (t && t.length > 0 && i && 0 != i && u && u.length > 0) {
var g = p.appendParams(u, t, i, c);
f(g);
} else s.default.fastPayFetchToken(function(e) {
e && p.getImInfo(e);
t = p.mf_im_token || "";
i = p.mf_im_id || 0;
u = p.mf_web_site || "";
var o = p.appendParams(u, t, i, c);
f(o);
}, function(e) {
a.default.createToast("The network is abnormal. Please try again later");
});
}
}
});
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../Script/ProjectConfig": "ProjectConfig",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"../../Script/UserManager": "UserManager",
"./../../Script/GameFramework/ApiMgr": "ApiMgr",
CommonFunction: "CommonFunction",
CustomerAppealMgr: "CustomerAppealMgr",
GameEngineUtil: "GameEngineUtil",
RechargeRecordEnum: "RechargeRecordEnum",
RechargeRecordingModel: "RechargeRecordingModel",
RechargeSecondModel: "RechargeSecondModel",
UISettingModel: "UISettingModel"
} ],
RechargeRecordingModel: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "3fdf0ym3OdMi4bHVj9qc1S/", "RechargeRecordingModel");
var o, n, r = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}();
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var s = (n = o = function() {
function e() {
a(this, e);
}
r(e, null, [ {
key: "initRecordInfo",
value: function(e) {
this.created_at = e.created_at || "";
this.id = e.id || 0;
this.payTypeName = e.name || "";
this.price = e.price || "";
this.status = e.status || 0;
this.type = e.type || 0;
this.updated_at = e.updated_at || "";
this.agency_avatar = e.agency_avatar || "";
this.agency_nickname = e.agency_nickname || "";
this.agency_im_id = e.agency_im_id || 0;
this.agency_id = e.agency_id || 0;
this.icon = e.icon || "";
this.comment_star = e.comment_star || 0;
this.comment_content = e.comment_content || "";
this.can_comment = e.can_comment || !1;
}
} ]);
return e;
}(), o.created_at = "", o.id = "", o.payTypeName = "", o.price = "", o.status = 0, 
o.type = 0, o.updated_at = "", o.agency_avatar = "", o.agency_nickname = "", o.agency_im_id = "", 
o.agency_id = "", o.icon = "", o.can_comment = !1, o.comment_star = 0, o.comment_content = "", 
n);
t.exports = s;
cc._RF.pop();
}, {} ],
RechargeRecording: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "75567IbyqtL9YnoW2m43E+g", "RechargeRecording");
var o = a(e("../../Script/UI/CommonPrefabMgr")), n = a(e("../../Script/ProjectConfig")), r = a(e("./../../Script/GameFramework/ApiMgr"));
function a(e) {
return e && e.__esModule ? e : {
default: e
};
}
cc.Class({
extends: cc.Component,
properties: {
btnBg: {
default: [],
type: cc.SpriteFrame
},
btnTitleColor: {
default: [],
type: cc.Color
},
leftBtn: {
default: [],
type: cc.Node
},
leftBtnLabel: {
default: [],
type: cc.Node
},
loading: cc.Node,
_footerView: cc.Node,
scrollView: cc.ScrollView,
view: cc.Node,
list: cc.Node,
itemPrefab: cc.Prefab,
tips: cc.Node,
_recordType: 0,
_currentPage: 1,
_pageSize: 10,
_total: 0,
_isBottom: !1,
_allDataList: null,
_commentDataList: null,
_IsRefreshListComment: ""
},
onLoad: function() {
var e = this;
e._isBottom = !1;
e.listData = [];
cc.isValid(e.loading) && (e.loading.active = !0);
e.selectedWithIndex(0);
cc.isValid(this.scrollView) && this.scrollView.node.on("bounce-bottom", e.onScrollViewBounceBottom, e);
if (cc.vv.beautifulgame && e.leftBtnLabel) for (var t = e.leftBtnLabel.length, i = 0; i < t; i++) {
var o = e.leftBtnLabel[i];
if (cc.isValid(o)) {
var n = o.getComponent(cc.Label);
cc.isValid(n) || (n._isBold = !0);
}
}
e.addFooterView();
cc.director.on(cc.vv.eventName.REFRESH_PAY_RECORD_LIST_ALL, function() {
e._IsRefreshListComment = "isAll";
e.loadRecordList(1);
});
cc.director.on(cc.vv.eventName.REFRESH_PAY_RECORD_LIST_COMMENT, function() {
e._IsRefreshListComment = "isComment";
e.loadRecordList(1, 0);
});
},
onDestroy: function() {
cc.director.off(cc.vv.eventName.REFRESH_PAY_RECORD_LIST_ALL);
cc.director.off(cc.vv.eventName.REFRESH_PAY_RECORD_LIST_COMMENT);
},
start: function() {
var e = this;
setTimeout(function() {
e.loadRecordList(1);
}, 500);
},
selectedWithIndex: function(e) {
this.clickMenuAction("eventName", e);
},
clickMenuAction: function(e, t) {
if (cc.isValid(this.leftBtn)) for (var i = 0; i < this.leftBtn.length; i++) if (this.leftBtn && this.leftBtn[i]) {
var o = this.leftBtn[i];
if (null == o || void 0 == o) return;
if (parseInt(t) == i) {
o.getComponent(cc.Sprite) && (o.getComponent(cc.Sprite).spriteFrame = this.btnBg[1]);
o.getChildByName("title") && (o.getChildByName("title").color = this.btnTitleColor[1]);
if (cc.vv.souhu) {
this.leftBtnLabel[i].getComponent(cc.LabelOutline).color = new cc.Color(183, 76, 42);
}
} else {
o.getComponent(cc.Sprite) && (o.getComponent(cc.Sprite).spriteFrame = this.btnBg[0]);
o.getChildByName("title") && (o.getChildByName("title").color = this.btnTitleColor[0]);
if (cc.vv.souhu) {
this.leftBtnLabel[i].getComponent(cc.LabelOutline).color = new cc.Color(42, 109, 174);
}
}
}
if (0 == parseInt(t)) {
if (0 == this._recordType) return;
this._recordType = 0;
this.clearListView();
this._currentPage = 1;
cc.isValid(this.loading) && (this.loading.active = !0);
this.loadRecordList(1);
} else if (1 == parseInt(t)) {
if (1 == this._recordType) return;
cc.isValid(this.loading) && (this.loading.active = !0);
this._recordType = 1;
this.clearListView();
this._currentPage = 1;
this.loadRecordList(1, 0);
}
},
clearListView: function() {
cc.isValid(this.list) && this.list.removeAllChildren();
this.addFooterView();
cc.isValid(this.scrollView) && this.scrollView.scrollTo(0);
},
loadRecordList: function(e, t) {
var i = this, n = {
page: e,
size: 10
};
t >= 0 && (n.comment = t);
r.default.GetPayList(n, function(e) {
i._isBottom = !1;
if (e && e.list.length > 0) {
i._total = e.total;
i.listData = e.list;
if (0 == i._total) {
cc.isValid(i.tips) && (i.tips.active = !0);
cc.isValid(i.loading) && (i.loading.active = !1);
return;
}
cc.vv.souhu && cc.isValid(i.list) && (i.list.opacity = 0);
if (i.listData && i.listData.length > 0) {
cc.isValid(i.loading) && (i.loading.active = !1);
cc.isValid(i.tips) && (i.tips.active = !1);
}
if ("isComment" == i._IsRefreshListComment) {
cc.isValid(i.list) && i.list.removeAllChildren();
i._IsRefreshListComment = "";
} else if ("isAll" == i._IsRefreshListComment) {
i.refreshContentData(i.listData);
i._IsRefreshListComment = "";
cc.vv.souhu && cc.isValid(i.list) && i.list.runAction(cc.sequence(cc.delayTime(.1), cc.fadeIn(.5)));
return;
}
for (var o = 0; o < i.listData.length; o++) i.initContentData(i.listData[o], t);
cc.vv.souhu && cc.isValid(i.list) && i.list.runAction(cc.sequence(cc.delayTime(.1), cc.fadeIn(.5)));
} else {
cc.isValid(i.list) && i.list.removeAllChildren();
if (t >= 0) {
if (cc.isValid(i.tips)) {
i.tips.getComponent(cc.Label).string = "暂无待评价订单";
i.tips.active = !0;
}
} else if (cc.isValid(i.tips)) {
i.tips.getComponent(cc.Label).string = "暂无充值记录";
i.tips.active = !0;
}
cc.isValid(i.loading) && (i.loading.active = !1);
}
}, function() {
o.default.createToast("当前网络不佳，请稍后重试。");
});
},
onScrollViewBounceBottom: function() {
if (!this._isBottom) {
this._isBottom = !0;
if (cc.isValid(this._footerView)) {
this._footerView.zIndex = 9999;
this._footerView.active = !0;
}
this.onEventCancel();
}
},
showEmptyView: function() {
if (cc.isValid(this.node)) {
var e = this.node.getChildByName("emptyNode");
if (cc.isValid(e)) e.active = !0; else {
var t = (e = new cc.Node("emptyNode")).addComponent(cc.Label);
t.anchor = .5;
t.string = "暂无可用代理";
t.fontSize = 24;
t.lineHeight = 40;
if (cc.vv.souhu) {
e.setPosition(0, -30);
e.color = cc.color().fromHEX("#3b84c1");
} else {
e.setPosition(116, -90);
e.color = cc.color().fromHEX("#B89C6D");
}
e.parent = this.node;
}
}
},
addFooterView: function() {
this._footerView = new cc.Node("footerView");
this._footerView.height = 80;
this._footerView.active = !1;
this._footerView.zIndex = 9999;
var e = this._footerView.addComponent(cc.Label);
e.verticalAlign = cc.Label.VerticalAlign.CENTER;
e.anchor = .5;
e.string = "上拉加载更多";
e.fontSize = 24;
e.lineHeight = 80;
cc.vv.souhu ? this._footerView.color = cc.color().fromHEX("#3b84c1") : this._footerView.color = cc.color().fromHEX("#B89C6D");
this._footerView.parent = this.list;
},
onEventCancel: function() {
if (cc.isValid(this._footerView) && this._footerView.getComponent(cc.Label)) {
this._footerView.getComponent(cc.Label).string = "加载中";
this._footerView.active = !0;
this.onLoadMoreData();
}
},
initContentData: function(e, t) {
if (cc.isValid(this.itemPrefab)) {
var i = cc.instantiate(this.itemPrefab);
if (i && i.getComponent("RechargeRecordingItem")) {
i.getComponent("RechargeRecordingItem").updateItem(e, t);
cc.isValid(this.list) && this.list.addChild(i);
}
}
},
refreshContentData: function(e) {
if (cc.isValid(this.list)) {
var t = this.list.children, i = t.length - 1 - e.length;
if (i > 0) for (var o = 0; o < i; o++) t.removeChild(t[0]);
for (var n = 0; n < e.length; n++) {
var r = t[n], a = e[n];
null != r ? r.getComponent("RechargeRecordingItem") && r.getComponent("RechargeRecordingItem").updateItem(a) : this.initContentData(a);
}
}
},
getMaxPage: function() {
return Math.ceil(this._total / this._pageSize);
},
onLoadMoreData: function() {
if (n.default.hasNetWork()) {
if (0 != this._total) {
if (this._currentPage >= this.getMaxPage()) {
this._currentPage = this.getMaxPage();
if (cc.isValid(this._footerView) && this._footerView.getComponent(cc.Label)) {
this._footerView.getComponent(cc.Label).string = "没有更多了";
return;
}
}
this._currentPage = this._currentPage + 1;
this.loadRecordList(this._currentPage);
}
} else o.default.createToast("The network is abnormal. Please try again later");
}
});
cc._RF.pop();
}, {
"../../Script/ProjectConfig": "ProjectConfig",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"./../../Script/GameFramework/ApiMgr": "ApiMgr"
} ],
RechargeSecondAnim: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "16325w61QxF2YwwGHHxVK5v", "RechargeSecondAnim");
cc.Class({
extends: cc.Component,
properties: {
skeleton: sp.Skeleton
},
onLoad: function() {
this.skeleton.setEndListener(function() {
this.dismiss();
});
},
dismiss: function() {
if (this.node) {
this.node.active = !1;
this.node.removeFromParent();
this.destroy();
}
}
});
cc._RF.pop();
}, {} ],
RechargeSecondModel: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "15ec6qyjgVMKKLRCgyNiwMh", "RechargeSecondModel");
var o, n, r = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}(), a = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("../../Script/LocalStorage/LocalStorageUtil"));
function s(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var c = (n = o = function() {
function e() {
s(this, e);
}
r(e, null, [ {
key: "initSecondInfo",
value: function(e) {
this.avatar = e.avatar || "";
this.id = e.id || 0;
this.im_id = e.im_id || 0;
this.tags = e.tags || [];
this.nickname = e.nickname || "";
this.month_good_comments_count = e.month_good_comments_count || 0;
this.month_orders_count = e.month_orders_count || 0;
}
}, {
key: "getImInfo",
value: function(e) {
this.mf_web_site = e.mf_web_site || "";
this.mf_im_id = e.id || 0;
this.mf_im_token = e.token || "";
}
}, {
key: "clearInfo",
value: function() {
this.mf_im_token = "";
this.mf_web_site = "";
this.mf_im_id = 0;
this.red_point = !1;
}
}, {
key: "appendParams",
value: function(e, t, i, o) {
return -1 != e.indexOf("?") ? o ? e + "&token=" + t + "&imid=" + i + "&target_id=" + o + "&p=" + a.default.readDeviceInfo() : e + "&token=" + t + "&imid=" + i + "&chatType=0&p=" + a.default.readDeviceInfo() : o ? e + "?token=" + t + "&imid=" + i + "&target_id=" + o + "&p=" + a.default.readDeviceInfo() : e + "?token=" + t + "&imid=" + i + "&chatType=0&p=" + a.default.readDeviceInfo();
}
} ]);
return e;
}(), o.avatar = "", o.id = 0, o.im_id = 0, o.tags = [], o.nickname = "", o.month_good_comments_count = 0, 
o.month_orders_count = 0, o.mf_im_token = "", o.mf_web_site = "", o.mf_im_id = 0, 
o.red_point = !1, n);
t.exports = c;
cc._RF.pop();
}, {
"../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil"
} ],
RechargeSecondPayItem: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "630261d6FdAv616Vo52Qpc7", "RechargeSecondPayItem");
var o = s(e("../../Script/GameFramework/ApiMgr")), n = s(e("../../Script/ProjectConfig")), r = s(e("../../Script/UI/CommonPrefabMgr")), a = s(e("../../Script/Audio/CommonAudioMgr"));
function s(e) {
return e && e.__esModule ? e : {
default: e
};
}
var c = e("RechargeSecondModel"), l = e("GameEngineUtil"), u = e("CommonFunction");
cc.Class({
extends: cc.Component,
properties: {
avatar: cc.Sprite,
rechegeBtn: cc.Node,
complainBtn: cc.Node,
nickName: cc.Label,
payType_content: cc.Node,
proxyTag_content: cc.Node,
month_orders_count: cc.Label,
month_good_comments_count: cc.Label,
secondPayIcon: cc.Prefab,
complainPrefab: cc.Prefab,
itemBtn: cc.Node,
tips_gfrz: cc.Node,
_proxyTaglist: []
},
initData: function(e) {
var t = this;
if (e) {
t._proxyTaglist = e;
var i = e.icons, o = e.tags;
cc.isValid(t.nickName) && (t.nickName.string = e.nickname);
cc.isValid(t.month_orders_count) && (t.month_orders_count.string = e.month_orders_count);
cc.isValid(t.month_good_comments_count) && (t.month_good_comments_count.string = e.month_good_comments_count);
e.avatar && cc.loader.load(e.avatar, function(e, i) {
if (null == e) {
var o = new cc.SpriteFrame(i);
o && t.avatar && cc.isValid(t.avatar.node) && (t.avatar.spriteFrame = o);
}
});
t.loadPayTypeIcon(i, t.payType_content);
t.loadTagsIcon(o, t.proxyTag_content);
}
},
loadPayTypeIcon: function(e, t) {
if (cc.isValid(t) && e) {
t.removeAllChildren();
for (var i = 0; i < e.length; i++) if (cc.isValid(this.secondPayIcon)) {
var o = cc.instantiate(this.secondPayIcon);
if (cc.isValid(o) && o.getComponent("RechargeSecondPayTypeIcon")) {
o.getComponent("RechargeSecondPayTypeIcon").initIcon(e[i], !0);
t.addChild(o);
}
}
}
},
loadTagsIcon: function(e, t) {
if (cc.isValid(t)) if (e) {
t.removeAllChildren();
for (var i = 0; i < e.length; i++) if (cc.isValid(this.secondPayIcon)) {
var o = cc.instantiate(this.secondPayIcon);
if (cc.isValid(o) && o.getComponent("RechargeSecondPayTypeIcon")) {
o.getComponent("RechargeSecondPayTypeIcon").initIcon(e[i], !1);
t.addChild(o);
}
}
} else cc.isValid(this.tips_gfrz) && (this.tips_gfrz.active = !0);
},
clickRechargeBtn: function(e) {
var t = this;
c.initSecondInfo(t._proxyTaglist);
n.default.clickManager(e.target);
a.default.playEffect(CommonAudio.common.btnMusic);
if (u.checkNetwork()) {
var i = c.mf_im_token, s = c.mf_im_id, d = c.im_id, f = c.mf_web_site, h = function(e) {
r.default.showRehcargeSecondAnim();
t.scheduleOnce(function() {
l.openUrlByH5Browser(e, "false", l.H5_REQUEST_CODE.SECOND_PAY);
}, 1);
};
if (i && i.length > 0 && s && 0 != s && f && f.length > 0) {
var p = c.appendParams(f, i, s, d);
h(p);
} else o.default.fastPayFetchToken(function(e) {
e && c.getImInfo(e);
i = c.mf_im_token || "";
s = c.mf_im_id || 0;
f = c.mf_web_site || "";
var t = c.appendParams(f, i, s, d);
h(t);
}, function(e) {
r.default.createToast("The network is abnormal. Please try again later");
});
}
},
clickComplainBtn: function(e) {
c.initSecondInfo(this._proxyTaglist);
n.default.clickManager(e.target);
a.default.playEffect(CommonAudio.common.btnMusic);
if (cc.isValid(this.complainPrefab)) {
var t = cc.instantiate(this.complainPrefab);
cc.isValid(t) && t.getComponent("RechargeComplaintAgent") && t.getComponent("RechargeComplaintAgent").showDialog();
}
}
});
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/GameFramework/ApiMgr": "ApiMgr",
"../../Script/ProjectConfig": "ProjectConfig",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
CommonFunction: "CommonFunction",
GameEngineUtil: "GameEngineUtil",
RechargeSecondModel: "RechargeSecondModel"
} ],
RechargeSecondPayTypeIcon: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "f8ac6hdIp5Hs6eYZ5CVYPFX", "RechargeSecondPayTypeIcon");
cc.Class({
extends: cc.Component,
properties: {
icon: cc.Sprite
},
onLoad: function() {},
initIcon: function(e, t) {
var i = this;
if (t && cc.isValid(i.icon)) {
i.icon.node.scaleX = .8;
i.icon.node.scaleY = .8;
}
if (e) {
var o = e.src;
cc.loader.load(o, function(e, t) {
if (null == e && cc.isValid(i.icon)) {
var o = new cc.SpriteFrame(t);
o && (i.icon.spriteFrame = o);
}
});
}
}
});
cc._RF.pop();
}, {} ],
RechargeSecondPay: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "38a04lnLM5Ejb3T4ly9mNGX", "RechargeSecondPay");
var o = s(e("../../Script/ProjectConfig")), n = s(e("../../Script/UI/CommonPrefabMgr")), r = s(e("./../../Script/GameFramework/ApiMgr")), a = s(e("../../Script/Audio/CommonAudioMgr"));
function s(e) {
return e && e.__esModule ? e : {
default: e
};
}
var c = e("CommonFunction"), l = e("RechargeSecondModel"), u = e("GameEngineUtil"), d = e("CommonEventName");
cc.Class({
extends: cc.Component,
properties: {
scrollView: cc.ScrollView,
banner: cc.Node,
secondPayItem: cc.Prefab,
messageBtn: cc.Node,
msg_red_dot: cc.Node,
defaultBanner: cc.SpriteFrame,
_kind: 0,
_pic: "",
_target: "",
_direction: 0,
_browser: 0
},
onLoad: function() {
cc.director.on(cc.vv.eventName.REFRESH_FAST_PAY_LIST_RED_DOT, this.showMsgRedDot, this);
},
onEnable: function() {},
onDisable: function() {},
initContentView: function(e) {
var t = this;
cc.director.emit(d.CHECK_SECOND_MSG_NEW);
this.showMsgRedDot();
if (e) {
var i = e.banner;
if (i) {
t._kind = i.kind;
t._pic = i.pic;
t._target = i.target;
t._direction = i.direction;
t._browser = i.browser;
t._pic && cc.loader.load(t._pic, function(e, i) {
if (null == e) {
var o = new cc.SpriteFrame(i);
o && cc.isValid(t.banner) && t.banner.getComponent(cc.Sprite) && (t.banner.getComponent(cc.Sprite).spriteFrame = o);
}
});
}
}
t.loadAgentList();
},
loadAgentList: function() {
var e = this;
o.default.hasNetWork() ? r.default.GetAgentList(function(t) {
var i = 0;
if (t) {
e.loadDataList(t);
i = t.length;
}
i <= 0 ? e.showEmptyView() : e.hideEmptyView();
}) : n.default.createToast("The network is abnormal. Please try again later");
},
loadDataList: function(e) {
e.length <= 0 ? this.showEmptyView() : this.hideEmptyView();
if (cc.isValid(this.scrollView)) {
this.scrollView.getComponent("BaseScrollView").clearData();
this.scrollView.getComponent("BaseScrollView").initScrollView(e, "RechargeSecondPayItem", 5);
this.scrollView.scrollTo(cc.v2(0, 1), .1);
}
},
showEmptyView: function() {
var e = this.node.getChildByName("emptyNode");
if (cc.isValid(e)) e.active = !0; else {
var t = (e = new cc.Node("emptyNode")).addComponent(cc.Label);
t.anchor = .5;
t.string = "暂无可用代理";
t.fontSize = 24;
t.lineHeight = 40;
cc.isValid(this.scrollView) && (e.zIndex = this.scrollView.zIndex + 1);
if (cc.vv.souhu) {
e.setPosition(0, -30);
e.color = cc.color().fromHEX("#3b84c1");
} else {
e.setPosition(0, -90);
e.color = cc.color().fromHEX("#B89C6D");
}
e.parent = this.node;
}
},
hideEmptyView: function() {
var e = this.node.getChildByName("emptyNode");
cc.isValid(e) && (e.active = !1);
},
showMsgRedDot: function() {
if (l.red_point) {
if (cc.isValid(this.msg_red_dot)) {
this.msg_red_dot.opacity = 255;
if (cc.isValid(this.messageBtn)) {
this.messageBtn.stopAllActions();
var e = cc.v2(292, 223), t = cc.v2(292, 230);
if (cc.vv.souhu) {
e = cc.v2(335, 235);
t = cc.v2(335, 242);
}
this.messageBtn.runAction(cc.repeatForever(cc.sequence(cc.moveTo(.1, t), cc.moveTo(.1, e), cc.moveTo(.1, t), cc.moveTo(.1, e), cc.delayTime(2))));
}
}
} else if (cc.isValid(this.msg_red_dot)) {
this.msg_red_dot.opacity = 0;
cc.isValid(this.messageBtn) && this.messageBtn.stopAllActions();
}
},
clickBannerItem: function() {
if (8 == this.kind) n.default.showNoticeDialog(parseInt(this._target)); else {
6 == this._kind && cc.director.emit(d.RECHARGE_BANNER_CLICK);
c.clickEventHandler(this._kind, this._target, this._direction, this._browser, !0);
}
},
clickMessageBtn: function() {
var e = this;
a.default.playEffect(CommonAudio.common.btnMusic);
if (c.checkNetwork()) {
l.red_point = !1;
cc.isValid(e.msg_red_dot) && 0 != e.msg_red_dot.opacity && (e.msg_red_dot.opacity = 0);
if (cc.isValid(e.messageBtn)) {
e.messageBtn.stopAllActions();
o.default.clickManager(e.messageBtn);
}
var t = l.mf_im_token || "", i = l.mf_im_id || 0, s = l.mf_web_site || "", d = function(t) {
n.default.showRehcargeSecondAnim();
e.scheduleOnce(function() {
u.openUrlByH5Browser(t, "false", u.H5_REQUEST_CODE.SECOND_PAY);
}, 1);
};
if (t && t.length > 0 && i && 0 != i && s && s.length > 0) {
var f = l.appendParams(s, t, i);
d(f);
} else r.default.fastPayFetchToken(function(e) {
e && l.getImInfo(e);
t = l.mf_im_token || "";
i = l.mf_im_id || 0;
s = l.mf_web_site || "";
var o = l.appendParams(s, t, i);
d(o);
}, function(e) {
n.default.createToast("The network is abnormal. Please try again later");
});
}
}
});
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/ProjectConfig": "ProjectConfig",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"./../../Script/GameFramework/ApiMgr": "ApiMgr",
CommonEventName: "CommonEventName",
CommonFunction: "CommonFunction",
GameEngineUtil: "GameEngineUtil",
RechargeSecondModel: "RechargeSecondModel"
} ],
RechargeServiceSocketMgr: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "899d6KPntxJxJpArIgn8R4E", "RechargeServiceSocketMgr");
var o, n, r = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}(), a = c(e("../../Script/LocalStorage/LocalStorageUtil")), s = c(e("../../Script/ProjectConfig"));
function c(e) {
return e && e.__esModule ? e : {
default: e
};
}
function l(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var u = e("CommonSocket"), d = e("base64"), f = (n = o = function() {
function e() {
l(this, e);
}
r(e, null, [ {
key: "init",
value: function(e, t, i, o) {
var n = this.buildInitParams(e, t);
if (null != n) {
this.close();
this.serviceSocket = new u(s.default.GAME_TYPE.KEFU, this.serviceSocketUrl, n, function(e) {
var t = JSON.parse(e);
i && i(t);
}, o);
this.serviceSocket.needReconnect = !1;
}
}
}, {
key: "buildInitParams",
value: function(e, t) {
var i = a.default.readUserID(), o = a.default.readUserToken(), n = null;
i && o && (n = {
user_id: i,
token: o,
agent_id: e,
amount: t
});
return n;
}
}, {
key: "sendGeneralMessage",
value: function(e) {
var t = {
m_type: 1,
o_msg: {
touserinfo: {
uid: e.serviceId
},
fromuserinfo: {
uid: e.meId
},
time: Date.parse(new Date()) / 1e3,
text: d.encode(e.text)
}
};
this.serviceSocket && this.serviceSocket.send(JSON.stringify(t));
}
}, {
key: "sendImageMessage",
value: function(e) {
var t = {
m_type: 5,
o_msg: {
touserinfo: {
uid: e.serviceId
},
fromuserinfo: {
uid: e.meId
},
time: Date.parse(new Date()) / 1e3,
image: d.encode(e.image)
}
};
this.serviceSocket && this.serviceSocket.send(JSON.stringify(t));
}
}, {
key: "close",
value: function() {
if (null != this.serviceSocket) {
this.serviceSocket.close();
this.serviceSocket = null;
}
}
} ]);
return e;
}(), o.serviceSocket = null, o.serviceSocketUrl = null, n);
t.exports = f;
cc._RF.pop();
}, {
"../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../Script/ProjectConfig": "ProjectConfig",
CommonSocket: "CommonSocket",
base64: "base64"
} ],
RechargeService: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "96f09wXzSJJyrZk7tOA+4Pv", "RechargeService");
var o = d(e("../../Script/UserManager")), n = d(e("../../Script/LocalStorage/LocalStorageUtil")), r = d(e("../../Script/BaseFormat")), a = d(e("../../Script/UI/CommonPrefabMgr")), s = d(e("../../Script/Audio/CommonAudioMgr")), c = d(e("../../Script/Audio/CommonAudio")), l = d(e("../../Script/ProjectConfig")), u = d(e("./../../Script/GameFramework/ApiMgr"));
function d(e) {
return e && e.__esModule ? e : {
default: e
};
}
var f = e("PayMessageModel"), h = e("GeneralMessageModel"), p = e("ImageMessageModel"), g = e("RechargeServiceSocketMgr"), m = e("UrlMessageModel"), y = e("CustomerRes").Language, b = (e("MessageGlobal"), 
e("OfflineMessageModel")), _ = e("DialogUtil"), v = e("GameEngineUtil"), S = e("ComponentRes");
e("NewGameInfo");
cc.Class({
extends: cc.Component,
properties: {
meMessage: cc.Prefab,
serviceMessage: cc.Prefab,
offlineMessage: cc.Prefab,
messageTime: cc.Prefab,
messageNode: cc.Node,
messageImport: cc.EditBox,
mainScroller: cc.ScrollView,
_myId: 0,
_sendText: "",
_serviceId: -1,
_rechargeAmount: 0,
_messageTimeNum: 0,
_resultStr: ""
},
showDialog: function() {
var e = this, t = {
width: 1120,
height: 670,
onCloseCallBack: function() {
e.dismiss();
}
};
_.addNormalDialog(this.node, {
type: "sprite",
content: S.topUp.titleCustomerRechargeSprite
}, t);
},
init: function(e, t) {
this._serviceId = null != e ? e : -1;
this._rechargeAmount = t || 0;
this._messageTimeNum = 0;
this._myId = n.default.readUserID();
this.getHistoryList();
cc.director.on("IMAGEUPLOADEDSUCCESS", this.uploadingImageSucceed, this);
this.mainScroller.node.on("touch-up", function() {
MessageProjectConfig.scrolling = !1;
});
this.mainScroller.node.on("scrolling", function() {
MessageProjectConfig.scrolling = !0;
});
this.mainScroller.node.on("scroll-ended", function() {
MessageProjectConfig.scrolling = !1;
});
},
getHistoryList: function() {
var e = this, t = parseInt(new Date().setDate(new Date().getDate() - 3) / 1e3), i = {
user_id: n.default.readUserID(),
last_time: t,
is_agent: 1
};
u.default.getChatHistory(i, function(t) {
t && e.disposeHistoryListDataInfo(t);
g.init(e._serviceId, e._rechargeAmount, e.disposeSocketDataInfo.bind(e));
});
},
disposeSocketDataInfo: function(e) {
var t = e.type, i = e.data;
if (null != t && null != i) {
var o = i.o_msg;
if (o) {
var n = o.time || 0;
n - this._messageTimeNum >= 86400 && this.createMessageTimeAction(n);
this._messageTimeNum = n;
}
1 == t ? this.disposeGeneralMessage(i, !0) : 5 == t ? this.disposeImageMessage(i, !0) : 6 == t ? this.disposeUrlMessage(i, !0) : 7 == t ? this.disposePayMessage(i, !0) : 8 == t && this.disposeOfflineMessage(i, !0);
if (this.mainScroller) {
this.mainScroller.node.getChildByName("view").getChildByName("content").height > 300 && this.mainScroller.scrollToBottom(0);
}
}
},
disposeHistoryListDataInfo: function(e) {
var t = this;
t.messageNode && t.messageNode.removeAllChildren();
for (var i = e.length, o = 0; o < i; o++) {
var n = e[o], r = n.type, a = n.time;
if (null != a) {
a - t._messageTimeNum >= 86400 && t.createMessageTimeAction(a);
t._messageTimeNum = a;
}
1 == r ? t.disposeGeneralMessage(n, !1) : 5 == r ? t.disposeImageMessage(n, !1) : 6 == r ? t.disposeUrlMessage(n, !1) : 7 == r && t.disposePayMessage(n, !1);
}
t.scheduleOnce(function() {
if (t.mainScroller) {
t.mainScroller.node.getChildByName("view").getChildByName("content").height > 300 && t.mainScroller.scrollToBottom(0);
}
}, .5);
},
disposeOfflineMessage: function(e, t) {
var i = new b(e, t);
if (this.offlineMessage) {
var o = cc.instantiate(this.offlineMessage);
if (cc.isValid(this.messageNode) && cc.isValid(o)) {
this.messageNode.addChild(o);
var n = o.getComponent("OfflineMessage");
n && n.initWithText(i.toast);
}
}
},
disposeGeneralMessage: function(e, t) {
var i = new h(e, t);
i.receiveUid == this._myId ? this.createServiceMessageAction(i) : this.createMeMessageAction(i);
},
disposeImageMessage: function(e, t) {
var i = new p(e, t);
i.receiveUid == this._myId ? this.createServiceMessageAction(i) : this.createMeMessageAction(i);
},
disposeUrlMessage: function(e, t) {
var i = new m(e, t);
i.receiveUid == this._myId ? this.createServiceMessageAction(i) : this.createMeMessageAction(i);
},
disposePayMessage: function(e, t) {
var i = new f(e, t);
i.receiveUid == this._myId ? this.createServiceMessageAction(i) : this.createMeMessageAction(i);
},
createMeMessageAction: function(e) {
if (this.meMessage && this.messageNode) {
var t = cc.instantiate(this.meMessage);
if (cc.isValid(this.messageNode) && cc.isValid(t)) {
cc.vv.souhu && (t.x = 500);
this.messageNode.addChild(t);
var i = t.getComponent("MessageWithMe");
i && i.init(e);
}
}
},
createServiceMessageAction: function(e) {
if (this.serviceMessage && this.messageNode) {
var t = cc.instantiate(this.serviceMessage);
if (cc.isValid(this.messageNode) && cc.isValid(t)) {
cc.vv.souhu && (t.x = -500);
this.messageNode.addChild(t);
var i = t.getComponent("MessageWithService");
i && i.init(e);
}
}
},
createMessageTimeAction: function(e) {
if (this.messageTime && this.messageNode) {
var t = cc.instantiate(this.messageTime);
if (cc.isValid(this.messageNode) && cc.isValid(t)) {
this.messageNode.addChild(t);
var i = t.getComponent("MessageTime");
i && i.init(e);
}
}
},
sendMessage: function() {
var e = this;
s.default.playEffect(c.default.common.btnMusic);
var t = e.iGetInnerText(e._sendText);
if (t.length <= 0) a.default.createToast("输入内容不能为空！"); else if (r.default.checkWordLength(t, 100)) {
if (!l.default.hasNetWork()) {
a.default.createToast("请检查手机网络");
return;
}
e.needReconnect() ? g.init(e._serviceId, e._rechargeAmount, e.disposeSocketDataInfo.bind(e), function() {
g.serviceSocket.needReconnect = !1;
g.sendGeneralMessage({
serviceId: e._serviceId,
meId: e._myId,
text: t
});
}.bind(e)) : g.sendGeneralMessage({
serviceId: e._serviceId,
meId: e._myId,
text: t
});
e.messageImport && (e.messageImport.string = "");
e._sendText = "";
} else a.default.createToast(y.send_mess2);
},
importTextChanged: function(e) {
this._sendText = e;
},
iGetInnerText: function(e) {
this._resultStr = e.replace(/\ +/g, "");
this._resultStr = this._resultStr.replace(/[ ]/g, "");
this._resultStr = this._resultStr.replace(/[\r\n]/g, "");
return this._resultStr;
},
clickImageBtnAction: function() {
s.default.playEffect(c.default.common.btnMusic);
o.default.is_formal ? cc.sys.isNative && l.default.variable.nativeVersion >= 3 ? v.openAlbum() : a.default.createToast("请重新下载客户端，更新至最新版本") : a.default.createToast("请先升级至正式账号");
},
uploadingImageSucceed: function(e) {
var t = this;
if (e) {
var i = e || "";
if (null == i || i.length <= 0) a.default.createToast("图片上传失败，请稍后再试！"); else {
if (!l.default.hasNetWork()) {
a.default.createToast("请检查手机网络");
return;
}
t.needReconnect() ? g.init(t._serviceId, t._rechargeAmount, t.disposeSocketDataInfo.bind(t), function() {
g.serviceSocket.needReconnect = !1;
g.sendImageMessage({
serviceId: t._serviceId,
meId: t._myId,
image: i
});
}.bind(t)) : g.sendImageMessage({
serviceId: t._serviceId,
meId: t._myId,
image: i
});
}
}
},
dismiss: function() {
cc.director.off("IMAGEUPLOADEDSUCCESS", this.uploadingImageSucceed, this);
c.default.common && c.default.common.btnMusic && s.default.playEffect(c.default.common.btnMusic);
g.close();
this.node.destroy();
},
needReconnect: function() {
return !g.serviceSocket || (null == g.serviceSocket.webSocket || g.serviceSocket.webSocket.readyState != WebSocket.OPEN);
}
});
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/BaseFormat": "BaseFormat",
"../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../Script/ProjectConfig": "ProjectConfig",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"../../Script/UserManager": "UserManager",
"./../../Script/GameFramework/ApiMgr": "ApiMgr",
ComponentRes: "ComponentRes",
CustomerRes: "CustomerRes",
DialogUtil: "DialogUtil",
GameEngineUtil: "GameEngineUtil",
GeneralMessageModel: "GeneralMessageModel",
ImageMessageModel: "ImageMessageModel",
MessageGlobal: "MessageGlobal",
NewGameInfo: "NewGameInfo",
OfflineMessageModel: "OfflineMessageModel",
PayMessageModel: "PayMessageModel",
RechargeServiceSocketMgr: "RechargeServiceSocketMgr",
UrlMessageModel: "UrlMessageModel"
} ],
RechargeTransferAccount: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "35fd6CGGZ5F6qZdG7wVxU1w", "RechargeTransferAccount");
var o = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("../../../../Script/UI/CommonPrefabMgr"));
var n = e("GameEngineUtil");
cc.Class({
extends: cc.Component,
properties: {
labelAccount: cc.Label,
labelHolder: cc.Label,
labelBank: cc.Label,
callBack: null
},
init: function(e, t) {
if (e.bankcard_info) {
this.labelAccount.string = e.bankcard_info.account_number + "";
this.labelHolder.string = e.bankcard_info.account_holder;
this.labelBank.string = e.bankcard_info.bank + e.bankcard_info.subbranch;
} else {
this.labelAccount.string = "";
this.labelHolder.string = "";
this.labelBank.string = "";
}
this.callBack = t;
},
dismiss: function() {
if (this.node) {
this.node.active = !1;
this.node.removeFromParent();
}
},
goToMyOrder: function() {
if (this.node) {
this.node.active = !1;
this.node.removeFromParent();
}
"function" == typeof this.callBack && this.callBack();
},
copyAccount: function() {
var e = this.labelAccount.string;
n.copyText(e);
o.default.createToast("复制成功");
},
copyHolder: function() {
var e = this.labelHolder.string;
n.copyText(e);
o.default.createToast("复制成功");
}
});
cc._RF.pop();
}, {
"../../../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
GameEngineUtil: "GameEngineUtil"
} ],
RechargeTransferExplanation: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "2e016ztlxNAd6jFPat1e8Jg", "RechargeTransferExplanation");
cc.Class({
extends: cc.Component,
properties: {
content: cc.WebView
},
init: function(e) {
var t = this;
t.scheduleOnce(function() {
t.content.url = e;
}, .5);
},
dismiss: function() {
if (this.node) {
this.node.active = !1;
this.node.removeFromParent();
}
}
});
cc._RF.pop();
}, {} ],
RechargeTransferGuide1: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "7f841+um8NA5Iz3+/Tm6NQ1", "RechargeTransferGuide1");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {},
dismiss: function() {
if (this.node) {
this.node.active = !1;
this.node.removeFromParent();
}
}
});
cc._RF.pop();
}, {} ],
RechargeTransferGuide2: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "d3476qe+JJHRouOSWoY220b", "RechargeTransferGuide2");
var o = e("FullScreenAdapter");
cc.Class({
extends: cc.Component,
properties: {
mask: cc.Node
},
onLoad: function() {
o.applyHorizon(this.mask);
},
dismiss: function() {
if (this.node) {
this.node.active = !1;
this.node.removeFromParent();
}
}
});
cc._RF.pop();
}, {
FullScreenAdapter: "FullScreenAdapter"
} ],
RechargeViewDialog: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "70093bo4FFKWaxzC1n1TLQu", "RechargeViewDialog");
var o = u(e("../../Script/UI/CommonPrefabMgr")), n = u(e("../../Script/ProjectConfig")), r = u(e("../../Script/Audio/CommonAudioMgr")), a = u(e("../../Script/Audio/CommonAudio")), s = u(e("../../Script/LocalStorage/LocalStorageUtil")), c = u(e("../../Script/UserManager")), l = u(e("./../../Script/GameFramework/ApiMgr"));
function u(e) {
return e && e.__esModule ? e : {
default: e
};
}
var d = e("TopUpUIMgr"), f = e("CommonEventName"), h = e("ComponentRes"), p = e("CommonFunction"), g = e("GameEngineUtil"), m = e("TrackUtil");
cc.Class({
extends: cc.Component,
properties: {
mask: cc.Node,
frame: cc.Node,
body: cc.Node,
leftFrame: cc.Node,
rightFrame: cc.Node,
left_bar: cc.Node,
content: cc.Node,
contentprefab: cc.Prefab,
leftBottomBtn: cc.Node,
leftBarItem: cc.Prefab,
loading: cc.Node,
dropUp: cc.Node,
dropDown: cc.Node,
leftScrollView: cc.ScrollView,
rechargeHistoryRedDot: cc.Node,
toprightcontent: cc.Node,
toprightitem: cc.Prefab,
_maxScrollOffsetY: 0,
_tabList: [],
_contentPrefabArr: [],
_contentPrefabPath: [],
_leftbarChildren: [],
_contentList: [],
_defaultLeftTabIndex: 0,
disableMaskView: cc.Node,
_channels: []
},
onLoad: function() {
s.default.clearPayStatusIsRequest();
this.initEvent();
},
initEvent: function() {
var e = this;
if ("1" != s.default.readPayStatusIsRequest()) {
e.disableMaskView.active = !1;
e.disableMaskView.opacity = 0;
}
cc.director.on("enable_pay_view_click", function(t) {
e.disableMaskView.active = !1;
}, e);
cc.director.on("disable_pay_view_click", function(t) {
e.disableMaskView.active = !0;
}, e);
cc.director.on("PAYSTATUS", function(t) {
if ("0" == t) {
o.default.createToast("Recharge success");
e.dissmissDialog();
} else if ("1" == t) {
o.default.createToast("Recharge failed");
e.dissmissDialog();
}
}, this);
},
showRechargeDialogView: function(e) {
var t = this;
g.trackEvent(m.rechargeopenevents);
t.initEvent();
o.default.removeCommonLoading();
if (cc.isValid(t.node)) {
var i = n.default.getSceneCanvas();
if (cc.isValid(i)) {
t.node.parent = i;
t.node.zIndex = n.default.layerZOrder.Dialog - 100;
var r = !1;
if (e) {
r = !0;
t._channels = e;
t.initRechargeDialog();
}
var a = cc.callFunc(function() {
cc.isValid(t.rightFrame);
}), s = cc.callFunc(function() {
if (cc.isValid(t.body)) {
t.rightFrame.active = !0;
t.setUpRechargeUI(r);
t.body.opacity = 0;
t.body.active = !0;
t.body.runAction(cc.sequence(cc.delayTime(.04), cc.fadeIn(.2), cc.delayTime(.2), a));
}
});
if (cc.isValid(t.node)) {
t.node.setPosition(0, 0);
t.node.opacity = 0;
t.node.scale = 0;
t.rightFrame.active = !1;
t.mask.width = cc.winSize.width;
t.mask.height = cc.winSize.height;
t.node.active = !0;
t.node.runAction(cc.sequence(cc.spawn(cc.fadeIn(.15), cc.scaleTo(.15, 1.1)), cc.scaleTo(.15, 1), s)).easing(cc.easeSineOut());
}
}
}
},
setupLeftBarTabPosition: function() {
if (this._leftbarChildren) for (var e = this._leftbarChildren.length, t = 0; t < e; t++) {
var i = this._leftbarChildren[t], o = i.y, n = i.width;
i.setPosition(-n - 50, o);
}
},
playLeftTabAnimation: function(e) {
if (this._leftbarChildren) {
for (var t = this._leftbarChildren.length, i = 0; i < t; i++) {
var o = this._leftbarChildren[i];
cc.isValid(o) && o.runAction(cc.sequence(cc.delayTime(.2 + e + .06 * i), cc.moveTo(.4, cc.v2(0, o.y))));
}
this.content.runAction(cc.sequence(cc.delayTime(.06 * t + e), cc.fadeIn(.2)));
}
},
dissmissDialog: function() {
var e = this;
r.default.playEffect(a.default.common.btnMusic);
o.default.removeCommonLoading();
if (cc.isValid(e.node)) {
e.node.runAction(cc.sequence(cc.scaleTo(.08, 1.1), cc.scaleTo(.1, 0), cc.callFunc(function() {
if (cc.isValid(e.node)) {
e.node.active = !1;
e.body.active = !1;
e.body.opacity = 0;
e.cacheNodeToRoot();
}
}, e.node))).easing(cc.easeIn(3));
cc.director.emit(f.refreshUserInfo);
}
cc.director.emit(f.MAKE_SHOW_GAME);
},
hideRechargeDialogView: function(e) {
e && e.target && n.default.clickManager(e.target);
g.trackEvent(m.rechargecloseonclick);
this.dissmissDialog();
},
cacheNodeToRoot: function() {
var e = cc.director.getScene();
if (cc.isValid(e)) {
var t = e.getChildByName("rootNode");
if (cc.isValid(t)) {
this.node.parent = t;
this.node.zIndex = n.default.layerZOrder.Dialog - 100;
}
}
},
initRechargeDialog: function() {
var e = this;
e.rechargeHistoryRedDot.active = !1;
cc.director.on(f.REFRESH_PAY_UNREAD_MSG, function() {
e.requestPayUnRead();
});
e._contentPrefabArr = [];
e._contentPrefabPath = [];
e._leftbarChildren = [];
e._contentList = [];
e._defaultLeftTabIndex = 0;
e._thisPayUnreadRequestTime = 0;
cc.director.emit(cc.vv.eventName.CHECK_SECOND_MSG_NEW);
},
rechargeDialogAction: function() {
var e = this;
e._tabList = [];
d.loadPayChannels(function(t, i, r) {
var a = n.default.getSceneCanvas();
if (cc.isValid(a) && cc.isValid(e.node)) {
var s = a.getChildByName("RechargeDialog");
s && a.removeChild(s);
o.default.removeCommonLoading();
a.addChild(e.node, 500);
var c = setTimeout(function() {
e._contentList = i;
e._tabList = t;
e.addTabChild(r);
e.loading.active = !1;
clearInterval(c);
}, 500);
}
});
},
setUpRechargeUI: function(e) {
if (e) {
this.addTabChild();
this.loading.active = !1;
}
},
addTabChild: function() {
var e = this;
if (cc.isValid(e.left_bar)) {
e.left_bar.removeAllChildren();
for (var t = function(t) {
var i = t, o = e._channels[t], n = cc.instantiate(e.leftBarItem);
if (n && n.getComponent("WalletViewTopUpLeftTabItem")) {
n.getComponent("WalletViewTopUpLeftTabItem").initData(o);
o.prefab = n;
}
cc.isValid(e.left_bar) && e.left_bar.addChild(n);
cc.isValid(e.leftScrollView) && e.leftScrollView.scrollToTop(0);
n && n.on("click", function() {
r.default.playEffect(a.default.common.btnMusic);
for (var t = 0; t < e._channels.length; t++) {
e._channels[t].ischecked = t == i;
e._channels[t].prefab.getComponent("WalletViewTopUpLeftTabItem").refreshItemViewShow();
}
e.refreshRightTopViewShow();
});
}, i = 0; i < e._channels.length; i++) t(i);
e._tabList.length > 5 ? e.dropDown && (e.dropDown.opacity = 255) : e.dropDown && (e.dropDown.opacity = 0);
e.dropUp && (e.dropUp.opacity = 0);
e.refreshRightTopViewShow();
}
},
scrollViewEventsAction: function() {
if (!(this._tabList.length <= 5)) {
this._maxScrollOffsetY = this.leftScrollView.getMaxScrollOffset().y;
var e = this.leftScrollView.getScrollOffset().y / this._maxScrollOffsetY;
if (e <= 0) {
0 != this.dropUp.opacity && (this.dropUp.opacity = 0);
255 != this.dropDown.opacity && (this.dropDown.opacity = 255);
} else if (e >= 1) {
0 != this.dropDown.opacity && (this.dropDown.opacity = 0);
255 != this.dropUp.opacity && (this.dropUp.opacity = 255);
} else {
255 != this.dropUp.opacity && (this.dropUp.opacity = 255);
255 != this.dropDown.opacity && (this.dropDown.opacity = 255);
}
}
},
refreshRightTopViewShow: function() {
var e = this;
if (cc.isValid(e.toprightcontent)) {
var t = cc.find("rightTopFrame/righttopbanner", e.rightFrame), i = cc.find("rightTopFrame/righttopScrollView", e.rightFrame);
e.toprightcontent.removeAllChildren();
if (cc.isValid(t)) {
t.getComponent(cc.Sprite).spriteFrame = void 0;
t.active = !1;
}
for (var o = void 0, n = 0; n < e._channels.length; n++) {
if (e._channels[n].ischecked) {
o = e._channels[n];
break;
}
}
var s = o.rechargetypeinfosList;
if (s && s.length > 0) {
e.toprightcontent.active = !1;
for (var c = function(t) {
var i = t, o = s[t], n = cc.instantiate(e.toprightitem);
if (n && n.getComponent("WalletRechargeTypeItem")) {
n.getComponent("WalletRechargeTypeItem").initData(o);
o.prefab = n;
}
cc.isValid(e.left_bar) && e.toprightcontent.addChild(n);
n && n.on("click", function() {
r.default.playEffect(a.default.common.btnMusic);
for (var t = 0; t < s.length; t++) {
s[t].ischecked = t == i;
s[t].prefab.getComponent("WalletRechargeTypeItem").refreshItemViewShow();
}
e.refreshContentViewShow();
});
}, l = 0; l < s.length; l++) c(l);
e.toprightcontent.active = !0;
}
if (s.length > 1) cc.isValid(i) && (i.active = !0); else {
cc.isValid(i) && (i.active = !1);
"Debit Card" == o.name || "Credit Card" == o.name || "Net Banking" == o.name ? p.setComponentSprite(t, h.withDraw.withdrawbannerbank, function(e) {
t.active = !e;
}) : "UPI" == o.name && p.setComponentSprite(t, h.withDraw.withdrawbanneroffical, function(e) {
t.active = !e;
});
}
e.refreshContentViewShow();
}
},
refreshContentViewShow: function() {
if (cc.isValid(this.content)) {
for (var e = this.content.children, t = 0; t < e.length; t++) e[t].active = !1;
for (var i = void 0, o = void 0, n = 0; n < this._channels.length; n++) {
if (this._channels[n].ischecked) {
var r = (i = this._channels[n]).rechargetypeinfosList;
if (r && r.length > 0) for (var a = 0; a < r.length; a++) {
if (r[a].ischecked) {
o = r[a];
break;
}
}
}
}
if (o.contentprefab) o.contentprefab.active = !0; else {
var s = cc.instantiate(this.contentprefab);
s && s.getComponent("AddCashContentModel") && s.getComponent("AddCashContentModel").initData(o, i);
if (cc.isValid(this.content)) {
this.content.addChild(s);
o.contentprefab = s;
}
}
}
},
initContent: function(e) {
var t = this;
cc.vv.last_click_pay_channel = t._contentList[e].prefabData.source_type;
if (t._contentPrefabArr && t._contentPrefabArr.length > 0) for (var i = 0; i < t._contentPrefabArr.length; i++) t._contentPrefabArr[i].active = !1;
var o = t._contentPrefabPath.indexOf(t._contentList[e].prefabData.source_type);
if (o > -1) {
t._contentPrefabArr && (t._contentPrefabArr[o].active = !0);
t.initContentData(e, t._contentPrefabArr[o]);
} else cc.loader.loadRes(t._contentList[e].prefabPath, function(i, o) {
if (!i && o) {
var n = cc.instantiate(o);
cc.isValid(t.content) && t.content.addChild(n);
t._contentPrefabArr && null != n && t._contentPrefabArr.push(n);
t._contentPrefabPath && null != t._contentList && t._contentPrefabPath.push(t._contentList[e].prefabData.source_type);
t.initContentData(e, n);
}
});
},
initContentData: function(e, t) {
this._contentList && this._contentList[e].prefabScript && t.getComponent(this._contentList[e].prefabScript) && t.getComponent(this._contentList[e].prefabScript).initContentView(this._contentList[e].prefabData);
},
requestPayUnRead: function() {
var e = this, t = {
t: s.default.getPayUnreadLastRequestTime(c.default.uid)
};
l.default.PayUnread(t, function(t) {
if (t) {
e._thisPayUnreadRequestTime = t.t;
var i = !1;
1 == t.has_unread_msg && (i = !0);
cc.isValid(e.rechargeHistoryRedDot) && (e.rechargeHistoryRedDot.active = i);
}
});
},
clickRechargeRecording: function() {
r.default.playEffect(a.default.common.btnMusic);
if (cc.isValid(this.rechargeHistoryRedDot)) {
s.default.savePayUnreadLastRequestTime(c.default.uid, this._thisPayUnreadRequestTime);
this.rechargeHistoryRedDot.active = !1;
}
n.default.clickManager(this.leftBottomBtn);
o.default.createRechargeRecord();
},
dismiss: function() {
cc.director.off(f.REFRESH_PAY_UNREAD_MSG);
cc.director.off("enable_pay_view_click");
cc.director.off("disable_pay_view_click");
if (this.node.getComponent("CommonDialog")) {
this.node.getComponent("CommonDialog").dismiss();
cc.director.emit(f.refreshUserInfo);
}
},
onDisable: function() {
cc.director.off(f.REFRESH_PAY_UNREAD_MSG);
cc.director.off("enable_pay_view_click");
cc.director.off("disable_pay_view_click");
cc.director.off("PAYSTATUS");
}
});
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../Script/ProjectConfig": "ProjectConfig",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"../../Script/UserManager": "UserManager",
"./../../Script/GameFramework/ApiMgr": "ApiMgr",
CommonEventName: "CommonEventName",
CommonFunction: "CommonFunction",
ComponentRes: "ComponentRes",
GameEngineUtil: "GameEngineUtil",
TopUpUIMgr: "TopUpUIMgr",
TrackUtil: "TrackUtil"
} ],
RedEnvelopeFrame: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "261actpNoFKE55cUcsRXCfb", "RedEnvelopeFrame");
var o = r(e("../../Script/UI/CommonPrefabMgr")), n = r(e("./../../Script/GameFramework/ApiMgr"));
function r(e) {
return e && e.__esModule ? e : {
default: e
};
}
var a = e("RedEnvelopeModel"), s = e("Language"), c = e("CommonEventName");
cc.Class({
extends: cc.Component,
properties: {
redPrefab: cc.Prefab,
_redModelArr: []
},
removeAllRedEnvelope: function() {
cc.isValid(this.node) && this.node.removeAllChildren();
},
initWithDataInfo: function(e) {
this._redModelArr = [];
for (var t = 0; t < e.length; t++) {
var i = e[t];
if (i) {
if ((i.package || []).length <= 0) ; else {
var o = new a(i);
this._redModelArr.push(o);
}
}
}
this.disposeRedEnvelopeWithDataInfo();
},
disposeRedEnvelopeWithDataInfo: function() {
if (cc.isValid(this.node)) {
this.node.removeAllChildren();
if (this._redModelArr.length > 0) if (this.redPrefab) {
var e = cc.instantiate(this.redPrefab);
this.initRedPrefabData(e);
} else this.loadRedPrefab();
}
},
loadRedPrefab: function() {
var e = this;
cc.loader.loadRes("handsome/common/prefab/newYearRedPacket/redEnvelope", function(t, i) {
if (i) {
var o = cc.instantiate(i);
e.initRedPrefabData(o);
}
});
},
initRedPrefabData: function(e) {
var t = this;
if (e) {
t.node.addChild(e);
if (e.getComponent("RedEnvelope")) {
var i = t._redModelArr[0];
e.getComponent("RedEnvelope").initWithDataInfoModel(i);
e.on("touchend", function() {
t.openRedEnvelope(i);
}, t);
e.stopAllActions();
e.runAction(cc.repeatForever(cc.sequence(cc.moveTo(.8, cc.v2(0, 30)), cc.moveTo(.8, cc.v2(0, 0)))));
}
}
},
openRedEnvelope: function(e) {
var t = this, i = e.mailId;
n.default.getMailGift(i, function(i) {
if (i) o.default.showGetRedEnvelopeDialog(e, function() {
t.node.removeAllChildren();
}); else {
cc.director.emit(c.refreshUserInfo);
o.default.createToast(s.redEnvelope.error1);
}
}, function(e) {
cc.director.emit(c.refreshUserInfo);
e && 32 == e.status ? o.default.createSignleButtonAlert(s.email.emailExpired, "确定") : o.default.createToast(s.redEnvelope.error1);
});
}
});
cc._RF.pop();
}, {
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"./../../Script/GameFramework/ApiMgr": "ApiMgr",
CommonEventName: "CommonEventName",
Language: "Language",
RedEnvelopeModel: "RedEnvelopeModel"
} ],
RedEnvelopeModel: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "7bd69hMT0tC/Zy43C+FsvLM", "RedEnvelopeModel");
var o, n;
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var a = (n = o = function e(t) {
r(this, e);
if (t) {
this.checked = t.checked || 0;
this.recvTime = t.recv_time || 0;
this.text = t.text || "";
this.mailId = t.mail_id || 0;
this.title = t.title || "";
this.accepted = t.accepted || 0;
var i = t.package;
if (i) {
var o = i[0];
if (o) {
this.type = o.type || 0;
this.num = o.nu || 0;
}
}
}
}, o.checked = 0, o.recvTime = 0, o.text = "", o.title = "", o.mailId = 0, o.accepted = 0, 
o.type = 0, o.num = 0, n);
t.exports = a;
cc._RF.pop();
}, {} ],
RedEnvelopeOpen: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "9e5a0Gc7udFBbonQuPvllLC", "RedEnvelopeOpen");
var o = r(e("../../Script/Audio/CommonAudioMgr")), n = r(e("../../Script/Audio/CommonAudio"));
function r(e) {
return e && e.__esModule ? e : {
default: e
};
}
var a = e("CommonEventName");
cc.Class({
extends: cc.Component,
properties: {
title: cc.Label,
award: cc.Label,
_callBack: null
},
initWithDataInfoModel: function(e, t) {
"function" == typeof t && (this._callBack = t);
if (e) {
cc.isValid(this.title) && e.title && (this.title.string = e.title);
cc.isValid(this.award) && e.num && (this.award.string = e.num + "");
}
},
dismiss: function() {
o.default.playEffect(n.default.common.btnMusic);
if (cc.isValid(this.node) && this.node.getComponent("CommonDialog")) this.node.getComponent("CommonDialog").dismiss(); else if (cc.isValid(this.node)) {
this.node.active = !1;
this.node.removeFromParent();
}
cc.director.emit(a.refreshUserInfo);
this._callBack && this._callBack();
}
});
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
CommonEventName: "CommonEventName"
} ],
RedEnvelope: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "2244dtK9/pCOoOpESTjmrNW", "RedEnvelope");
cc.Class({
extends: cc.Component,
properties: {
_dataInfoModel: null
},
initWithDataInfoModel: function(e) {}
});
cc._RF.pop();
}, {} ],
RedPacket: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "703eelcLrpBg4VZXQwUG2BC", "RedPacket");
var o = r(e("../../Script/Audio/CommonAudioMgr")), n = r(e("../../Script/Audio/CommonAudio"));
function r(e) {
return e && e.__esModule ? e : {
default: e
};
}
cc.Class({
extends: cc.Component,
properties: {
boxNode: cc.Node,
frameNode: cc.Node,
showAward: cc.Node,
_isClickFrame: !1,
_coinTerminusPos: null,
_callBack: null
},
onLoad: function() {},
init: function(e, t) {
"function" == typeof t && (this._callBack = t);
Math.floor(cc.view.getVisibleSize().width) > 1280 ? this._coinTerminusPos = cc.v2(-320, 320) : this._coinTerminusPos = cc.v2(-170, 320);
},
start: function() {
var e = this;
e._isClickFrame = !1;
if (cc.isValid(e.boxNode)) {
e.boxNode.opacity = 255;
if (cc.vv.beautifulgame) {
e.boxNode.scale = .5;
e.boxNode.getComponent(sp.Skeleton).setAnimation(0, "donghua_1", !1);
} else if (cc.vv.souhu) {
e.boxNode.scale = 1;
e.boxNode.getComponent(sp.Skeleton).setAnimation(0, "waiting", !0);
}
e.scheduleOnce(function() {
cc.isValid(e.frameNode) && (e.frameNode.getComponent(cc.Button).interactable = !0);
}, .5);
e.scheduleOnce(function() {
e._isClickFrame || e.clickFrameNodeAction();
}, 3.5);
}
},
clickFrameNodeAction: function() {
var e = this;
if (!e._isClickFrame) {
e._isClickFrame = !0;
if (cc.isValid(e.boxNode)) {
var t = 1;
cc.vv.beautifulgame ? t = .5 : cc.vv.souhu && (t = 1);
e.boxNode.runAction(cc.spawn(cc.scaleTo(.3, t), cc.callFunc(function() {
o.default.playMultiEffect(n.default.common.prize);
if (e.boxNode && e.boxNode.getComponent(sp.Skeleton)) if (cc.vv.beautifulgame) e.boxNode.getComponent(sp.Skeleton).setAnimation(0, "donghua_2", !1); else if (cc.vv.souhu) {
e.boxNode.getComponent(sp.Skeleton).setAnimation(0, "click", !1);
e.scheduleOnce(function() {
e.boxNode.getComponent(sp.Skeleton).setAnimation(0, "loop", !1);
}, 1);
e.scheduleOnce(function() {
e.boxNode.getComponent(sp.Skeleton).setAnimation(0, "out", !1);
}, 1.5);
}
})));
e.scheduleOnce(function() {
if (cc.isValid(e.showAward)) {
e.showAward.opacity = 255;
e.showAward.stopAllActions();
e.showAward.runAction(cc.sequence(cc.moveTo(0, cc.v2(0, 0)), cc.scaleTo(.33, .65), cc.scaleTo(.15, .6), cc.spawn(cc.moveTo(.5, e._coinTerminusPos), cc.scaleTo(.5, .3)), cc.delayTime(.4), cc.callFunc(function() {
e.node.runAction(cc.sequence(cc.fadeOut(.4), cc.callFunc(function() {
e.dismiss();
})));
})));
}
}, 1.5);
}
}
},
dismiss: function() {
this._callBack && this._callBack();
if (this.node) {
this.node.active = !1;
this.node.removeFromParent();
}
}
});
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr"
} ],
RegisterForGifts: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "d21229MjrlHB5kG0I128+F7", "RegisterForGifts");
var o = c(e("../../Script/Audio/CommonAudioMgr")), n = c(e("../../Script/Audio/CommonAudio")), r = c(e("../../Script/UI/CommonPrefabMgr")), a = c(e("../../Script/LocalStorage/LocalStorageUtil")), s = c(e("../../Script/ProjectConfig"));
function c(e) {
return e && e.__esModule ? e : {
default: e
};
}
var l = e("LoginPrefabManager");
e("ComponentRes");
cc.Class({
extends: cc.Component,
properties: {
frame: {
default: null,
type: cc.Node
}
},
init: function(e) {
var t = cc.director.getScene().getChildByName("Canvas");
cc.isValid(t) && t.addChild(this.node, e);
},
pay_Success: function() {
if (this.frame) {
var e = cc.find("content/clickBox", this.frame);
if (e && e.getComponent(cc.Toggle)) {
var t = e.getComponent(cc.Toggle).isChecked;
a.default.saveClickBox(t);
}
}
},
onCloseClick: function() {
o.default.playEffect(n.default.common.btnMusic);
if (this.node) {
this.node.active = !1;
this.node.removeFromParent();
}
},
onUpgradeAccountClick: function() {
o.default.playEffect(n.default.common.btnMusic);
if (this.node) {
this.node.active = !1;
this.node.removeFromParent();
}
r.default.createFormalUser();
},
onPaswwLoginClick: function(e) {
o.default.playEffect(n.default.common.btnMusic);
s.default.clickManager(e.target);
if (this.node) {
this.node.active = !1;
this.node.removeFromParent();
}
l.createPasswordLogin();
},
onDestroy: function() {
cc.vv.gameEngineUtil.dumpMemory("RegisterForGifts");
}
});
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../Script/ProjectConfig": "ProjectConfig",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
ComponentRes: "ComponentRes",
LoginPrefabManager: "LoginPrefabManager"
} ],
Register: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "53854D7AZJMvoRGikw/bx+T", "Register");
var o = d(e("../../../../Script/UI/CommonPrefabMgr")), n = d(e("../../../../Script/Audio/CommonAudio")), r = d(e("../../../../Script/Audio/CommonAudioMgr")), a = d(e("../../../../Script/LocalStorage/LocalStorageUtil")), s = d(e("../../../../Script/UserManager")), c = d(e("../../../../Script/BaseFormat")), l = d(e("../../../../Script/ProjectConfig")), u = d(e("./../../../../Script/GameFramework/ApiMgr"));
function d(e) {
return e && e.__esModule ? e : {
default: e
};
}
e("CommonEventName");
var f = e("Language"), h = e("AutoLoginUtil"), p = e("LauncherModel"), g = e("DialogUtil"), m = e("AutoLogin"), y = e("LauncherRes");
e("GameEngineUtil");
cc.Class({
extends: cc.Component,
properties: {
editUserAccount: cc.EditBox,
editUserCode: cc.EditBox,
btnGetCode: cc.Node,
btnGetCodeTimer: cc.Node,
btnLogin: cc.Node,
labelGetCodeTimer: cc.Label,
editUserPassword: cc.EditBox,
editConfirmPassword: cc.EditBox
},
showDialog: function() {
this.initData();
var e = {
type: "sprite",
content: y.pathPhoto.register_login_title
};
g.addNormalDialog(this.node, e);
},
initData: function() {
this.isCodeCounting = !1;
this.codeTimer = 0;
},
update: function(e) {
if (this.isCodeCounting) {
this.labelGetCodeTimer.string = f.login.wait + Math.ceil(this.codeTimer);
this.codeTimer -= e;
if (this.codeTimer < 0) {
this.isCodeCounting = !1;
this.labelGetCodeTimer.string = "";
this.btnGetCodeTimer.active = !1;
this.btnGetCode.active = !0;
}
}
},
startCodeTimer: function(e) {
this.codeTimer = e;
this.isCodeCounting = !0;
this.labelGetCodeTimer && (this.labelGetCodeTimer.string = "请等待 " + e);
this.btnGetCodeTimer && (this.btnGetCodeTimer.active = !0);
this.btnGetCode && (this.btnGetCode.active = !1);
},
checkUserCode: function(e) {
if (e.length < 5) {
o.default.createToast(f.login.invalidCode);
return !1;
}
return !0;
},
onGetCode: function() {
var e = this;
l.default.clickManager(e.btnGetCode);
r.default.playEffect(n.default.common.btnMusic);
var t = p.VCODE_TARGET.REGISTER, i = this.editUserAccount.string;
if (c.default.checkUserAccount(i)) {
var a = {
target: t,
phone: i,
quick_fail: 1
};
u.default.getNewPhoneCode(a, function() {
e.startCodeTimer(60);
}, function(e) {
var n = e.status;
n > 0 && (31 == n ? o.default.createGraphValidCode(t, i) : 308 == n ? o.default.createToast(f.login.getCodeFast) : 104 == n ? o.default.createToast("该账号已被注册。") : 6 == n ? o.default.createToast(f.login.accountDeviceIpBlackErrorGetCode) : o.default.createToast(f.login.getCodeloset));
});
cc.director.on("CALLBACK_VCODE_REGISTER", function() {
e.startCodeTimer(60);
});
} else ;
},
onCodeLogin: function() {
var e = this;
l.default.clickManager(e.btnLogin);
r.default.playEffect(n.default.common.btnMusic);
var t = this.editUserAccount.string, i = this.editUserCode.string, d = this.editUserPassword.string, f = this.editConfirmPassword.string;
if (c.default.checkUserAccount(t) && this.checkUserCode(i) && this.checkUserPassword(d, f)) {
var p = {
phone: t,
vcode: i,
password: d
};
u.default.register(p, function(i) {
if (i && i.upgrade) {
s.default.is_formal = !0;
a.default.saveUserDataEvent(i);
s.default.initAccount();
h.addAccount(s.default.uid, s.default.token, t, d);
h.setUpgradeFormalUser();
a.default.saveLastLoginAccount(t);
} else {
a.default.saveUserDataEvent(i);
s.default.initAccount();
}
e.onLoginSuccess(t, f);
m.loadGameHallScene(!0);
g.removeNormalDialog();
a.default.saveLastLoginAccount(t);
}, function(e) {
var t = e.status;
t >= 0 && (19 === t ? o.default.createToast("验证码错误") : 104 === t ? o.default.createToast("手机号已经被注册") : o.default.createToast("注册失败"));
});
}
},
checkUserPassword: function(e, t) {
if (/^[\w]{6,20}$/.test(e)) {
if (e != t) {
o.default.createToast(f.login.passwordNotSame);
return !1;
}
return !0;
}
o.default.createToast(f.login.passwordRuleError);
return !1;
},
onLoginSuccess: function(e, t) {
h.addAccount(s.default.uid, s.default.token, e, t);
},
onDestroy: function() {}
});
cc._RF.pop();
}, {
"../../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../../../Script/BaseFormat": "BaseFormat",
"../../../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../../../Script/ProjectConfig": "ProjectConfig",
"../../../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"../../../../Script/UserManager": "UserManager",
"./../../../../Script/GameFramework/ApiMgr": "ApiMgr",
AutoLogin: "AutoLogin",
AutoLoginUtil: "AutoLoginUtil",
CommonEventName: "CommonEventName",
DialogUtil: "DialogUtil",
GameEngineUtil: "GameEngineUtil",
Language: "Language",
LauncherModel: "LauncherModel",
LauncherRes: "LauncherRes"
} ],
ReleaseMgr: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "86b7a5KVFBEZaV7ijUKG0BQ", "ReleaseMgr");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = cc._decorator, n = (o.ccclass, o.property, e("ReleaseRes"), function() {
return function() {};
}());
i.default = n;
t.exports = n;
cc._RF.pop();
}, {
ReleaseRes: "ReleaseRes"
} ],
ReleaseRes: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "e93c5m/EfNAYJ2zJfArqhgV", "ReleaseRes");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = e("../../../Script/ProjectConfig"), n = e("ReleaseSkinRes"), r = function() {
function e() {}
e.commonReleasePrefab = n.commonReleasePrefab[o.default.variable.curSkin];
return e;
}();
i.default = r;
t.exports = r;
cc._RF.pop();
}, {
"../../../Script/ProjectConfig": "ProjectConfig",
ReleaseSkinRes: "ReleaseSkinRes"
} ],
ReleaseSkinRes: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "bc6c0LHCu5Hu4kkdj4R3y0y", "ReleaseSkinRes");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = e("ComponentRes"), n = function() {
function e() {}
e.commonReleasePrefab = {
handsome: {
loading: o.prefabs.loading,
loadingWithFont: "",
Alert: o.prefabs.Alert,
gameRule: o.prefabs.gameRule,
toast: o.prefabs.toast,
toastMuti: o.prefabs.toastMuti,
betChip: "handsome/common/prefab/BetChip",
chipFrame: "handsome/common/prefab/ChipFrame",
messageWithService: "handsome/common/prefab/wallet/topup/channel/customer/MessageWithService",
messageWithMe: "handsome/common/prefab/wallet/topup/channel/customer/MessageWithMe",
rechargeCustomer: "handsome/common/prefab/wallet/topup/channel/customer/RechargeCustomer",
rechargeSecondPayItem: "handsome/common/prefab/wallet/topup/miao_fu/RechargeSecondPayItem",
rechargeEvaluationAgent: "handsome/common/prefab/wallet/topup/miao_fu/RechargeEvaluationAgent",
rechargeEvaluationDetails: "handsome/common/prefab/wallet/topup/miao_fu/RechargeEvaluationDetails",
rechargeService: "handsome/common/prefab/wallet/topup/channel/customer/RechargeService",
rechargeSecondPay: "handsome/common/prefab/wallet/topup/miao_fu/RechargeSecondPay",
rechargeComplaintAgent: "handsome/common/prefab/wallet/topup/agent/RechargeComplaintAgent",
rechargeOrder: "handsome/common/prefab/wallet/topup/channel/customer/RechargeOrder",
rechargeOrderItem: "handsome/common/prefab/wallet/topup/channel/customer/RechargeOrderItem",
rechargeRecording: "handsome/common/prefab/wallet/topup/record/RechargeRecording",
rechargeRecordingItem: "handsome/common/prefab/wallet/topup/record/RechargeRecordingItem",
promoter: "handsome/common/prefab/promoter/Promoter",
promoterActivityRank: "handsome/common/prefab/promoter/Promoter/ac/PromoterActivityRank",
promoterActivityRankItem: "handsome/common/prefab/promoter/Promoter/ac/PromoterActivityRankItem",
weekItem: "handsome/common/prefab/promoter/WeekItem"
},
beautifulgame: {
loading: o.prefabs.loading,
Alert: o.prefabs.Alert,
gameRule: o.prefabs.gameRule,
toast: o.prefabs.toast,
toastMuti: o.prefabs.toastMuti,
betChip: "beautifulgame/common/prefab/BetChip",
chipFrame: "beautifulgame/common/prefab/ChipFrame",
messageWithService: "beautifulgame/common/prefab/wallet/topup/channel/customer/MessageWithService",
messageWithMe: "beautifulgame/common/prefab/wallet/topup/channel/customer/MessageWithMe",
rechargeCustomer: "beautifulgame/common/prefab/wallet/topup/channel/customer/RechargeCustomer",
rechargeSecondPayItem: "beautifulgame/common/prefab/wallet/topup/RechargeSecondPayItem",
rechargeEvaluationAgent: "beautifulgame/common/prefab/wallet/topup/RechargeEvaluationAgent",
rechargeEvaluationDetails: "handsome/common/prefab/wallet/topup/RechargeEvaluationDetails",
rechargeService: "beautifulgame/common/prefab/wallet/topup/channel/customer/RechargeService",
rechargeSecondPay: "beautifulgame/common/prefab/wallet/topup/RechargeSecondPay",
rechargeComplaintAgent: "beautifulgame/common/prefab/wallet/topup/RechargeComplaintAgent",
rechargeOrder: "beautifulgame/common/prefab/wallet/topup/channel/customer/RechargeOrder",
rechargeOrderItem: "beautifulgame/common/prefab/wallet/topup/channel/customer/RechargeOrderItem",
rechargeRecording: "beautifulgame/common/prefab/wallet/topup/RechargeRecording",
rechargeRecordingItem: "beautifulgame/common/prefab/wallet/topup/RechargeRecordingItem",
promoter: "beautifulgame/common/prefab/promoter/Promoter",
promoterActivityRank: "beautifulgame/common/prefab/promoter/Promoter/ac/PromoterActivityRank",
promoterActivityRankItem: "beautifulgame/common/prefab/promoter/Promoter/ac/PromoterActivityRankItem",
weekItem: "beautifulgame/common/prefab/promoter/WeekItem"
}
};
return e;
}();
i.default = n;
t.exports = n;
cc._RF.pop();
}, {
ComponentRes: "ComponentRes"
} ],
ReportAgent: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "2878c5ugZdBj6dfAl9FUB1u", "ReportAgent");
var o = c(e("../../Script/Audio/CommonAudioMgr")), n = c(e("../../Script/Audio/CommonAudio")), r = c(e("../../Script/UI/CommonPrefabMgr")), a = c(e("../../Script/BaseFormat")), s = (c(e("../../Script/ProjectConfig")), 
c(e("./../../Script/GameFramework/ApiMgr")));
function c(e) {
return e && e.__esModule ? e : {
default: e
};
}
var l = e("DialogUtil");
cc.Class({
extends: cc.Component,
properties: {
wechatEdit: cc.EditBox,
issueEdit: cc.EditBox
},
showDialog: function(e) {
var t = "beautifulgame/common/texture/wallet/topup/recharge_title_text_jbdl.png";
cc.vv.souhu && (t = "handsome/common/texture/dialogTitle/common_dialog_title_text_jbdl.png");
var i = {
type: "sprite",
content: t
};
e && this.wechatEdit && (this.wechatEdit.string = e);
l.addNormalDialog(this.node, i, {
bindDialog: !0
});
},
onSubmitClick: function() {
var e = this;
o.default.playEffect(n.default.common.btnMusic);
var t = void 0, i = void 0;
e.wechatEdit && (t = e.wechatEdit.string.replace(/\s+/g, ""));
e.issueEdit && (i = e.issueEdit.string.replace(/\s+/g, ""));
if ("" != t) if (a.default.checkWordLength(i, 10)) r.default.createToast("投诉内容至少为10个汉字或20个字符"); else {
var c = {
agency_weixin: t,
desc: i
};
s.default.reportAgency(c, function(t) {
e.wechatEdit && (e.wechatEdit.string = "");
e.issueEdit && (e.issueEdit.string = "");
r.default.createToast("您的投诉已提交，我们会在1～3个工作日左右受理");
l.removeNormalDialogByIns(e.node.dialog);
});
} else r.default.createToast("代理商微信不能为空");
},
dismiss: function() {
this.node.active = !1;
this.node.removeFromParent();
}
});
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/BaseFormat": "BaseFormat",
"../../Script/ProjectConfig": "ProjectConfig",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"./../../Script/GameFramework/ApiMgr": "ApiMgr",
DialogUtil: "DialogUtil"
} ],
ReportPrize: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "4bdf8Rpgt5DPL7weD9bOwu9", "ReportPrize");
var o = a(e("../../Script/Audio/CommonAudioMgr")), n = a(e("../../Script/Audio/CommonAudio")), r = a(e("../../Script/UI/CommonPrefabMgr"));
a(e("../../Script/ProjectConfig"));
function a(e) {
return e && e.__esModule ? e : {
default: e
};
}
var s = e("GamePayLanguage"), c = e("DialogUtil"), l = e("GameEngineUtil"), u = e("UISettingModel"), d = e("ComponentRes");
cc.Class({
extends: cc.Component,
properties: {
mainWrap: cc.Node,
wName: cc.Label
},
showDialog: function() {
this.initData();
var e = {
type: "sprite",
content: d.topFrame.reportPrizeTitleSprite
};
c.addNormalDialog(this.node, e);
},
initData: function() {
for (var e, t, i = u.topBarListArr, o = 0, n = i.length; o < n; o++) {
var r = i[o];
if ("jbdl" == r.barName) {
e = r.tag1;
t = r.tag2;
break;
}
}
this.sid = "";
null != e && void 0 != e && (this.sid = e);
this.wName.string = t || "未知";
},
onCopyWxClick: function() {
o.default.playEffect(n.default.common.btnMusic);
var e = this.sid || "";
if ("" !== e) if (l.hasWeChat()) {
r.default.createToast(s.report_prize.tips);
l.copyText(e);
this.scheduleOnce(function() {
l.startApp("2:" + e);
}, 2);
} else r.default.createToast("请先安装微信。"); else r.default.createToast(s.report_prize.tips2);
}
});
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/ProjectConfig": "ProjectConfig",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
ComponentRes: "ComponentRes",
DialogUtil: "DialogUtil",
GameEngineUtil: "GameEngineUtil",
GamePayLanguage: "GamePayLanguage",
UISettingModel: "UISettingModel"
} ],
RequireManager: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "5d301/JundBv4067Pxxu6xB", "RequireManager");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = function() {
function t() {}
t.initRequireMgr = function() {
cc.vv = {};
cc.vv.atlasMgr = e("CommonAtlasMgr");
cc.vv.eventMgr = e("CommonEventManager");
cc.vv.settingModel = e("UISettingModel");
cc.vv.eventName = e("CommonEventName");
cc.vv.gameEngineUtil = e("GameEngineUtil");
cc.vv.editBoxMgr = e("EditBoxManager");
cc.vv.brcAudioMgr = e("CommonBrcAudioMgr");
cc.vv.brcModel = e("BrcModel");
cc.vv.brcSocketMgr = e("BrcSocketMgr");
cc.vv.brcSocketSend = e("BrcSocketSend");
cc.vv.gameLog = e("GameLog");
};
return t;
}();
i.default = o;
cc._RF.pop();
}, {
BrcModel: "BrcModel",
BrcSocketMgr: "BrcSocketMgr",
BrcSocketSend: "BrcSocketSend",
CommonAtlasMgr: "CommonAtlasMgr",
CommonBrcAudioMgr: "CommonBrcAudioMgr",
CommonEventManager: "CommonEventManager",
CommonEventName: "CommonEventName",
EditBoxManager: "EditBoxManager",
GameEngineUtil: "GameEngineUtil",
GameLog: "GameLog",
UISettingModel: "UISettingModel"
} ],
ResDynamicLoader: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "ef67c30v3VJS6I6lCYjJxwZ", "ResDynamicLoader");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = function() {
function e() {}
e.dynamicLoadSkeleton = function(e, t, i, o) {
if (e) {
if (e.skeletonData) {
e && i && i();
return;
}
cc.loader.loadRes(t, sp.SkeletonData, function(t, n) {
if (t) {
cc.log(t.message || t);
e && o && o();
} else if (e) {
e.skeletonData = n;
i && i();
}
});
}
};
return e;
}();
i.default = o;
cc._RF.pop();
}, {} ],
RoomBaseInfo: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "636e84nbG5Barh1ky9WxZ1L", "RoomBaseInfo");
r(e("../../Script/ProjectConfig"));
var o = r(e("../../Script/Audio/CommonAudio")), n = r(e("../../Script/Audio/CommonAudioMgr"));
function r(e) {
return e && e.__esModule ? e : {
default: e
};
}
e("RuleText"), e("CommonFunction"), e("ComponentRes");
var a = e("NewGameInfo");
cc.Class({
extends: cc.Component,
properties: {
textSprite: cc.Sprite,
mainScrollView: cc.ScrollView,
content: cc.Node
},
init: function(e, t, i) {
this.gameID = t;
this.roominfopre = i;
var o = cc.director.getScene().getChildByName("Canvas");
cc.isValid(o) && o.addChild(this.node, e);
},
onLoad: function() {
this.showDialog(this.gameID);
},
onCloseClick: function() {
n.default.playEffect(o.default.common.btnMusic);
if (this.node) {
var e = this.node.getComponent("CommonDialog");
if (e) e.dismiss(); else {
this.node.active = !1;
this.node.removeFromParent();
}
}
},
showDialog: function(e) {
var t = cc.find("rule_bg/title", this.node), i = a.getRoomInfo();
if (i && cc.isValid(t)) {
var o = i.id;
0 == o ? t.getComponent(cc.Label).string = "Classic Room" : 1 == o ? t.getComponent(cc.Label).string = "Pro Room" : 2 == o && (t.getComponent(cc.Label).string = "Ultimate Room");
}
if (this.roominfopre) {
var n = cc.find("rule_bg/content", this.node);
cc.isValid(n) && n.addChild(this.roominfopre);
}
}
});
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/ProjectConfig": "ProjectConfig",
CommonFunction: "CommonFunction",
ComponentRes: "ComponentRes",
NewGameInfo: "NewGameInfo",
RuleText: "RuleText"
} ],
RootNode: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "126c6CjiYdBpo4aOycezr9I", "RootNode");
(function(e) {
e && e.__esModule;
})(e("../../../Script/ProjectConfig"));
var o = e("ComponentRes");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {
cc.game.addPersistRootNode(this.node);
cc.director.on("root_node", this.onMessage, this);
this.initNoticeView();
},
onMessage: function() {
this.initTopUpView();
},
initNoticeView: function() {
var e = this;
cc.loader.loadRes(o.prefab.marquee, function(t, i) {
if (i) {
var o = cc.instantiate(i);
o && cc.isValid(e.node) && e.node.addChild(o, cc.macro.MAX_ZINDEX);
}
});
},
initUserCenterView: function() {
var e = this;
cc.loader.loadRes(o.prefab.userCenter, function(t, i) {
if (i) {
var o = cc.instantiate(i);
o.active = !1;
o && cc.isValid(e.node) && e.node.addChild(o, cc.macro.MAX_ZINDEX - 100);
}
});
},
initTopUpView: function() {
var e = this;
cc.loader.loadRes(o.prefab.rechargeDialog, function(t, i) {
if (i) {
var o = cc.instantiate(i);
o.active = !1;
o && cc.isValid(e.node) && e.node.addChild(o, cc.macro.MAX_ZINDEX - 100);
}
});
},
initWithDrawView: function() {},
initSafeBoxView: function() {},
initMailBoxView: function() {},
initNoticeBoardView: function() {
cc.loader.loadRes(o.prefab.noticeDialog, function(e, t) {
if (t) cc.instantiate(t);
});
}
});
cc._RF.pop();
}, {
"../../../Script/ProjectConfig": "ProjectConfig",
ComponentRes: "ComponentRes"
} ],
RuleTeenpatti: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "93f14UTaiNM1q+d7oxHDFl5", "RuleTeenpatti");
var o = a(e("../../Script/ProjectConfig")), n = a(e("../../Script/Audio/CommonAudio")), r = a(e("../../Script/Audio/CommonAudioMgr"));
function a(e) {
return e && e.__esModule ? e : {
default: e
};
}
var s = e("RuleText"), c = e("CommonFunction");
e("ComponentRes");
cc.Class({
extends: cc.Component,
properties: {
textSprite: cc.Sprite,
mainScrollView: cc.ScrollView,
content: cc.Node
},
init: function(e, t) {
this.gameID = t;
var i = cc.director.getScene().getChildByName("Canvas");
cc.isValid(i) && i.addChild(this.node, e);
},
onLoad: function() {
this.showDialog(this.gameID);
},
onCloseClick: function() {
r.default.playEffect(n.default.common.btnMusic);
if (this.node) {
var e = this.node.getComponent("CommonDialog");
if (e) e.dismiss(); else {
this.node.active = !1;
this.node.removeFromParent();
}
}
},
showDialog: function(e) {
var t = this, i = null, n = null;
switch (e) {
case o.default.GAME_TYPE.TEENPATTI:
i = s.resources.TeenPattiRule.subMenu[0].context[0];
n = s.resources.TeenPattiRule.name;
break;

case o.default.GAME_TYPE.RUMMY:
i = s.resources.RummyRule.subMenu[0].context[0];
n = s.resources.RummyRule.name;
break;

case o.default.GAME_TYPE.RUMMY:
i = s.resources.RedBlackRule.subMenu[0].context[0];
n = s.resources.RedBlackRule.name;
break;

default:
i = null;
}
null != i && c.setSprite(t.textSprite, i);
var r = cc.find("rule_bg/title", t.node);
cc.isValid(r) && r.getComponent(cc.Label) && (r.getComponent(cc.Label).string = n);
t.scheduleOnce(function() {
t.mainScrollView.scrollToTop(0);
}, .2);
}
});
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/ProjectConfig": "ProjectConfig",
CommonFunction: "CommonFunction",
ComponentRes: "ComponentRes",
RuleText: "RuleText"
} ],
RuleText: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "c4e1cBSTS9PCr+ZNyvI48Nb", "RuleText");
var o, n, r = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("../../Script/ProjectConfig"));
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var s = (n = o = function e() {
a(this, e);
}, o.resources = {
RedBlackRule: {
name: "Game Rules",
context: "",
subMenu: [ {
name: "Game Rules",
context: [ r.default.variable.curSkin + "/common/texture/game/rule/bestoffive/bestoffiveInfo" ],
subMenu: []
} ]
},
TeenPattiRule: {
name: "Teen Patti Tutorial",
context: "",
subMenu: [ {
name: "Teen Patti",
context: [ r.default.variable.curSkin + "/common/texture/game/rule/teenpatti/Teenpattiinfo" ],
subMenu: []
} ]
},
RummyRule: {
name: "Rummy Help",
context: [ "" ],
subMenu: [ {
name: "Rummy Help",
context: [ r.default.variable.curSkin + "/rummy/texture/rummy_rule" ],
subMenu: [ {
name: "pure sequences",
context: [ r.default.variable.curSkin + "/common/texture/game/rule/rummy/PURE_SEQUENCES" ],
subMenu: []
}, {
name: "impure sequences",
context: [ r.default.variable.curSkin + "/common/texture/game/rule/rummy/IMPURE_SEQUENCES" ],
subMenu: []
}, {
name: "sets",
context: [ r.default.variable.curSkin + "/common/texture/game/rule/rummy/SETS" ],
subMenu: []
} ]
}, {
name: "Play tips",
context: [ r.default.variable.curSkin + "/common/texture/game/rule/rummy/PLAY_TIPS" ],
subMenu: [ {
name: "rummy table",
context: [ r.default.variable.curSkin + "/common/texture/game/rule/rummy/RUMMY_TABLE" ],
subMenu: []
}, {
name: "joker and wild cards",
context: [ r.default.variable.curSkin + "/common/texture/game/rule/rummy/JOKER_AND_WILDCARDS" ],
subMenu: []
}, {
name: "discard",
context: [ r.default.variable.curSkin + "/common/texture/game/rule/rummy/DISCARD" ],
subMenu: []
}, {
name: "drop",
context: [ r.default.variable.curSkin + "/common/texture/game/rule/rummy/DROP" ],
subMenu: []
}, {
name: "sort",
context: [ r.default.variable.curSkin + "/common/texture/game/rule/rummy/SORT" ],
subMenu: []
} ]
} ]
}
}, n);
t.exports = s;
cc._RF.pop();
}, {
"../../Script/ProjectConfig": "ProjectConfig"
} ],
Rule: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "4a572a4RLtLzJIIWxPHv328", "Rule");
var n = l(e("../../Script/ProjectConfig")), r = l(e("../../Script/CommonFunction")), a = l(e("../../Script/Audio/CommonAudio")), s = l(e("../../Script/Audio/CommonAudioMgr")), c = l(e("./../../Script/Utils/EntitiesComponentSystem/ToggleStyleSwitcher"));
e("vm");
function l(e) {
return e && e.__esModule ? e : {
default: e
};
}
e("ComponentRes");
var u = e("RuleText");
cc.Class({
extends: cc.Component,
properties: {
mainScrollView: cc.ScrollView,
contentRoot: cc.Node,
togglePrefab: cc.Prefab,
subTogglePrefab: cc.Prefab,
titleLabel: cc.Label,
ruleConfig: Array
},
init: function(e, t) {
this.gameID = t;
var i = cc.director.getScene().getChildByName("Canvas");
cc.isValid(i) && i.addChild(this.node, e);
if (cc.isValid(this.contentRoot)) {
var o = this.contentRoot.getChildByName("container");
if (o && o.getComponent(cc.ToggleContainer)) {
var n = o.getComponent(cc.ToggleContainer), r = new cc.Component.EventHandler();
r.target = this;
r.component = "Rule";
r.handler = "onToggleChanged";
r.customEventData = n.toggleItems[n.checkInedx - 1];
n.checkEvents.push(r);
}
}
},
onLoad: function() {
this.showDialog(this.gameID);
},
onCloseClick: function() {
s.default.playEffect(a.default.common.btnMusic);
if (this.node) {
var e = this.node.getComponent("CommonDialog");
if (e) e.dismiss(); else {
this.node.active = !1;
this.node.removeFromParent();
}
}
},
renderRuleContext: function(e) {
var t = this, o = this.ruleConfig, n = "Root" == e ? "" : e;
for (i = 0; i < n.length; i++) {
var a = Number(n[i]);
o = o.subMenu[a - 1];
}
this.mainScrollView.content.removeAllChildren();
o.context.forEach(function(e) {
var i = new cc.Node("rule"), o = i.addComponent(cc.Sprite);
o.sizeMode = cc.Sprite.SizeMode.RAW;
t.mainScrollView.content.addChild(i);
r.default.setSprite(o, e, function() {
t.mainScrollView.scrollToTop(0);
});
});
cc.isValid(this.titleLabel) && (this.titleLabel.string = "How to play");
},
showDialog: function(e) {
switch (e) {
case n.default.GAME_TYPE.TEENPATTI:
this.ruleConfig = u.resources.TeenPattiRule;
break;

case n.default.GAME_TYPE.RUMMY:
this.ruleConfig = u.resources.RummyRule;
break;

default:
this.ruleConfig = u.resources.TeenPattiRule;
}
null != this.ruleConfig && cc.isValid(this.contentRoot) && this.onToggleChanged(this.contentRoot.getComponent(cc.Toggle), this.togglePrefab);
},
onToggleChanged: function(e, t) {
var o = this, n = this.ruleConfig;
if (e.node.parent && e.node != this.contentRoot) for (i = e.node.parent.childrenCount - 1; i >= 0; i--) if (e.node.parent.children[i] != e.node) {
e.node.parent.children[i].getChildByName("container").removeAllChildren();
e.node.parent.children[i].getChildByName("container").height = 0;
}
var r = "Root" == e.node.name ? "" : e.node.name;
for (i = 0; i < r.length; i++) {
var a = Number(r[i]);
n = n.subMenu[a - 1];
}
var s = 1;
this.mainScrollView.content.removeAllChildren();
var l = e.node.getChildByName("container");
l.removeAllChildren();
l.height = 0;
var u = t || this.subTogglePrefab;
n.subMenu.forEach(function(t) {
var n = cc.instantiate(u);
if (n && n.getComponent(cc.Toggle)) {
n.getComponent(cc.Toggle).checkInedx = s;
n.name = "Root" == e.node.name ? s.toString() : e.node.name + s.toString();
s++;
}
var r = n.getChildByName("trigger");
r && r.on(cc.Node.EventType.TOUCH_END, function(e) {
var t = e.target.parent.getChildByName("container").getComponent(cc.ToggleContainer);
for (i = 0; i < t.toggleItems.length; i++) {
t.toggleItems[i].isChecked = !1;
t.toggleItems[i].getComponent(c.default) && t.toggleItems[i].getComponent(c.default).ChangeStyle(!1);
}
o.renderRuleContext(e.target.parent.name);
});
r && r.getChildByName("title") && r.getChildByName("title").getComponent(cc.Label) && (r.getChildByName("title").getComponent(cc.Label).string = t.name);
if (n && n.getComponent(c.default) && l.getComponent(cc.ToggleContainer)) {
var a = l.getComponent(cc.ToggleContainer), d = new cc.Component.EventHandler();
d.target = n.getComponent(c.default);
d.component = "ToggleStyleSwitcher";
d.handler = "onCheckHandle";
a.checkEvents.push(d);
}
var f = n.getChildByName("container");
if (n && f.getComponent(cc.ToggleContainer)) {
var h = f.getComponent(cc.ToggleContainer), p = new cc.Component.EventHandler();
p.target = o;
p.component = "Rule";
p.handler = "onToggleChanged";
p.customEventData = h.toggleItems[h.checkInedx - 1];
h.checkEvents.push(p);
}
l.addChild(n);
});
this.renderRuleContext(e.node.name);
}
});
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/CommonFunction": "CommonFunction",
"../../Script/ProjectConfig": "ProjectConfig",
"./../../Script/Utils/EntitiesComponentSystem/ToggleStyleSwitcher": "ToggleStyleSwitcher",
ComponentRes: "ComponentRes",
RuleText: "RuleText",
vm: 156
} ],
"Rummy.proto": [ function(e, t, i) {
"use strict";
cc._RF.push(t, "8d000eSrF9DBqD6bGz8TVIj", "Rummy.proto");
t.exports = '\nsyntax = "proto3";\npackage msg;\n\n// 对时，服务端存活探测, id=0\nmessage Ping {\n    int64 Timestamp = 1;\n}\n\n//对时，服务端返回当前时间，id=99\nmessage Pong {\n    int64 Timestamp = 1;\n}\n//错误码\nenum STATUS {\n    OK = 0;\n    UNKNOWN_ERROR = 1; // 未知错误\n    NOT_AUTH = 2; // 需要重新认证\n    TOKEN_INVALID = 3; // token错误\n    INSUFFICIENT = 4; // 余额不足\n    REDIRECT = 5; // 需要用户重连到另外的服务器\n    IDLE_TIMEOUT = 6; //闲置时间过长\n    DUP_LOGIN = 7; //Deprecated: 在别处登录，现在统一使用3\n    PARAM_ERROR = 8; //参数错误\n    SERVER_CLOSED = 9;//服务器已经关闭\n}\n\n//错误信息，id: 100\nmessage ErrorST {\n    int64 Timestamp = 1; //毫秒级时间戳，下同\n    STATUS Status = 2;\n    string Msg = 3;\n}\n\n//消息后缀为ST，表示一种状态；为EV表示用户触发的某种事件；为NT表示服务端生成的通知\n//消息后缀为Req，表示客户端向服务端发送的请求\n//---------------------------基础结构----------------------------\n//牌组的牌型\nenum PATTERN {\n    SP = 0; //散牌\n    CSZ = 1; //纯顺子\n    SZ = 2; //顺子\n    T3 = 3; // 三条\n    T4 = 4; //四条\n}\n\n// 参考旧游戏的设计\n// wait--\x3eprepare: 状态凑人数, 人数凑齐后立即进入prepare状态\n// prepare--\x3eplay: 再过3秒会重新检查人数，少于最小人数2，取消prepare状态, 回到wait状态;否则进入play\n// play--\x3esettle: 场上只剩下一名玩家时3秒钟之后进入结算状态，游戏结束\n// settle--\x3ewait: 结算完毕后, 自动进入wait状态, (此处应该再检查人数)5秒钟后进入prepare状态\nenum STAGE {\n    WAIT = 0; //等待\n    PREPARE = 1; //准备\n    SHUFFLE = 2; //发牌\n    PLAY = 3; //play\n    DECLARE = 4; //declare\n    SETTLE = 5; //结算\n    EMPTYSHUFFLE = 6; //重新洗牌\n    FINISH = 7; //FINISH阶段\n}\n\n// 牌组，一副牌1~14个牌组\nmessage CardGroup {\n    PATTERN Pattern = 1; //与上面的枚举对应\n    repeated int32 CardS = 2; // 1~14张不等\n}\n\n// 手牌信息\nmessage HandCard {\n    repeated CardGroup CardGroupS = 1; //手牌\n    int32 Score = 2; //分数\n    int32 CardCnt = 3; //手牌有多少张\n    int32 DeclareType = 4; //-1:不能胡牌, 14:直接可以胡牌, 0 ~ 13:表示胡牌要出的牌组的索引\n}\n\n// 桌牌信息\nmessage TableCard {\n    int32 WildCard = 1; //万能牌值\n    int32 WildRank = 2; //万能牌的rank\n    int32 PoolCnt = 3; //暗牌牌池剩余牌数量\n    int32 VisibleCard = 4; //明牌牌池可见牌\n    int32 FinishCard = 5; //finish阶段可见的牌,默认-1\n}\n\n// 用户的结算信息\nmessage ChairSettle {\n    uint64 UserID = 1; //user id\n    HandCard HandCard = 2; //手牌,直接使用手牌的分数,不在单独增加分数的消息,\n    int32 Status = 3; //用户状态 0:准备  1:游戏中  2:赢家  3:输家  4:弃牌\n    int32 WinAmount = 4; //赢钱金额 >0:赢家,目前设计只有一个赢家  <0:输家\n    string UserName = 5; //用户名\n    string Avatar = 6; //头像\n}\n\n// 房间的结算信息\nmessage Settle {\n    int32 Reason = 1; //结算原因, 0:未结算  1:胡牌结算  2:流局结算  3:玩家弃牌,人数不足结算\n    int32 WildRank = 2; //万能牌rank\n    map<int32, ChairSettle> ChairS = 3; //结算信息, UserS会随着玩家的变化变化,但SettleS只会保存参与游戏的信息\n}\n\n//----------------------------客户端请求--------------------------\n//用户认证，id:1，用户认证后自动进入准备状态\nmessage AuthReq {\n    int64 Timestamp = 1;\n    uint64 UserID = 2;\n    string Token = 3;\n    int32 RoomKind = 4; //房间号\n    int32 Version = 5; //客户端版本，现在传0就行\n    bool IsReconnect = 6; //如果用户是点击返回游戏进来的，会将上一局游戏结果(108)推送过去，然后用户要点击继续游戏才会变成准备状态\n    string IP = 7; //客户端上传ip\n}\n\n//用户离开房间，id:2\nmessage UserOutReq {\n    int64 Timestamp = 1;\n    int32 ChairNo = 2;\n}\n\n//用户请求更换牌桌, id:3\nmessage ChangeTableReq {\n    int64 Timestamp = 1;\n}\n\n//用户请求弃牌, id:4\nmessage DropReq {\n    int64 Timestamp = 1;\n}\n\n//用户摸牌, id:5\nmessage TouchReq {\n    int64 Timestamp = 1;\n    bool Visible = 2; //是否从明牌摸\n}\n\n//用户出牌, id:6\nmessage DiscardReq {\n    int64 Timestamp = 1;\n    int32 Card = 2; //所出牌的牌值\n    int32 GroupIndex = 3; //所出的牌在HardCard的Group索引\n    int32 CardIndex = 4; //所出的牌在CardGroup的Card索引\n}\n\n//用户理牌, id:7\nmessage GroupReq {\n    int64 Timestamp = 1;\n    HandCard HandCard = 2; //理牌后的手牌\n}\n\n//用户胡牌确认, id:8\nmessage DeclareConfirmReq {\n    int64 Timestamp = 1;\n    bool Confirm = 2;\n}\n\n//用户胡牌, id:10\nmessage DeclareReq {\n    int64 Timestamp = 1;\n    int32 GroupIndex = 2; //所出的牌在HardCard的Group索引\n    int32 CardIndex = 3; //所出的牌在CardGroup的Card索引\n}\n\n//同步用户手牌, id:11;返回用户的状态数据(101)\nmessage SyncUserReq {\n    int64 Timestamp = 1;\n}\n\n//更新防超时弃牌开关状态, id:12;\nmessage AntiTimeoutReq {\n    int64 Timestamp = 1;\n    bool Switch = 2; // true:打开, false:关闭\n}\n\n//请求上一局的结算信息, id:13;\nmessage LastSettleReq {\n    int64 Timestamp = 1;\n}\n\n//--------------------------服务端推送------------------------------\n//用户状态，id=101\nmessage UserST {\n    uint64 ID = 1; //用户id\n    string UserName = 2; //用户名\n    int64 Credit = 3; //用户余额\n    string Avatar = 4; //头像\n    bool Gender = 5; //性别\n    int32 Status = 6; //用户状态 0:准备  1:游戏中  2:赢家  3:输家  4:弃牌\n    uint64 RoomID = 7; //房间id\n    int32 Chair = 8; //0:尚未分配座位，1-5，座位编号\n    HandCard HandCard = 9; //手牌\n    int32 TouchCnt = 10; //摸牌计数,目前的用法是,在不同阶段弃牌,如还没有摸牌和已经摸过牌, 扣的金额不一样\n    int32 DropAmount = 11; //用户如果drop, 需要扣掉多少金币\n    int64 LastActiveAt = 12; //用户最后活跃时间\n    string ServerAddr = 13; //用户实际连接的服务器\n    int32 UnSyncedWin = 14; //未落库的金币数\n    int32 QuitFlag = 15; //断线标记, 1: 已断线\n    string Addr = 16; //用户地址\n    bool AntiTimeout = 17; //防超时开关\n    string Channel = 18; //用户渠道\n}\n\n//游戏状态，id:102，当进入房间或游戏开始倒计时(prepare)会一次性发送给客户端\nmessage RoomST {\n    int64 Timestamp = 1; //当前时间戳\n    int32 Kind = 2; //房间类型\n    uint64 ID = 3; //房间ID\n    STAGE Stage = 4; //游戏阶段\n    map<int32, UserST> UserS = 5; //记录座位的实时玩家信息, key是座位号，value是玩家信息\n    TableCard TableCard = 6;\n    int32 ActiveChair = 7; //当前轮的座位号\n    int64 NextTS = 8; //到下一玩家的时间戳, 0表示不存在倒计时\n    int32 LastChair = 9; //上一轮的座位号\n    int32 BankerChair = 10; //庄家座位号, 0表示没有庄家\n    Settle Settle = 11; //结算信息\n}\n\n// 用户进入房间，id：103\nmessage UserInEV {\n    int64 Timestamp = 1;\n    UserST User = 2;\n}\n\n// 用户退出房间(用户主动退出/被踢出房间)，id：104\nmessage UserOutEV {\n    int64 Timestamp = 1;\n    int32 ChairNo = 2;\n}\n\n//广播游戏准备, id: 105\nmessage PrepareNT {\n    int64 Timestamp = 1;\n    int64 NextTS = 2; //游戏开始的时间戳, 用于客户端准备倒计时\n}\n\n//广播游戏准备取消, id: 106\nmessage PrepareCancelNT {\n    int64 Timestamp = 1;\n}\n\n//广播通知用户play，id：107\nmessage PlayNT {\n    int64 Timestamp = 1;\n    int32 Chair = 2;\n    int32 DropAmount = 3; //用户如果drop, 需要扣除多少\n    int64 NextTS = 4; //结束时间戳，用于客户端提醒用户叫牌倒计时\n}\n\n//广播通知用户Declare，id：108\nmessage DeclareNT {\n    int64 Timestamp = 1;\n    int32 Reason = 2; //结算原因, 0:未结算  1:胡牌结算  2:流局结算  3:玩家弃牌,人数不足结算\n    int64 NextTS = 3; //结束时间戳，用于客户端提醒用户叫牌倒计时\n    int32 Chair = 4; //赢家座位号\n}\n\n//广播用户弃牌，id: 109\nmessage DropEV {\n    int64 Timestamp = 1;\n    int32 Chair = 2; //弃牌玩家\n    int32 DropAmount = 3; //弃牌扣除的钱\n    bool  TimeOut = 4; //是否\n}\n\n//广播用户摸牌反馈，id: 110\nmessage TouchEV {\n    int64 Timestamp = 1;\n    int32 Chair = 2; //chair id\n    bool Visible = 3; //是否从可见牌池摸牌\n    int32 CardTouch = 4; //摸的什么牌\n    TableCard TableCard = 5; //桌牌信息\n    HandCard HandCard = 6; //手牌信息, 仅自己可见\n}\n\n//广播用户出牌反馈，id: 111\nmessage DiscardEV {\n    int64 Timestamp = 1;\n    int32 Chair = 2; //chair id\n    int32 GroupIndex = 3; //出的牌的组索引\n    int32 CardIndex = 4; //出的牌在该组的索引\n    int32 Card = 5; //用户出牌的牌值\n    TableCard TableCard = 6; //桌牌信息\n    HandCard HandCard = 7; //手牌信息, 仅自己可见\n    bool IsDeclare = 8; //是否是胡牌出牌\n    int64 NextTS = 9; //结束时间戳，用于客户端提醒用户叫牌倒计时\n}\n\n//通知用户理牌反馈，不用广播, id: 112\nmessage GroupEV {\n    int64 Timestamp = 1;\n    HandCard HandCard = 2; //手牌信息, 仅自己可见\n    int32 DropAmount = 3; //弃牌扣除的钱\n}\n\n//通知用户胡牌，id: 114\nmessage DeclareEV {\n    int64 Timestamp = 1;\n    int32 WinChair = 2; //赢家\n    int32 Chair = 3; //declare玩家\n    int32 Card = 4; //胡牌时所出牌的牌值,所有人可见, -1表示不需要出牌,可以直接胡\n    HandCard HandCard = 5; //declare 玩家的手牌信息\n}\n\n\n\n//广播结算结果，id:115\nmessage SettleST {\n    int64 Timestamp = 1;\n    Settle Settle = 2; //结算信息\n}\n\n//上局结算信息反馈，id: 116\nmessage LastSettleEV {\n    int64 Timestamp = 1;\n    Settle Settle = 2; //结算信息\n}\n\n//通知重新洗牌，id: 117\nmessage ShuffleEV {\n    int64 Timestamp = 1;\n    int32 PoolCnt = 2;\n}\n';
cc._RF.pop();
}, {} ],
RummyActionPokerController: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "45659gadc9Oxp+MjltF2rRV", "RummyActionPokerController");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = e("../Component/RummyActionPokerView"), n = e("../Manager/RummyAssetCacheManager"), r = e("../Manager/RummyUIManager"), a = e("../Skin/RummyRes"), s = function() {
function e() {}
e.init = function() {
var e = n.default.get(a.default.prefabPath.RummyActionPoker_Path, cc.Prefab), t = cc.instantiate(e);
t.parent = r.default.RummyActionPokerNode;
this.m_actionPoker = t.getComponent(o.default);
this.m_actionPoker.init();
};
e.reset = function() {
this.m_actionPoker.reset();
};
e.runOtherPlayerDealAni = function(e, t, i) {
void 0 === i && (i = null);
this.m_actionPoker.runOtherPlayerDealAni(e, t, i);
};
e.runTouchPokerAni = function(e, t, i, o, n) {
void 0 === n && (n = null);
this.m_actionPoker.runTouchPokerAni(e, t, i, o, n);
};
e.runDiscardPokerAni = function(e, t, i, o, n, r) {
void 0 === r && (r = null);
this.m_actionPoker.runDiscardPokerAni(e, t, i, o, n, r);
};
e.runDeclarePokerAni = function(e, t, i, o, n) {
void 0 === n && (n = null);
this.m_actionPoker.runDeclarePokerAni(e, t, i, o, n);
};
return e;
}();
i.default = s;
cc._RF.pop();
}, {
"../Component/RummyActionPokerView": "RummyActionPokerView",
"../Manager/RummyAssetCacheManager": "RummyAssetCacheManager",
"../Manager/RummyUIManager": "RummyUIManager",
"../Skin/RummyRes": "RummyRes"
} ],
RummyActionPokerView: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "7c311Hv/ctI3ZU9pfFZsAA0", "RummyActionPokerView");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = e("./RummyPokerView"), a = e("../Manager/RummyAssetCacheManager"), s = e("../Skin/RummyRes"), c = cc._decorator, l = c.ccclass, u = (c.property, 
function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.touchPoker = null;
t.discardPoker = null;
return t;
}
t.prototype.onLoad = function() {
this.touchPoker = this.node.getChildByName("touchPoker").getComponent(r.default);
this.discardPoker = this.node.getChildByName("discardPoker").getComponent(r.default);
};
t.prototype.init = function() {
this.touchPoker = this.node.getChildByName("touchPoker").getComponent(r.default);
this.discardPoker = this.node.getChildByName("discardPoker").getComponent(r.default);
this.reset();
};
t.prototype.reset = function() {
this.node.stopAllActions();
for (var e = this.node.children, t = 0; t < e.length; t++) e[t].stopAllActions();
this.touchPoker.hide();
this.discardPoker.hide();
};
t.prototype.runTouchPokerAni = function(e, t, i, o, n) {
var r = this;
void 0 === n && (n = null);
this.touchPoker.show();
this.touchPoker.hideClassType();
if (-1 != i) {
this.touchPoker.init(i);
this.touchPoker.hideBackGround();
} else this.touchPoker.showBackGround();
this.touchPoker.node.stopAllActions();
this.touchPoker.node.scale = .7;
this.touchPoker.node.setPosition(e);
this.touchPoker.node.runAction(cc.sequence(cc.spawn(cc.scaleTo(.2, o ? 1 : .1), cc.moveTo(.2, t)), cc.callFunc(function() {
r.touchPoker.hide();
n && n();
})));
};
t.prototype.runDiscardPokerAni = function(e, t, i, o, n, r) {
var a = this;
void 0 === r && (r = null);
this.touchPoker.hide();
this.touchPoker.node.stopAllActions();
this.discardPoker.show();
if (!o && n) {
this.discardPoker.hideClassType();
this.discardPoker.changeBackGround();
} else {
this.discardPoker.init(i);
this.discardPoker.hideClassType();
this.discardPoker.hideBackGround();
}
this.discardPoker.node.stopAllActions();
this.discardPoker.node.scale = o ? 1 : .1;
this.discardPoker.node.setPosition(e);
this.discardPoker.node.runAction(cc.sequence(cc.spawn(cc.scaleTo(.2, .7), cc.moveTo(.2, t)), cc.callFunc(function() {
a.discardPoker.hide();
r && r();
})));
};
t.prototype.runDeclarePokerAni = function(e, t, i, o, n) {
var r = this;
void 0 === n && (n = null);
this.discardPoker.show();
this.discardPoker.init(i);
this.discardPoker.hideClassType();
this.discardPoker.hideBackGround();
this.discardPoker.node.stopAllActions();
this.discardPoker.node.scale = o ? 1 : .1;
this.discardPoker.node.setPosition(e);
this.discardPoker.node.runAction(cc.sequence(cc.spawn(cc.scaleTo(.4, o ? 1.2 : 1), cc.moveTo(.4, t)), cc.delayTime(.2), cc.scaleTo(.2, .7), cc.callFunc(function() {
r.discardPoker.hide();
n && n();
})));
};
t.prototype.runOtherPlayerDealAni = function(e, t, i) {
void 0 === i && (i = null);
for (var o = a.default.get(s.default.prefabPath.RummyPoker_Path, cc.Prefab), n = 0, c = function(a) {
var s = cc.instantiate(o);
s.parent = l.node;
var c = s.getComponent(r.default), u = l.node.convertToNodeSpaceAR(t[a]);
c.show();
c.hideClassType();
c.showBackGround();
c.node.stopAllActions();
c.node.scale = .7;
c.node.setPosition(l.node.convertToNodeSpaceAR(e));
c.node.runAction(cc.sequence(cc.spawn(cc.scaleTo(.2, .1), cc.moveTo(.2, u)), cc.callFunc(function() {
c.node.destroy();
++n == t.length + 1 && i();
})));
}, l = this, u = 0; u < t.length; u++) c(u);
};
return t = n([ l ], t);
}(cc.Component));
i.default = u;
cc._RF.pop();
}, {
"../Manager/RummyAssetCacheManager": "RummyAssetCacheManager",
"../Skin/RummyRes": "RummyRes",
"./RummyPokerView": "RummyPokerView"
} ],
RummyAnimationMgr: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "52026OGseFEgIg+T0IAGopN", "RummyAnimationMgr");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = e("../Manager/RummyAssetCacheManager"), n = function() {
function e() {}
e.getInstance = function() {
null == this._instance && (this._instance = new e());
return this._instance;
};
e.prototype.playPrefabAni = function(e, t, i, n, r) {
void 0 === i && (i = cc.v2(0, 0));
void 0 === n && (n = null);
void 0 === r && (r = !0);
var a = o.default.get(e, cc.Prefab);
if (null != a) {
var s = cc.instantiate(a);
s.parent = t;
s.position = i;
var c = s.getComponent(cc.Animation);
c.play();
c.currentClip.speed = 1.25;
c.on(cc.Animation.EventType.FINISHED, function() {
n && n(s);
r && s.destroy();
}, this);
return s;
}
console.error("RummyAnimationMgr play: prefab == null, url = " + e);
};
e.prototype.loadDragonBones = function(e, t, i, o, n, r) {
void 0 === r && (r = 1);
cc.loader.loadResDir(t, function(t, a) {
if (!(t || a.length <= 0)) {
a.forEach(function(t) {
t instanceof dragonBones.DragonBonesAsset && (e.dragonAsset = t);
t instanceof dragonBones.DragonBonesAtlasAsset && (e.dragonAtlasAsset = t);
});
e.armatureName = i;
e.playAnimation(o, r);
e.addEventListener(dragonBones.EventObject.COMPLETE, n);
}
});
};
e._instance = null;
return e;
}();
i.default = n;
cc._RF.pop();
}, {
"../Manager/RummyAssetCacheManager": "RummyAssetCacheManager"
} ],
RummyAssetCacheManager: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "6a8483j76hMupzOlxWGIJOl", "RummyAssetCacheManager");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = function() {
function e() {}
e.getAssetID = function(e, t) {
if ("string" != typeof e || "" == e || !t) {
console.error("RummyAssetCacheManager remove: param is invalid");
return "";
}
return e + "_" + cc.js.getClassName(t);
};
e.init = function(e, t) {
if (e instanceof Array && t instanceof Array) if (e.length == t.length) for (var i = e.length, o = 0; o < i; o++) this.add(e[o], t[o]); else console.error("RummyAssetCacheManager init: assets.length != urls.length"); else console.error("RummyAssetCacheManager init: param is invalid");
};
e.add = function(e, t) {
if (e instanceof cc.Asset && "string" == typeof t && "" != t) {
var i = this.getAssetID(t, e);
this.m_assets[i] = e;
} else console.error("RummyAssetCacheManager add: param is invalid");
};
e.get = function(e, t) {
if ("string" != typeof e || "" == e || typeof t != typeof cc.Asset) {
console.error("RummyAssetCacheManager get: param is invalid");
return null;
}
var i = this.getAssetID(e, t);
for (var o in this.m_assets) if (o === i) return this.m_assets[o];
return null;
};
e.remove = function(e, t) {
if ("string" == typeof e && "" != e && typeof t == typeof cc.Asset) {
var i = this.getAssetID(e, t);
for (var o in this.m_assets) if (o === i) {
cc.loader.releaseAsset(this.m_assets[o]);
delete this.m_assets[o];
break;
}
cc.sys.garbageCollect();
} else console.error("RummyAssetCacheManager remove: param is invalid");
};
e.clear = function() {
for (var e in this.m_assets) cc.loader.releaseAsset(this.m_assets[e]);
this.m_assets = {};
cc.sys.garbageCollect();
};
e.m_assets = {};
return e;
}();
i.default = o;
cc._RF.pop();
}, {} ],
RummyAudioMgr: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "8ba2dheh0FIpb0Q10QDPZzd", "RummyAudioMgr");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = e("../Skin/RummyRes"), n = e("../../../Script/Audio/CommonAudioMgr"), r = function() {
function e() {}
e.selfPlayEffect = function(e) {
n.default.playEffect(e, !1, 1);
};
e.playBGM = function() {
n.default.playMusic(o.default.audio.background, !0, n.default.AUDIO_MUSIC_VOLUME);
};
e.stopBGM = function() {
n.default.playMusic(o.default.audio.background, !1, 0);
};
e.playReady = function() {
this.selfPlayEffect(o.default.audio.Ready);
};
e.playCardDeal = function() {
this.selfPlayEffect(o.default.audio.Deal);
};
e.playClock5Remind = function() {
this.selfPlayEffect(o.default.audio.time_clock_count);
};
e.playClickButton = function() {
this.selfPlayEffect(o.default.audio.click_button);
};
e.playDiscard = function() {
this.selfPlayEffect(o.default.audio.discard);
};
e.playResultWin = function() {
this.selfPlayEffect(o.default.audio.result_win);
};
e.playResultLost = function() {
this.selfPlayEffect(o.default.audio.result_lost);
};
e.playTableShuffle = function() {
this.selfPlayEffect(o.default.audio.table_shuffle);
};
e.playOperationTip = function() {
this.selfPlayEffect(o.default.audio.operation_tip);
};
e.playOperationResult = function() {
this.selfPlayEffect(o.default.audio.operation_result);
};
e.playTouchReq = function() {
this.selfPlayEffect(o.default.audio.touch_req);
};
e.playCoinsSound = function() {
this.selfPlayEffect(o.default.audio.rummy_coins);
};
e.playDeclarePoker = function() {
this.selfPlayEffect(o.default.audio.declare_poker);
};
e.playVibrateSettingButton = function(e) {
this.isVibrate = e;
};
e.playVibrate = function(e) {
this.isVibrate && n.default.playVibrate(e);
};
e.isVibrate = !0;
return e;
}();
i.default = r;
cc._RF.pop();
}, {
"../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../Skin/RummyRes": "RummyRes"
} ],
RummyConstConfig: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "63877WEH7xOHbDHoXv1GEYN", "RummyConstConfig");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = function() {
function e() {}
e.HandPokerSpace = 76;
e.HandPokerMinSpace = 76;
e.HandPokerMaxSpace = 124;
e.HandPokerGroupStartZIndex = 20;
e.HandPokerMaxLength = 14;
e.HandPokerSelectedOffsetY = 25;
e.HeadOffset = 100;
e.settleOffset = 107;
return e;
}();
i.default = o;
cc._RF.pop();
}, {} ],
RummyConstEventName: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "bf887TgLpRFpqph/wakp//M", "RummyConstEventName");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = function() {
function e() {}
e.ON_DROP_CLICK_EVENT_NAME = "ON_DROP_CLICK_EVENT_NAME";
e.ON_CHANGE_TABLE_CLICK_EVENT_NAME = "ON_CHANGE_TABLE_CLICK_EVENT_NAME";
e.ON_BACK_CLICK_EVENT_NAME = "ON_BACK_CLICK_EVENT_NAME";
e.ON_BACK_TO_LOBBY_EVENT_HANDLE = "ON_BACK_TO_LOBBY_EVENT_HANDLE";
e.ON_PLAYER_STATUS_CHANGE = "ON_PLAYER_STATUS_CHANGE";
e.POKER_STATE_CHANGE = "POKER_STATE_CHANGE";
return e;
}();
i.default = o;
cc._RF.pop();
}, {} ],
RummyDeclareWaitingController: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "4f598qBBuNN5KReBlYGenPH", "RummyDeclareWaitingController");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = e("../Component/RummyDeclareWaitingView"), n = e("../Manager/RummyAssetCacheManager"), r = e("../Manager/RummyUIManager"), a = e("../Skin/RummyRes"), s = function() {
function e() {}
e.init = function() {
var e = n.default.get(a.default.prefabPath.RummyDeclareWaiting_Path, cc.Prefab), t = cc.instantiate(e);
r.default.RummyDeclareWaitingNode.addChild(t);
this.m_RummyDeclareWaitingView = t.addComponent(o.default);
this.m_RummyDeclareWaitingView.init();
this.hide();
};
e.setTimer = function(e) {
this.m_RummyDeclareWaitingView.setTimer(e);
};
e.setUserText = function(e) {
this.m_RummyDeclareWaitingView.setUserText(e);
};
e.setTipText = function(e) {
this.m_RummyDeclareWaitingView.setTipText(e);
};
e.hide = function() {
this.m_RummyDeclareWaitingView.hide();
};
e.show = function() {
this.m_RummyDeclareWaitingView.show();
};
return e;
}();
i.default = s;
cc._RF.pop();
}, {
"../Component/RummyDeclareWaitingView": "RummyDeclareWaitingView",
"../Manager/RummyAssetCacheManager": "RummyAssetCacheManager",
"../Manager/RummyUIManager": "RummyUIManager",
"../Skin/RummyRes": "RummyRes"
} ],
RummyDeclareWaitingView: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "26d0dvV3aNP/ItX4u0BYryt", "RummyDeclareWaitingView");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = e("CommonFunction"), a = e("../../../Script/Utils/Utility"), s = e("../Skin/RummyRes"), c = cc._decorator, l = c.ccclass, u = (c.property, 
function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.m_total_duration = -1;
t.m_time_progressBar = null;
return t;
}
t.prototype.init = function() {
this.m_tip_bg_Node = a.default.findChildByName(this.node, "m_tip_bg");
this.m_tip_bg_m_user_text_Node = a.default.findChildByName(this.node, "m_tip_bg/m_user_text");
this.m_tip_bg_m_tip_text_Node = a.default.findChildByName(this.node, "m_tip_bg/m_tip_text");
this.initView();
};
t.prototype.hide = function() {
this.node.active = !1;
};
t.prototype.show = function() {
this.node.active = !0;
};
t.prototype.initView = function() {
r.setComponentSprite(this.m_tip_bg_Node, s.default.resources.settle_wait_declare_wait_tip_bg);
this.m_tip_bg_m_tip_text_Node_text = this.m_tip_bg_m_tip_text_Node.getComponent(cc.Label);
this.m_tip_bg_m_user_text_Node_text = this.m_tip_bg_m_user_text_Node.getComponent(cc.RichText);
this.m_tip_bg_m_user_text_Node_Animation = this.m_tip_bg_m_user_text_Node.getComponent(cc.Animation);
};
t.prototype.getIsShowing = function() {
return this.node.active;
};
t.prototype.setUserText = function(e) {
this.m_tip_bg_Node.active = !0;
if (null == e) {
this.m_tip_bg_m_tip_text_Node.y = 0;
this.m_tip_bg_m_user_text_Node_text.string = "";
} else {
this.m_tip_bg_m_tip_text_Node.y = -18;
this.m_tip_bg_m_user_text_Node_text.string = e + "Group your cards and declare.";
this.m_tip_bg_m_user_text_Node_Animation.play(this.m_tip_bg_m_user_text_Node_Animation.defaultClip.name, 0);
}
};
t.prototype.setTipText = function(e) {
this.m_tip_bg_Node.active = !0;
this.m_tip_bg_m_user_text_Node_text.string = e;
};
t.prototype.setTimer = function(e) {
this.show();
};
t.prototype.update = function(e) {
this.m_lifetime < 0 ? this.hide() : this.m_lifetime -= e;
};
return t = n([ l ], t);
}(cc.Component));
i.default = u;
cc._RF.pop();
}, {
"../../../Script/Utils/Utility": "Utility",
"../Skin/RummyRes": "RummyRes",
CommonFunction: "CommonFunction"
} ],
RummyError: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "53ff4ztzx1H/YdHq0on8f66", "RummyError");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = function() {
function e() {}
e.ERROR = cc.Enum({
10000: "网络连接失效或账号在其它环境登录，请重新登录",
10001: "接收到的信息不是json格式的, 或者信息缺失",
10002: "这把没你",
10003: "没到你出牌",
10004: "已经看牌",
10005: "不能与该玩家比牌",
10006: "你已经弃牌了",
10007: "已经封顶",
10008: "余额不足",
10009: "请求参数错误",
10010: "不符合规则,前五圈加注，五圈之后可以加倍加注",
10011: "不满足pk all的条件",
10012: "无效的加注筹码",
10013: "双倍加注必须在加注封顶之后",
10014: "房间限制, 玩家金币不满足条件",
10015: "该游戏阶段不能有这样的操作",
10016: "网络连接失效或账号在其它环境登录，请重新登录",
10017: "服务器错误",
10018: "服务器错误",
10021: "网络连接失效或账号在其它环境登录，请重新登录",
10022: "超时弃牌，请您下局到大厅休息一下",
10023: "房间已满，请稍后再试",
10024: "余额不足"
});
return e;
}();
i.default = o;
cc._RF.pop();
}, {} ],
RummyFeaturesButtonView: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "5fe0bq8fD1J/Kzqnv3BkJSV", "RummyFeaturesButtonView");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = e("../../../Script/Localization"), a = e("../Const/RummyConstEventName"), s = e("../Const/RummyLanguageConfig"), c = e("../Controller/RummyHandPokerListController"), l = e("../Manager/RummyAudioMgr"), u = e("../Service/RummySocketSend"), d = e("../../../Script/UI/CommonPrefabMgr"), f = e("../Model/RummyGlobal"), h = e("./../../../Script/BaseFormat"), p = e("../../../Script/GameFramework/Manager/EventManager"), g = cc._decorator, m = g.ccclass, y = (g.property, 
function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.sprPokerScore = null;
t.btnDrop = null;
t.btnPlanDrop = null;
t.btnNew = null;
t.btnFaceUp = null;
t.btnDiscard = null;
t.btnGroup = null;
t.btnDeclare = null;
t.btnFinish = null;
t.m_declareAnimation = null;
t.btnChangeTable = null;
return t;
}
t.prototype.init = function() {
this.sprPokerScore = this.node.getChildByName("sprPokerScore");
this.btnDrop = this.node.getChildByName("btnDrop");
this.btnDrop.on(cc.Node.EventType.TOUCH_END, this.onTouchBtnDrop, this);
this.btnPlanDrop = this.node.getChildByName("btnPlanDrop");
this.btnPlanDrop.on(cc.Node.EventType.TOUCH_END, this.onTouchBtnPlanDrop, this);
this.btnNew = this.node.getChildByName("btnNew");
this.btnNew.on(cc.Node.EventType.TOUCH_END, this.onTouchBtnNew, this);
this.btnFaceUp = this.node.getChildByName("btnFaceUp");
this.btnFaceUp.on(cc.Node.EventType.TOUCH_END, this.onTouchBtnFaceUp, this);
this.btnDiscard = this.node.getChildByName("btnDiscard");
this.btnDiscard.on(cc.Node.EventType.TOUCH_END, this.onTouchBtnDiscard, this);
this.btnGroup = this.node.getChildByName("btnGroup");
this.btnGroup.on(cc.Node.EventType.TOUCH_END, this.onTouchBtnGroup, this);
this.btnFinish = this.node.getChildByName("btnFinish");
this.btnFinish.on(cc.Node.EventType.TOUCH_END, this.onTouchBtnFinish, this);
this.btnDeclare = this.node.getChildByName("btnDeclare");
this.m_declareAnimation = this.btnDeclare.getComponent(cc.Animation);
this.btnDeclare.on(cc.Node.EventType.TOUCH_END, this.onTouchBtnDeclare, this);
this.btnChangeTable = this.node.getChildByName("btnChangeTable");
this.btnChangeTable.on(cc.Node.EventType.TOUCH_END, this.onTouchBtnChangeTable, this);
this.reset();
};
t.prototype.reset = function() {
this.setPokerScoreActive(!1);
this.setBtnDropActive(!1);
this.setBtnPlanDropActive(!1);
this.setBtnNewActive(!1);
this.setBtnFaceUpActive(!1);
this.setBtnDiscardActive(!1);
this.setBtnGroupActive(!1);
this.setBtnFinishActive(!1);
this.setBtnDeclareActive(!1);
this.setBtnChangeTableActive(!1);
};
t.prototype.setPokerScoreActive = function(e) {
this.sprPokerScore.active = e;
};
t.prototype.setPokerScoreValue = function(e) {
this.sprPokerScore.getChildByName("labPokerSore").getComponent(cc.Label).string = e.toString();
};
t.prototype.setBtnDropActive = function(e) {
this.btnDrop.active = e;
};
t.prototype.setBtnPlanDropActive = function(e) {
this.btnPlanDrop.active = e;
};
t.prototype.setBtnCheckDropActive = function(e) {
this.btnPlanDrop.active = e;
var t = this.btnPlanDrop.getChildByName("drop_gou");
cc.isValid(t) && (t.active = !1);
};
t.prototype.setBtnDropAmount = function(e) {
this.btnDrop.getChildByName("labAmount").getComponent(cc.Label).string = h.default.formatAmount(e / 1e3);
};
t.prototype.setBtnNewActive = function(e) {};
t.prototype.setBtnFaceUpActive = function(e) {};
t.prototype.setBtnDiscardActive = function(e) {
this.btnDiscard.active = e;
};
t.prototype.setBtnFinishActive = function(e) {
this.btnFinish.active = e;
};
t.prototype.setBtnGroupActive = function(e) {
this.btnGroup.active = e;
};
t.prototype.setBtnDeclareActive = function(e) {
this.btnDeclare.active = e;
};
t.prototype.playDeclareAnimation = function() {
this.m_declareAnimation.play();
};
t.prototype.stopDeclareAnimation = function() {
this.m_declareAnimation.stop();
};
t.prototype.setBtnChangeTableActive = function(e) {
this.btnChangeTable.active = e;
};
t.prototype.onTouchBtnDrop = function() {
l.default.playClickButton();
var e = r.default.get(s.default.GameName, s.default.DROP_DIALOG_TIP, h.default.formatAmount(f.default.dropAmount / 1e3)), t = (r.default.get(s.default.GameName, s.default.PROMPT_DROP_TITLE), 
r.default.get(s.default.GameName, s.default.YES)), i = r.default.get(s.default.GameName, s.default.No);
d.default.createAlert(e, t, function() {
f.default.dropType = 0;
u.default.dropReq();
}, i, null, !1, null, null, !1);
};
t.prototype.onTouchBtnPlanDrop = function() {
l.default.playClickButton();
var e = this.btnPlanDrop.getChildByName("drop_gou");
if (f.default.isCheckingDrop) {
f.default.isCheckingDrop = !1;
cc.isValid(e) && (e.active = !1);
} else {
f.default.isCheckingDrop = !0;
cc.isValid(e) && (e.active = !0);
var t = r.default.get(s.default.GameName, s.default.DROP_PLAN_TIP), i = r.default.get(s.default.GameName, s.default.YES), o = r.default.get(s.default.GameName, s.default.No);
d.default.createAlert(t, i, function() {
f.default.isCheckingDrop = !0;
}, o, function() {
f.default.isCheckingDrop = !1;
cc.isValid(e) && (e.active = !1);
}, !1, null, null, !1);
}
};
t.prototype.onTouchBtnNew = function() {
l.default.playOperationResult();
f.default.isTouching && u.default.touchReq(!1);
};
t.prototype.onTouchBtnFaceUp = function() {
l.default.playOperationResult();
f.default.isTouching && u.default.touchReq(!0);
};
t.prototype.onTouchBtnDiscard = function() {
l.default.playOperationResult();
var e = c.default.getSelectedPokers();
if (1 == e.length) {
var t = e[0];
c.default.setDiscardPoker(t);
u.default.discardReq(t.getCardValue(), t.getCardGroupValue(), t.getCardGroupIndexValue());
} else console.error("RummyFeaturesButtonView onTouchBtnDiscard: selectedPokers = ", e);
};
t.prototype.onTouchBtnFinish = function() {
l.default.playClickButton();
var e = r.default.get(s.default.GameName, s.default.FINISH_DIALOG_TIP, h.default.formatAmount(f.default.dropAmount / 1e3)), t = r.default.get(s.default.GameName, s.default.YES), i = r.default.get(s.default.GameName, s.default.No);
d.default.createAlert(e, t, function() {
l.default.playOperationResult();
var e = c.default.getSelectedPokers();
if (1 == e.length) {
var t = e[0];
c.default.setDiscardPoker(t);
f.default.discardPorkValue = t.getCardValue();
cc.log("发送胡牌操作");
u.default.declareReq(t.getCardGroupValue(), t.getCardGroupIndexValue());
}
}, i, null, !1, null, null, !1);
};
t.prototype.onTouchBtnGroup = function() {
l.default.playOperationResult();
c.default.setGroupHandCard();
};
t.prototype.onTouchBtnDeclare = function() {
var e = this, t = r.default.get(s.default.GameName, s.default.FINISH_DECLARE_TIP, h.default.formatAmount(f.default.dropAmount / 1e3)), i = r.default.get(s.default.GameName, s.default.YES), o = r.default.get(s.default.GameName, s.default.No);
d.default.createAlert(t, i, function() {
e.stopDeclareAnimation();
l.default.playOperationResult();
cc.log("确认Declare");
u.default.DeclareConfirmReq(!0);
}, o, null, !1, null, null, !1);
};
t.prototype.onTouchBtnChangeTable = function() {
p.default.Instance.emit(a.default.ON_CHANGE_TABLE_CLICK_EVENT_NAME);
l.default.playClickButton();
};
return t = n([ m ], t);
}(cc.Component));
i.default = y;
cc._RF.pop();
}, {
"../../../Script/GameFramework/Manager/EventManager": "EventManager",
"../../../Script/Localization": "Localization",
"../../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"../Const/RummyConstEventName": "RummyConstEventName",
"../Const/RummyLanguageConfig": "RummyLanguageConfig",
"../Controller/RummyHandPokerListController": "RummyHandPokerListController",
"../Manager/RummyAudioMgr": "RummyAudioMgr",
"../Model/RummyGlobal": "RummyGlobal",
"../Service/RummySocketSend": "RummySocketSend",
"./../../../Script/BaseFormat": "BaseFormat"
} ],
RummyFeaturesController: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "f42daZgFglN7ZxZtPKpWbpv", "RummyFeaturesController");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = e("../Component/RummyFeaturesButtonView"), n = e("../Manager/RummyAssetCacheManager"), r = e("../Manager/RummyUIManager"), a = e("../Skin/RummyRes"), s = function() {
function e() {}
e.init = function() {
var e = n.default.get(a.default.prefabPath.RummyFeaturesButton_Path, cc.Prefab), t = cc.instantiate(e);
t.parent = r.default.RummyGameUINode;
this.gameUI = t.getComponent(o.default);
this.gameUI.init();
};
e.setBtnDiscardActive = function(e) {
this.gameUI.setBtnDiscardActive(e);
};
e.setBtnFinishActive = function(e) {
this.gameUI.setBtnFinishActive(e);
};
e.setBtnGroupActive = function(e) {
this.gameUI.setBtnGroupActive(e);
};
e.setBtnChangeTableActive = function(e) {
this.gameUI.setBtnChangeTableActive(e);
};
e.setPokerScoreActive = function(e) {
this.gameUI.setPokerScoreActive(e);
};
e.setPokerScoreValue = function(e) {
this.gameUI.setPokerScoreValue(e);
};
e.setBtnDropActive = function(e) {
this.gameUI.setBtnDropActive(e);
};
e.setBtnPlanDropActive = function(e) {
this.gameUI.setBtnPlanDropActive(e);
};
e.setBtnCheckDropActive = function(e) {
this.gameUI.setBtnCheckDropActive(e);
};
e.setBtnDropAmount = function(e) {
this.gameUI.setBtnDropAmount(e);
};
e.setBtnNewActive = function(e) {
this.gameUI.setBtnNewActive(e);
};
e.setBtnFaceUpActive = function(e) {
this.gameUI.setBtnFaceUpActive(e);
};
e.setBtnDeclareActive = function(e) {
this.gameUI.setBtnDeclareActive(e);
};
e.reset = function() {
this.gameUI.reset();
};
e.playDeclareAnimation = function() {
this.gameUI.playDeclareAnimation();
};
return e;
}();
i.default = s;
cc._RF.pop();
}, {
"../Component/RummyFeaturesButtonView": "RummyFeaturesButtonView",
"../Manager/RummyAssetCacheManager": "RummyAssetCacheManager",
"../Manager/RummyUIManager": "RummyUIManager",
"../Skin/RummyRes": "RummyRes"
} ],
RummyGameExitView: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "21883kj58xMSJLvyY7ujpd9", "RummyGameExitView");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = e("./../../../Script/ProjectConfig"), a = e("./../../../Script/Audio/CommonAudio"), s = e("./../../../Script/Audio/CommonAudioMgr"), c = e("./../Const/RummyLanguageConfig"), l = e("../../../Script/Socket/FastPlayMgr"), u = e("./../Manager/RummyAssetCacheManager"), d = e("./../Skin/RummyRes"), f = e("../Service/RummySocketMgr"), h = e("./../Model/RummyGlobal"), p = e("./../Model/RummyModel"), g = e("../../../Script/GameFramework/Manager/EventManager"), m = e("./../../../Script/Utils/Utility"), y = e("./../Const/RummyConstEventName"), b = e("./../Manager/RummyUIManager"), _ = e("GameEngineUtil"), v = cc._decorator, S = v.ccclass, C = (v.property, 
function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.bg_mask = null;
t.btnBackLobby = null;
t.btnSwitchTable = null;
t.btnDrop = null;
return t;
}
i = t;
t.ShowUI = function(e) {
void 0 === e && (e = null);
if (null == i.instance) {
var t = u.default.get(d.default.prefabPath.RummyExitUI_Path, cc.Prefab), o = cc.instantiate(t);
if (o && o.getComponent(i)) {
i.instance = o.getComponent(i);
b.default.RummyExitNode.addChild(o);
}
}
};
t.closeUI = function() {
i.instance || i.instance.onDestroy();
};
t.prototype.onLoad = function() {
this.bg_mask = this.node.getChildByName("mask");
this.bg_mask.on(cc.Node.EventType.TOUCH_END, this.onMaskClickHandle, this);
this.btnBackLobby = m.default.findChildByName(this.node, "context/btnBackLobby");
this.setBtnBackLobbyState();
this.btnSwitchTable = m.default.findChildByName(this.node, "context/btnSwitchTable");
this.setBtnSwitchTableState();
this.btnDrop = m.default.findChildByName(this.node, "context/btnDrop");
this.setBtnDropState();
g.default.Instance.on(y.default.ON_PLAYER_STATUS_CHANGE, this.ON_PLAYER_STATUS_CHANGE, this);
};
t.prototype.start = function() {
var e = this.node.getChildByName("context");
e.scaleY = 0;
cc.tween(e).to(.1, {
scaleY: 1
}).start();
};
t.prototype.ON_PLAYER_STATUS_CHANGE = function() {
this.setBtnBackLobbyState();
this.setBtnSwitchTableState();
this.setBtnDropState();
};
t.prototype.setBtnBackLobbyState = function() {
var e = !0;
h.default.gameStage == p.default.GAME_STAGE.DECLARE && (h.default.playerStatus != p.default.USER_STATUS.Playing && h.default.playerStatus != p.default.USER_STATUS.Win || (e = !1));
this.btnBackLobby.getComponent(cc.Button).interactable = e;
e ? this.btnBackLobby.on(cc.Node.EventType.TOUCH_END, this.onBackLobbyClickHandle, this) : this.btnBackLobby.off(cc.Node.EventType.TOUCH_END, this.onBackLobbyClickHandle, this);
var t = this.btnBackLobby.getChildByName("icon");
this.btnBackLobby.getChildByName("title").color = new cc.Color().fromHEX(e ? "#A67450" : "#818180");
t.color = new cc.Color().fromHEX(e ? "#FFFFFF" : "#818180");
};
t.prototype.setBtnSwitchTableState = function() {
var e = !0;
h.default.gameStage == p.default.GAME_STAGE.DECLARE && (h.default.playerStatus != p.default.USER_STATUS.Playing && h.default.playerStatus != p.default.USER_STATUS.Win || (e = !1));
this.btnSwitchTable.getComponent(cc.Button).interactable = e;
e ? this.btnSwitchTable.on(cc.Node.EventType.TOUCH_END, this.onSwitchTableClickHandle, this) : this.btnSwitchTable.off(cc.Node.EventType.TOUCH_END, this.onSwitchTableClickHandle, this);
var t = this.btnSwitchTable.getChildByName("icon");
this.btnSwitchTable.getChildByName("title").color = new cc.Color().fromHEX(e ? "#A67450" : "#818180");
t.color = new cc.Color().fromHEX(e ? "#FFFFFF" : "#818180");
};
t.prototype.setBtnDropState = function() {
var e = !1;
h.default.gameStage == p.default.GAME_STAGE.PLAY && h.default.playerStatus == p.default.USER_STATUS.Playing && (e = !0);
this.btnDrop.getComponent(cc.Button).interactable = e;
e ? this.btnDrop.on(cc.Node.EventType.TOUCH_END, this.onDropClickHandle, this) : this.btnDrop.off(cc.Node.EventType.TOUCH_END, this.onDropClickHandle, this);
var t = this.btnDrop.getChildByName("icon");
this.btnDrop.getChildByName("title").color = new cc.Color().fromHEX(e ? "#A67450" : "#818180");
t.color = new cc.Color().fromHEX(e ? "#FFFFFF" : "#818180");
};
t.prototype.onMaskClickHandle = function() {
this.node.destroy();
};
t.prototype.onBackLobbyClickHandle = function() {
r.default.clickManager(this.btnBackLobby);
s.default.playMultiEffect(a.default.common.btnMusic, null, null, null);
_.trackGameExit(c.default.GameName);
g.default.Instance.emit(y.default.ON_BACK_CLICK_EVENT_NAME);
this.onDestroy();
};
t.prototype.onSwitchTableClickHandle = function() {
r.default.clickManager(this.btnBackLobby);
s.default.playMultiEffect(a.default.common.btnMusic, null, null, null);
_.trackGameExit(c.default.GameName);
g.default.Instance.emit(y.default.ON_CHANGE_TABLE_CLICK_EVENT_NAME);
this.onDestroy();
};
t.prototype.onDropClickHandle = function() {
r.default.clickManager(this.btnBackLobby);
_.trackGameExit(c.default.GameName);
g.default.Instance.emit(y.default.ON_DROP_CLICK_EVENT_NAME);
this.onDestroy();
};
t.prototype.exitGame = function() {
s.default.stopAll();
f.default.close();
l.default.runGameWithID(r.default.GAME_TYPE.GAME_HALL, !1, null, null);
};
t.prototype.onDestroy = function() {
g.default.Instance.emit(y.default.ON_BACK_TO_LOBBY_EVENT_HANDLE, !1);
i.instance = null;
this.node.destroy();
g.default.Instance.off(y.default.ON_PLAYER_STATUS_CHANGE);
};
var i;
t.instance = null;
return t = i = n([ S ], t);
}(cc.Component));
i.default = C;
cc._RF.pop();
}, {
"../../../Script/GameFramework/Manager/EventManager": "EventManager",
"../../../Script/Socket/FastPlayMgr": "FastPlayMgr",
"../Service/RummySocketMgr": "RummySocketMgr",
"./../../../Script/Audio/CommonAudio": "CommonAudio",
"./../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"./../../../Script/ProjectConfig": "ProjectConfig",
"./../../../Script/Utils/Utility": "Utility",
"./../Const/RummyConstEventName": "RummyConstEventName",
"./../Const/RummyLanguageConfig": "RummyLanguageConfig",
"./../Manager/RummyAssetCacheManager": "RummyAssetCacheManager",
"./../Manager/RummyUIManager": "RummyUIManager",
"./../Model/RummyGlobal": "RummyGlobal",
"./../Model/RummyModel": "RummyModel",
"./../Skin/RummyRes": "RummyRes",
GameEngineUtil: "GameEngineUtil"
} ],
RummyGame: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "2879dyZkndPC6I13kifxq3V", "RummyGame");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = e("NewGameInfo"), a = e("CommonEventManager"), s = (e("GameEngineUtil"), 
e("TopUpUIMgr"), e("../../Script/Audio/CommonAudio")), c = e("../../Script/Audio/CommonAudioMgr"), l = e("../../Script/GameFramework/Manager/EventManager"), u = e("../../Script/Localization"), d = e("../../Script/LocalStorage/LocalStorageUtil"), f = e("../../Script/ProjectConfig"), h = e("../../Script/Socket/FastPlayMgr"), p = e("../../Script/UI/CommonPrefabMgr"), g = e("../../Script/UserManager"), m = e("../../Script/Utils/Utility"), y = e("./../../Script/BaseFormat"), b = e("./Component/RummyResultUI"), _ = e("./Component/RummySettingView"), v = e("./Const/RummyConstEventName"), S = e("./Const/RummyLanguageConfig"), C = e("./Controller/RummyActionPokerController"), w = e("./Controller/RummyDeclareWaitingController"), A = e("./Controller/RummyFeaturesController"), R = e("./Controller/RummyHandPokerListController"), T = e("./Controller/RummyHandPokerWinController"), E = e("./Controller/RummyPlayerListController"), M = e("./Controller/RummyTablePokerController"), P = e("./Controller/RummyTipsController"), k = e("./Manager/RummyAssetCacheManager"), I = e("./Manager/RummyAudioMgr"), N = e("./Manager/RummyLogicMgr"), B = e("./Manager/RummyUIManager"), L = e("./Model/RummyGlobal"), U = e("./Model/RummyModel"), D = e("./Service/RummyProto"), F = e("./Service/RummySocketMgr"), O = e("./Service/RummySocketSend"), x = e("./Skin/RummyRes"), G = cc._decorator, W = G.ccclass, V = G.property, j = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.gameBg = null;
t.btnBack = null;
t.btnRule = null;
t.btnShop = null;
t.eventManger = null;
t.enable = !1;
t.dropTotal = 0;
t.startAnimationNode = null;
t.shuffleAnimationNode = null;
return t;
}
t.prototype.onLoad = function() {
x.default.init();
1 == cc.debug.isDisplayStats() && cc.debug.setDisplayStats(!1);
d.default.setPlayingGame();
c.default.stopAll();
var e = h.default.resArr[f.default.SCENE_NAME.RUMMY], t = h.default.urlsArr[f.default.SCENE_NAME.RUMMY];
k.default.init(e, t);
B.default.dynamicLoadRes(this);
P.default.init();
E.default.init();
M.default.init();
R.default.init();
C.default.init();
A.default.init();
T.default.init();
w.default.init();
this.reset();
this._getRoomInfo();
L.default.reconnetTimes = 3;
L.default.gameStage = U.default.GAME_STAGE.WAIT;
c.default.IS_OPEN_EFFECT && I.default.playBGM();
l.default.Instance.on(v.default.POKER_STATE_CHANGE, this.onPokerStateChange, this);
l.default.Instance.on(v.default.ON_DROP_CLICK_EVENT_NAME, this.ON_DROP_CLICK_EVENT_NAME, this);
l.default.Instance.on(v.default.ON_CHANGE_TABLE_CLICK_EVENT_NAME, this.ON_CHANGE_TABLE_CLICK_EVENT_NAME, this);
l.default.Instance.on(v.default.ON_BACK_CLICK_EVENT_NAME, this.ON_BACK_CLICK_EVENT_NAME, this);
l.default.Instance.on(v.default.ON_BACK_TO_LOBBY_EVENT_HANDLE, this.on_back_to_lobby_event_handle, this);
};
t.prototype.start = function() {
this.btnBack.on(cc.Node.EventType.TOUCH_END, this.onTouchBtnBack, this);
this.btnShop.on(cc.Node.EventType.TOUCH_END, this.onTouchBtnShop, this);
this.btnRule.on(cc.Node.EventType.TOUCH_END, this.onTouchBtnSetting, this);
var e = new cc.Component.EventHandler();
e.target = this.btnBack;
e.component = "ToggleStyleSwitcher";
e.handler = "onCheckHandle";
this.btnBack.getComponent(cc.Toggle).checkEvents.push(e);
};
t.prototype.onDestroy = function() {
l.default.Instance.off(v.default.POKER_STATE_CHANGE);
l.default.Instance.off(v.default.ON_DROP_CLICK_EVENT_NAME);
l.default.Instance.off(v.default.ON_CHANGE_TABLE_CLICK_EVENT_NAME);
l.default.Instance.off(v.default.ON_BACK_CLICK_EVENT_NAME);
l.default.Instance.off(v.default.ON_BACK_TO_LOBBY_EVENT_HANDLE);
k.default.clear();
};
t.prototype.setDropAmount = function(e) {
e = Math.abs(e);
m.default.findChildByName(this.node, "dropScore").active = 0 != e;
if (0 == e) this.dropTotal = 0; else {
this.dropTotal += e;
m.default.findChildByName(this.node, "dropScore/score").getComponent(cc.Label).string = "₹ " + y.default.formatAmount(this.dropTotal / 1e3);
}
};
t.prototype.initResultUI = function(e, t) {
void 0 === t && (t = !0);
var i = k.default.get(x.default.prefabPath.RummyResultUI_Path, cc.Prefab), o = cc.instantiate(i);
B.default.RummyResultUINode.removeAllChildren();
o.parent = B.default.RummyResultUINode;
o.getComponent(b.default).init(e, t);
};
t.prototype.startPlayAnimation = function(e) {
var t = this;
if (cc.isValid(this.startAnimationNode)) {
this.startAnimationNode.active = !0;
this.startAnimationNode.getComponent(dragonBones.ArmatureDisplay).playAnimation("newAnimation", 1);
this.startAnimationNode.getComponent(dragonBones.ArmatureDisplay).addEventListener(dragonBones.EventObject.COMPLETE, function() {
t.startAnimationNode.active = !1;
});
}
};
t.prototype.startShuffleAnimation = function(e) {
var t = this;
if (cc.isValid(this.shuffleAnimationNode)) {
this.shuffleAnimationNode.active = !0;
this.shuffleAnimationNode.zIndex = 100;
this.shuffleAnimationNode.getComponent(dragonBones.ArmatureDisplay).playAnimation("newAnimation", 1);
this.shuffleAnimationNode.getComponent(dragonBones.ArmatureDisplay).addEventListener(dragonBones.EventObject.COMPLETE, function() {
M.default.setDarkActive(!0);
M.default.setSurplusValue(e.PoolCnt);
t.shuffleAnimationNode.active = !1;
});
}
};
t.prototype.reset = function() {
this.node.stopAllActions();
for (var e = this.node.children, t = 0; t < e.length; t++) e[t].stopAllActions();
N.default.getInstance().reset();
E.default.reset();
M.default.reset();
R.default.reset();
C.default.reset();
A.default.reset();
P.default.hide();
T.default.hide();
w.default.hide();
B.default.RummyCoinsNode.removeAllChildren();
this.setDropAmount(0);
};
t.prototype._getRoomInfo = function() {
L.default.room = r.current.room;
L.default.roomIndex = r.getIndexByRoom(f.default.GAME_TYPE.RUMMY, L.default.room);
var e = r.getRoomInfo();
L.default.baseScore = e.base;
L.default.min_limit = e.enterLimitList[0] / 1e3;
cc.log("rummy 游戏的准入门槛 " + L.default.min_limit);
L.default.betCoinValue = e.chipsList;
for (var t = 0; t < L.default.betCoinValue.length; t++) L.default.betCoinValue[t] /= 1e3;
F.default.socketUrl = r.getGameWsServer(f.default.GAME_TYPE.RUMMY);
console.log("this url is %@", F.default.socketUrl);
F.default.init(this.eventsMsgHandle.bind(this));
this.eventManger || (this.eventManger = new a(this.onHideSocketClose.bind(this), this.onShowSocketInit.bind(this)));
};
t.prototype.onHideSocketClose = function() {
F.default.close();
};
t.prototype.onShowSocketInit = function() {
F.default.init(this.eventsMsgHandle.bind(this));
};
t.prototype.onDisable = function() {
this.enable = !1;
this.eventManger && this.eventManger.closeEvent();
cc.director.off("closerummysettingview", this.closeRummySettingView, this);
};
t.prototype.onEnable = function() {
this.enable = !0;
cc.director.on("closerummysettingview", this.closeRummySettingView, this);
};
t.prototype.socketInit = function() {
L.default.reconnetTimes = 3;
L.default.isConnected = !0;
};
t.prototype.onTouchBtnShop = function() {
I.default.playClickButton();
};
t.prototype.onTouchBtnSetting = function() {
I.default.playClickButton();
if (cc.isValid(this.btnRule)) {
cc.log("onTouchBtnSetting");
this.btnRule.getChildByName("selected").active = !0;
this.btnRule.getChildByName("unselected").active = !1;
}
_.default.ShowUI();
};
t.prototype.closeRummySettingView = function() {
if (cc.isValid(this.btnRule)) {
cc.log("closeRummySettingView");
this.btnRule.getChildByName("selected").active = !1;
this.btnRule.getChildByName("unselected").active = !0;
}
};
t.prototype.onTouchBtnBack = function() {
f.default.clickManager(this.btnBack);
c.default.playMultiEffect(s.default.common.btnMusic, null, null, null);
this.on_back_to_lobby_event_handle(!0);
this.exitGame();
};
t.prototype.exitGame = function() {
M.default.updateChangedTableFlag(!1);
L.default.isStillHere = !1;
c.default.stopAll();
F.default.close();
this.eventManger && this.eventManger.closeEvent();
h.default.runGameWithID(f.default.GAME_TYPE.GAME_HALL, !1, null, null);
};
t.prototype.onPokerStateChange = function() {
var e = R.default.getSelectedPokers();
if (L.default.isDiscarding && L.default.playerStatus == U.default.USER_STATUS.Playing) {
A.default.setBtnDiscardActive(1 == e.length);
A.default.setBtnFinishActive(1 == e.length);
}
e && L.default.playerStatus == U.default.USER_STATUS.Playing && A.default.setBtnGroupActive(e.length > 1);
};
t.prototype.ON_DROP_CLICK_EVENT_NAME = function() {
var e = u.default.get(S.default.GameName, S.default.PROMPT_DROP_CONTEXT), t = u.default.get(S.default.GameName, S.default.PROMPT_DROP_TITLE), i = u.default.get(S.default.GameName, S.default.YES), o = u.default.get(S.default.GameName, S.default.No);
p.default.createAlert(e, i, function() {
L.default.dropType = 0;
O.default.dropReq();
}, o, null, !0, t, t);
};
t.prototype.ON_CHANGE_TABLE_CLICK_EVENT_NAME = function() {
if (L.default.playerStatus == U.default.USER_STATUS.Playing) {
var e = u.default.get(S.default.GameName, S.default.PROMPT_SWITCH_TABLE_CONTEXT), t = u.default.get(S.default.GameName, S.default.PROMPT_SWITCH_TABLE_TITLE), i = u.default.get(S.default.GameName, S.default.YES), o = u.default.get(S.default.GameName, S.default.No);
p.default.createAlert(e, i, function() {
L.default.dropType = 1;
O.default.dropReq();
}, o, null, !0, t, t);
} else {
M.default.updateChangedTableFlag(!0);
O.default.changeTableReq();
}
};
t.prototype.ON_BACK_CLICK_EVENT_NAME = function() {
if (L.default.playerStatus == U.default.USER_STATUS.Playing) {
var e = u.default.get(S.default.GameName, S.default.PROMPT_BACK_LOBBY_CONTEXT), t = u.default.get(S.default.GameName, S.default.PROMPT_BACK_LOBBY_TITLE), i = u.default.get(S.default.GameName, S.default.YES), o = u.default.get(S.default.GameName, S.default.No);
p.default.createAlert(e, i, function() {
L.default.dropType = 2;
O.default.dropReq();
}, o, null, !0, t, t);
} else this.exitGame();
};
t.prototype.on_back_to_lobby_event_handle = function(e) {
cc.isValid(this.btnBack) && (this.btnBack.getComponent(cc.Toggle).isChecked = e);
};
t.prototype.eventsMsgHandle = function(e, t) {
if (this.enable && !L.default.isReconneting) {
var i = t.HandCard;
null != i && R.default.checkPokersCount(i);
switch (e) {
case D.default.MSG_ID_S.ErrorST:
this.eventErrorST(t);
break;

case D.default.MSG_ID_S.RoomST:
this.eventRoomST(t);
break;

case D.default.MSG_ID_S.UserST:
this.eventUserST(t);
break;

case D.default.MSG_ID_S.UserInEV:
this.eventUserInEV(t);
break;

case D.default.MSG_ID_S.UserOutEV:
this.eventUserOutEV(t);
break;

case D.default.MSG_ID_S.PrepareNT:
this.eventPrepareNT(t);
break;

case D.default.MSG_ID_S.DropEV:
this.eventDropEV(t);
break;

case D.default.MSG_ID_S.PlayNT:
this.eventPlayNT(t);
break;

case D.default.MSG_ID_S.TouchEV:
this.eventTouchEV(t);
break;

case D.default.MSG_ID_S.DiscardEV:
this.eventDiscardEV(t);
break;

case D.default.MSG_ID_S.GroupEV:
this.eventGroupEV(t);
break;

case D.default.MSG_ID_S.DeclareEV:
this.eventDeclareEV(t);
break;

case D.default.MSG_ID_S.DeclareNT:
this.eventDeclareNT(t);
break;

case D.default.MSG_ID_S.SettleST:
this.eventSettleST(t);
break;

case D.default.MSG_ID_S.LastSettleEV:
this.eventLastSettleEV(t);
break;

case D.default.MSG_ID_S.ShuffleEV:
this.eventShuffleEV(t);
}
}
};
t.prototype.eventErrorST = function(e) {
var t = this;
if (e) {
var i = L.default.gameStage == U.default.GAME_STAGE.SETTLE ? 3 : 0;
switch (e.Status) {
case "IDLE_TIMEOUT":
if (0 == L.default.isStillHere) {
F.default.close();
L.default.isStillHere = !0;
this.scheduleOnce(function() {
E.default.clearPlayer();
t.exitGame();
}, i);
}
break;

case "UNKNOWN_ERROR":
case "PARAM_ERROR":
break;

case "SERVER_CLOSED":
F.default.close();
this.scheduleOnce(function() {
var e = u.default.get(S.default.GameName, S.default.NETWORK_CLOSED), i = u.default.get(S.default.GameName, S.default.GAME_EXIT_TIP_BUTTON_TEXT);
p.default.createAlert(e, i, function() {
t.exitGame();
}, null, null, null, null, null);
}, i);
break;

case "NOT_AUTH":
case "TOKEN_INVALID":
case "DUP_LOGIN":
F.default.close();
E.default.clearPlayer();
p.default.ToLoading(u.default.get(S.default.GameName, S.default.NETWORK_INVALID), null);
break;

case "INSUFFICIENT":
F.default.close();
L.default.userBalanceEnough = !0;
this.scheduleOnce(function() {
E.default.clearPlayer();
t.exitGame();
}, i);
break;

case "REDIRECT":
E.default.clearPlayer();
var o = e.Msg;
if (o) {
F.default.close();
F.default.socketUrl = o;
F.default.init(this.eventsMsgHandle.bind(this));
} else p.default.ToLoading(u.default.get(S.default.GameName, S.default.NETWORK_INVALID), F.default.socket);
}
}
};
t.prototype.eventRoomST = function(e) {
L.default.myChair = 0;
L.default.curChair = 0;
L.default.winChair = 0;
L.default.gameStage = 0;
L.default.playerStatus = 0;
L.default.dropAmount = 0;
L.default.isTouching = !1;
L.default.isDiscarding = !1;
L.default.isFinish = !1;
L.default.isCheckingDrop = !1;
L.default.isStillHere = !1;
L.default.userBalanceEnough = !1;
L.default.finishsoltPorkValue = -1;
this.reset();
this.unscheduleAllCallbacks();
console.log("RummyGame eventRoomST gameStage = ", e.Stage);
L.default.gameStage = U.default.GAME_STAGE[e.Stage];
L.default.curChair = e.ActiveChair;
var t = 0, i = null;
for (var o in e.UserS) if (e.UserS[o].ID.toString() == g.default.uid) {
i = e.UserS[o];
L.default.myChair = e.UserS[o].Chair;
L.default.playerStatus = e.UserS[o].Status;
l.default.Instance.emit(v.default.ON_PLAYER_STATUS_CHANGE);
E.default.UserIn(e.UserS[o]);
break;
}
E.default.clearPlayer();
for (var o in e.UserS) {
t++;
e.UserS[o].ID.toString() != g.default.uid && E.default.UserIn(e.UserS[o]);
console.log("RummyGame eventRoomST userStatus = ", e.UserS[o].Status);
var n = e.UserS[o].Status;
n == U.default.USER_STATUS.Prepare && L.default.gameStage >= U.default.GAME_STAGE.SHUFFLE && L.default.gameStage <= U.default.GAME_STAGE.DECLARE && (n = U.default.USER_STATUS.Null);
E.default.setStatus(e.UserS[o].Chair, n);
}
if (L.default.gameStage >= U.default.GAME_STAGE.SHUFFLE) {
N.default.getInstance().setTableCard(e.TableCard);
i.Status == U.default.USER_STATUS.Drop ? N.default.getInstance().setHnadCard(null) : N.default.getInstance().setHnadCard(i.HandCard);
if (i.Status == U.default.USER_STATUS.Prepare || i.Status == U.default.USER_STATUS.Drop) {
cc.log("玩家是什么状态" + i.Status);
A.default.setBtnChangeTableActive(!0);
}
0 != e.BankerChair && E.default.setBanker(e.BankerChair);
if (e.Settle) {
var r = e.Settle.ChairS, a = 0;
for (var o in r) {
if (r[o].UserID.toString() == g.default.uid) {
L.default.playerStatus = r[o].Status;
l.default.Instance.emit(v.default.ON_PLAYER_STATUS_CHANGE);
}
r[o].Status == U.default.USER_STATUS.Drop && (a += Math.abs(r[o].WinAmount));
}
this.setDropAmount(a);
}
}
if (L.default.gameStage > U.default.GAME_STAGE.SHUFFLE) {
M.default.show();
M.default.setWildPoker(e.TableCard.WildCard, !0);
M.default.setVisiblePoker(e.TableCard.VisibleCard);
M.default.setSurplusValue(e.TableCard.PoolCnt);
if (i) {
if (i.HandCard) {
A.default.setPokerScoreActive(!0);
A.default.setPokerScoreValue(i.HandCard.Score);
R.default.setPokerValue(i.HandCard, e.TableCard.WildRank, !0);
}
} else console.error("RummyGame eventRoomST: myUser is null");
}
L.default.gameStage != U.default.GAME_STAGE.SETTLE && B.default.RummyResultUINode.removeAllChildren();
switch (L.default.gameStage) {
case U.default.GAME_STAGE.WAIT:
if (t > 1) {
cc.log("有其他人进场");
P.default.setTipText(65535, u.default.get(S.default.GameName, S.default.GAME_WILL_START_SHORTLY));
A.default.setBtnChangeTableActive(!0);
} else {
cc.log("只有自己在场");
P.default.setTipText(65535, u.default.get(S.default.GameName, S.default.GAME_WILL_WAITING_OTHER_PLAYER_JOIN));
A.default.setBtnChangeTableActive(!1);
}
break;

case U.default.GAME_STAGE.PREPARE:
var s = (e.NextTS - e.Timestamp) / 1e3;
this.startPlayAnimation(s);
break;

case U.default.GAME_STAGE.SHUFFLE:
null == i ? console.error("RummyGame eventRoomST: myUser is null") : null == i.HandCard && console.error("RummyGame eventRoomST: myUser.HandCard is null");
M.default.show();
M.default.startRunAnimation();
console.log("game shuffle start");
var c = M.default.getShufflePokerPosition(), d = E.default.getOtherPlayerPositions();
C.default.runOtherPlayerDealAni(c, d);
var f = N.default.getInstance().getDisorderHandCard(i.HandCard);
R.default.runDealCardsAction(f, e.TableCard.WildRank, c, function() {
M.default.runDarkPokerAni(function() {
I.default.playTouchReq();
M.default.runVisiblePokerAni(e.TableCard.VisibleCard, function() {
I.default.playTouchReq();
M.default.runWildPokerAni(e.TableCard.WildCard, function() {
console.log("game shuffle end");
M.default.setSurplusValue(e.TableCard.PoolCnt);
if (i.HandCard) {
A.default.setPokerScoreActive(!0);
A.default.setPokerScoreValue(i.HandCard.Score);
R.default.setPokerValue(i.HandCard, e.TableCard.WildRank, !0);
}
});
});
});
});
break;

case U.default.GAME_STAGE.PLAY:
E.default.startTimer(e.ActiveChair, (e.NextTS - e.Timestamp) / 1e3);
L.default.dropAmount = i.DropAmount;
L.default.isTouching = !1;
L.default.isDiscarding = !1;
if (L.default.myChair == e.ActiveChair) {
L.default.isTouching = 14 != i.HandCard.CardCnt;
L.default.isDiscarding = 14 == i.HandCard.CardCnt;
}
A.default.setBtnDropActive(L.default.isTouching);
A.default.setBtnPlanDropActive(!1);
A.default.setBtnDropAmount(L.default.dropAmount);
A.default.setBtnNewActive(L.default.isTouching);
A.default.setBtnFaceUpActive(L.default.isTouching);
A.default.setBtnDeclareActive(!1);
M.default.setTouchTipActive(L.default.isTouching);
break;

case U.default.GAME_STAGE.FINISH:
E.default.startTimer(e.ActiveChair, (e.NextTS - e.Timestamp) / 1e3);
L.default.dropAmount = i.DropAmount;
L.default.isTouching = !1;
L.default.isDiscarding = !1;
var h = !1;
if (e.ActiveChair == L.default.myChair) {
P.default.setTipText((e.NextTS - e.Timestamp) / 1e3, u.default.get(S.default.GameName, S.default.FINSH_GROUP_TIP));
h = !0;
cc.log("finish solt pork value is " + L.default.finishsoltPorkValue);
if (-1 != e.TableCard.FinishCard) {
L.default.finishsoltPorkValue = e.TableCard.FinishCard;
M.default.setFinishVisiblePoker(L.default.finishsoltPorkValue);
}
} else M.default.setFinishSoltDarkPoker();
A.default.setBtnDropActive(L.default.isTouching);
A.default.setBtnPlanDropActive(!1);
A.default.setBtnDropAmount(L.default.dropAmount);
A.default.setBtnNewActive(L.default.isTouching);
A.default.setBtnFaceUpActive(L.default.isTouching);
A.default.setBtnDeclareActive(h);
M.default.setTouchTipActive(L.default.isTouching);
break;

case U.default.GAME_STAGE.DECLARE:
M.default.hide();
r = e.Settle.ChairS;
for (var o in r) {
1 == r[o].Status && E.default.startTimer(parseInt(o), (e.NextTS - e.Timestamp) / 1e3);
2 == r[o].Status && (L.default.winChair = parseInt(o));
if (L.default.myChair.toString() == o) {
if (1 == r[o].Status) {
A.default.setBtnDeclareActive(!0);
A.default.playDeclareAnimation();
} else R.default.setCanTouch(!1);
if (2 == r[o].Status) {
A.default.setPokerScoreActive(!1);
T.default.show(!1);
}
}
}
if (1 == e.Settle.Reason) {
w.default.show();
w.default.setTimer((e.NextTS - e.Timestamp) / 1e3);
if (L.default.myChair == L.default.winChair) {
w.default.setUserText(null);
w.default.setTipText(u.default.get(S.default.GameName, S.default.GAME_WAITING_OTHER_PLAYER_DECLARE));
} else {
w.default.setUserText(u.default.get(S.default.GameName, S.default.USER_DECLARED, E.default.getNickName(L.default.winChair)));
w.default.setTipText(u.default.get(S.default.GameName, S.default.PASSIVE_DECLARE));
}
}
break;

case U.default.GAME_STAGE.SETTLE:
E.default.setAllStatus(U.default.USER_STATUS.Prepare);
if (B.default.RummyResultUINode.childrenCount <= 0) {
this.reset();
A.default.setBtnChangeTableActive(!0);
P.default.setTipText(65535, u.default.get(S.default.GameName, S.default.NEXT_ROUND_WILL_START_SHORTLY));
}
}
M.default.updateChangedTableFlag(!1);
};
t.prototype.eventUserST = function(e) {};
t.prototype.eventUserInEV = function(e) {
E.default.UserIn(e.User);
E.default.playUserInAnimation(e.User.Chair);
var t = e.User.Status;
t == U.default.USER_STATUS.Prepare && L.default.gameStage >= U.default.GAME_STAGE.SHUFFLE && L.default.gameStage <= U.default.GAME_STAGE.DECLARE && (t = U.default.USER_STATUS.Null);
E.default.setStatus(e.User.Chair, t);
};
t.prototype.eventUserOutEV = function(e) {
E.default.UserOut(e.ChairNo);
};
t.prototype.eventPrepareNT = function(e) {
this.reset();
L.default.gameStage = U.default.GAME_STAGE.PREPARE;
l.default.Instance.emit(v.default.ON_PLAYER_STATUS_CHANGE);
A.default.setBtnChangeTableActive(!1);
this.startPlayAnimation((e.NextTS - e.Timestamp) / 1e3);
B.default.RummyResultUINode.removeAllChildren();
};
t.prototype.eventDropEV = function(e) {
var t = this;
E.default.setStatus(e.Chair, U.default.USER_STATUS.Drop);
E.default.playScoreChangeAnimation(e.Chair, -e.DropAmount / 1e3);
E.default.playSettleAnimation(e.Chair, -e.DropAmount / 1e3);
E.default.playDropCoinAnimation(e.Chair, -e.DropAmount, function() {
I.default.playCoinsSound();
t.setDropAmount(e.DropAmount);
});
if (L.default.myChair == e.Chair) {
L.default.isDiscarding = !1;
L.default.playerStatus = U.default.USER_STATUS.Drop;
l.default.Instance.emit(v.default.ON_PLAYER_STATUS_CHANGE);
N.default.getInstance().setHnadCard(null);
A.default.reset();
R.default.reset();
P.default.hide();
if (-1 != L.default.finishsoltPorkValue) {
M.default.hideFinishDarkPoker();
M.default.setFinishVisiblePoker(L.default.finishsoltPorkValue);
this.scheduleOnce(function() {
M.default.runFinishSoltVisibleAni(function() {
M.default.setVisiblePoker(L.default.finishsoltPorkValue);
L.default.finishsoltPorkValue = -1;
M.default.hideFinishSoltPoker();
M.default.hideFinishDarkPoker();
});
}, 1);
}
if (e.TimeOut) {
A.default.setBtnChangeTableActive(!0);
var i = u.default.get(S.default.GameName, S.default.TIMEOUT_DROP_CONTEXT), o = u.default.get(S.default.GameName, S.default.STILL_HERE);
p.default.createRummyDropAlert(i, o, function() {
L.default.isStillHere = !0;
});
} else A.default.setBtnChangeTableActive(!0);
if (1 == L.default.dropType) {
M.default.updateChangedTableFlag(!0);
O.default.changeTableReq();
} else 2 == L.default.dropType && this.exitGame();
} else if (-1 != L.default.finishsoltPorkValue) {
M.default.hideFinishDarkPoker();
M.default.setFinishVisiblePoker(L.default.finishsoltPorkValue);
this.scheduleOnce(function() {
M.default.runFinishSoltVisibleAni(function() {
M.default.setVisiblePoker(L.default.finishsoltPorkValue);
L.default.finishsoltPorkValue = -1;
M.default.hideFinishSoltPoker();
M.default.hideFinishDarkPoker();
});
}, 1);
}
};
t.prototype.eventPlayNT = function(e) {
L.default.gameStage = U.default.GAME_STAGE.PLAY;
l.default.Instance.emit(v.default.ON_PLAYER_STATUS_CHANGE);
L.default.curChair = e.Chair;
L.default.isTouching = L.default.curChair == L.default.myChair;
E.default.stopAllTimer();
E.default.startTimer(e.Chair, (e.NextTS - e.Timestamp) / 1e3);
l.default.Instance.emit(v.default.POKER_STATE_CHANGE);
if (L.default.myChair == L.default.curChair) {
I.default.playOperationTip();
L.default.dropAmount = e.DropAmount;
B.default.RummyResultUINode.removeAllChildren();
A.default.setBtnCheckDropActive(!1);
if (L.default.isCheckingDrop) {
L.default.dropType = 0;
O.default.dropReq();
}
} else L.default.playerStatus == U.default.USER_STATUS.Playing && A.default.setBtnPlanDropActive(!0);
A.default.setBtnDropActive(L.default.isTouching);
A.default.setBtnDropAmount(L.default.dropAmount);
A.default.setBtnNewActive(L.default.isTouching);
A.default.setBtnFaceUpActive(L.default.isTouching);
A.default.setBtnDeclareActive(!1);
M.default.setTouchTipActive(L.default.isTouching);
};
t.prototype.eventTouchEV = function(e) {
N.default.getInstance().setTableCard(e.TableCard);
if (L.default.myChair == e.Chair) {
L.default.isTouching = !1;
L.default.isDiscarding = !0;
A.default.setBtnPlanDropActive(!1);
} else L.default.playerStatus == U.default.USER_STATUS.Playing && A.default.setBtnPlanDropActive(!0);
A.default.setBtnDropActive(L.default.isTouching);
A.default.setBtnDropAmount(L.default.dropAmount);
A.default.setBtnNewActive(L.default.isTouching);
A.default.setBtnFaceUpActive(L.default.isTouching);
A.default.setBtnDeclareActive(!1);
M.default.setTouchTipActive(L.default.isTouching);
M.default.setVisiblePoker(e.TableCard.VisibleCard);
M.default.setSurplusValue(e.TableCard.PoolCnt);
0 == e.TableCard.PoolCnt && M.default.setDarkActive(!1);
if (e.HandCard) {
N.default.getInstance().setHnadCard(e.HandCard);
R.default.setCanTouch(!1);
} else l.default.Instance.emit(v.default.POKER_STATE_CHANGE);
var t = L.default.myChair == e.Chair, i = e.Visible ? M.default.getVisiblePokerPosition() : M.default.getDarkPokerPosition(), o = t ? this.node.convertToNodeSpaceAR(R.default.getTouchPokerPosition()) : E.default.getPlayer(e.Chair).node.parent.position;
C.default.runTouchPokerAni(i, o, e.CardTouch, t, function() {
I.default.playTouchReq();
if (e.HandCard) {
R.default.setPokerValue(e.HandCard, e.TableCard.WildRank, !0);
A.default.setPokerScoreValue(e.HandCard.Score);
}
}.bind(this));
};
t.prototype.eventDiscardEV = function(e) {
L.default.isDiscarding = !1;
N.default.getInstance().setTableCard(e.TableCard);
var t = L.default.myChair == e.Chair, i = t ? this.node.convertToNodeSpaceAR(R.default.getDiscardPokerPosition()) : E.default.getPlayer(e.Chair).node.parent.position, o = M.default.getVisiblePokerPosition(), n = M.default.getFinishPokerPosition(), r = M.default.getFinishDarkPokerPosition();
if (e.IsDeclare) {
E.default.stopAllTimer();
E.default.startTimer(e.Chair, (e.NextTS - e.Timestamp) / 1e3);
L.default.finishsoltPorkValue = e.Card;
C.default.runDiscardPokerAni(i, t ? n : r, e.Card, t, e.IsDeclare, function() {
I.default.playDiscard();
e.HandCard && R.default.setCanTouch(!0);
if (t) {
cc.log("牌值是多少" + L.default.discardPorkValue);
M.default.setFinishVisiblePoker(L.default.discardPorkValue);
} else M.default.setFinishSoltDarkPoker();
M.default.setSurplusValue(e.TableCard.PoolCnt);
}.bind(this));
} else C.default.runDiscardPokerAni(i, o, e.Card, t, e.IsDeclare, function() {
I.default.playDiscard();
e.HandCard && R.default.setCanTouch(!0);
M.default.setVisiblePoker(e.TableCard.VisibleCard);
M.default.setSurplusValue(e.TableCard.PoolCnt);
}.bind(this));
if (e.HandCard) {
N.default.getInstance().setHnadCard(e.HandCard);
A.default.setPokerScoreValue(e.HandCard.Score);
A.default.setBtnDiscardActive(!1);
A.default.setBtnFinishActive(!1);
A.default.setBtnDeclareActive(!1);
R.default.setPokerSingleMethod(e.HandCard);
R.default.setPokerValue(e.HandCard, e.TableCard.WildRank, !1);
} else l.default.Instance.emit(v.default.POKER_STATE_CHANGE);
if (e.IsDeclare && e.Chair == L.default.myChair) {
P.default.setTipText((e.NextTS - e.Timestamp) / 1e3, u.default.get(S.default.GameName, S.default.FINSH_GROUP_TIP));
E.default.stopTimer(e.Chair);
A.default.setBtnDeclareActive(!0);
L.default.isFinish = !0;
E.default.startTimer(e.Chair, (e.NextTS - e.Timestamp) / 1e3);
}
};
t.prototype.eventGroupEV = function(e) {
L.default.dropAmount = e.DropAmount;
N.default.getInstance().setHnadCard(e.HandCard);
A.default.setPokerScoreValue(e.HandCard.Score);
A.default.setBtnGroupActive(!1);
A.default.setBtnDropAmount(L.default.dropAmount);
if (L.default.gameStage == U.default.GAME_STAGE.PLAY) {
var t = L.default.curChair == L.default.myChair && L.default.isFinish;
A.default.setBtnDeclareActive(t);
}
var i = N.default.getInstance().getTableCard().WildRank;
R.default.setSinglePokerGroupMethod(e.HandCard);
R.default.setPokerValue(e.HandCard, i, !0);
};
t.prototype.eventDeclareEV = function(e) {
L.default.winChair = e.WinChair;
E.default.stopTimer(e.Chair);
if (L.default.myChair == e.Chair) {
if (e.WinChair == L.default.myChair) {
L.default.playerStatus = U.default.USER_STATUS.Win;
L.default.gameStage = U.default.GAME_STAGE.DECLARE;
l.default.Instance.emit(v.default.ON_PLAYER_STATUS_CHANGE);
T.default.show();
}
N.default.getInstance().setHnadCard(e.HandCard);
A.default.reset();
var t = N.default.getInstance().getTableCard().WildRank;
R.default.setPokerValue(e.HandCard, t, !1);
} else {
M.default.hideFinishDarkPoker();
M.default.setFinishVisiblePoker(L.default.finishsoltPorkValue);
}
-1 != e.Card || E.default.playDeclareAnimation(e.Chair, e.Chair == e.WinChair, e.HandCard.Score, e.HandCard.Score);
};
t.prototype.eventDeclareNT = function(e) {
L.default.gameStage = U.default.GAME_STAGE.DECLARE;
l.default.Instance.emit(v.default.ON_PLAYER_STATUS_CHANGE);
E.default.stopAllTimer();
B.default.RummyResultUINode.removeAllChildren();
A.default.setBtnPlanDropActive(!1);
if (1 == e.Reason) {
if (L.default.myChair != L.default.winChair && L.default.playerStatus == U.default.USER_STATUS.Playing) {
A.default.setBtnDeclareActive(!0);
A.default.playDeclareAnimation();
}
for (var t = 1; t <= 6; t++) t != L.default.winChair && t != e.Chair && E.default.startTimer(t, (e.NextTS - e.Timestamp) / 1e3);
w.default.show();
w.default.setTimer((e.NextTS - e.Timestamp) / 1e3);
if (L.default.myChair == e.Chair) {
P.default.hide();
w.default.setUserText(null);
w.default.setTipText(u.default.get(S.default.GameName, S.default.GAME_WAITING_OTHER_PLAYER_DECLARE));
} else if (L.default.playerStatus == U.default.USER_STATUS.Playing) w.default.setUserText(u.default.get(S.default.GameName, S.default.USER_DECLARED, E.default.getNickName(L.default.winChair))); else {
w.default.setUserText(null);
w.default.setTipText(u.default.get(S.default.GameName, S.default.GAME_WAITING_OTHER_PLAYER_DECLARE));
}
}
};
t.prototype.eventSettleST = function(e) {
var t = this;
L.default.gameStage = U.default.GAME_STAGE.SETTLE;
L.default.isFinish = !1;
L.default.finishsoltPorkValue = -1;
L.default.playerStatus = U.default.USER_STATUS.Prepare;
l.default.Instance.emit(v.default.ON_PLAYER_STATUS_CHANGE);
T.default.hide();
w.default.hide();
P.default.hide();
M.default.hide();
M.default.hideDeclarePoker();
A.default.reset();
B.default.RummyResultUINode.removeAllChildren();
p.default.removeAlert(void 0);
var i = e.Settle.ChairS, o = "", n = !1;
for (var r in i) if (i[r].Status == U.default.USER_STATUS.Win || i[r].Status == U.default.USER_STATUS.Lost) {
E.default.playScoreChangeAnimation(Number(r), i[r].WinAmount / 1e3);
E.default.playSettleAnimation(Number(r), i[r].WinAmount / 1e3);
i[r].WinAmount > 0 ? o = r : i[r].WinAmount < 0 && E.default.playLoserCoinAnimation(Number(r), i[r].WinAmount, function() {
if (!n) {
E.default.playWinnerCoinAnimation(Number(o), i[o].WinAmount, function() {
E.default.setAllStatus(U.default.USER_STATUS.Prepare);
});
I.default.playCoinsSound();
n = !0;
}
});
}
if (this.dropTotal > 0) {
var a = k.default.get(x.default.prefabPath.RummyCoin_Path, cc.Prefab), s = m.default.findChildByName(this.node, "dropScore/score");
m.default.PayCoinsAnimation(this.dropTotal, s, a, B.default.RummyCoinsNode, function() {
t.setDropAmount(0);
if (!n) {
E.default.playWinnerCoinAnimation(Number(o), i[o].WinAmount, function() {
E.default.setAllStatus(U.default.USER_STATUS.Prepare);
});
I.default.playCoinsSound();
n = !0;
}
});
}
this.scheduleOnce(function() {
t.initResultUI(e.Settle, !0);
t.reset();
A.default.setBtnChangeTableActive(!0);
P.default.setTipText(65535, u.default.get(S.default.GameName, S.default.NEXT_ROUND_WILL_START_SHORTLY));
}, 3);
};
t.prototype.eventLastSettleEV = function(e) {
if (e.Settle) this.initResultUI(e.Settle, !1); else {
var t = u.default.get(S.default.GameName, S.default.PROMPT_LAST_SETTLE_TITLE), i = u.default.get(S.default.GameName, S.default.PROMPT_LAST_SETTLE_CONTEXT), o = u.default.get(S.default.GameName, S.default.BUTTON_CONFIRM);
p.default.createAlert(i, o, null, null, null, null, null, t);
}
};
t.prototype.eventShuffleEV = function(e) {
var t = this;
this.scheduleOnce(function() {
t.startShuffleAnimation(e);
}, 1);
};
n([ V(cc.Node) ], t.prototype, "gameBg", void 0);
n([ V(cc.Node) ], t.prototype, "btnBack", void 0);
n([ V(cc.Node) ], t.prototype, "btnRule", void 0);
n([ V(cc.Node) ], t.prototype, "btnShop", void 0);
n([ V(cc.Node) ], t.prototype, "startAnimationNode", void 0);
n([ V(cc.Node) ], t.prototype, "shuffleAnimationNode", void 0);
return t = n([ W ], t);
}(cc.Component);
i.default = j;
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/GameFramework/Manager/EventManager": "EventManager",
"../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../Script/Localization": "Localization",
"../../Script/ProjectConfig": "ProjectConfig",
"../../Script/Socket/FastPlayMgr": "FastPlayMgr",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"../../Script/UserManager": "UserManager",
"../../Script/Utils/Utility": "Utility",
"./../../Script/BaseFormat": "BaseFormat",
"./Component/RummyResultUI": "RummyResultUI",
"./Component/RummySettingView": "RummySettingView",
"./Const/RummyConstEventName": "RummyConstEventName",
"./Const/RummyLanguageConfig": "RummyLanguageConfig",
"./Controller/RummyActionPokerController": "RummyActionPokerController",
"./Controller/RummyDeclareWaitingController": "RummyDeclareWaitingController",
"./Controller/RummyFeaturesController": "RummyFeaturesController",
"./Controller/RummyHandPokerListController": "RummyHandPokerListController",
"./Controller/RummyHandPokerWinController": "RummyHandPokerWinController",
"./Controller/RummyPlayerListController": "RummyPlayerListController",
"./Controller/RummyTablePokerController": "RummyTablePokerController",
"./Controller/RummyTipsController": "RummyTipsController",
"./Manager/RummyAssetCacheManager": "RummyAssetCacheManager",
"./Manager/RummyAudioMgr": "RummyAudioMgr",
"./Manager/RummyLogicMgr": "RummyLogicMgr",
"./Manager/RummyUIManager": "RummyUIManager",
"./Model/RummyGlobal": "RummyGlobal",
"./Model/RummyModel": "RummyModel",
"./Service/RummyProto": "RummyProto",
"./Service/RummySocketMgr": "RummySocketMgr",
"./Service/RummySocketSend": "RummySocketSend",
"./Skin/RummyRes": "RummyRes",
CommonEventManager: "CommonEventManager",
GameEngineUtil: "GameEngineUtil",
NewGameInfo: "NewGameInfo",
TopUpUIMgr: "TopUpUIMgr"
} ],
RummyGlobal: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "b61ffGnBkhPQ7L0qjZwBmGJ", "RummyGlobal");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = function() {
function e() {}
e.room = 0;
e.roomIndex = 0;
e.min_limit = 0;
e.betCoinValue = [];
e.baseScore = 0;
e.isConnected = !1;
e.reconnetTimes = 3;
e.isReconneting = !1;
e.myChair = 0;
e.curChair = 0;
e.winChair = 0;
e.gameStage = 0;
e.playerStatus = 0;
e.dropAmount = 0;
e.dropType = 0;
e.isTouching = !1;
e.isDiscarding = !1;
e.isFinish = !1;
e.isCheckingDrop = !1;
e.isStillHere = !1;
e.discardPorkValue = 0;
e.userBalanceEnough = !1;
e.finishsoltPorkValue = -1;
return e;
}();
i.default = o;
cc._RF.pop();
}, {} ],
RummyHandPokerGroupView: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "d0248X8O8hIRrwFklWtCyP1", "RummyHandPokerGroupView");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = e("../Const/RummyConstConfig"), a = e("../Skin/RummyRes"), s = e("../Model/RummyModel"), c = e("../Manager/RummyAssetCacheManager"), l = cc._decorator, u = l.ccclass, d = (l.property, 
function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.m_thisSprite = null;
t.m_thisScore = null;
return t;
}
t.prototype.onLoad = function() {
this.m_thisSprite = this.node.getComponent(cc.Sprite);
this.node.y = -114;
};
t.prototype.setGroupClassType = function(e, t, i, o, n) {
var r = 3;
switch (n) {
case s.default.PATTERN.CSZ:
r = 1;
break;

case s.default.PATTERN.SZ:
r = e >= 1 ? 1 : 2;
break;

case s.default.PATTERN.T3:
case s.default.PATTERN.T4:
r = e >= 1 && e + t >= 2 ? 1 : 2;
break;

default:
r = 3;
}
if (o > 1) {
var l = a.default.resources.root_path + "bottom_frame_" + r.toString(), u = c.default.get(l, cc.SpriteFrame);
this.m_thisSprite.spriteFrame = u;
this.m_thisScore = this.node.getChildByName("score").getComponent(cc.Label);
if (n == s.default.PATTERN.CSZ) this.m_thisScore.string = "Pure Sequence"; else if (n == s.default.PATTERN.SZ) {
if (1 == r) this.m_thisScore.string = "Sequence"; else if (2 == r) if (0 == i) {
var d = a.default.resources.root_path + "bottom_frame_1", f = c.default.get(d, cc.SpriteFrame);
this.m_thisSprite.spriteFrame = f;
this.m_thisScore.string = "Joker（" + i + "）";
} else this.m_thisScore.string = "Sequence（" + i + "）";
} else if (n == s.default.PATTERN.T3 || n == s.default.PATTERN.T4) if (0 == i) {
var h = a.default.resources.root_path + "bottom_frame_1", p = c.default.get(h, cc.SpriteFrame);
this.m_thisSprite.spriteFrame = p;
this.m_thisScore.string = "Joker（" + i + "）";
} else 1 == r ? this.m_thisScore.string = "Set" : 2 == r && (this.m_thisScore.string = "Set（" + i + "）"); else if (0 == i) {
var g = a.default.resources.root_path + "bottom_frame_1", m = c.default.get(g, cc.SpriteFrame);
this.m_thisSprite.spriteFrame = m;
this.m_thisScore.string = "Joker（" + i + "）";
} else this.m_thisScore.string = "Invalid（" + i + "）";
} else {
this.m_thisSprite.spriteFrame = null;
if (cc.isValid(this.node.getChildByName("score"))) {
this.m_thisScore = this.node.getChildByName("score").getComponent(cc.Label);
this.m_thisScore.string = "";
}
}
};
t.prototype.setZIndex = function(e) {
this.node.zIndex = e;
};
t.prototype.setStartIndexAndGroupSize = function(e, t, i) {
void 0 === i && (i = !1);
this.node.x = r.default.HandPokerSpace * e - 78.5;
var o = 0;
i && (o = 81.5);
this.node.width = r.default.HandPokerSpace * t + .5 + o;
this.node.getChildByName("score").x = this.node.width / 2 - t / 2;
};
t.prototype.show = function() {
this.node.active = !0;
var e = this.node.getChildByName("score");
cc.isValid(e) && (e.active = !0);
};
t.prototype.hide = function() {
this.node.active = !1;
var e = this.node.getChildByName("score");
if (cc.isValid(e)) {
e.getComponent(cc.Label).string = "";
e.active = !1;
}
};
t.prototype.hideScore = function() {};
return t = n([ u ], t);
}(cc.Component));
i.default = d;
cc._RF.pop();
}, {
"../Const/RummyConstConfig": "RummyConstConfig",
"../Manager/RummyAssetCacheManager": "RummyAssetCacheManager",
"../Model/RummyModel": "RummyModel",
"../Skin/RummyRes": "RummyRes"
} ],
RummyHandPokerListController: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "15025vBasRKvZ562K+7aBdq", "RummyHandPokerListController");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = e("../Component/RummyHandPokerListView"), n = e("../Manager/RummyAssetCacheManager"), r = e("../Manager/RummyUIManager"), a = e("../Skin/RummyRes"), s = function() {
function e() {}
e.init = function() {
var e = n.default.get(a.default.prefabPath.RummyHandCard_Path, cc.Prefab), t = cc.instantiate(e);
t.parent = r.default.RummyHandPokerNode;
this.handCard = t.getComponent(o.default);
this.handCard.initPlayHandPokers();
};
e.reset = function() {
this.handCard.reset();
};
e.getSelectedPokers = function() {
return this.handCard.getSelectedPokers();
};
e.setPokerValue = function(e, t, i) {
void 0 === i && (i = !0);
this.handCard.setPokerValue(e, t, i);
};
e.setPokerSingleMethod = function(e) {
this.handCard.setPokerSingleMethod(e);
};
e.setSinglePokerGroupMethod = function(e) {
this.handCard.setSinglePokerGroupMethod(e);
};
e.runDealCardsAction = function(e, t, i, o) {
this.handCard.runDealCardsAction(e, t, i, o);
};
e.setCanTouch = function(e) {
this.handCard.setCanTouch(e);
};
e.getTouchPokerPosition = function() {
return this.handCard.getTouchPokerPosition();
};
e.getDiscardPokerPosition = function() {
return this.handCard.getDiscardPokerPosition();
};
e.checkPokersCount = function(e) {
return this.handCard.checkPokersCount(e);
};
e.setGroupHandCard = function() {
this.handCard.setGroupHandCard();
};
e.setDiscardPoker = function(e) {
this.handCard.setDiscardPoker(e);
};
return e;
}();
i.default = s;
cc._RF.pop();
}, {
"../Component/RummyHandPokerListView": "RummyHandPokerListView",
"../Manager/RummyAssetCacheManager": "RummyAssetCacheManager",
"../Manager/RummyUIManager": "RummyUIManager",
"../Skin/RummyRes": "RummyRes"
} ],
RummyHandPokerListView: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "c605dLnMAZDxYW2jf9EzEOB", "RummyHandPokerListView");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = e("../../../Script/GameFramework/Manager/EventManager"), a = e("../Const/RummyConstConfig"), s = e("../Const/RummyConstEventName"), c = e("../Manager/RummyAssetCacheManager"), l = e("../Manager/RummyAudioMgr"), u = e("../Model/RummyGlobal"), d = e("../Skin/RummyRes"), f = e("./RummyPokerView"), h = e("../Component/RummyHandPokerGroupView"), p = e("../Model/RummyHandPokerModel"), g = e("../Service/RummySocketSend"), m = e("../Model/RummyModel"), y = e("../Manager/RummyLogicMgr"), b = cc._decorator, _ = b.ccclass, v = (b.property, 
function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.m_thisHandPokerViews = [];
t.m_thisHandPokerGroupViews = [];
t.m_handCard = null;
t.m_handPokerList = null;
t.discardPoker = null;
t.m_lastTargetIndex = 0;
return t;
}
t.prototype.getIsRight = function(e) {
var t = e.x;
t < 0 && (t = 0);
return t % a.default.HandPokerSpace >= a.default.HandPokerSpace / 2;
};
t.prototype.getTargetIndex = function(e) {
this.RefreshHandPokerList();
var t = e.x, i = 0;
t < 0 ? t = 0 : i = Math.floor(t / a.default.HandPokerSpace) + 1;
i > this.m_handPokerList.length && (i = this.m_handPokerList.length);
return i;
};
t.prototype.ON_MOVING_POKER_EVENT_NAME = function(e) {
var t = e.detail, i = e.currentTarget;
if (!(t.y > i.node.height)) {
var o = this.getTargetIndex(t);
this.m_lastTargetIndex = o;
var n = this.getIsRight(t);
this.setHandPokerPosition(o);
var r = this.rearrangeHandPoker(o, n, i);
this.setHandPokerGroupValue(r);
}
};
t.prototype.ON_MOVE_END_POKER_EVENT_NAME = function(e) {
var t = e.detail, i = e.currentTarget;
if (t.y >= 200 && u.default.isDiscarding) {
this.setDiscardPoker(i);
if (t.x > 600) {
u.default.discardPorkValue = i.getCardValue();
g.default.declareReq(i.getCardGroupValue(), i.getCardGroupIndexValue());
} else g.default.discardReq(i.getCardValue(), i.getCardGroupValue(), i.getCardGroupIndexValue());
this.setCanTouch(!1);
} else {
var o = this.m_lastTargetIndex, n = this.getIsRight(t);
cc.warn(" END targetIndex :" + o + "  isRight :  " + n);
var r = this.rearrangeHandPoker(o, n, i);
this.setCanTouch(!1);
cc.log("移动手牌 CardGroupS = ", r.CardGroupS);
for (var a = r.CardGroupS.concat(), s = a.length, c = {
CardS: [],
Pattern: "SP"
}, l = 0; l < s; l++) if (1 == a[l].CardS.length) for (var d = 0; d < r.CardGroupS.length; d++) if (r.CardGroupS[d] == a[l]) {
r.CardGroupS.splice(d, 1);
c.CardS.push(a[l].CardS[0]);
break;
}
c.CardS.length > 0 && r.CardGroupS.push(c);
g.default.groupReq(r);
}
};
t.prototype.rearrangeHandPoker = function(e, t, i) {
for (var o = this.m_handCard, n = [], r = 0; r < this.m_handPokerList.length; r++) {
var a = this.m_handPokerList[r];
i.getCardIndex() < e && (a.CardValue == i.getCardValue() && a.CardGroup == i.getCardGroupValue() && a.CardGroupIndex == i.getCardGroupIndexValue() || n.push(a));
if (r == e) {
var s = 0, c = 0;
if (t) {
var l = 0;
l = i.getCardIndex() > e ? r + 1 : r;
var u = this.m_handPokerList[l];
null == u && (u = this.m_handPokerList[r]);
s = u.CardGroup;
c = u.CardGroupIndex + 1;
} else {
l = 0;
l = i.getCardIndex() > e ? r - 1 : r;
var d = this.m_handPokerList[l];
null == d && (d = this.m_handPokerList[r]);
s = d.CardGroup;
c = d.CardGroupIndex - 1;
}
n.push(new p.default(i.getCardValue(), r, s, c, i.getIsDouble()));
}
i.getCardIndex() >= e && (a.CardValue == i.getCardValue() && a.CardGroup == i.getCardGroupValue() && a.CardGroupIndex == i.getCardGroupIndexValue() || n.push(a));
}
if (e >= this.m_handPokerList.length) {
a = this.m_handPokerList[this.m_handPokerList.length - 1];
n.push(new p.default(i.getCardValue(), this.m_handPokerList.length - 1, a.CardGroup, a.CardGroupIndex, i.getIsDouble()));
}
var f = {
CardGroupS: [],
Score: o.Score,
CardCnt: o.CardCnt,
DeclareType: o.DeclareType
};
for (r = 0; r < o.CardGroupS.length; r++) {
for (var h = {
CardS: [],
Pattern: o.CardGroupS[r].Pattern
}, g = 0; g < n.length; g++) {
(a = n[g]).CardGroup == r && h.CardS.push(a.CardValue);
}
h.CardS.length > 0 && f.CardGroupS.push(h);
}
return f;
};
t.prototype.RefreshHandPokerList = function() {
this.m_handPokerList = [];
for (var e = 0, t = 0; t < this.m_handCard.CardGroupS.length; t++, e++) for (var i = this.m_handCard.CardGroupS[t], o = 0; o < i.CardS.length; o++) {
var n = i.CardS[o], r = this.getRank(n);
this.m_handPokerList.push(new p.default(n, e, t, o, r === this.m_wildRank));
}
};
t.prototype.reset = function() {
this.node.stopAllActions();
for (var e = 0; e < this.m_thisHandPokerViews.length; e++) {
this.m_thisHandPokerViews[e].node.stopAllActions();
this.m_thisHandPokerViews[e].hide();
this.m_thisHandPokerViews[e].node.eulerAngles = cc.v3(0, 0, 0);
this.m_thisHandPokerViews[e].node.scale = 1;
this.m_thisHandPokerViews[e].hideBackGround();
this.m_thisHandPokerViews[e].getBackGround().scaleX = 1;
}
for (var t = 0; t < this.m_thisHandPokerGroupViews.length; t++) this.m_thisHandPokerGroupViews[t].hide();
};
t.prototype.setCanTouch = function(e) {
for (var t = 0; t < this.m_thisHandPokerViews.length; t++) this.m_thisHandPokerViews[t].setCanTouch(e);
};
t.prototype.setPokerSingleMethod = function(e) {
for (var t = e.CardGroupS.concat(), i = t.length, o = {
CardS: [],
Pattern: "SP"
}, n = 0; n < i; n++) if (1 == t[n].CardS.length) for (var r = 0; r < e.CardGroupS.length; r++) if (e.CardGroupS[r] == t[n]) {
e.CardGroupS.splice(r, 1);
o.CardS.push(t[n].CardS[0]);
break;
}
o.CardS.length > 0 && e.CardGroupS.push(o);
g.default.groupReq(e);
};
t.prototype.setSinglePokerGroupMethod = function(e) {
var t = e.CardGroupS.length;
if (t >= 2 && 1 == e.CardGroupS[t - 1].CardS.length && "SP" == e.CardGroupS[t - 2].Pattern) {
e.CardGroupS[t - 2].CardS.push(e.CardGroupS[t - 1].CardS[0]);
e.CardGroupS.splice(t - 1, 1);
g.default.groupReq(e);
}
};
t.prototype.setPokerValue = function(e, t, i) {
void 0 === i && (i = !0);
this.checkPokersCount(e);
this.m_handCard = e;
this.m_wildRank = t;
for (var o = 0, n = 0; n < e.CardGroupS.length; n++) for (var a = e.CardGroupS[n], c = 0; c < a.CardS.length; c++) {
var l = a.CardS[c], u = this.m_thisHandPokerViews[o], d = this.getRank(l);
u.init(l, d === t, !0, o + 1);
u.bindData(new p.default(l, o, n, c, d === t));
u.setCanTouch(i);
u.hideClassType();
u.show();
o++;
}
for (var f = o; f < this.m_thisHandPokerViews.length; f++) this.m_thisHandPokerViews[f].reset();
this.setHandPokerGroupValue(e);
this.setHandPokerPosition(-1);
r.default.Instance.emit(s.default.POKER_STATE_CHANGE);
};
t.prototype.setPokerValueBySettle = function(e, t) {
this.checkPokersCount(e);
this.m_wildRank = t;
for (var i = 0, o = 0; o < e.CardGroupS.length; o++) for (var n = e.CardGroupS[o], r = 0; r < n.CardS.length; r++) {
var s = n.CardS[r], c = this.m_thisHandPokerViews[i], l = this.getRank(s);
c.init(s, l === t, !0, i + 1);
c.bindData(new p.default(s, i, o, r, l === t));
c.setCanTouch(!1);
c.hideClassType();
c.show();
i++;
c.setPositionX((2.15 * o + i) * a.default.HandPokerSpace);
}
};
t.prototype.setHandPokerGroupValue = function(e) {
for (var t = 0; t < this.m_thisHandPokerGroupViews.length; t++) t >= e.CardGroupS.length && this.m_thisHandPokerGroupViews[t].hide();
var i = 0, o = 0;
for (t = 0; t < e.CardGroupS.length; t++) {
e.CardGroupS[t].Pattern == m.default.PATTERN.CSZ && i++;
e.CardGroupS[t].Pattern == m.default.PATTERN.SZ && o++;
}
t = 0;
for (var n = 0; t < e.CardGroupS.length; t++) {
var r = e.CardGroupS[t], a = this.m_thisHandPokerGroupViews[t], s = t == e.CardGroupS.length - 1;
a.setStartIndexAndGroupSize(n, r.CardS.length, s);
var c = this.calculateCardGroupScore(r.CardS);
a.setGroupClassType(i, o, c, r.CardS.length, r.Pattern);
a.show();
n += r.CardS.length;
}
};
t.prototype.calculateCardGroupScore = function(e) {
for (var t = 0, i = 0; i < e.length; i++) {
var o = e[i], n = y.default.getInstance().getTableCard().WildRank, r = this.getRank(o);
if (n === r || 13 == r || 14 == r) 0; else {
var a = o % 13;
t += 0 == a || o / 13 >= 4 || a >= 10 ? 10 : a + 1;
}
}
return t;
};
t.prototype.setHandPokerPosition = function(e) {
void 0 === e && (e = -1);
e < 0 && (e = this.m_thisHandPokerViews.length + 1);
for (var t = 0, i = [], o = 0; o < this.m_thisHandPokerViews.length; o++) {
0 == (n = this.m_thisHandPokerViews[o]).getIsMoving() && i.push(n);
}
for (o = 0; o < i.length; o++) {
var n = i[o];
(t = o) >= e && (t += 1);
n.setPositionX(t * a.default.HandPokerSpace);
}
};
t.prototype.setGroupHandCard = function() {
var e = this.getSelectedPokers();
if (!(e.length < 1)) {
for (var t = this.m_handCard, i = {
CardGroupS: [],
Score: t.Score,
CardCnt: t.CardCnt,
DeclareType: t.DeclareType
}, o = 0; o < t.CardGroupS.length; o++) {
for (var n = {
CardS: [],
Pattern: "SP"
}, r = 0; r < t.CardGroupS[o].CardS.length; r++) this.checkInPokers(e, t.CardGroupS[o].CardS[r], o, r) || n.CardS.push(t.CardGroupS[o].CardS[r]);
n.CardS.length > 0 && i.CardGroupS.push(n);
}
for (var a = {
CardS: [],
Pattern: "SP"
}, s = 0; s < e.length; s++) a.CardS.push(e[s].getCardValue());
a.CardS.length > 0 && i.CardGroupS.unshift(a);
var c = i.CardGroupS.concat(), l = c.length, u = {
CardS: [],
Pattern: "SP"
};
for (o = 0; o < l; o++) if (1 == c[o].CardS.length) for (r = 0; r < i.CardGroupS.length; r++) if (i.CardGroupS[r] == c[o]) {
i.CardGroupS.splice(r, 1);
u.CardS.push(c[o].CardS[0]);
break;
}
u.CardS.length > 0 && i.CardGroupS.push(u);
cc.log("旧手牌 CardGroupS = ", t.CardGroupS);
cc.log("新手牌 CardGroupS = ", i.CardGroupS);
this.checkPokersCount(t) != this.checkPokersCount(i) && console.error("-------------------------------- 理牌计算错误 --------------------------------");
g.default.groupReq(i);
}
};
t.prototype.getSelectedPokers = function() {
for (var e = [], t = 0; t < this.m_thisHandPokerViews.length; t++) this.m_thisHandPokerViews[t].isSelected() && e.push(this.m_thisHandPokerViews[t]);
return e;
};
t.prototype.checkInPokers = function(e, t, i, o) {
for (var n = 0; n < e.length; n++) if (e[n].getCardValue() == t && e[n].getCardGroupValue() == i && e[n].getCardGroupIndexValue() == o) return !0;
return !1;
};
t.prototype.checkPokersCount = function(e) {
for (var t = 0, i = 0; i < e.CardGroupS.length; i++) for (var o = 0; o < e.CardGroupS[i].CardS.length; o++) t++;
(t < 13 || t > a.default.HandPokerMaxLength) && console.error("------------------------ 手牌出错了 ------------------------", e);
return t;
};
t.prototype.getHandCard = function() {
return this.m_handCard;
};
t.prototype.getRank = function(e) {
if (52 === e) return 13;
if (53 === e) return 14;
var t = e % 13 - 1;
return t < 0 ? 12 : t;
};
t.prototype.runDealCardsAction = function(e, t, i, o) {
var n = this, r = 0, s = 0;
if (e) {
for (var c = 0; c < e.CardGroupS.length; c++) for (var u = e.CardGroupS[c], d = function(e) {
var d = u.CardS[e], h = f.m_thisHandPokerViews[r];
h.init(d, !1, !0, r);
h.bindData(new p.default(d, r, c, e, f.getRank(d) === t));
h.setCanTouch(!1);
h.hideClassType();
h.show();
h.node.stopAllActions();
h.node.scale = .7;
h.node.zIndex = 20 - r;
h.node.setPosition(f.node.convertToNodeSpaceAR(i));
h.node.runAction(cc.sequence(cc.callFunc(function() {
h.node.eulerAngles = cc.v3(0, -180, 0);
h.showBackGround();
h.getBackGround().scaleX = -1;
}), cc.delayTime(.1 * r), cc.spawn(cc.scaleTo(.2, 1), cc.moveTo(.2, cc.v2(r * a.default.HandPokerSpace, 0))), cc.callFunc(function() {
h.node.zIndex = h.getCardIndex();
}), cc.callFunc(function() {
s++;
l.default.playDiscard();
if (13 == s) {
o();
for (var e = function(e) {
var t = n.m_thisHandPokerViews[e];
t.node.stopAllActions();
t.node.runAction(cc.sequence(cc.delayTime(.1 * e), cc.rotate3DTo(.1, cc.v3(0, -90, 0)), cc.callFunc(function() {
t.hideBackGround();
t.getBackGround().scaleX = -1;
}), cc.rotate3DTo(.1, cc.v3(0, 0, 0)), cc.callFunc(function() {})));
}, t = 0; t < r; t++) e(t);
}
})));
r++;
}, f = this, h = 0; h < u.CardS.length; h++) d(h);
for (var g = r; g < this.m_thisHandPokerViews.length; g++) this.m_thisHandPokerViews[g].reset();
} else {
this.node.stopAllActions();
this.node.runAction(cc.sequence(cc.delayTime(.3), cc.callFunc(function() {
o();
})));
}
};
t.prototype.revertHandPokerList = function() {
for (var e = function(e) {
var i = t.m_thisHandPokerViews[e];
i.node.scaleX = -1;
i.node.runAction(cc.sequence(cc.delayTime(.05 * (t.m_thisHandPokerViews.length - 1 - e)), cc.scaleTo(.1, 0, 1), cc.callFunc(function() {
i.hideBackGround();
}), cc.scaleTo(.1, 1, 1)));
}, t = this, i = this.m_thisHandPokerViews.length - 1; i >= 0; i--) e(i);
};
t.prototype.getTouchPokerPosition = function() {
var e = 13 * a.default.HandPokerSpace, t = cc.v2(e, 0);
return this.node.convertToWorldSpaceAR(t);
};
t.prototype.setDiscardPoker = function(e) {
this.discardPoker = e;
};
t.prototype.getDiscardPokerPosition = function() {
var e;
if (this.discardPoker) {
e = this.discardPoker.node.getPosition();
this.discardPoker = null;
} else {
e = cc.v2(13 * a.default.HandPokerSpace, 0);
console.warn("getDiscardPokerPosition this.discardPoker is null");
}
return this.node.convertToWorldSpaceAR(e);
};
t.prototype.onLoad = function() {
a.default.HandPokerSpace = a.default.HandPokerMinSpace;
};
t.prototype.initPlayHandPokers = function() {
for (var e = c.default.get(d.default.prefabPath.RummyPoker_Path, cc.Prefab), t = 0; t < a.default.HandPokerMaxLength; t++) {
var i = cc.instantiate(e);
i.parent = this.node;
i.on(f.default.ON_MOVING_POKER_EVENT_NAME, this.ON_MOVING_POKER_EVENT_NAME.bind(this));
i.on(f.default.ON_MOVE_END_POKER_EVENT_NAME, this.ON_MOVE_END_POKER_EVENT_NAME.bind(this));
var o = i.getComponent(f.default);
o.hide();
this.m_thisHandPokerViews.push(o);
}
var n = c.default.get(d.default.prefabPath.RummyHandPokerGroup_Path, cc.Prefab);
for (t = 0; t < a.default.HandPokerMaxLength; t++) {
var r = cc.instantiate(n);
r.parent = this.node;
var s = r.getComponent(h.default);
s.setZIndex(a.default.HandPokerGroupStartZIndex + t);
s.hide();
this.m_thisHandPokerGroupViews.push(s);
}
};
return t = n([ _ ], t);
}(cc.Component));
i.default = v;
cc._RF.pop();
}, {
"../../../Script/GameFramework/Manager/EventManager": "EventManager",
"../Component/RummyHandPokerGroupView": "RummyHandPokerGroupView",
"../Const/RummyConstConfig": "RummyConstConfig",
"../Const/RummyConstEventName": "RummyConstEventName",
"../Manager/RummyAssetCacheManager": "RummyAssetCacheManager",
"../Manager/RummyAudioMgr": "RummyAudioMgr",
"../Manager/RummyLogicMgr": "RummyLogicMgr",
"../Model/RummyGlobal": "RummyGlobal",
"../Model/RummyHandPokerModel": "RummyHandPokerModel",
"../Model/RummyModel": "RummyModel",
"../Service/RummySocketSend": "RummySocketSend",
"../Skin/RummyRes": "RummyRes",
"./RummyPokerView": "RummyPokerView"
} ],
RummyHandPokerModel: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "0ca2eJYo5dNkaFGVu7sUhn3", "RummyHandPokerModel");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = function() {
return function(e, t, i, o, n) {
void 0 === n && (n = !1);
this.isDouble = !1;
this.CardValue = e;
this.CardIndex = t;
this.CardGroup = i;
this.CardGroupIndex = o;
this.isDouble = n;
};
}();
i.default = o;
cc._RF.pop();
}, {} ],
RummyHandPokerWinController: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "1080b9Z2tNNTbPMT/yiUfEs", "RummyHandPokerWinController");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = e("../Component/RummyHandPokerWinView"), n = e("../Manager/RummyAssetCacheManager"), r = e("../Manager/RummyUIManager"), a = e("../Skin/RummyRes"), s = function() {
function e() {}
e.init = function() {
var e = n.default.get(a.default.prefabPath.RummyHandPokerWin_Path, cc.Prefab), t = cc.instantiate(e);
r.default.RummyHandPokerWinNode.addChild(t);
this.m_rummyHandPokerWinView = t.addComponent(o.default);
};
e.hide = function() {
this.m_rummyHandPokerWinView.hide();
};
e.show = function(e) {
void 0 === e && (e = !0);
this.m_rummyHandPokerWinView.show(e);
};
return e;
}();
i.default = s;
cc._RF.pop();
}, {
"../Component/RummyHandPokerWinView": "RummyHandPokerWinView",
"../Manager/RummyAssetCacheManager": "RummyAssetCacheManager",
"../Manager/RummyUIManager": "RummyUIManager",
"../Skin/RummyRes": "RummyRes"
} ],
RummyHandPokerWinView: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "32812mLQ4pProS4RXbaMPAl", "RummyHandPokerWinView");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = e("../../../Script/Utils/Utility"), a = cc._decorator, s = a.ccclass, c = (a.property, 
function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.m_winner = null;
return t;
}
t.prototype.onLoad = function() {
this.m_winner = r.default.findChildByName(this.node, "winner");
this.m_winner_animation = this.m_winner.getComponent(cc.Animation);
this.m_winner_settle_winner = r.default.findChildByName(this.node, "winner/settle_winner");
this.m_winner_settle_winner_ParticleSystem = this.m_winner_settle_winner.getComponent(cc.ParticleSystem);
this.hide();
};
t.prototype.show = function(e) {
void 0 === e && (e = !0);
this.node.active = !0;
this.m_winner_settle_winner.active = !0;
if (e) {
this.m_winner_animation.play();
this.m_winner_settle_winner_ParticleSystem.resetSystem();
}
};
t.prototype.hide = function() {
this.node.active = !1;
this.m_winner_settle_winner.active = !1;
this.m_winner_settle_winner_ParticleSystem.stopSystem();
};
return t = n([ s ], t);
}(cc.Component));
i.default = c;
cc._RF.pop();
}, {
"../../../Script/Utils/Utility": "Utility"
} ],
RummyLanguageConfig: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "dff1ctGnJpL3KWBQSLasK6O", "RummyLanguageConfig");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = function() {
function e() {}
e.GameName = "rummy";
e.GOD_INSUFFICIENT = "GOD_INSUFFICIENT";
e.NETWORK_INVALID = "NETWORK_INVALID";
e.NETWORK_CLOSED = "NETWORK_CLOSED";
e.NEXT_ROUND_WILL_START_SHORTLY = "NEXT_ROUND_WILL_START_SHORTLY";
e.GAME_WILL_START_IN_TIME = "GAME_WILL_START_IN_TIME";
e.GAME_WILL_WAITING_OTHER_PLAYER_JOIN = "GAME_WILL_WAITING_OTHER_PLAYER_JOIN";
e.GAME_WILL_START_SHORTLY = "GAME_WILL_START_SHORTLY";
e.PASSIVE_DECLARE = "PASSIVE_DECLARE";
e.DROP_DIALOG_TIP = "DROP_DIALOG_TIP";
e.DROP_PLAN_TIP = "DROP_PLAN_TIP";
e.FINISH_DIALOG_TIP = "FINISH_DIALOG_TIP";
e.FINISH_DECLARE_TIP = "FINISH_DECLARE_TIP";
e.FINSH_GROUP_TIP = "FINSH_GROUP_TIP";
e.IDLE_TIMEOUT_LOBBY = "IDLE_TIMEOUT_LOBBY";
e.IDLE_TIMEOUT_OK = "IDLE_TIMEOUT_OK";
e.IDLE_TIMEOUT_CONTINUE = "IDLE_TIMEOUT_CONTINUE";
e.GAME_EXIT_TIP_BUTTON_TEXT = "GAME_EXIT_TIP_BUTTON_TEXT";
e.GAME_WAITING_OTHER_PLAYER_DECLARE = "GAME_WAITING_OTHER_PLAYER_DECLARE";
e.PROMPT_DROP_TITLE = "PROMPT_DROP_TITLE";
e.PROMPT_DROP_CONTEXT = "PROMPT_DROP_CONTEXT";
e.TIMEOUT_DROP_CONTEXT = "TIMEOUT_DROP_CONTEXT";
e.PROMPT_SWITCH_TABLE_TITLE = "PROMPT_SWITCH_TABLE_TITLE";
e.PROMPT_SWITCH_TABLE_CONTEXT = "PROMPT_SWITCH_TABLE_CONTEXT";
e.PROMPT_BACK_LOBBY_TITLE = "PROMPT_BACK_LOBBY_TITLE";
e.PROMPT_BACK_LOBBY_CONTEXT = "PROMPT_BACK_LOBBY_CONTEXT";
e.STILL_HERE = "STILL_HERE";
e.YES = "YES";
e.No = "No";
e.DECLARE = "DECLARE";
e.GROUP = "GROUP";
e.SORT = "SORT";
e.SETTLE_WIN = "SETTLE_WIN";
e.SETTLE_LOSE = "SETTLE_LOSE";
e.SETTLE_DROP = "SETTLE_DROP";
e.USER_DECLARED_TIP = "USER_DECLARED_TIP";
e.USER_DECLARED = "USER_DECLARED";
e.IDLE_TIMEOUT = "IDLE_TIMEOUT";
e.PROMPT_LAST_SETTLE_TITLE = "PROMPT_LAST_SETTLE_TITLE";
e.PROMPT_LAST_SETTLE_CONTEXT = "PROMPT_LAST_SETTLE_CONTEXT";
e.BUTTON_CONFIRM = "BUTTON_CONFIRM";
return e;
}();
i.default = o;
cc._RF.pop();
}, {} ],
RummyLogicMgr: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "916eds3XHpFHK6k9kKWzvur", "RummyLogicMgr");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = function() {
function e() {
this.handCard = null;
this.tableCard = null;
}
e.getInstance = function() {
null == this._instance && (this._instance = new e());
return this._instance;
};
e.prototype.reset = function() {
this.handCard = null;
this.tableCard = null;
};
e.prototype.setHnadCard = function(e) {
this.handCard = e;
};
e.prototype.getHandCard = function() {
return this.handCard;
};
e.prototype.setTableCard = function(e) {
this.tableCard = e;
};
e.prototype.getTableCard = function() {
return this.tableCard;
};
e.prototype.getCardRank = function(e) {
if (52 === e) return 13;
if (53 === e) return 14;
var t = e % 13 - 1;
return t < 0 ? 12 : t;
};
e.prototype.isWildCard = function(e) {
return this.getCardRank(e) == this.getCardRank(this.tableCard.WildCard);
};
e.prototype.getDisorderHandCard = function(e) {
for (var t = e, i = {
CardGroupS: [],
Score: t.Score,
CardCnt: t.CardCnt,
DeclareType: t.DeclareType
}, o = {
CardS: [],
Pattern: "SP"
}, n = 0; n < t.CardGroupS.length; n++) for (var r = 0; r < t.CardGroupS[n].CardS.length; r++) o.CardS.push(t.CardGroupS[n].CardS[r]);
for (var a = o.CardS, s = a.length, c = a.length - 1, l = 0, u = 0; s > 0; ) {
u = a[l = Math.floor(Math.random() * s)];
a[l] = a[c];
a[c] = u;
s--;
}
i.CardGroupS.push(o);
return i;
};
e._instance = null;
return e;
}();
i.default = o;
cc._RF.pop();
}, {} ],
RummyModel: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "5a6feKLcWpNCaZKHM+H1DCC", "RummyModel");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = function() {
function e() {}
e.PATTERN = {
SP: "SP",
CSZ: "CSZ",
SZ: "SZ",
T3: "T3",
T4: "T4"
};
e.GAME_STAGE = cc.Enum({
WAIT: 0,
PREPARE: 1,
SHUFFLE: 2,
PLAY: 3,
DECLARE: 4,
SETTLE: 5,
EMPTYSHUFFLE: 6,
FINISH: 7
});
e.USER_STATUS = {
Null: -1,
Prepare: 0,
Playing: 1,
Win: 2,
Lost: 3,
Drop: 4
};
return e;
}();
i.default = o;
cc._RF.pop();
}, {} ],
RummyPlayerListController: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "83118NZlN9JAbkrVfAb5OLX", "RummyPlayerListController");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = e("../Component/RummyPlayerListView"), n = e("../Manager/RummyAssetCacheManager"), r = e("../Manager/RummyUIManager"), a = e("../Skin/RummyRes"), s = function() {
function e() {}
e.init = function() {
var e = n.default.get(a.default.prefabPath.RummyPlayerUI_Path, cc.Prefab), t = cc.instantiate(e);
t.parent = r.default.RummyPlayerUINode;
this.playerList = t.getComponent(o.default);
this.playerList.init();
};
e.reset = function() {
this.playerList.reset();
};
e.clearPlayer = function() {
this.playerList.clearPlayer();
};
e.UserIn = function(e) {
this.playerList.UserIn(e);
};
e.setAllStatus = function(e) {
this.playerList.setAllPlayerState(e);
};
e.setStatus = function(e, t) {
this.playerList.getPlayer(e).setStatus(t);
};
e.setBanker = function(e) {
this.playerList.setBanker(e);
};
e.getOtherPlayerPositions = function() {
return this.playerList.getOtherPlayerPositions();
};
e.startTimer = function(e, t) {
this.playerList.startTimer(e, t);
};
e.playUserInAnimation = function(e) {
this.playerList.UserInAnimation(e);
};
e.UserOut = function(e) {
this.playerList.UserOut(e);
};
e.stopTimer = function(e) {
this.playerList.stopTimer(e);
};
e.stopAllTimer = function() {
this.playerList.stopAllTimer();
};
e.getPlayer = function(e) {
return this.playerList.getPlayer(e);
};
e.getNickName = function(e) {
return this.getPlayer(e).getNickName();
};
e.playDeclareAnimation = function(e, t, i, o) {
this.playerList.playDeclareAnimation(e, t, i, o);
};
e.playScoreChangeAnimation = function(e, t) {
this.playerList.playScoreChangeAnimation(e, t);
};
e.playSettleAnimation = function(e, t) {
this.playerList.playSettleAnimation(e, t);
};
e.playLoserCoinAnimation = function(e, t, i) {
this.playerList.playLoserCoinAnimation(e, t, i);
};
e.playWinnerCoinAnimation = function(e, t, i) {
this.playerList.playWinnerCoinAnimation(e, t, i);
};
e.playDropCoinAnimation = function(e, t, i) {
this.playerList.playDropCoinAnimation(e, t, i);
};
return e;
}();
i.default = s;
cc._RF.pop();
}, {
"../Component/RummyPlayerListView": "RummyPlayerListView",
"../Manager/RummyAssetCacheManager": "RummyAssetCacheManager",
"../Manager/RummyUIManager": "RummyUIManager",
"../Skin/RummyRes": "RummyRes"
} ],
RummyPlayerListView: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "2a449rrzGhG44seIvUD1+0Y", "RummyPlayerListView");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = e("../Skin/RummyRes"), a = e("../Component/RummyPlayerView"), s = e("../Model/RummyGlobal"), c = e("../Manager/RummyAssetCacheManager"), l = e("./../../../Script/Utils/Utility"), u = e("../Manager/RummyUIManager"), d = cc._decorator, f = d.ccclass, h = (d.property, 
function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.playerViews = null;
return t;
}
t.prototype.init = function() {
this.playerViews = new Array(6);
for (var e = c.default.get(r.default.prefabPath.RummyPlayer_Path, cc.Prefab), t = 0; t < this.playerViews.length; t++) {
var i = cc.instantiate(e);
i.parent = this.node.getChildByName("player_" + t);
this.playerViews[t] = i.addComponent(a.default);
this.playerViews[t].init(t);
}
};
t.prototype.clearPlayer = function() {
for (var e = 0; e < this.playerViews.length; e++) {
var t = this.playerViews[e];
null != t && (t.getIsThis() || t.userHide());
}
};
t.prototype.reset = function() {
for (var e = 0; e < this.playerViews.length; e++) {
var t = this.playerViews[e];
null != t && t.reset();
}
};
t.prototype.UserOut = function(e) {
var t = this.getPlayer(e);
null != t && t.playOutAnimation();
};
t.prototype.UserIn = function(e) {
var t = this.getPlayer(e.Chair);
null != t && t.setPlayerUserInfo(e);
};
t.prototype.UserInAnimation = function(e) {
var t = this.getPlayer(e);
null != t && t.playInAnimation();
};
t.prototype.UserOutAnimation = function(e) {
var t = this.getPlayer(e);
null != t && t.playOutAnimation();
};
t.prototype.playSettleAnimation = function(e, t) {
var i = this.getPlayer(e);
null != i && i.playSettleAnimation(t);
};
t.prototype.playDeclareAnimation = function(e, t, i, o) {
var n = this.getPlayer(e);
if (null != n) if (t) {
n.showWin();
cc.tween(n).delay(.5).call(function() {
n.setWinScoreValue(i);
}.bind(this)).start();
} else {
n.showLose(o);
cc.tween(n).delay(.5).call(function() {
n.setLoseScoreValue(i);
}.bind(this)).start();
}
};
t.prototype.playWinnerCoinAnimation = function(e, t, i) {
var o = this.getPlayer(e);
null != o && o.playWinnerCoinAnimation(t, i);
};
t.prototype.playLoserCoinAnimation = function(e, t, i) {
var o = this.getPlayer(e);
if (null != o) {
var n = c.default.get(r.default.prefabPath.RummyCoin_Path, cc.Prefab);
l.default.PayCoinsAnimation(t, o.node, n, u.default.RummyCoinsNode, i);
}
};
t.prototype.playDropCoinAnimation = function(e, t, i) {
var o = this.getPlayer(e);
null != o && o.playDropCoinAnimation(t, i);
};
t.prototype.setBanker = function(e) {
var t = this.getPlayer(e);
t && t.setBankerActive(!0);
};
t.prototype.playScoreChangeAnimation = function(e, t) {
var i = this.getPlayer(e);
i && i.playScoreChangeAnimation(t);
};
t.prototype.transSeat = function(e) {
return (e - s.default.myChair + 6) % 6;
};
t.prototype.startTimer = function(e, t) {
var i = this.getPlayer(e);
null != i && i.startTimer(t);
};
t.prototype.stopTimer = function(e) {
var t = this.getPlayer(e);
null != t && t.stopTimer();
};
t.prototype.setAllPlayerState = function(e) {
for (var t = 0; t < this.playerViews.length; t++) this.playerViews[t].setStatus(e);
};
t.prototype.getPlayer = function(e) {
var t = this.transSeat(e);
return null != this.playerViews && null != this.playerViews[t] ? this.playerViews[t] : null;
};
t.prototype.getOtherPlayerPositions = function() {
for (var e = [], t = 1; t < this.playerViews.length; t++) if (1 == this.playerViews[t].node.active) {
var i = this.playerViews[t].node.parent.position;
e.push(this.node.convertToWorldSpaceAR(i));
}
return e;
};
t.prototype.stopAllTimer = function() {
for (var e = 0; e < this.playerViews.length; e++) this.playerViews[e].stopTimer();
};
return t = n([ f ], t);
}(cc.Component));
i.default = h;
cc._RF.pop();
}, {
"../Component/RummyPlayerView": "RummyPlayerView",
"../Manager/RummyAssetCacheManager": "RummyAssetCacheManager",
"../Manager/RummyUIManager": "RummyUIManager",
"../Model/RummyGlobal": "RummyGlobal",
"../Skin/RummyRes": "RummyRes",
"./../../../Script/Utils/Utility": "Utility"
} ],
RummyPlayerView: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "6692aMIKNRCBaHLOujnp7Qj", "RummyPlayerView");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = e("../../../Script/BaseFormat"), a = e("../../../Script/Localization"), s = e("../../../Script/Utils/Utility"), c = e("../Const/RummyLanguageConfig"), l = e("../Manager/RummyAssetCacheManager"), u = e("../Manager/RummyAudioMgr"), d = e("../../../Script/UserManager"), f = e("../Const/RummyConstConfig"), h = e("CommonFunction"), p = e("../Manager/RummyUIManager"), g = e("../Model/RummyModel"), m = e("../Skin/RummyRes"), y = e("../Controller/RummyTablePokerController"), b = (e("../Model/RummyGlobal"), 
cc._decorator), _ = b.ccclass, v = (b.property, function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.TimerSprite = null;
t.HeadSprite = null;
t.m_thisAnimation = null;
t.NickNameLabel = null;
t.ScoreLabel = null;
t.m_RummyCoin = null;
t.seatID = 0;
t.status = g.default.USER_STATUS.Null;
t.m_lastClockTime = 0;
return t;
}
t.prototype.onLoad = function() {
this.m_timer_Node = s.default.findChildByName(this.node, "m_timer");
this.m_playerBg_Node = s.default.findChildByName(this.node, "m_playerBg");
this.m_headFrame_Node = s.default.findChildByName(this.node, "m_headFrame");
this.m_headFrame_mask_Node = s.default.findChildByName(this.node, "m_headFrame/mask");
this.m_headFrame_mask_head_Node = s.default.findChildByName(this.node, "m_headFrame/mask/head");
this.m_headFrame_wait_mask_Node = s.default.findChildByName(this.node, "m_headFrame/mask_bottom/wait_mask");
this.m_nickName_Node = s.default.findChildByName(this.node, "m_nickName");
this.m_scoreNode_Node = s.default.findChildByName(this.node, "m_scoreNode");
this.declare_lose_score_Node = s.default.findChildByName(this.node, "declare_lose_score");
this.declare_win_score_Node = s.default.findChildByName(this.node, "declare_win_score");
this.banker_Node = s.default.findChildByName(this.node, "banker");
this.labChips_Node = s.default.findChildByName(this.node, "labChips");
this.labChips_add_Node = s.default.findChildByName(this.node, "labChips/add");
this.labChips_sub_Node = s.default.findChildByName(this.node, "labChips/sub");
this.lose_Node = s.default.findChildByName(this.node, "lose");
this.lose_bg_Node = s.default.findChildByName(this.node, "lose/bg");
this.lose_text_Node = s.default.findChildByName(this.node, "lose/text");
this.win_Node = s.default.findChildByName(this.node, "win");
this.win_bg_Node = s.default.findChildByName(this.node, "win/bg");
this.win_text_Node = s.default.findChildByName(this.node, "win/text");
this.initView();
this.hideDeclare();
};
t.prototype.hide = function() {
this.node.active = !1;
};
t.prototype.show = function() {
this.node.active = !0;
};
t.prototype.initView = function() {
this.TimerSprite = this.m_timer_Node.getComponent(cc.Sprite);
this.HeadSprite = this.m_headFrame_mask_head_Node.getComponent(cc.Sprite);
this.NickNameLabel = this.m_nickName_Node.getComponent(cc.Label);
this.ScoreLabel = this.m_scoreNode_Node.getComponent(cc.Label);
this.m_thisAnimation = this.node.getComponent(cc.Animation);
h.setComponentSprite(this.win_bg_Node, m.default.resources.player_settle_win_bg);
h.setComponentSprite(this.lose_bg_Node, m.default.resources.player_settle_lose_bg);
h.setComponentSprite(this.banker_Node, m.default.resources.player_icon_banker);
h.setComponentSprite(this.m_headFrame_wait_mask_Node, m.default.resources.player_head_mask);
h.setComponentMask(this.m_headFrame_mask_Node, m.default.resources.player_head_mask);
h.setComponentSprite(this.m_playerBg_Node, m.default.resources.player_bg);
h.setComponentSprite(this.m_timer_Node, m.default.resources.player_timer);
this.m_RummyCoin = l.default.get(m.default.prefabPath.RummyCoin_Path, cc.Prefab);
};
t.prototype.init = function(e) {
1 == e && (this.banker_Node.x = -1 * this.banker_Node.x);
this.seatID = e;
this.userHide();
this.reset();
};
t.prototype.userHide = function() {
this.userInfo = null;
this.node.active = !1;
};
t.prototype.reset = function() {
this.userStateUI(!0);
this.hideDeclare();
this.setBankerActive(!1);
this.stopTimer();
this.labChips_add_Node.active = !1;
this.labChips_sub_Node.active = !1;
this.node.stopAllActions();
for (var e = this.node.children, t = 0; t < e.length; t++) e[t].stopAllActions();
this.node.position = cc.v2(0, 0);
this.node.opacity = 255;
};
t.prototype.hideDeclare = function() {
this.win_Node.active = !1;
this.lose_Node.active = !1;
this.declare_win_score_Node.active = !1;
this.declare_lose_score_Node.active = !1;
};
t.prototype.showWin = function() {
this.win_Node.active = !0;
this.lose_Node.active = !1;
this.win_text_Node.getComponent(cc.Label).string = a.default.get(c.default.GameName, c.default.SETTLE_WIN);
};
t.prototype.showLose = function(e) {
this.win_Node.active = !1;
this.lose_Node.active = !0;
this.lose_text_Node.getComponent(cc.Label).string = a.default.get(c.default.GameName, c.default.SETTLE_LOSE) + " " + e.toString();
};
t.prototype.showDrop = function() {
this.win_Node.active = !1;
this.lose_Node.active = !0;
this.lose_text_Node.getComponent(cc.Label).string = a.default.get(c.default.GameName, c.default.SETTLE_DROP);
};
t.prototype.setWinScoreValue = function(e) {};
t.prototype.setLoseScoreValue = function(e) {};
t.prototype.getIsThis = function() {
return this.m_isThis;
};
t.prototype.update = function(e) {
if (this.isCounting) {
0 == this.curDuration && h.setComponentSprite(this.m_timer_Node, m.default.resources.player_timer);
this.curDuration += e;
parseInt(this.curDuration.toFixed()) == parseInt((this.allDuration / 3).toFixed()) ? h.setComponentSprite(this.m_timer_Node, m.default.resources.player_timer_yellow) : parseInt(this.curDuration.toFixed()) == parseInt((2 * this.allDuration / 3).toFixed()) && h.setComponentSprite(this.m_timer_Node, m.default.resources.player_timer_red);
this.TimerSprite.fillRange = -this.curDuration / this.allDuration;
if (this.m_isThis && parseInt(this.curDuration.toFixed()) >= parseInt((2 * this.allDuration / 3).toFixed()) && Math.ceil(this.curDuration) != this.m_lastClockTime) {
this.m_lastClockTime = Math.ceil(this.curDuration);
u.default.playClock5Remind();
}
if (parseInt(this.curDuration.toFixed()) > parseInt(this.allDuration.toFixed())) {
this.isCounting = !1;
this.m_timer_Node.active = !1;
this.m_thisAnimation.stop();
}
}
};
t.prototype.setPlayerUserInfo = function(e) {
this.reset();
this.m_lastClockTime = 99;
if (0 == this.seatID) {
this.m_isThis = !0;
null != d.default.coin && null != this.ScoreLabel && (this.ScoreLabel.string = "₹ " + r.default.formatAmount(d.default.coin));
null != d.default.nick && null != this.NickNameLabel && (this.NickNameLabel.string = d.default.nick);
} else this.m_isThis = !1;
if (e) {
0 == this.node.active && (this.node.active = !0);
this.userInfo = e;
this.userInfo.Credit = this.userInfo.Credit / 1e3;
null != this.NickNameLabel && (this.NickNameLabel.string = r.default.isValidString(this.userInfo.UserName) && this.userInfo.UserName.length > 0 ? this.userInfo.UserName : "未知");
null != this.ScoreLabel && (this.ScoreLabel.string = "₹ " + r.default.formatAmount(this.userInfo.Credit));
this.HeadSprite.spriteFrame = h.getAvatarFromAtlas(this.userInfo.Avatar, this.userInfo.Gender ? 1 : 0);
} else console.error("RummyPlayerView setPlayerUserInfo userInfo is null, this.seatID == ", this.seatID);
};
t.prototype.getNickName = function() {
return this.userInfo.UserName;
};
t.prototype.playInAnimation = function() {
this.node.x = 0;
this.node.y = 0;
this.node.active = !0;
this.node.stopAllActions();
if (y.default.getChangedTableFlag()) this.node.opacity = 255; else {
this.node.opacity = 0;
var e = f.default.HeadOffset;
switch (this.seatID) {
case 0:
this.node.y -= 2 * e;
break;

case 1:
this.node.x += e;
break;

case 2:
case 3:
case 4:
this.node.y += 2 * e;
break;

case 5:
this.node.x -= e;
}
cc.tween(this.node).parallel(cc.tween().to(.6, {
position: cc.v2(0, 0)
}, {
easing: "quadOut"
}), cc.tween().to(.6, {
opacity: 255
}, {
easing: "quadOut"
})).start();
}
};
t.prototype.playOutAnimation = function() {
var e = this;
this.node.stopAllActions();
var t = 0, i = 0, o = f.default.HeadOffset;
switch (this.seatID) {
case 0:
i -= 2 * o;
break;

case 1:
t += o;
break;

case 2:
case 3:
case 4:
i += 2 * o;
break;

case 5:
t -= o;
}
cc.tween(this.node).parallel(cc.tween().to(.6, {
position: cc.v2(t, i)
}, {
easing: "quadOut"
}), cc.tween().to(.6, {
opacity: 0
}, {
easing: "quadOut"
})).call(function() {
e.node.active = !1;
e.node.x = 0;
e.node.y = 0;
}).start();
};
t.prototype.playSettleAnimation = function(e) {
var t = null, i = "";
if (e >= 0) {
t = this.labChips_add_Node;
i = "+";
} else t = this.labChips_sub_Node;
t.active = !0;
t.opacity = 255;
t.position = cc.v2(0, 0);
t.getComponent(cc.Label).string = i + e.toString();
t.stopAllActions();
t.runAction(cc.sequence(cc.moveTo(.5, cc.v2(0, 100)).easing(cc.easeIn(3)), cc.moveTo(.5, cc.v2(0, 60)).easing(cc.easeOut(3)), cc.delayTime(1), cc.fadeOut(1), cc.callFunc(function() {
t.active = !1;
})));
};
t.prototype.playWinnerCoinAnimation = function(e, t) {
Math.floor(Math.log(e));
var i = this.node.convertToWorldSpaceAR(this.node.getPosition());
i = cc.find("Canvas").convertToNodeSpaceAR(i);
for (var o = function(e) {
var o = p.default.RummyCoinsNode.children[e];
o.runAction(cc.sequence(cc.delayTime(.2 * Math.random()), cc.spawn(cc.sequence(cc.moveBy(.2, 0, 100).easing(cc.easeIn(.5)), cc.moveBy(.3, 0, -100).easing(cc.easeOut(.5))), cc.moveTo(.5, i), cc.scaleTo(.5, .4).easing(cc.easeSineInOut())), cc.callFunc(function() {
o.destroy();
e == p.default.RummyCoinsNode.childrenCount - 1 && t && t();
})));
}, n = 0; n < p.default.RummyCoinsNode.childrenCount; n++) o(n);
};
t.prototype.playLoserCoinAnimation = function(e, t) {
for (var i = Math.floor(Math.log(-e)), o = 0; o < i; o++) {
var n = cc.instantiate(this.m_RummyCoin);
n.parent = p.default.RummyCoinsNode;
var r = 150 * (s.default.normalRandom() - .5), a = 100 * (s.default.normalRandom() - .5);
n.scale = .4;
n.angle = 45;
var c = this.node.convertToWorldSpaceAR(this.node.getPosition());
c = cc.find("Canvas").convertToNodeSpaceAR(c);
n.setPosition(c);
n.runAction(cc.sequence(cc.delayTime(.2 * Math.random()), cc.spawn(cc.sequence(cc.moveBy(.3, 0, 100).easing(cc.easeOut(.5)), cc.moveBy(.2, 0, -100).easing(cc.easeIn(.5))), cc.moveTo(.5, cc.v2(r, a)), cc.scaleTo(.5, 1, 1).easing(cc.easeSineInOut())), cc.delayTime(.2), cc.callFunc(function() {
t && t();
})));
}
};
t.prototype.playDropCoinAnimation = function(e, t) {
for (var i = Math.floor(Math.log(Math.abs(e))), o = function(e) {
var o = cc.instantiate(n.m_RummyCoin);
o.parent = p.default.RummyCoinsNode;
var r = 150 * (s.default.normalRandom() - .5), a = 100 * (s.default.normalRandom() - .5);
o.scale = .4;
var c = n.node.convertToWorldSpaceAR(n.node.getPosition());
c = cc.find("Canvas").convertToNodeSpaceAR(c);
var l = cc.find("Canvas/dropScore").getPosition();
o.setPosition(c);
o.runAction(cc.sequence(cc.delayTime(.2 * Math.random()), cc.spawn(cc.sequence(cc.moveBy(.3, 0, 100).easing(cc.easeOut(.5)), cc.moveBy(.2, 0, -100).easing(cc.easeIn(.5))), cc.moveTo(.5, cc.v2(r, a)), cc.scaleTo(.5, 1, 1).easing(cc.easeSineInOut())), cc.delayTime(.2), cc.spawn(cc.sequence(cc.moveBy(.2, 0, 100).easing(cc.easeIn(.5)), cc.moveBy(.3, 0, -100).easing(cc.easeOut(.5))), cc.moveTo(.5, l), cc.scaleTo(.5, .4).easing(cc.easeSineInOut())), cc.callFunc(function() {
o.destroy();
e == i - 1 && t();
})));
}, n = this, r = 0; r < i; r++) o(r);
};
t.prototype.setStatus = function(e) {
this.status = e;
switch (e) {
case g.default.USER_STATUS.Null:
this.userStateUI(!1);
break;

case g.default.USER_STATUS.Prepare:
case g.default.USER_STATUS.Playing:
case g.default.USER_STATUS.Win:
case g.default.USER_STATUS.Lost:
this.userStateUI(!0);
break;

case g.default.USER_STATUS.Drop:
this.userStateUI(!1);
this.showDrop();
}
};
t.prototype.setBankerActive = function(e) {
this.status == g.default.USER_STATUS.Null && (e = !1);
this.banker_Node.active = e;
};
t.prototype.userStateUI = function(e) {
this.m_headFrame_wait_mask_Node.active = !e;
};
t.prototype.playScoreChangeAnimation = function(e) {
null != this.ScoreLabel && (this.ScoreLabel.string = "₹ " + r.default.formatAmount(this.userInfo.Credit + e));
this.userInfo.Credit = this.userInfo.Credit + e;
};
t.prototype.startTimer = function(e) {
cc.log("操作回合倒计时 duration " + e);
if (cc.isValid(this.TimerSprite) && this.status == g.default.USER_STATUS.Playing) {
this.m_timer_Node.active = !0;
this.m_thisAnimation.play();
this.allDuration = e;
this.curDuration = 0;
this.isCounting = !0;
this.m_lastClockTime = 99;
}
};
t.prototype.stopTimer = function() {
this.m_timer_Node.active = !1;
this.m_thisAnimation.stop();
this.TimerSprite.fillRange = 0;
this.curDuration = this.allDuration;
this.isCounting = !1;
this.m_lastClockTime = 99;
};
return t = n([ _ ], t);
}(cc.Component));
i.default = v;
cc._RF.pop();
}, {
"../../../Script/BaseFormat": "BaseFormat",
"../../../Script/Localization": "Localization",
"../../../Script/UserManager": "UserManager",
"../../../Script/Utils/Utility": "Utility",
"../Const/RummyConstConfig": "RummyConstConfig",
"../Const/RummyLanguageConfig": "RummyLanguageConfig",
"../Controller/RummyTablePokerController": "RummyTablePokerController",
"../Manager/RummyAssetCacheManager": "RummyAssetCacheManager",
"../Manager/RummyAudioMgr": "RummyAudioMgr",
"../Manager/RummyUIManager": "RummyUIManager",
"../Model/RummyGlobal": "RummyGlobal",
"../Model/RummyModel": "RummyModel",
"../Skin/RummyRes": "RummyRes",
CommonFunction: "CommonFunction"
} ],
RummyPokerView: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "f2056FjnzxN6Lbi4+LuOWBy", "RummyPokerView");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = e("../../../Script/GameFramework/Manager/EventManager"), a = e("../Const/RummyConstConfig"), s = e("../Const/RummyConstEventName"), c = e("../Skin/RummyRes"), l = cc.Event.EventCustom, u = e("../Manager/RummyAssetCacheManager"), d = cc._decorator, f = d.ccclass, h = d.property, p = cc.Enum({
down: 0,
up: 1,
move: 2
}), g = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.double = null;
t.number = null;
t.background = null;
t.classType = null;
t.classTypeSprite = null;
t.numberSprite = null;
t.m_pokerModel = null;
t.nodeStartPos = null;
t.touchStartPos = null;
t.canTouch = !1;
t.pokerState = p.down;
t.m_isMoving = !1;
return t;
}
i = t;
t.prototype.onTouchStart = function(e) {
this.m_isMoving = !1;
this.canTouch && (this.touchStartPos = e.getLocation());
};
t.prototype.onTouchMove = function(e) {
if (this.canTouch) {
var t = e.getLocation(), o = t.sub(this.touchStartPos);
if (o.mag() > 5) {
this.m_isMoving = !0;
this.node.zIndex = 18;
var n = this.node.getPosition(), a = o.add(n), c = new l(i.ON_MOVING_POKER_EVENT_NAME, !1);
c.currentTarget = this;
c.setUserData(a);
this.node.emit(i.ON_MOVING_POKER_EVENT_NAME, c);
this.node.setPosition(a);
this.touchStartPos = t;
this.pokerState = p.move;
r.default.Instance.emit(s.default.POKER_STATE_CHANGE);
}
}
};
t.prototype.onTouchEnd = function(e) {
this.m_isMoving = !1;
if (this.canTouch) {
var t = this.pokerState;
if (t == p.down) {
cc.tween(this.node).to(.1, {
position: cc.v2(this.node.x, a.default.HandPokerSelectedOffsetY)
}, {
easing: "cubicOut"
}).start();
t = p.up;
} else if (t == p.up) {
cc.tween(this.node).to(.1, {
position: cc.v2(this.node.x, 0)
}, {
easing: "cubicOut"
}).start();
t = p.down;
} else if (t == p.move) {
var o = new l(i.ON_MOVE_END_POKER_EVENT_NAME, !1);
o.currentTarget = this;
o.setUserData(this.node.position);
this.node.emit(i.ON_MOVE_END_POKER_EVENT_NAME, o);
t = p.down;
}
if (this.pokerState != t) {
this.pokerState = t;
r.default.Instance.emit(s.default.POKER_STATE_CHANGE);
}
}
};
t.prototype.onLoad = function() {
this.numberSprite = this.number.getComponent(cc.Sprite);
this.classTypeSprite = this.classType.getComponent(cc.Sprite);
};
t.prototype.init = function(e, t, i, o) {
void 0 === t && (t = !1);
void 0 === i && (i = !1);
void 0 === o && (o = 0);
(e < 0 || e > 53) && console.error("RummyPokerView invalid number = ", e);
0 != o && (this.node.zIndex = o);
var n = c.default.resources.poker_path + e.toString(), r = u.default.get(n, cc.SpriteFrame);
this.numberSprite.spriteFrame = r;
this.double.active = t;
this.pokerState = p.down;
if (i) {
this.node.off(cc.Node.EventType.TOUCH_START);
this.node.off(cc.Node.EventType.TOUCH_MOVE);
this.node.off(cc.Node.EventType.TOUCH_END);
this.node.off(cc.Node.EventType.TOUCH_CANCEL);
this.node.on(cc.Node.EventType.TOUCH_START, this.onTouchStart.bind(this));
this.node.on(cc.Node.EventType.TOUCH_MOVE, this.onTouchMove.bind(this));
this.node.on(cc.Node.EventType.TOUCH_END, this.onTouchEnd.bind(this));
this.node.on(cc.Node.EventType.TOUCH_CANCEL, this.onTouchEnd.bind(this));
}
};
t.prototype.reset = function() {
this.pokerState = p.down;
this.hide();
};
t.prototype.bindData = function(e) {
this.m_pokerModel = e;
};
t.prototype.getIsMoving = function() {
return this.m_isMoving;
};
t.prototype.setIsMoving = function(e) {
this.m_isMoving = e;
};
t.prototype.getCardIndex = function() {
return this.m_pokerModel.CardIndex;
};
t.prototype.getCardValue = function() {
return this.m_pokerModel.CardValue;
};
t.prototype.getIsDouble = function() {
return this.m_pokerModel.isDouble;
};
t.prototype.setCardGroupValue = function(e) {
this.m_pokerModel.CardGroup = e;
};
t.prototype.getCardGroupValue = function() {
return this.m_pokerModel.CardGroup;
};
t.prototype.setCardGroupIndexValue = function(e) {
this.m_pokerModel.CardGroupIndex = e;
};
t.prototype.getCardGroupIndexValue = function() {
return this.m_pokerModel.CardGroupIndex;
};
t.prototype.hide = function() {
this.node.active = !1;
};
t.prototype.show = function() {
this.node.active = !0;
};
t.prototype.setPositionX = function(e) {
this.node.x = e;
this.node.y = 0;
this.pokerState = p.down;
this.nodeStartPos = this.node.getPosition();
};
t.prototype.showClassType = function() {
this.classType.active = !0;
};
t.prototype.hideClassType = function() {
this.classType.active = !1;
};
t.prototype.showBackGround = function() {
this.background.active = !0;
this.background.getComponent(cc.Sprite).enabled = !0;
};
t.prototype.hideBackGround = function() {
this.background.active = !1;
this.background.getComponent(cc.Sprite).enabled = !1;
};
t.prototype.changeBackGround = function() {
this.background.active = !0;
this.background.getComponent(cc.Sprite).enabled = !0;
var e = c.default.resources.root_path + "poker/poker_background", t = u.default.get(e, cc.SpriteFrame);
this.background.getComponent(cc.Sprite).spriteFrame = t;
};
t.prototype.getBackGround = function() {
return this.background;
};
t.prototype.isSelected = function() {
return this.pokerState == p.up;
};
t.prototype.setCanTouch = function(e) {
this.canTouch = e;
};
t.prototype.setColor = function(e) {
this.node.color = e;
};
var i;
t.ON_MOVING_POKER_EVENT_NAME = "ON_MOVING_POKER_EVENT_NAME";
t.ON_MOVE_END_POKER_EVENT_NAME = "ON_MOVE_END_POKER_EVENT_NAME";
n([ h(cc.Node) ], t.prototype, "double", void 0);
n([ h(cc.Node) ], t.prototype, "number", void 0);
n([ h(cc.Node) ], t.prototype, "background", void 0);
n([ h(cc.Node) ], t.prototype, "classType", void 0);
return t = i = n([ f ], t);
}(cc.Component);
i.default = g;
cc._RF.pop();
}, {
"../../../Script/GameFramework/Manager/EventManager": "EventManager",
"../Const/RummyConstConfig": "RummyConstConfig",
"../Const/RummyConstEventName": "RummyConstEventName",
"../Manager/RummyAssetCacheManager": "RummyAssetCacheManager",
"../Skin/RummyRes": "RummyRes"
} ],
RummyProto: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "2699afCdg1B2pS9ed0g7P6m", "RummyProto");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = function() {
function e() {}
e.MSG_ID_S = cc.Enum({
Pong: 99,
ErrorST: 100,
UserST: 101,
RoomST: 102,
UserInEV: 103,
UserOutEV: 104,
PrepareNT: 105,
PrepareCancelNT: 106,
PlayNT: 107,
DeclareNT: 108,
DropEV: 109,
TouchEV: 110,
DiscardEV: 111,
GroupEV: 112,
DeclareEV: 114,
SettleST: 115,
LastSettleEV: 116,
ShuffleEV: 117
});
e.MSG_ID_C = {
Ping: 0,
AuthReq: 1,
UserOutReq: 2,
ChangeTableReq: 3,
DropReq: 4,
TouchReq: 5,
DiscardReq: 6,
GroupReq: 7,
ConfirmDeclareReq: 8,
DeclareReq: 10,
LastSettleReq: 13
};
return e;
}();
i.default = o;
cc._RF.pop();
}, {} ],
RummyReconnect: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "508fa7RzgdAyK6KBmh+0vtT", "RummyReconnect");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = function() {
return function() {};
}();
i.default = o;
cc._RF.pop();
}, {} ],
RummyResultPlayerView: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "9a929Im43tDmo7BwXl0UAw2", "RummyResultPlayerView");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = e("CommonFunction"), a = e("../Manager/RummyAssetCacheManager"), s = e("../Skin/RummyRes"), c = e("./RummyHandPokerListView"), l = e("../Model/RummyGlobal"), u = e("../../../Script/Localization"), d = e("../Const/RummyLanguageConfig"), f = e("../../../Script/Utils/Utility"), h = e("../Model/RummyModel"), p = e("./../../../Script/BaseFormat"), g = e("../../../Script/UserManager"), m = cc._decorator, y = m.ccclass, b = (m.property, 
function(e) {
o(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.onLoad = function() {
this.m_other_bg_Node = f.default.findChildByName(this.node, "m_other_bg");
this.m_other_bg_m_sp1_sprite_Node = f.default.findChildByName(this.node, "m_other_bg/m_sp1_sprite");
this.m_other_bg_m_sp2_sprite_Node = f.default.findChildByName(this.node, "m_other_bg/m_sp2_sprite");
this.m_other_bg_m_sp3_sprite_Node = f.default.findChildByName(this.node, "m_other_bg/m_sp3_sprite");
this.m_other_bg_m_sp4_sprite_Node = f.default.findChildByName(this.node, "m_other_bg/m_sp4_sprite");
this.m_self_bg_Node = f.default.findChildByName(this.node, "m_self_bg");
this.m_headFrame_Node = f.default.findChildByName(this.node, "m_headFrame");
this.m_headFrame_mask_Node = f.default.findChildByName(this.node, "m_headFrame/mask");
this.m_headFrame_mask_head_Node = f.default.findChildByName(this.node, "m_headFrame/mask/head");
this.m_nickname_text_Node = f.default.findChildByName(this.node, "m_nickname_text");
this.m_settle_result_text_Node = f.default.findChildByName(this.node, "m_settle_result_text");
this.m_hand_cards_node_Node = f.default.findChildByName(this.node, "m_hand_cards_node");
this.m_settle_points_text_Node = f.default.findChildByName(this.node, "m_settle_points_text");
this.m_settle_add_text_Node = f.default.findChildByName(this.node, "m_settle_add_text");
this.m_settle_sub_text_Node = f.default.findChildByName(this.node, "m_settle_sub_text");
this.initView();
};
t.prototype.hide = function() {
this.node.active = !1;
};
t.prototype.show = function() {
this.node.active = !0;
};
t.prototype.initView = function() {};
t.prototype.init = function(e, t) {
this.setBg(e.UserID);
this.setHead(e.Avatar);
this.setNick(e.UserName);
this.setResult(e.Status);
this.setHandCards(e.Status, e.HandCard, t);
this.setPoints(e.Status, e.HandCard.Score, e.WinAmount);
this.setChips(e.WinAmount);
};
t.prototype.setBg = function(e) {
var t = e.toString() == g.default.uid;
this.m_other_bg_Node.active = !t;
this.m_self_bg_Node.active = t;
};
t.prototype.setHead = function(e) {
this.m_headFrame_mask_head_Node.getComponent(cc.Sprite).spriteFrame;
var t = 130 / r.getAvatarFromAtlas(e, 1).getRect().width;
this.m_headFrame_mask_head_Node.scale = t;
};
t.prototype.setNick = function(e) {
this.m_nickname_text_Node.getComponent(cc.Label).string = e;
};
t.prototype.setResult = function(e) {
var t = "", i = new cc.Color(255, 255, 255, 255);
switch (e) {
case h.default.USER_STATUS.Win:
t = u.default.get(d.default.GameName, d.default.SETTLE_WIN);
i = cc.color().fromHEX("#FFE600");
this.m_settle_points_text_Node.color = new cc.Color().fromHEX("#FFE600");
break;

case h.default.USER_STATUS.Lost:
t = u.default.get(d.default.GameName, d.default.SETTLE_LOSE);
i = cc.color().fromHEX("#FFFFFF");
this.m_settle_points_text_Node.color = new cc.Color().fromHEX("#FFFFFF");
break;

case h.default.USER_STATUS.Drop:
t = u.default.get(d.default.GameName, d.default.SETTLE_DROP);
i = cc.color().fromHEX("#OOFFFC");
this.m_settle_points_text_Node.color = new cc.Color().fromHEX("#FFFFFF");
}
this.m_settle_result_text_Node.getComponent(cc.Label).string = t;
this.m_settle_result_text_Node.color = i;
};
t.prototype.setHandCards = function(e, t, i) {
if (e != h.default.USER_STATUS.Drop) {
var o = a.default.get(s.default.prefabPath.RummyHandCard_Path, cc.Prefab), n = cc.instantiate(o);
n.parent = this.m_hand_cards_node_Node;
var r = n.getComponent(c.default);
r.initPlayHandPokers();
cc.log("结算手牌分组" + t.CardGroupS[0].CardS);
r.setPokerValueBySettle(t, i);
}
};
t.prototype.setPoints = function(e, t, i) {
var o = t.toString();
e == h.default.USER_STATUS.Drop && (o = Math.abs(i / l.default.baseScore).toString());
this.m_settle_points_text_Node.getComponent(cc.Label).string = o;
};
t.prototype.setChips = function(e) {
e /= 1e3;
this.m_settle_add_text_Node.active = e >= 0;
this.m_settle_sub_text_Node.active = e < 0;
var t = p.default.formatAmount(e);
if (e >= 0) {
t = "+" + t;
this.m_settle_add_text_Node.getComponent(cc.Label).string = t;
} else this.m_settle_sub_text_Node.getComponent(cc.Label).string = t;
};
return t = n([ y ], t);
}(cc.Component));
i.default = b;
cc._RF.pop();
}, {
"../../../Script/Localization": "Localization",
"../../../Script/UserManager": "UserManager",
"../../../Script/Utils/Utility": "Utility",
"../Const/RummyLanguageConfig": "RummyLanguageConfig",
"../Manager/RummyAssetCacheManager": "RummyAssetCacheManager",
"../Model/RummyGlobal": "RummyGlobal",
"../Model/RummyModel": "RummyModel",
"../Skin/RummyRes": "RummyRes",
"./../../../Script/BaseFormat": "BaseFormat",
"./RummyHandPokerListView": "RummyHandPokerListView",
CommonFunction: "CommonFunction"
} ],
RummyResultUI: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "db63a4Tjj5PNL40+6zdoRs8", "RummyResultUI");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = e("../Manager/RummyAssetCacheManager"), a = e("../Skin/RummyRes"), s = e("./RummyResultPlayerView"), c = e("../../../Script/Localization"), l = e("../Const/RummyLanguageConfig"), u = cc._decorator, d = u.ccclass, f = (u.property, 
function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.sclPlayers = null;
t.btnBackTable = null;
t.btnBackLobby = null;
t.btnNextGame = null;
t.labTime = null;
t.m_total_duration = 12;
t.m_current_duration = 0;
t.labTip = null;
return t;
}
t.prototype.onLoad = function() {
this.node.on(cc.Node.EventType.TOUCH_END, function() {}, this);
this.sclPlayers = this.node.getChildByName("sclPlayers");
this.btnBackTable = this.node.getChildByName("btnBackTable");
this.btnBackTable.on(cc.Node.EventType.TOUCH_END, this.onTouchBtnBackTable, this);
this.btnBackLobby = this.node.getChildByName("btnBackLobby");
this.btnBackLobby.on(cc.Node.EventType.TOUCH_END, this.onTouchBtnBackLobby, this);
this.btnNextGame = this.node.getChildByName("btnNextGame");
this.btnNextGame.on(cc.Node.EventType.TOUCH_END, this.onTouchBtnNextGame, this);
this.labTime = this.btnNextGame.getChildByName("labTime").getComponent(cc.Label);
this.labTip = this.node.getChildByName("labTip").getComponent(cc.Label);
};
t.prototype.init = function(e, t) {
void 0 === t && (t = !0);
this.m_current_duration = 0;
this.labTime.string = this.m_total_duration.toString() + "s";
var i = r.default.get(a.default.prefabPath.RummyResultPlayer_Path, cc.Prefab);
for (var o in e.ChairS) {
var n = cc.instantiate(i);
n.parent = this.sclPlayers.getComponent(cc.ScrollView).content;
n.getComponent(s.default).init(e.ChairS[o], e.WildRank);
}
this.labTip.node.active = t;
t && (this.labTip.string = c.default.get(l.default.GameName, l.default.NEXT_ROUND_WILL_START_SHORTLY));
};
t.prototype.update = function(e) {};
t.prototype.onTouchBtnBackTable = function() {
this.node.destroy();
};
t.prototype.onTouchBtnBackLobby = function() {
this.node.destroy();
};
t.prototype.onTouchBtnNextGame = function() {
this.node.destroy();
};
return t = n([ d ], t);
}(cc.Component));
i.default = f;
cc._RF.pop();
}, {
"../../../Script/Localization": "Localization",
"../Const/RummyLanguageConfig": "RummyLanguageConfig",
"../Manager/RummyAssetCacheManager": "RummyAssetCacheManager",
"../Skin/RummyRes": "RummyRes",
"./RummyResultPlayerView": "RummyResultPlayerView"
} ],
RummyRes: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "05ce1QzjoBG0IDLYmO5G6A+", "RummyRes");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = e("./beautifulgame/RummySkinAudios"), n = e("./beautifulgame/RummySkinPrefabs"), r = e("./beautifulgame/RummySkinResources"), a = e("./beautifulgame/RummySkinSkeleton"), s = function() {
function e() {}
e.init = function() {
this.prefabPath = new n.default();
this.audio = new o.default();
this.Skeleton = new a.default();
this.resources = new r.default();
};
return e;
}();
i.default = s;
cc._RF.pop();
}, {
"./beautifulgame/RummySkinAudios": "RummySkinAudios",
"./beautifulgame/RummySkinPrefabs": "RummySkinPrefabs",
"./beautifulgame/RummySkinResources": "RummySkinResources",
"./beautifulgame/RummySkinSkeleton": "RummySkinSkeleton"
} ],
RummySettingView: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "846c8wsbnpM3qUv50y4jY+f", "RummySettingView");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = e("../Manager/RummyAssetCacheManager"), a = e("../Skin/RummyRes"), s = e("../Manager/RummyUIManager"), c = e("./../../../Script/UI/CommonPrefabMgr"), l = e("../Manager/RummyAudioMgr"), u = e("./../../../Script/Audio/CommonAudioMgr"), d = e("./../../../Script/UserManager"), f = e("../Model/RummyGlobal"), h = e("TopUpUIMgr"), p = e("NewGameInfo"), g = cc._decorator, m = g.ccclass, y = g.property, b = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.mask = null;
t.btn_sound = null;
t.btn_vibration = null;
t.btn_policy = null;
t.btn_lastDeal = null;
return t;
}
i = t;
t.ShowUI = function(e) {
void 0 === e && (e = null);
if (null == i.instance) {
var t = r.default.get(a.default.prefabPath.RummySettingUI_Path, cc.Prefab), o = cc.instantiate(t);
if (o && o.getComponent(i)) {
i.instance = o.getComponent(i);
s.default.RummyExitNode.addChild(o);
}
}
};
t.closeUI = function() {
i.instance || i.instance.onDestroy();
};
t.prototype.onLoad = function() {
this.bindEvents();
};
t.prototype.onStart = function() {
u.default.IS_OPEN_EFFECT ? this.btn_sound.check() : this.btn_sound.uncheck();
};
t.prototype.bindEvents = function() {
var e = this;
this.mask.on(cc.Node.EventType.TOUCH_END, function() {
cc.director.emit("closerummysettingview");
e.onDestroy();
});
this.btn_policy.on(cc.Node.EventType.TOUCH_END, this.onShowPolicyPage.bind(this));
this.btn_lastDeal.on(cc.Node.EventType.TOUCH_END, this.onShowLastDealPage.bind(this));
this.btn_vibration.node.on(cc.Node.EventType.TOUCH_END, this.onVibrationSetting.bind(this));
var t = new cc.Component.EventHandler();
t.target = this.node;
t.component = "RummySettingView";
t.handler = "onSoundSetting";
this.btn_sound.checkEvents.push(t);
var i = new cc.Component.EventHandler();
i.target = this.btn_sound.node;
i.component = "ToggleStyleSwitcher";
i.handler = "onCheckHandle";
this.btn_sound.checkEvents.push(i);
var o = new cc.Component.EventHandler();
o.target = this.node;
o.component = "RummySettingView";
this.btn_vibration.checkEvents.push(o);
(i = new cc.Component.EventHandler()).target = this.btn_vibration.node;
i.component = "ToggleStyleSwitcher";
i.handler = "onCheckHandle";
this.btn_vibration.checkEvents.push(i);
};
t.prototype.start = function() {
cc.log("原来的状态是" + u.default.IS_OPEN_EFFECT);
u.default.IS_OPEN_EFFECT ? this.btn_sound.check() : this.btn_sound.uncheck();
};
t.prototype.onShowPolicyPage = function() {
l.default.playClickButton();
c.default.showGameRuleDialog(Number(p.current.gameID));
this.onDestroy();
};
t.prototype.onShowLastDealPage = function() {
l.default.playClickButton();
d.default.is_formal ? c.default.createRechargeAlert(f.default.min_limit, function() {
h.showGameTopUpView();
}) : c.default.createGuesterRegisterAlert(f.default.min_limit, function() {
c.default.createRegisterForGifts();
});
this.onDestroy();
};
t.prototype.onSoundSetting = function() {
l.default.playClickButton();
cc.log("音效开关" + this.btn_sound.isChecked);
u.default.IS_OPEN_EFFECT = this.btn_sound.isChecked;
u.default.IS_OPEN_EFFECT ? l.default.playBGM() : l.default.stopBGM();
};
t.prototype.onVibrationSetting = function() {
l.default.playVibrateSettingButton(this.btn_vibration.isChecked);
};
t.prototype.onDestroy = function() {
i.instance = null;
this.node.destroy();
};
var i;
t.instance = null;
n([ y(cc.Node) ], t.prototype, "mask", void 0);
n([ y(cc.Toggle) ], t.prototype, "btn_sound", void 0);
n([ y(cc.Toggle) ], t.prototype, "btn_vibration", void 0);
n([ y(cc.Node) ], t.prototype, "btn_policy", void 0);
n([ y(cc.Node) ], t.prototype, "btn_lastDeal", void 0);
return t = i = n([ m ], t);
}(cc.Component);
i.default = b;
cc._RF.pop();
}, {
"../Manager/RummyAssetCacheManager": "RummyAssetCacheManager",
"../Manager/RummyAudioMgr": "RummyAudioMgr",
"../Manager/RummyUIManager": "RummyUIManager",
"../Model/RummyGlobal": "RummyGlobal",
"../Skin/RummyRes": "RummyRes",
"./../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"./../../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"./../../../Script/UserManager": "UserManager",
NewGameInfo: "NewGameInfo",
TopUpUIMgr: "TopUpUIMgr"
} ],
RummySkinAudios: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "8bae3IrYNVC07tiS5Al2N7p", "RummySkinAudios");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}();
Object.defineProperty(i, "__esModule", {
value: !0
});
var n = e("../../../../Script/ProjectConfig"), r = function(e) {
o(t, e);
function t() {
var t = e.call(this) || this;
t.Bgm = n.default.variable.curSkin + "/rummy/audio/hjzjh";
t.Ready = n.default.variable.curSkin + "/rummy/audio/ready";
t.Deal = n.default.variable.curSkin + "/rummy/audio/kaishifapai";
t.time_clock_count = n.default.variable.curSkin + "/rummy/audio/time_clock_count";
t.click_button = n.default.variable.curSkin + "/rummy/audio/click_button";
t.background = n.default.variable.curSkin + "/rummy/audio/background";
t.discard = n.default.variable.curSkin + "/rummy/audio/discard";
t.result_lost = n.default.variable.curSkin + "/rummy/audio/settle_accounts_result_lost";
t.result_win = n.default.variable.curSkin + "/rummy/audio/settle_accounts_result_win";
t.table_shuffle = n.default.variable.curSkin + "/rummy/audio/table_shuffle";
t.operation_tip = n.default.variable.curSkin + "/rummy/audio/operation_tip";
t.operation_result = n.default.variable.curSkin + "/rummy/audio/operation_result";
t.touch_req = n.default.variable.curSkin + "/rummy/audio/touch_req";
t.rummy_coins = n.default.variable.curSkin + "/rummy/audio/rummy_coins";
t.declare_poker = n.default.variable.curSkin + "/rummy/audio/declare_poker";
return t;
}
return t;
}(e("../RummySkinBaseAudios").default);
i.default = r;
cc._RF.pop();
}, {
"../../../../Script/ProjectConfig": "ProjectConfig",
"../RummySkinBaseAudios": "RummySkinBaseAudios"
} ],
RummySkinBaseAudios: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "a4a273ucTJPx4JKVt9LWmV2", "RummySkinBaseAudios");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = function() {
return function() {};
}();
i.default = o;
cc._RF.pop();
}, {} ],
RummySkinBasePrefabs: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "4c4bdbnaM5NLr2Zu1FgjMWi", "RummySkinBasePrefabs");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = function() {
return function() {};
}();
i.default = o;
cc._RF.pop();
}, {} ],
RummySkinBaseResources: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "d4f6aig86FA3Kswg0GWIzTJ", "RummySkinBaseResources");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = function() {
return function() {};
}();
i.default = o;
cc._RF.pop();
}, {} ],
RummySkinBaseSkeleton: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "90d96Z2jfVO3ZYRHaASMdMs", "RummySkinBaseSkeleton");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = function() {
return function() {};
}();
i.default = o;
cc._RF.pop();
}, {} ],
RummySkinPrefabs: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "08f80ekyCRAuYBtANIsuvhR", "RummySkinPrefabs");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}();
Object.defineProperty(i, "__esModule", {
value: !0
});
var n = e("../RummySkinBasePrefabs"), r = e("../../../../Script/ProjectConfig"), a = function(e) {
o(t, e);
function t() {
var t = e.call(this) || this;
t.RummyActionPoker_Name = "RummyActionPoker";
t.RummyActionPoker_Path = r.default.variable.curSkin + "/rummy/prefab/RummyActionPoker";
t.RummyFeaturesButton_Name = "RummyFeaturesButton";
t.RummyFeaturesButton_Path = r.default.variable.curSkin + "/rummy/prefab/RummyFeaturesButton";
t.RummyHandCard_Name = "RummyHandCard";
t.RummyHandCard_Path = r.default.variable.curSkin + "/rummy/prefab/RummyHandCard";
t.RummyHandPokerGroup_Name = "RummyHandPokerGroup";
t.RummyHandPokerGroup_Path = r.default.variable.curSkin + "/rummy/prefab/RummyHandPokerGroup";
t.RummyPlayer_Name = "RummyPlayer";
t.RummyPlayer_Path = r.default.variable.curSkin + "/rummy/prefab/RummyPlayer";
t.RummyPlayerUI_Name = "RummyPlayerUI";
t.RummyPlayerUI_Path = r.default.variable.curSkin + "/rummy/prefab/RummyPlayerUI";
t.RummyPoker_Name = "RummyPoker";
t.RummyPoker_Path = r.default.variable.curSkin + "/rummy/prefab/RummyPoker";
t.RummyResultPlayer_Name = "RummyResultPlayer";
t.RummyResultPlayer_Path = r.default.variable.curSkin + "/rummy/prefab/RummyResultPlayer";
t.RummyResultUI_Name = "RummyResultUI";
t.RummyResultUI_Path = r.default.variable.curSkin + "/rummy/prefab/RummyResultUI";
t.RummyTablePoker_Name = "RummyTablePoker";
t.RummyTablePoker_Path = r.default.variable.curSkin + "/rummy/prefab/RummyTablePoker";
t.RummyTips_Name = "RummyTips";
t.RummyTips_Path = r.default.variable.curSkin + "/rummy/prefab/RummyTips";
t.RummyExitUI_Name = "RummyGameExitUI";
t.RummyExitUI_Path = r.default.variable.curSkin + "/rummy/prefab/RummyGameExitUI";
t.RummySettingUI_Name = "RummySettingUI";
t.RummySettingUI_Path = r.default.variable.curSkin + "/rummy/prefab/RummySettingUI";
t.RummyCoin_Name = "RummyCoin";
t.RummyCoin_Path = r.default.variable.curSkin + "/rummy/prefab/RummyCoin";
t.RummyDeclareWaiting_Name = "RummyDeclareWaiting";
t.RummyDeclareWaiting_Path = r.default.variable.curSkin + "/rummy/prefab/RummyDeclareWaiting";
t.RummyHandPokerWin_Name = "RummyHandPokerWin";
t.RummyHandPokerWin_Path = r.default.variable.curSkin + "/rummy/prefab/RummyHandPokerWin";
return t;
}
return t;
}(n.default);
i.default = a;
cc._RF.pop();
}, {
"../../../../Script/ProjectConfig": "ProjectConfig",
"../RummySkinBasePrefabs": "RummySkinBasePrefabs"
} ],
RummySkinResources: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "09e52RznJlKwLLaXPpYkEtE", "RummySkinResources");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}();
Object.defineProperty(i, "__esModule", {
value: !0
});
var n = e("../../../../Script/ProjectConfig"), r = function(e) {
o(t, e);
function t() {
var t = e.call(this) || this;
t.gameBg = n.default.variable.curSkin + "/rummy/texture/game_bg";
t.tableBg = n.default.variable.curSkin + "/rummy/texture/table_bg";
t.btnBack = n.default.variable.curSkin + "/rummy/texture/btn_back";
t.btnRule = n.default.variable.curSkin + "/rummy/texture/btn_rule";
t.btnShop = n.default.variable.curSkin + "/rummy/texture/btn_shop";
t.poker_path = n.default.variable.curSkin + "/rummy/texture/poker/";
t.root_path = n.default.variable.curSkin + "/rummy/texture/";
t.player_settle_win_bg = n.default.variable.curSkin + "/rummy/texture/player/player_settle_win_bg";
t.player_settle_lose_bg = n.default.variable.curSkin + "/rummy/texture/player/player_settle_lose_bg";
t.player_icon_banker = n.default.variable.curSkin + "/rummy/texture/player/player_icon_banker";
t.player_head_mask = n.default.variable.curSkin + "/rummy/texture/player/player_head_mask";
t.player_bg = n.default.variable.curSkin + "/rummy/texture/player/player_bg";
t.player_timer = n.default.variable.curSkin + "/rummy/texture/player/player_timer";
t.player_timer_yellow = n.default.variable.curSkin + "/rummy/texture/player/player_timer_yellow";
t.player_timer_red = n.default.variable.curSkin + "/rummy/texture/player/player_timer_red";
t.settle_wait_declare_wait_progressbar = n.default.variable.curSkin + "/rummy/texture/settle_wait/declare_wait_progressbar";
t.settle_wait_declare_wait_progressbar_bg = n.default.variable.curSkin + "/rummy/texture/settle_wait/declare_wait_progressbar_bg";
t.settle_wait_declare_wait_tip_bg = n.default.variable.curSkin + "/rummy/texture/settle_wait/declare_wait_tip_bg";
return t;
}
return t;
}(e("../RummySkinBaseResources").default);
i.default = r;
cc._RF.pop();
}, {
"../../../../Script/ProjectConfig": "ProjectConfig",
"../RummySkinBaseResources": "RummySkinBaseResources"
} ],
RummySkinSkeleton: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "f9c81Rh9c5NHo3UEQgSM/2V", "RummySkinSkeleton");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}();
Object.defineProperty(i, "__esModule", {
value: !0
});
var n = function(e) {
o(t, e);
function t() {
var t = e.call(this) || this;
t.result_win = "result_win";
t.result_lost = "result_lost";
return t;
}
return t;
}(e("../RummySkinBaseSkeleton").default);
i.default = n;
cc._RF.pop();
}, {
"../RummySkinBaseSkeleton": "RummySkinBaseSkeleton"
} ],
RummySocketMgr: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "c7463W6XD9D77iI3rNOoTn6", "RummySocketMgr");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}();
Object.defineProperty(i, "__esModule", {
value: !0
});
var n = e("CommonSocketModel"), r = e("../../../Script/LocalStorage/LocalStorageUtil"), a = e("CommonProtoBuf3"), s = e("../Model/RummyGlobal"), c = e("./RummyProto"), l = e("./RummySocketSend"), u = e("Rummy.proto"), d = e("CommonFunction"), f = e("CommonSocket"), h = e("../../../Script/ProjectConfig"), p = function(e) {
o(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.init = function(e, t) {
void 0 === t && (t = null);
var i = this;
i.close();
if (null == i.socket) {
var o = i.buildInitParams(), n = c.default.MSG_ID_S;
i.protoBuf = new a(u, cc.url.raw("resources/protobufs/Rummy.proto"), n);
i.socket = new f(h.default.GAME_TYPE.RUMMY, i.socketUrl, o, function(t) {
var o = i.protoBuf.decode(t);
if (o && n[o.index]) {
o.index != n.Pong && console.log("RummySocketMgr receive: msgID =", o.index, "msgType =", n[o.index], "msgData =", o.msgData);
"function" == typeof e && e(o.index, o.msgData);
}
}, function() {
s.default.isReconneting = !1;
l.default.authReq();
null != t && t();
});
}
};
t.send = function(e, t, i) {
console.log("RummySocketMgr send: msgID =", e, "msgType =", t, "msgData =", i);
var o = this.protoBuf.encode(e, t, i);
this.socket && this.socket.send(o);
};
t.buildInitParams = function() {
var e = {}, t = r.default.readUserID(), i = r.default.readUserToken();
t && i && (e = {
user_id: t,
token: i,
room: s.default.room,
rsa: d.getRSA(t, i)
});
return e;
};
t.close = function() {
if (null != this.socket) {
this.socket.close();
this.socket = null;
}
};
t.socket = null;
t.socketUrl = "";
return t;
}(n);
i.default = p;
cc._RF.pop();
}, {
"../../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../../Script/ProjectConfig": "ProjectConfig",
"../Model/RummyGlobal": "RummyGlobal",
"./RummyProto": "RummyProto",
"./RummySocketSend": "RummySocketSend",
CommonFunction: "CommonFunction",
CommonProtoBuf3: "CommonProtoBuf3",
CommonSocket: "CommonSocket",
CommonSocketModel: "CommonSocketModel",
"Rummy.proto": "Rummy.proto"
} ],
RummySocketSend: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "82991AG8jtKXLclB6Ff/Apb", "RummySocketSend");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = e("../../../Script/LocalStorage/LocalStorageUtil"), n = e("./RummyProto"), r = e("./RummySocketMgr"), a = e("../Model/RummyGlobal"), s = function() {
function e() {}
e.authReq = function() {
var e = parseInt(o.default.readUserID()), t = o.default.readUserToken(), i = {
Timestamp: new Date().getTime(),
UserID: e,
Token: t.toString(),
RoomKind: a.default.room,
Version: 0
};
r.default.send(n.default.MSG_ID_C.AuthReq, "msg.AuthReq", i);
};
e.userOutReq = function(e) {
var t = {
Timestamp: new Date().getTime(),
ChairNo: e
};
r.default.send(n.default.MSG_ID_C.UserOutReq, "msg.UserOutReq", t);
};
e.changeTableReq = function() {
var e = {
Timestamp: new Date().getTime()
};
r.default.send(n.default.MSG_ID_C.ChangeTableReq, "msg.ChangeTableReq", e);
};
e.dropReq = function() {
var e = {
Timestamp: new Date().getTime()
};
r.default.send(n.default.MSG_ID_C.DropReq, "msg.DropReq", e);
};
e.touchReq = function(e) {
var t = {
Timestamp: new Date().getTime(),
Visible: e
};
r.default.send(n.default.MSG_ID_C.TouchReq, "msg.TouchReq", t);
};
e.discardReq = function(e, t, i) {
var o = {
Timestamp: new Date().getTime(),
Card: e,
GroupIndex: t,
CardIndex: i
};
r.default.send(n.default.MSG_ID_C.DiscardReq, "msg.DiscardReq", o);
};
e.DeclareConfirmReq = function(e) {
var t = {
Timestamp: new Date().getTime(),
Confirm: e
};
r.default.send(n.default.MSG_ID_C.ConfirmDeclareReq, "msg.DeclareConfirmReq", t);
};
e.groupReq = function(e) {
var t = {
Timestamp: new Date().getTime(),
HandCard: e
};
r.default.send(n.default.MSG_ID_C.GroupReq, "msg.GroupReq", t);
};
e.declareReq = function(e, t) {
var i = {
Timestamp: new Date().getTime(),
GroupIndex: e,
CardIndex: t
};
r.default.send(n.default.MSG_ID_C.DeclareReq, "msg.DeclareReq", i);
};
e.lastSettleReq = function() {
var e = {
Timestamp: new Date().getTime()
};
r.default.send(n.default.MSG_ID_C.LastSettleReq, "msg.LastSettleReq", e);
};
return e;
}();
i.default = s;
cc._RF.pop();
}, {
"../../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../Model/RummyGlobal": "RummyGlobal",
"./RummyProto": "RummyProto",
"./RummySocketMgr": "RummySocketMgr"
} ],
RummyStartAnimation: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "671ebfUeW9C9KF9P0TTVRdI", "RummyStartAnimation");
var o = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var n = cc._decorator, r = n.ccclass, a = (n.property, function() {
function e() {
this.lifetime = -1;
this.node = null;
}
e.prototype.hide = function(e) {
this.node = e;
this.node.active = !1;
};
e.prototype.show = function(e) {
this.node = e;
this.node.active = !0;
};
e.prototype.gameStartAnimation = function(e, t, i) {
void 0 === i && (i = 140);
this.node = e;
this.show(this.node);
this.node.y = i;
this.lifetime = t + 1;
};
e.prototype.update = function(e) {
this.lifetime < 1 ? this.hide(this.node) : this.lifetime -= e;
};
return e = o([ r ], e);
}());
i.default = a;
cc._RF.pop();
}, {} ],
RummyTablePokerController: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "e3bd4DroEpFo77TVds8EfZO", "RummyTablePokerController");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = e("../Component/RummyTablePokerView"), n = e("../Manager/RummyAssetCacheManager"), r = e("../Manager/RummyLogicMgr"), a = e("../Manager/RummyUIManager"), s = e("../Skin/RummyRes"), c = function() {
function e() {}
e.init = function() {
var e = n.default.get(s.default.prefabPath.RummyTablePoker_Path, cc.Prefab), t = cc.instantiate(e);
t.parent = a.default.RummyTablePokerNode;
this.tablePoker = t.getComponent(o.default);
this.tablePoker.init();
this.updateChangedTableFlag(!1);
};
e.updateChangedTableFlag = function(e) {
this.m_changedTable = e;
};
e.getChangedTableFlag = function() {
return this.m_changedTable;
};
e.reset = function() {
this.tablePoker.reset();
};
e.show = function() {
this.tablePoker.show();
};
e.setWildPoker = function(e, t) {
this.tablePoker.setWildPoker(e, t);
};
e.setDarkActive = function(e) {
this.tablePoker.setDarkActive(e);
};
e.hideFinishDarkPoker = function() {
this.tablePoker.hideFinishDarkPoker();
};
e.hideFinishSoltPoker = function() {
this.tablePoker.hideFinishSoltPoker();
};
e.setSurplusValue = function(e) {
this.tablePoker.setSurplusValue(e);
};
e.setVisiblePoker = function(e) {
this.tablePoker.setVisiblePoker(e, r.default.getInstance().isWildCard(e));
};
e.setFinishVisiblePoker = function(e) {
this.tablePoker.setFinishVisiblePoker(e, r.default.getInstance().isWildCard(e));
};
e.setFinishSoltDarkPoker = function() {
this.tablePoker.showFinishDarkPoker();
};
e.startRunAnimation = function() {
this.tablePoker.startRunAnimation();
};
e.getShufflePokerPosition = function() {
return this.tablePoker.getShufflePokerPosition();
};
e.runDarkPokerAni = function(e) {
this.tablePoker.runDarkPokerAni(e);
};
e.runFinishSoltVisibleAni = function(e) {
this.tablePoker.runFinishSoltVisiblePorkAni(e);
};
e.runVisiblePokerAni = function(e, t) {
this.tablePoker.runVisiblePokerAni(e, r.default.getInstance().isWildCard(e), t);
};
e.runWildPokerAni = function(e, t) {
this.tablePoker.runWildPokerAni(e, r.default.getInstance().isWildCard(e), t);
};
e.setTouchTipActive = function(e) {
this.tablePoker.setTouchTipActive(e);
};
e.getVisiblePokerPosition = function() {
return this.tablePoker.getVisiblePokerPosition();
};
e.getDarkPokerPosition = function() {
return this.tablePoker.getDarkPokerPosition();
};
e.getFinishPokerPosition = function() {
return this.tablePoker.getFinishPokerPosition();
};
e.getFinishDarkPokerPosition = function() {
return this.tablePoker.getFinishSoltDarkPorkerPosition();
};
e.hide = function() {
this.tablePoker.hide();
};
e.hideDeclarePoker = function() {
this.tablePoker.hideDeclarePoker();
};
e.m_changedTable = !1;
return e;
}();
i.default = c;
cc._RF.pop();
}, {
"../Component/RummyTablePokerView": "RummyTablePokerView",
"../Manager/RummyAssetCacheManager": "RummyAssetCacheManager",
"../Manager/RummyLogicMgr": "RummyLogicMgr",
"../Manager/RummyUIManager": "RummyUIManager",
"../Skin/RummyRes": "RummyRes"
} ],
RummyTablePokerView: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "f3504JiSnZFpqdqbWqsr0TV", "RummyTablePokerView");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = e("./RummyPokerView"), a = e("../Service/RummySocketSend"), s = e("../Model/RummyGlobal"), c = cc._decorator, l = c.ccclass, u = (c.property, 
function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.visiblePokerBg = null;
t.wildPoker = null;
t.darkPoker = null;
t.visiblePoker = null;
t.labCountBg = null;
t.labSurplus = null;
t.aniShuffle = null;
t.finishPokerBg = null;
t.m_finishPokerView = null;
t.m_finishDarkPokerView = null;
return t;
}
t.prototype.init = function() {
this.visiblePokerBg = this.node.getChildByName("visiblePokerBg");
this.finishPokerBg = this.node.getChildByName("finishPokerBg");
var e = this.node.getChildByName("finishPoker");
this.m_finishPokerView = e.getComponent(r.default);
this.m_finishPokerView.node.zIndex = 7;
var t = this.node.getChildByName("soltdarkPoker");
this.m_finishDarkPokerView = t.getComponent(r.default);
this.m_finishDarkPokerView.node.zIndex = 8;
var i = this.node.getChildByName("wildPoker");
this.wildPoker = i.getComponent(r.default);
this.wildPoker.node.zIndex = 1;
var o = this.node.getChildByName("darkPoker");
o.on(cc.Node.EventType.TOUCH_END, this.onTouchDarkPoker, this);
this.darkPoker = o.getComponent(r.default);
this.darkPoker.node.zIndex = 2;
var n = this.node.getChildByName("visiblePoker");
n.on(cc.Node.EventType.TOUCH_END, this.onTouchVisiblePoker, this);
this.visiblePoker = n.getComponent(r.default);
this.visiblePoker.node.zIndex = 3;
var a = this.node.getChildByName("labCountBg");
this.labCountBg = a;
this.labCountBg.zIndex = 4;
var s = this.node.getChildByName("labSurplus");
this.labSurplus = s.getComponent(cc.Label);
this.labSurplus.node.zIndex = 5;
var c = this.node.getChildByName("aniShuffle");
this.aniShuffle = c.getComponent(dragonBones.ArmatureDisplay);
this.aniShuffle.node.zIndex = 6;
var l = this.node.getChildByName("declarePoker");
this.m_declarePokerView = l.getComponent(r.default);
this.m_declarePokerView.node.zIndex = 1;
this.reset();
};
t.prototype.reset = function() {
this.hide();
this.setShuffleActive(!1);
this.setSurplusValue(0);
this.setTouchTipActive(!1);
this.hideDeclarePoker();
this.visiblePokerBg.active = !1;
this.finishPokerBg.active = !1;
this.finishPokerBg.setPosition(cc.v2(180, 50));
this.m_finishPokerView.node.active = !1;
this.m_finishPokerView.node.setPosition(cc.v2(180, 50));
this.m_finishPokerView.node.scale = .57;
this.m_finishDarkPokerView.node.active = !1;
this.m_finishDarkPokerView.node.setPosition(cc.v2(180, 50));
this.m_finishDarkPokerView.node.scale = .55;
this.darkPoker.node.stopAllActions();
this.darkPoker.node.setPosition(cc.v2(-120, 50));
this.darkPoker.node.scale = .55;
this.visiblePoker.node.stopAllActions();
this.visiblePoker.node.setPosition(cc.v2(30, 48));
this.visiblePoker.node.eulerAngles = cc.v3(0, 0, 0);
this.visiblePoker.node.scale = .59;
this.visiblePoker.hideBackGround();
this.visiblePoker.getBackGround().scaleX = 1;
this.wildPoker.node.stopAllActions();
this.wildPoker.node.setPosition(cc.v2(-170, 50));
this.wildPoker.node.eulerAngles = cc.v3(0, 0, 45);
this.wildPoker.node.scale = .5;
this.wildPoker.node.zIndex = 1;
this.wildPoker.hideBackGround();
this.wildPoker.getBackGround().scaleX = 1;
};
t.prototype.showDeclarePoker = function(e, t) {
this.m_declarePokerView.show();
this.m_declarePokerView.init(e, t);
};
t.prototype.hideDeclarePoker = function() {
this.m_declarePokerView.hide();
};
t.prototype.showFinishSoltPoker = function(e, t) {
this.m_finishPokerView.node.active = !0;
this.m_finishPokerView.show();
this.m_finishPokerView.init(e, t);
};
t.prototype.hideFinishSoltPoker = function() {
this.m_finishPokerView.node.active = !1;
this.m_finishPokerView.hide();
};
t.prototype.showFinishDarkPoker = function() {
this.m_finishDarkPokerView.node.active = !0;
this.m_finishDarkPokerView.show();
};
t.prototype.hideFinishDarkPoker = function() {
this.m_finishDarkPokerView.node.active = !1;
this.m_finishDarkPokerView.hide();
};
t.prototype.show = function() {
this.labCountBg.active = !0;
this.labSurplus.node.active = !0;
this.finishPokerBg.active = !0;
this.wildPoker.show();
this.visiblePoker.show();
this.darkPoker.show();
};
t.prototype.hide = function() {
this.setShuffleActive(!1);
this.visiblePokerBg.active = !1;
this.finishPokerBg.active = !1;
this.m_finishPokerView.node.active = !1;
this.m_finishPokerView.hide();
this.m_finishDarkPokerView.node.active = !1;
this.m_finishDarkPokerView.hide();
this.labCountBg.active = !1;
this.labSurplus.node.active = !1;
this.wildPoker.hide();
this.visiblePoker.hide();
this.darkPoker.hide();
};
t.prototype.setWildPokerActive = function(e) {
e ? this.wildPoker.show() : this.wildPoker.hide();
};
t.prototype.setWildPoker = function(e, t) {
this.wildPoker.init(e, t);
};
t.prototype.setDarkActive = function(e) {
e ? this.darkPoker.show() : this.darkPoker.hide();
};
t.prototype.setVisibleActive = function(e) {
e ? this.visiblePoker.show() : this.visiblePoker.hide();
};
t.prototype.setTouchTipActive = function(e) {
var t = this.darkPoker.getComponentInChildren(cc.Animation);
t.node.active = e;
e ? t.play(null, 0) : t.stop();
var i = this.visiblePoker.getComponentInChildren(cc.Animation);
i.node.active = e;
e ? i.play(null, 0) : i.stop();
};
t.prototype.setVisiblePoker = function(e, t) {
if (e < 0) this.visiblePoker.hide(); else {
this.visiblePoker.show();
this.visiblePoker.init(e, t);
}
this.visiblePokerBg.active = e < 0;
this.finishPokerBg.active = !0;
};
t.prototype.setFinishVisiblePoker = function(e, t) {
if (e < 0) this.m_finishPokerView.hide(); else {
this.m_finishPokerView.show();
this.m_finishPokerView.init(e, t);
}
};
t.prototype.setSurplusValue = function(e) {
cc.log("剩余牌的数目" + e);
this.labCountBg.active = 0 != e;
this.labSurplus.string = 0 == e ? "" : e.toString();
};
t.prototype.setShuffleActive = function(e) {
this.aniShuffle.node.active = e;
};
t.prototype.startRunAnimation = function() {
this.visiblePokerBg.active = !1;
this.finishPokerBg.active = !1;
this.darkPoker.node.active = !0;
this.darkPoker.node.setPosition(cc.v2(0, 50));
this.visiblePoker.node.active = !1;
this.wildPoker.node.active = !1;
this.labCountBg.active = !1;
this.labSurplus.node.active = !1;
};
t.prototype.runShuffleAnimation = function(e) {
var t = this;
this.darkPoker.node.active = !1;
this.visiblePoker.node.active = !1;
this.wildPoker.node.active = !1;
this.labCountBg.active = !1;
this.labSurplus.node.active = !1;
this.aniShuffle.node.active = !0;
this.aniShuffle.playAnimation("newAnimation", 1);
this.aniShuffle.addEventListener(dragonBones.EventObject.COMPLETE, function() {
t.aniShuffle.node.active = !1;
t.darkPoker.node.active = !0;
t.darkPoker.node.setPosition(cc.v2(0, 50));
e();
});
};
t.prototype.runTablePokerAction = function(e) {};
t.prototype.runDarkPokerAni = function(e) {
this.darkPoker.node.active = !0;
this.darkPoker.node.stopAllActions();
this.darkPoker.node.setPosition(cc.v2(0, 50));
this.darkPoker.node.runAction(cc.sequence(cc.moveTo(.2, cc.v2(-120, 50)).easing(cc.easeOut(3)), cc.delayTime(.1), cc.callFunc(function() {
e();
})));
};
t.prototype.runFinishSoltVisiblePorkAni = function(e) {
this.m_finishPokerView.node.active = !0;
this.m_finishPokerView.node.stopAllActions();
this.m_finishPokerView.node.setPosition(cc.v2(180, 50));
this.m_finishPokerView.node.runAction(cc.sequence(cc.moveTo(.2, this.getVisiblePokerPosition()).easing(cc.easeOut(3)), cc.delayTime(.1), cc.callFunc(function() {
e();
})));
};
t.prototype.runVisiblePokerAni = function(e, t, i) {
var o = this;
this.setVisiblePoker(e, t);
this.visiblePoker.node.active = !0;
this.visiblePoker.node.stopAllActions();
this.visiblePoker.node.setPosition(cc.v2(-90, 48));
this.visiblePoker.node.runAction(cc.sequence(cc.spawn(cc.moveTo(.4, cc.v2(30, 50)).easing(cc.easeOut(3)), cc.sequence(cc.callFunc(function() {
o.visiblePoker.node.eulerAngles = cc.v3(0, -180, 0);
o.visiblePoker.showBackGround();
o.visiblePoker.getBackGround().scaleX = -1;
}), cc.rotate3DTo(.25, cc.v3(0, -90, 0)), cc.callFunc(function() {
o.visiblePoker.hideBackGround();
o.visiblePoker.getBackGround().scaleX = -1;
}), cc.rotate3DTo(.15, cc.v3(0, 0, 0)), cc.callFunc(function() {}))), cc.callFunc(function() {
i();
})));
};
t.prototype.runWildPokerAni = function(e, t, i) {
var o = this;
this.setWildPoker(e, t);
this.labCountBg.active = !0;
this.labSurplus.node.active = !0;
this.wildPoker.node.active = !0;
this.wildPoker.node.stopAllActions();
this.wildPoker.node.setPosition(cc.v2(-170, 50));
this.wildPoker.node.runAction(cc.sequence(cc.spawn(cc.moveTo(.4, cc.v2(-250, 200)).easing(cc.easeOut(3)), cc.sequence(cc.callFunc(function() {
o.wildPoker.node.zIndex = 6;
o.wildPoker.node.scale = .5;
o.wildPoker.node.eulerAngles = cc.v3(0, -180, 0);
o.wildPoker.showBackGround();
o.wildPoker.getBackGround().scaleX = -1;
}), cc.rotate3DTo(.25, cc.v3(0, -90, 0)), cc.callFunc(function() {
o.wildPoker.hideBackGround();
o.wildPoker.getBackGround().scaleX = -1;
}), cc.rotate3DTo(.15, cc.v3(0, 0, 45)), cc.callFunc(function() {
o.wildPoker.node.zIndex = 1;
}))), cc.delayTime(.1), cc.spawn(cc.moveTo(.2, cc.v2(-170, 50)).easing(cc.easeIn(3)), cc.scaleTo(.2, .5)), cc.delayTime(.1), cc.callFunc(function() {
i();
})));
};
t.prototype.getDarkPokerPosition = function() {
return this.darkPoker.node.position;
};
t.prototype.getVisiblePokerPosition = function() {
return this.visiblePoker.node.position;
};
t.prototype.getFinishPokerPosition = function() {
return this.m_finishPokerView.node.position;
};
t.prototype.getFinishSoltDarkPorkerPosition = function() {
return this.m_finishPokerView.node.position;
};
t.prototype.getShufflePokerPosition = function() {
var e = this.aniShuffle.node.position;
return this.node.convertToWorldSpaceAR(e);
};
t.prototype.onTouchDarkPoker = function() {
s.default.isTouching && a.default.touchReq(!1);
};
t.prototype.onTouchVisiblePoker = function() {
s.default.isTouching && a.default.touchReq(!0);
};
return t = n([ l ], t);
}(cc.Component));
i.default = u;
cc._RF.pop();
}, {
"../Model/RummyGlobal": "RummyGlobal",
"../Service/RummySocketSend": "RummySocketSend",
"./RummyPokerView": "RummyPokerView"
} ],
RummyTipsController: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "9cb79mPuHlDe590fvwZbeh2", "RummyTipsController");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = e("../Component/RummyTipsUI"), n = e("../Manager/RummyAssetCacheManager"), r = e("../Manager/RummyUIManager"), a = e("../Skin/RummyRes"), s = function() {
function e() {}
e.init = function() {
var e = n.default.get(a.default.prefabPath.RummyTips_Path, cc.Prefab), t = cc.instantiate(e);
t.parent = r.default.RummyTipsUINode;
this.tipsUI = t.getComponent(o.default);
};
e.setTipText = function(e, t, i) {
void 0 === i && (i = 160);
this.tipsUI.setTipText(e, t, i);
};
e.hide = function() {
this.tipsUI.hide();
};
return e;
}();
i.default = s;
cc._RF.pop();
}, {
"../Component/RummyTipsUI": "RummyTipsUI",
"../Manager/RummyAssetCacheManager": "RummyAssetCacheManager",
"../Manager/RummyUIManager": "RummyUIManager",
"../Skin/RummyRes": "RummyRes"
} ],
RummyTipsUI: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "a810fQ8Ob9HIqF9pNhWVM08", "RummyTipsUI");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = e("../../../Script/Utils/Utility"), a = e("./../../../Script/BaseFormat"), s = cc._decorator, c = s.ccclass, l = s.property, u = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.label = null;
t.lifetime = -1;
t.text = "";
return t;
}
t.prototype.onLoad = function() {
this.node.active = !1;
};
t.prototype.hide = function() {
this.node.active = !1;
};
t.prototype.show = function() {
this.node.active = !0;
};
t.prototype.setTipText = function(e, t, i) {
void 0 === i && (i = 160);
this.m_backText = t;
this.show();
this.node.y = i;
this.lifetime = e + 1;
this.text = r.default.stringFormat(null == t ? "{0}" : t, e);
};
t.prototype.update = function(e) {
if (this.lifetime < 1) this.hide(); else {
this.lifetime -= e;
var t = a.default.iTofixed(this.lifetime, 0);
this.label.string = r.default.stringFormat(this.m_backText, t.toString());
}
};
n([ l(cc.RichText) ], t.prototype, "label", void 0);
return t = n([ c ], t);
}(cc.Component);
i.default = u;
cc._RF.pop();
}, {
"../../../Script/Utils/Utility": "Utility",
"./../../../Script/BaseFormat": "BaseFormat"
} ],
RummyUIManager: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "17f97Ufd7tKop1gWaUiREHu", "RummyUIManager");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = e("CommonFunction"), n = e("../Skin/RummyRes"), r = cc.Widget, a = function() {
function e() {}
e.dynamicLoadRes = function(e) {
this.initRes(e);
this.createNode(e.node);
};
e.initRes = function(e) {
o.setComponentSprite(e.gameBg, n.default.resources.gameBg);
o.setComponentSprite(e.tableBg, n.default.resources.tableBg);
o.setComponentSprite(e.btnBack, n.default.resources.btnBack);
o.setComponentSprite(e.btnRule, n.default.resources.btnRule);
o.setComponentSprite(e.btnShop, n.default.resources.btnShop);
};
e.createNode = function(e) {
this.RummyPlayerUINode = new cc.Node("RummyPlayerUINode");
this.RummyPlayerUINode.width = 1280;
this.RummyPlayerUINode.height = 720;
var t = this.RummyPlayerUINode.addComponent(r);
t.top = 0;
t.isAlignTop = !0;
t.left = 0;
t.isAlignLeft = !0;
t.bottom = 0;
t.isAlignBottom = !0;
t.right = 0;
t.isAlignRight = !0;
e.insertChild(this.RummyPlayerUINode, 10);
this.RummyTablePokerNode = new cc.Node("RummyTablePokerNode");
e.insertChild(this.RummyTablePokerNode, 15);
this.RummyHandPokerWinNode = new cc.Node("RummyHandPokerWinNode");
e.insertChild(this.RummyHandPokerWinNode, 20);
this.RummyGameUINode = new cc.Node("RummyGameUINode");
e.insertChild(this.RummyGameUINode, 25);
this.RummyHandPokerNode = new cc.Node("RummyHandPokerNode");
this.RummyHandPokerNode.x = -424;
this.RummyHandPokerNode.y = -246;
var i = this.RummyHandPokerNode.addComponent(r);
i.bottom = 114;
i.isAlignBottom = !0;
e.insertChild(this.RummyHandPokerNode, 30);
this.RummyActionPokerNode = new cc.Node("RummyActionPokerNode");
e.insertChild(this.RummyActionPokerNode, 35);
this.RummyCoinsNode = new cc.Node("RummyCoinsNode");
this.RummyCoinsNode.width = 500;
this.RummyCoinsNode.height = 500;
this.RummyCoinsNode.y = 11;
e.insertChild(this.RummyCoinsNode, 40);
this.RummyExitNode = new cc.Node("RummyExitNode");
var o = this.RummyExitNode.addComponent(r);
o.top = 0;
o.bottom = 0;
o.right = 0;
o.left = 0;
o.isAlignTop = !0;
o.isAlignBottom = !0;
o.isAlignRight = !0;
o.isAlignLeft = !0;
e.insertChild(this.RummyExitNode, 45);
this.RummyDeclareWaitingNode = new cc.Node("RummyDeclareWaitingNode");
this.RummyDeclareWaitingNode.y = 80;
e.insertChild(this.RummyDeclareWaitingNode, 50);
this.RummyTipsUINode = new cc.Node("RummyTipsUINode");
e.insertChild(this.RummyTipsUINode, 55);
this.RummyResultUINode = new cc.Node("RummyResultUINode");
this.RummyResultUINode.width = 1280;
this.RummyResultUINode.height = 720;
var n = this.RummyResultUINode.addComponent(r);
n.top = 0;
n.isAlignTop = !0;
n.left = 0;
n.isAlignLeft = !0;
n.bottom = 0;
n.isAlignBottom = !0;
n.right = 0;
n.isAlignRight = !0;
e.insertChild(this.RummyResultUINode, 100);
};
return e;
}();
i.default = a;
cc._RF.pop();
}, {
"../Skin/RummyRes": "RummyRes",
CommonFunction: "CommonFunction"
} ],
SafeBoxIn: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "2cecaSZ8R9Fa5ymL+J3manP", "SafeBoxIn");
var o = u(e("../../../../Script/Audio/CommonAudioMgr")), n = u(e("../../../../Script/UserManager")), r = u(e("../../../../Script/Audio/CommonAudio")), a = u(e("../../../../Script/BaseFormat")), s = u(e("../../../../Script/UI/CommonPrefabMgr")), c = u(e("../../../../Script/ProjectConfig")), l = u(e("./../../../../Script/GameFramework/ApiMgr"));
function u(e) {
return e && e.__esModule ? e : {
default: e
};
}
var d = e("CommonEventName"), f = e("NewGameInfo"), h = e("ComponentRes");
cc.Class({
extends: cc.Component,
properties: {
myGoldNum: cc.Label,
safeGoldNum: cc.Label,
importEdit: cc.EditBox,
_payAmount: 0
},
initContentView: function() {
this.refreshUserInfo();
},
start: function() {
this.refreshUserInfo();
this.updateUserInfo();
this.addLabelOutlineWithNode();
},
refreshUserInfo: function() {
this.myGoldNum && (this.myGoldNum.string = a.default.formatAmount(n.default.coin) || 0);
this.safeGoldNum && (this.safeGoldNum.string = a.default.formatAmount(n.default.safe_box) || 0);
},
addLabelOutlineWithNode: function() {
cc.vv.editBoxMgr.addOutlineWithNode(this.importEdit.node);
},
updateUserInfo: function() {
var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null, t = this;
t.importEdit && (t.importEdit.string = "");
t._payAmount = 0;
l.default.refreshUserInfo(function(i) {
n.default.initUser(i);
t.myGoldNum && (t.myGoldNum.string = a.default.formatAmount(n.default.coin) || 0);
t.safeGoldNum && (t.safeGoldNum.string = a.default.formatAmount(n.default.safe_box) || 0);
null != e && "function" == typeof e && e();
});
},
importEdited: function(e) {
parseInt(e) >= parseInt(n.default.coin) && (e = parseInt(n.default.coin));
this._payAmount = parseInt(e) || 0;
e && this.importEdit && (this.importEdit.string = parseInt(e) + "" || "0");
},
clickEliminateBtnAction: function() {
o.default.playEffect(r.default.common.btnMusic);
this.importEdit && (this.importEdit.string = "");
this._payAmount = 0;
},
clickPlusBtnAction: function(e, t) {
o.default.playEffect(r.default.common.btnMusic);
var i = parseInt(t);
i < 4 ? this._payAmount += [ 10, 100, 1e3, 1e4, "MAX" ][i] : this._payAmount = parseInt(n.default.coin);
this._payAmount >= parseInt(n.default.coin) && (this._payAmount = parseInt(n.default.coin));
this.importEdit && (this.importEdit.string = this._payAmount + "");
},
clickOk: function(e) {
c.default.clickManager(e.target);
var t = this;
o.default.playEffect(r.default.common.btnMusic);
if (t._payAmount <= 0) {
s.default.createToast("存入金额不能为0");
t._payAmount = 0;
} else if (t._payAmount - n.default.coin > 0) {
s.default.createToast("余额不足");
t.importEdit && (t.importEdit.string = parseInt(n.default.coin) + "");
t._payAmount = parseInt(n.default.coin);
} else {
var i = function() {
l.default.putin({
amount: t._payAmount
}, function() {
s.default.createToast("存入成功");
t.updateUserInfo(function() {
cc.director.emit(d.TAKE_OUT_SAFE_SUCCESS);
});
}, function(e) {
e && 22 == e.status && e.msg && s.default.createToast(e.msg);
});
}, a = cc.sys.localStorage.getItem("_safe_box_today_remind_"), u = !0;
if (1 == (a = "true" == a)) {
var h = new Date(), p = h.getFullYear() + "-" + h.getMonth() + "-" + h.getDate();
cc.sys.localStorage.getItem("_safe_box_today_str_") == p && (u = !1);
}
var g = f.getSafeBoxCoolTime();
u && g > 0 ? t.showCoolTipsDialog(i) : i();
}
},
showCoolTipsDialog: function(e) {
cc.loader.loadRes(h.safeBox.coolTipsPrefab, function(t, i) {
if (i) {
var o = cc.instantiate(i);
o && o.getComponent("SafeBoxTip") && o.getComponent("SafeBoxTip").showDialog(e);
}
});
},
onDestroy: function() {
cc.vv.gameEngineUtil.dumpMemory("SafeBoxIn");
}
});
cc._RF.pop();
}, {
"../../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../../../Script/BaseFormat": "BaseFormat",
"../../../../Script/ProjectConfig": "ProjectConfig",
"../../../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"../../../../Script/UserManager": "UserManager",
"./../../../../Script/GameFramework/ApiMgr": "ApiMgr",
CommonEventName: "CommonEventName",
ComponentRes: "ComponentRes",
NewGameInfo: "NewGameInfo"
} ],
SafeBoxLanguage: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "eb4ceF3vo5P/bILkGjAhtTu", "SafeBoxLanguage");
t.exports = {
put_in: "确认存入",
take_out: "确认取出",
reset_pwd: "重置密码",
set_pwd: "您还可以通过【修改密码】重新设置密码",
hint_set_pwd: "提示：设置密码后，取出金币时需要输入密码。而存入金币的操作依然可以正常进行。",
set_box_pwd: "设置保险柜密码",
putin_success: "存入成功",
takeout_success: "取出成功",
put_in_eypty_err: "存入金额不能为空",
balance_deficiency_err: "余额不足",
take_out_eypty_err: "取出金额不能为空",
reset_pwd_success: "密码重置成功",
set_pwd_success: "密码设置成功",
code_err: "验证码错误",
pwd_err: "密码错误",
pwd_invalid_err: "请输入有效的密码"
};
cc._RF.pop();
}, {} ],
SafeBoxOut: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "3ae98uyCmJJk7CH28eQe3+W", "SafeBoxOut");
var o = d(e("../../../../Script/UserManager")), n = d(e("../../../../Script/BaseFormat")), r = d(e("../../../../Script/Audio/CommonAudioMgr")), a = d(e("../../../../Script/Audio/CommonAudio")), s = d(e("../../../../Script/UI/CommonPrefabMgr")), c = d(e("../../../../Script/LocalStorage/LocalStorageUtil")), l = d(e("../../../../Script/ProjectConfig")), u = d(e("./../../../../Script/GameFramework/ApiMgr"));
function d(e) {
return e && e.__esModule ? e : {
default: e
};
}
var f = e("SafeBoxLanguage"), h = e("CommonEventName"), p = e("ComponentRes");
cc.Class({
extends: cc.Component,
properties: {
myGoldNum: cc.Label,
safeGoldNum: cc.Label,
importEdit: cc.EditBox,
_payAmount: 0,
_isEnterpwd: 0
},
onLoad: function() {
u.default.hasPassword(function(e) {
c.default.saveSafeboxPwd(e.exist_password);
});
},
initContentView: function() {},
onEnable: function() {
this.refreshUserInfo();
this.updateUserInfo();
this.addLabelOutlineWithNode();
},
refreshUserInfo: function() {
this.myGoldNum && (this.myGoldNum.string = n.default.formatAmount(o.default.coin) || 0);
this.safeGoldNum && (this.safeGoldNum.string = n.default.formatAmount(o.default.safe_box) || 0);
},
addLabelOutlineWithNode: function() {
cc.vv.editBoxMgr.addOutlineWithNode(this.importEdit.node);
},
updateUserInfo: function() {
var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null, t = this;
t.importEdit && (t.importEdit.string = "");
t._payAmount = 0;
u.default.refreshUserInfo(function(i) {
o.default.initUser(i);
t.myGoldNum && (t.myGoldNum.string = n.default.formatAmount(o.default.coin) || 0);
t.safeGoldNum && (t.safeGoldNum.string = n.default.formatAmount(o.default.safe_box) || 0);
null != e && "function" == typeof e && e();
});
},
importEdited: function(e) {
if (e && !isNaN(e)) {
parseInt(e) >= parseInt(o.default.safe_box) && (e = parseInt(o.default.safe_box));
this._payAmount = parseInt(e) || 0;
this.importEdit && (this.importEdit.string = parseInt(e) + "" || "0");
}
},
clickEliminateBtnAction: function() {
r.default.playEffect(a.default.common.btnMusic);
this.importEdit && (this.importEdit.string = "");
this._payAmount = 0;
},
clickPlusBtnAction: function(e, t) {
r.default.playEffect(a.default.common.btnMusic);
var i = parseInt(t);
i < 4 ? this._payAmount += [ 10, 100, 1e3, 1e4, "MAX" ][i] : this._payAmount = parseInt(o.default.safe_box);
this._payAmount >= parseInt(o.default.safe_box) && (this._payAmount = parseInt(o.default.safe_box));
this.importEdit && (this.importEdit.string = this._payAmount + "");
},
clickAffirmBtnAction: function(e) {
l.default.clickManager(e.target);
this.clickTakeoutAction(!0);
},
clickTakeoutAction: function(e) {
var t = this;
e && r.default.playEffect(a.default.common.btnMusic);
if (t._payAmount <= 0) {
s.default.createToast(f.take_out_eypty_err);
t.payAmount = 0;
} else if (t._payAmount - o.default.safe_box > 0) {
s.default.createToast(f.balance_deficiency_err);
t.txtRecharge && (t.txtRecharge.string = parseInt(o.default.safe_box));
t.payAmount = parseInt(o.default.safe_box);
} else {
var i = c.default.readSafeboxPwd();
null != i && "true" == i && 0 == t._isEnterpwd ? u.default.getLockedStatus(function(e) {
e && e.ttl_info ? s.default.createToast(e.ttl_info) : t.showPasswordEnter();
}, function() {
t.showPasswordEnter();
}) : u.default.takeout({
amount: t._payAmount
}, function() {
s.default.createToast(f.takeout_success);
t.updateUserInfo(function() {
cc.director.emit(h.TAKE_OUT_SAFE_SUCCESS);
});
}, function(e) {
null != e && null != e.msg && s.default.createToast(e.msg);
});
}
},
showPasswordEnter: function() {
var e = this;
cc.loader.loadRes(p.safeBox.pwdEnterPrefab, function(t, i) {
if (i) {
var o = cc.instantiate(i);
o && o.getComponent("SafeBoxPwdEnter") && o.getComponent("SafeBoxPwdEnter").showDialog(function() {
e._isEnterpwd = 1;
e.clickTakeoutAction(!1);
}.bind(e));
}
});
},
onDestroy: function() {
cc.vv.gameEngineUtil.dumpMemory("SafeBoxOut");
}
});
cc._RF.pop();
}, {
"../../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../../../Script/BaseFormat": "BaseFormat",
"../../../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../../../Script/ProjectConfig": "ProjectConfig",
"../../../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"../../../../Script/UserManager": "UserManager",
"./../../../../Script/GameFramework/ApiMgr": "ApiMgr",
CommonEventName: "CommonEventName",
ComponentRes: "ComponentRes",
SafeBoxLanguage: "SafeBoxLanguage"
} ],
SafeBoxPwdEnter: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "a55f1Q+9VNAuKoq3w1YHkkD", "SafeBoxPwdEnter");
var o = s(e("../../../Script/Audio/CommonAudio")), n = s(e("../../../Script/Audio/CommonAudioMgr")), r = s(e("../../../Script/UI/CommonPrefabMgr")), a = s(e("./../../../Script/GameFramework/ApiMgr"));
function s(e) {
return e && e.__esModule ? e : {
default: e
};
}
var c = e("FormatCheckUtil"), l = e("DialogUtil"), u = e("SafeBoxLanguage"), d = e("ComponentRes");
cc.Class({
extends: cc.Component,
properties: {
editUserPwd: cc.EditBox,
LoginTag: {
default: !0,
visible: !1
}
},
showDialog: function(e) {
var t = {
type: "sprite",
content: d.safeBox.pwdEnterTitleSprite
};
l.addNormalDialog(this.node, t, {
bindDialog: !0
});
this.validSuccessCallback = e;
},
onSubmit: function() {
var e = this;
n.default.playEffect(o.default.common.btnMusic);
var t = void 0;
e.editUserPwd && (t = e.editUserPwd.string);
if (c.checkPassword(t)) {
var i = {
password: t
};
if (e.LoginTag) {
e.LoginTag = !1;
a.default.verifyPwdWithTakeOut(i, function(t) {
e.LoginTag = !0;
if (t.result) {
l.removeNormalDialogByIns(e.node.dialog);
e.validSuccessCallback && e.validSuccessCallback();
} else r.default.createToast(u.pwd_err);
});
}
}
},
onFindPwd: function() {
cc.loader.loadRes(d.safeBox.pwdResetPrefab, function(e, t) {
if (t) {
var i = cc.instantiate(t);
i && i.getComponent("SafeBoxPwdReset") && i.getComponent("SafeBoxPwdReset").showDialog(0);
}
});
}
});
cc._RF.pop();
}, {
"../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"./../../../Script/GameFramework/ApiMgr": "ApiMgr",
ComponentRes: "ComponentRes",
DialogUtil: "DialogUtil",
FormatCheckUtil: "FormatCheckUtil",
SafeBoxLanguage: "SafeBoxLanguage"
} ],
SafeBoxPwdReset: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "3fafembablO5q9jEs2WGIMP", "SafeBoxPwdReset");
var o = u(e("../../../Script/LocalStorage/LocalStorageUtil")), n = u(e("../../../Script/UI/CommonPrefabMgr")), r = u(e("../../../Script/BaseFormat")), a = u(e("../../../Script/UserManager")), s = u(e("../../../Script/Audio/CommonAudio")), c = u(e("../../../Script/Audio/CommonAudioMgr")), l = u(e("./../../../Script/GameFramework/ApiMgr"));
function u(e) {
return e && e.__esModule ? e : {
default: e
};
}
var d = e("PhoneValidCode"), f = e("DialogUtil"), h = e("SafeBoxLanguage"), p = e("ValidCodeEnum"), g = e("FormatCheckUtil"), m = e("ComponentRes");
cc.Class({
extends: cc.Component,
properties: {
phoneNumLab: cc.Label,
codeEdit: cc.EditBox,
pwdEdit: cc.EditBox,
phoneValidObj: d,
LoginTag: {
default: !0,
visible: !1
},
type: cc.String
},
showDialog: function(e, t) {
var i = void 0;
i = 0 == e ? m.safeBox.pwdResetTitleSprite : m.safeBox.pwdSetTitleSprite;
this.type = e;
var o = {
type: "sprite",
content: i
};
f.addNormalDialog(this.node, o, {
bindDialog: !0
});
this.successCallback = t;
this.init();
},
init: function() {
this.phoneNumLab && (this.phoneNumLab.string = r.default.formatPhone(a.default.phone));
var e = {
target: p.target.RESET_BOX,
phone: a.default.phone
};
this.phoneValidObj && this.phoneValidObj.init(e);
},
onSubmit: function() {
var e = this;
c.default.playEffect(s.default.common.btnMusic);
var t = void 0, i = void 0, r = a.default.phone;
e.codeEdit && (t = e.codeEdit.string);
e.pwdEdit && (i = e.pwdEdit.string);
if (g.checkValidCode(t) && g.checkPassword(i)) {
var u = {
phone: r,
verify_code: t,
password: i
};
if (e.LoginTag) {
e.LoginTag = !1;
l.default.resetPassword(u, function(t) {
e.LoginTag = !0;
"1" == e.type ? n.default.createToast(h.set_pwd_success) : n.default.createToast(h.reset_pwd_success);
f.removeNormalDialogByIns(e.node.dialog);
e.successCallback && e.successCallback();
o.default.saveSafeboxPwd("true");
}, function(t) {
e.LoginTag = !0;
n.default.createToast(h.code_err);
});
}
}
}
});
cc._RF.pop();
}, {
"../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../../Script/BaseFormat": "BaseFormat",
"../../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"../../../Script/UserManager": "UserManager",
"./../../../Script/GameFramework/ApiMgr": "ApiMgr",
ComponentRes: "ComponentRes",
DialogUtil: "DialogUtil",
FormatCheckUtil: "FormatCheckUtil",
PhoneValidCode: "PhoneValidCode",
SafeBoxLanguage: "SafeBoxLanguage",
ValidCodeEnum: "ValidCodeEnum"
} ],
SafeBoxPwd: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "da69dGq8cRKa5s8nQyO9WzH", "SafeBoxPwd");
var o = l(e("../../../../Script/UserManager")), n = l(e("../../../../Script/LocalStorage/LocalStorageUtil")), r = l(e("../../../../Script/UI/CommonPrefabMgr")), a = l(e("../../../../Script/Audio/CommonAudio")), s = l(e("../../../../Script/Audio/CommonAudioMgr")), c = l(e("./../../../../Script/GameFramework/ApiMgr"));
function l(e) {
return e && e.__esModule ? e : {
default: e
};
}
var u = e("ComponentRes");
cc.Class({
extends: cc.Component,
properties: {
noPwdLayer: cc.Node,
havePwdLayer: cc.Node
},
onLoad: function() {
this.initData();
},
initContentView: function() {},
initData: function() {
var e = this, t = n.default.readSafeboxPwd();
if (null != t) if ("true" == t) {
e.havePwdLayer && (e.havePwdLayer.active = !0);
e.noPwdLayer && (e.noPwdLayer.active = !1);
} else {
e.havePwdLayer && (e.havePwdLayer.active = !1);
e.noPwdLayer && (e.noPwdLayer.active = !0);
} else c.default.hasPassword(function(t) {
if (t.exist_password) {
e.havePwdLayer && (e.havePwdLayer.active = !0);
e.noPwdLayer && (e.noPwdLayer.active = !1);
} else {
e.havePwdLayer && (e.havePwdLayer.active = !1);
e.noPwdLayer && (e.noPwdLayer.active = !0);
}
n.default.saveSafeboxPwd(t.exist_password);
});
},
resetPwd: function() {
s.default.playEffect(a.default.common.btnMusic);
this.setResetPwdAction(0);
},
setPwd: function() {
s.default.playEffect(a.default.common.btnMusic);
this.setResetPwdAction(1);
},
setResetPwdAction: function(e) {
if (o.default.is_formal) {
var t = this;
cc.loader.loadRes(u.safeBox.pwdResetPrefab, function(i, o) {
if (o) {
var n = cc.instantiate(o);
n && n.getComponent("SafeBoxPwdReset") && n.getComponent("SafeBoxPwdReset").showDialog(e, function() {
t.havePwdLayer && (t.havePwdLayer.active = !0);
t.noPwdLayer && (t.noPwdLayer.active = !1);
}.bind(t));
}
});
} else r.default.createFormalUser();
},
onDestroy: function() {
cc.vv.gameEngineUtil.dumpMemory("SafeBoxPwd");
}
});
cc._RF.pop();
}, {
"../../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"../../../../Script/UserManager": "UserManager",
"./../../../../Script/GameFramework/ApiMgr": "ApiMgr",
ComponentRes: "ComponentRes"
} ],
SafeBoxTip: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "560e5UvK/ZBsaKEVj4B/Jtb", "SafeBoxTip");
var o = r(e("../../../Script/Audio/CommonAudio")), n = r(e("../../../Script/Audio/CommonAudioMgr"));
function r(e) {
return e && e.__esModule ? e : {
default: e
};
}
var a = e("DialogUtil"), s = e("NewGameInfo"), c = e("ComponentRes");
cc.Class({
extends: cc.Component,
properties: {
tipsLabel: cc.Label,
checkBox: cc.Node
},
showDialog: function(e) {
this.callback = e;
var t = {
type: "sprite",
content: c.safeBox.tips_titleSprite
};
a.addNormalDialog(this.node, t, {
bindDialog: !0
});
this.init();
},
init: function() {
var e = cc.sys.localStorage.getItem("_safe_box_today_remind_");
e = "true" == e;
this.checkBox && (this.checkBox.getComponent(cc.Toggle).isChecked = e);
var t = s.getSafeBoxCoolTime();
if (t > 0) {
var i = void 0;
i = t > 60 ? t / 60 + "分钟" : t + "秒";
this.tipsLabel && (this.tipsLabel.string = "金币存入后至少需要等待" + i + "才能取出");
}
},
clickTodayNolongerRemind: function() {},
clickCancel: function() {
n.default.playEffect(o.default.common.btnMusic);
a.removeNormalDialogByIns(this.node.dialog);
},
clickOK: function() {
n.default.playEffect(o.default.common.btnMusic);
var e = new Date(), t = e.getFullYear() + "-" + e.getMonth() + "-" + e.getDate();
cc.sys.localStorage.setItem("_safe_box_today_str_", t);
if (this.checkBox) {
var i = this.checkBox.getComponent(cc.Toggle).isChecked;
cc.sys.localStorage.setItem("_safe_box_today_remind_", i);
}
this.callback && this.callback();
a.removeNormalDialogByIns(this.node.dialog);
}
});
cc._RF.pop();
}, {
"../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
ComponentRes: "ComponentRes",
DialogUtil: "DialogUtil",
NewGameInfo: "NewGameInfo"
} ],
SafeBoxUIMgr: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "d91afx59iRKaILNRzddCZMU", "SafeBoxUIMgr");
var o, n, r = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}();
(function(e) {
e && e.__esModule;
})(e("../../../../Script/ProjectConfig"));
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var s = e("DialogUtil"), c = e("ComponentRes"), l = (n = o = function() {
function e() {
a(this, e);
}
r(e, null, [ {
key: "showView",
value: function() {
s.createDialogWithTypeAction(3);
}
}, {
key: "initUI",
value: function(e) {
this._callBack = e;
var t = [ {
prefabPath: c.safeBox.inPrefab,
prefabScript: "SafeBoxIn"
}, {
prefabPath: c.safeBox.outPrefab,
prefabScript: "SafeBoxOut"
}, {
prefabPath: c.safeBox.pwdPrefab,
prefabScript: "SafeBoxPwd"
} ], i = -1, o = -1;
if (cc.vv.souhu) {
i = 360;
o = 756;
}
var n = {
tabWidth: i,
contentWidth: o
};
this._callBack && this._callBack([ "存入", "取出", "密码" ], t, c.safeBox.titleSprite, 0, n);
}
}, {
key: "initSafeBoxUI",
value: function(e) {
var t = [ {
prefabPath: c.safeBox.inPrefab,
prefabScript: "SafeBoxIn"
}, {
prefabPath: c.safeBox.outPrefab,
prefabScript: "SafeBoxOut"
}, {
prefabPath: c.safeBox.pwdPrefab,
prefabScript: "SafeBoxPwd"
} ], i = -1, o = -1;
if (cc.vv.souhu) {
i = 360;
o = 756;
}
var n = {
tabWidth: i,
contentWidth: o
};
s.createVerticalTabsDialog([ "存入", "取出", "密码" ], t, c.safeBox.titleSprite, e, n);
}
} ]);
return e;
}(), o._callBack = null, n);
t.exports = l;
cc._RF.pop();
}, {
"../../../../Script/ProjectConfig": "ProjectConfig",
ComponentRes: "ComponentRes",
DialogUtil: "DialogUtil"
} ],
SettingView: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "b3e33T9J2ROPbAQsus4HwDp", "SettingView");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = e("./../../Script/UI/CommonPrefabMgr"), a = e("../LocalStorage/LocalStorageUtil"), s = e("./../../Script/Audio/CommonAudioMgr"), c = e("./../../Script/Audio/CommonAudio"), l = e("./../../Script/UserManager"), u = e("TopUpUIMgr"), d = e("NewGameInfo"), f = cc._decorator, h = f.ccclass, p = f.property, g = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.mask = null;
t.btn_sound = null;
t.btn_vibration = null;
t.btn_policy = null;
t.btn_lastDeal = null;
t.dissmissCallback = null;
t.soundCallback = null;
return t;
}
t.prototype.init = function(e) {
var t = e.dissCallback, i = e.soundCallback;
this.dissmissCallback = "function" == typeof t ? t : function() {};
this.soundCallback = "function" == typeof i ? i : function(e) {};
};
t.prototype.closeUI = function() {};
t.prototype.onLoad = function() {};
t.prototype.start = function() {
this.bindEvents();
var e = a.default.readMusicSwitch();
cc.log("sound=" + e);
"false" == e ? this.btn_sound.uncheck() : this.btn_sound.check();
var t = a.default.readMobileVibratorSwitch();
cc.log("vibrator=" + t);
"false" == t ? this.btn_vibration.uncheck() : this.btn_vibration.check();
};
t.prototype.onStart = function() {};
t.prototype.bindEvents = function() {
var e = this;
this.mask.on(cc.Node.EventType.TOUCH_END, function() {
e.onDestroy();
});
this.btn_policy.on(cc.Node.EventType.TOUCH_END, this.onShowPolicyPage.bind(this));
this.btn_lastDeal.on(cc.Node.EventType.TOUCH_END, this.onShowLastDealPage.bind(this));
this.btn_sound.node.on(cc.Node.EventType.TOUCH_END, this.onSoundSetting.bind(this));
this.btn_vibration.node.on(cc.Node.EventType.TOUCH_END, this.onVibrationSetting.bind(this));
var t = new cc.Component.EventHandler();
t.target = this.node;
t.component = "RummySettingView";
t.handler = "onSoundSetting";
this.btn_sound.checkEvents.push(t);
var i = new cc.Component.EventHandler();
i.target = this.btn_sound.node;
i.component = "ToggleStyleSwitcher";
i.handler = "onCheckHandle";
this.btn_sound.checkEvents.push(i);
var o = new cc.Component.EventHandler();
o.target = this.node;
o.component = "RummySettingView";
o.handler = "onVibrationSetting";
this.btn_vibration.checkEvents.push(o);
(i = new cc.Component.EventHandler()).target = this.btn_vibration.node;
i.component = "ToggleStyleSwitcher";
i.handler = "onCheckHandle";
this.btn_vibration.checkEvents.push(i);
};
t.prototype.onShowPolicyPage = function() {
s.default.playEffect(c.default.common.btnMusic);
r.default.showGameRuleDialog(Number(d.current.gameID));
this.onDestroy();
};
t.prototype.onShowLastDealPage = function() {
s.default.playEffect(c.default.common.btnMusic);
l.default.is_formal ? u.showGameTopUpView() : r.default.createRegisterForGifts();
this.onDestroy();
};
t.prototype.onSoundSetting = function() {
s.default.playEffect(c.default.common.btnMusic);
if ("false" == a.default.readMusicSwitch()) {
a.default.saveMusicSwitch("true");
a.default.saveEffectSwitch("true");
this.soundCallback(!0);
} else {
a.default.saveMusicSwitch("false");
a.default.saveEffectSwitch("false");
s.default.stopMusic();
this.soundCallback(!1);
}
s.default.changeEffectSwitch();
};
t.prototype.onVibrationSetting = function() {
s.default.playEffect(c.default.common.btnMusic);
"false" == a.default.readMobileVibratorSwitch() ? a.default.saveMobileVibratorSwitch("true") : a.default.saveMobileVibratorSwitch("false");
};
t.prototype.onDestroy = function() {
this.dissmissCallback();
this.node.destroy();
};
n([ p(cc.Node) ], t.prototype, "mask", void 0);
n([ p(cc.Toggle) ], t.prototype, "btn_sound", void 0);
n([ p(cc.Toggle) ], t.prototype, "btn_vibration", void 0);
n([ p(cc.Node) ], t.prototype, "btn_policy", void 0);
n([ p(cc.Node) ], t.prototype, "btn_lastDeal", void 0);
return t = n([ h ], t);
}(cc.Component);
i.default = g;
cc._RF.pop();
}, {
"../LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"./../../Script/Audio/CommonAudio": "CommonAudio",
"./../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"./../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"./../../Script/UserManager": "UserManager",
NewGameInfo: "NewGameInfo",
TopUpUIMgr: "TopUpUIMgr"
} ],
Setting: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "a3364++WFVAZKQ782q7iQQ9", "Setting");
var o = s(e("../../Script/Audio/CommonAudioMgr")), n = s(e("../../Script/Audio/CommonAudio")), r = s(e("../../Script/LocalStorage/LocalStorageUtil")), a = s(e("../../Script/UserManager"));
function s(e) {
return e && e.__esModule ? e : {
default: e
};
}
var c = e("CommonEventName"), l = e("DialogUtil"), u = e("ComponentRes"), d = e("GameEngineUtil"), f = e("TrackUtil");
cc.Class({
extends: cc.Component,
properties: {
effectSwith: cc.Node,
musicSwith: cc.Node,
version: {
default: null,
type: cc.Label
},
account: {
default: null,
type: cc.Label
},
_playBgmCallBack: null
},
onLoad: function() {
this.initData();
},
initData: function() {
var e = r.default.readMobileVibratorSwitch(), t = r.default.readMusicSwitch();
if (this.musicSwith) {
var i = cc.find("switch_frame/switchon", this.musicSwith), o = cc.find("switch_frame/switchoff", this.musicSwith), n = cc.find("switch_frame/switch_btn", this.musicSwith), s = 0;
if ("false" == t) {
i && (i.active = !1);
o && (o.active = !0);
s = 0;
} else {
i && (i.active = !0);
o && (o.active = !1);
s = 50;
}
n && n.setPosition(cc.v2(s, 0));
}
if (this.effectSwith) {
var c = 0, l = cc.find("switch_frame/switchon", this.effectSwith), u = cc.find("switch_frame/switchoff", this.effectSwith), d = cc.find("switch_frame/switch_btn", this.effectSwith);
if ("false" == e) {
l && (l.active = !1);
u && (u.active = !0);
c = 0;
} else {
l && (l.active = !0);
u && (u.active = !1);
c = 50;
}
d && d.setPosition(cc.v2(c, 0));
}
this.version.string = GAMECONFIG.HOT_CODE;
this.account && (a.default.is_formal ? this.account.string = a.default.phone : this.account.string = "Guest" + a.default.uid);
},
showDialog: function(e) {
if (e) this.initData(); else {
this.initData();
var t = {
type: "sprite",
content: u.pathPhoto.setTitle
};
l.addNormalDialog(this.node, t, {
width: 1e3,
height: 628
});
}
},
onMusicButtonClick: function() {
d.trackEvent(f.usercentermusicchange);
o.default.playEffect(n.default.common.btnMusic);
var e = r.default.readMusicSwitch();
if (this.musicSwith) {
var t = cc.find("switch_frame/switchon", this.musicSwith), i = cc.find("switch_frame/switchoff", this.musicSwith), a = cc.find("switch_frame/switch_btn", this.musicSwith), s = 0;
if ("false" == e) {
r.default.saveMusicSwitch("true");
r.default.saveEffectSwitch("true");
t && (t.active = !0);
i && (i.active = !1);
s = 50;
this._playBgmCallBack && this._playBgmCallBack();
} else {
r.default.saveMusicSwitch("false");
r.default.saveEffectSwitch("false");
o.default.stopMusic();
t && (t.active = !1);
i && (i.active = !0);
s = 0;
}
a && a.runAction(cc.sequence(cc.delayTime(.01), cc.moveTo(.1, s, 0)));
o.default.changeEffectSwitch();
}
},
onEffectButtonClick: function() {
o.default.playEffect(n.default.common.btnMusic);
var e = r.default.readMobileVibratorSwitch();
if (this.effectSwith) {
var t = cc.find("switch_frame/switchon", this.effectSwith), i = cc.find("switch_frame/switchoff", this.effectSwith), a = cc.find("switch_frame/switch_btn", this.effectSwith), s = 50;
if ("false" == e) {
r.default.saveMobileVibratorSwitch("true");
t && (t.active = !0);
i && (i.active = !1);
s = 50;
} else {
r.default.saveMobileVibratorSwitch("false");
t && (t.active = !1);
i && (i.active = !0);
s = 0;
}
a && a.runAction(cc.sequence(cc.delayTime(.01), cc.moveTo(.1, s, 0)));
}
},
setMusicRes: function(e) {
this.musicRes = e;
},
setPlayBgmCallBack: function(e) {
this._playBgmCallBack = e;
},
setExitCallback: function(e) {
this.exitCallback = e;
},
initSetting: function() {
var e = this;
if (e.effectSwith && e.effectSwith.getChildByName("switchon") && e.effectSwith.getChildByName("switchoff")) {
e.effectSwith.getChildByName("switchon").on("touchend", function(t) {
o.default.playEffect(n.default.common.btnMusic);
e.effectSwith.getChildByName("switchon").active = !1;
e.effectSwith.getChildByName("switchoff").active = !0;
var i = e.effectSwith.getChildByName("switch_btn");
if (i) {
i.stopAllActions();
i.runAction(cc.moveTo(.25, cc.v2(-170, 74)));
}
r.default.saveUserDataEvent({
effect: "false"
});
o.default.changeEffectSwitch();
}, this);
e.effectSwith.getChildByName("switchoff").on("touchend", function(t) {
o.default.playEffect(n.default.common.btnMusic);
e.effectSwith.getChildByName("switchoff").active = !1;
e.effectSwith.getChildByName("switchon").active = !0;
var i = e.effectSwith.getChildByName("switch_btn");
if (i) {
i.stopAllActions();
i.runAction(cc.moveTo(.25, cc.v2(-70, 74)));
}
r.default.saveUserDataEvent({
effect: "true"
});
o.default.changeEffectSwitch();
}, this);
}
if (e.musicSwith && e.musicSwith.getChildByName("switchon") && e.musicSwith.getChildByName("switchoff")) {
e.musicSwith.getChildByName("switchon").on("touchend", function(t) {
o.default.playEffect(n.default.common.btnMusic);
e.musicSwith.getChildByName("switchon").active = !1;
e.musicSwith.getChildByName("switchoff").active = !0;
var i = e.musicSwith.getChildByName("switch_btn");
if (i) {
i.stopAllActions();
i.runAction(cc.moveTo(.25, cc.v2(210, 74)));
}
r.default.saveUserDataEvent({
sound: "false"
});
o.default.stopMusic();
}, this);
e.musicSwith.getChildByName("switchoff").on("touchend", function(t) {
o.default.playEffect(n.default.common.btnMusic);
e.musicSwith.getChildByName("switchoff").active = !1;
e.musicSwith.getChildByName("switchon").active = !0;
var i = e.musicSwith.getChildByName("switch_btn");
if (i) {
i.stopAllActions();
i.runAction(cc.moveTo(.25, cc.v2(310, 74)));
}
r.default.saveUserDataEvent({
sound: "true"
});
e._playBgmCallBack && e._playBgmCallBack();
}, this);
}
},
LogMyOut: function() {
d.trackEvent(f.usercentersignoutbtnonclick);
var e = cc.find("Canvas/UserCenter");
if (!e || 1 === e.scale) {
o.default.playEffect(n.default.common.btnMusic);
o.default.stopAll();
a.default.exitLogin(this.exitCallback);
this.exitCallback;
}
},
dismiss: function() {
o.default.playEffect(n.default.common.btnMusic);
this.node.getComponent("CommonDialog") && this.node.getComponent("CommonDialog").dismiss();
cc.director.emit(c.RedEnvelopeEnable);
}
});
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../Script/UserManager": "UserManager",
CommonEventName: "CommonEventName",
ComponentRes: "ComponentRes",
DialogUtil: "DialogUtil",
GameEngineUtil: "GameEngineUtil",
TrackUtil: "TrackUtil"
} ],
SgView: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "9a1d3XqKSlIyJO4Wq9rh+ks", "SgView");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = cc._decorator, a = r.ccclass, s = r.property, c = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.sgbg = null;
t.interval = 0;
t.delay = 0;
t.startdelay = 0;
t.nodewidth = 0;
t.nodeheight = 0;
return t;
}
t.prototype.init = function(e, t, i, o) {
this.interval = t;
this.delay = i;
this.startdelay = o;
this.nodewidth = this.node.width;
this.nodeheight = this.node.height;
0 == e && this.node.setPosition(0, -12);
this.sgbg.setPosition(-this.nodewidth / 2, this.nodeheight / 2);
};
t.prototype.onLoad = function() {
this.scheduleOnce(this.doAnimation, this.startdelay);
};
t.prototype.doAnimation = function() {
var e = this;
(function() {
e.sgbg.setPosition(-e.nodewidth / 2, e.nodeheight / 2);
var t = cc.moveTo(e.interval, cc.v2(e.nodewidth / 2 + 50, -e.nodeheight / 2 - 50)).easing(cc.easeOut(1.5, 0)), i = cc.delayTime(e.delay), o = cc.callFunc(function() {
e.doAnimation();
});
e.sgbg.runAction(cc.sequence(t, i, o));
})();
};
t.prototype.start = function() {};
n([ s(cc.Node) ], t.prototype, "sgbg", void 0);
return t = n([ a ], t);
}(cc.Component);
i.default = c;
cc._RF.pop();
}, {} ],
StartAndStopAnim: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "cb94fNTYq1I+IL7Ep6bAGVq", "StartAndStopAnim");
var o = r(e("../../Script/Audio/CommonAudioMgr")), n = r(e("../../Script/Audio/CommonAudio"));
function r(e) {
return e && e.__esModule ? e : {
default: e
};
}
cc.Class({
extends: cc.Component,
properties: {
startNode: cc.Node,
endNode: cc.Node,
_isShowEndBetAnim: !1
},
onLoad: function() {},
init: function() {
this._isShowEndBetAnim = !1;
this.node.opacity = 0;
this.startNode && (this.startNode.opacity = 0);
this.endNode && (this.endNode.opacity = 0);
},
playStartBetAnimAction: function(e) {
var t = this;
o.default.playMultiEffect(n.default.brc.Show, !1, 1);
o.default.playMultiEffect(n.default.brc.Start, !1, 1);
t.node.opacity = 255;
if (t.startNode) {
t.startNode.opacity = 255;
t.startNode.runAction(cc.sequence(cc.delayTime(1), cc.callFunc(function() {
t.init();
})));
e && e();
}
t.endNode && (t.endNode.opacity = 0);
},
playEndBetAnimAction: function(e) {
var t = this;
if (!t._isShowEndBetAnim) {
o.default.playMultiEffect(n.default.brc.Show, !1, 1);
o.default.playMultiEffect(n.default.brc.Stop, !1, 1);
t.node.opacity = 255;
t.startNode && (t.startNode.opacity = 0);
if (t.endNode) {
t.endNode.opacity = 255;
t.endNode.runAction(cc.sequence(cc.delayTime(1), cc.callFunc(function() {
t.init();
})));
e && e();
}
t._isShowEndBetAnim = !0;
}
}
});
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr"
} ],
SystemDialog: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "60383ZRvGpLDZe6bM62n6ty", "SystemDialog");
var o = r(e("../../../Script/Audio/CommonAudioMgr")), n = r(e("../../../Script/Audio/CommonAudio"));
function r(e) {
return e && e.__esModule ? e : {
default: e
};
}
var a = e("FullScreenAdapter");
cc.Class({
extends: cc.Component,
properties: {
txtMessage: cc.Label,
btnPositive: cc.Button,
btnNegative: cc.Button,
txtPositive: cc.RichText,
txtNegative: cc.RichText,
closeBtnNode: cc.Node
},
onLoad: function() {
a.applyHorizon(this.node.getChildByName("mask"));
},
init: function(e, t, i, o, n, r) {
var a = !(arguments.length > 6 && void 0 !== arguments[6]) || arguments[6];
this.basecontentheight = 130.4;
if (this.node) {
this.node.setPosition(0, 5e3);
this.node.opacity = 0;
this.node.scale = .01;
}
r && this.showCloseBtn();
"string" == typeof e && e.length, cc.isValid(this.txtMessage);
if (this.txtMessage && this.txtMessage.node) if ("string" == typeof e) {
this.txtMessage.node.active = !0;
e.length > 0 ? (cc.vv.beautifulgame, this.txtMessage.string = e.toString()) : this.txtMessage.string = "The game has been updated. Please download the latest version.";
} else this.txtMessage.node.active = !1;
if (this.btnPositive && this.btnPositive.node) if ("string" == typeof t) {
this.btnPositive.node.active = !0;
this.txtPositive.string = "<color=#ffffff><outline  color=#49620f with=2.5><b>" + t.toString() + "</b></outline></color>";
} else this.btnPositive.node.active = !1;
if (this.btnNegative && this.btnNegative.node) if ("string" == typeof o) {
this.btnNegative.node.active = !0;
this.txtNegative.string = "<color=#ffffff><outline  color=#850b0b with=2.5><b>" + o.toString() + "</b></outline></color>";
} else this.btnNegative.node.active = !1;
this.positiveCallback = "function" == typeof i ? i : function() {};
this.negativeCallback = "function" == typeof n ? n : function() {};
a || this.doHideTileContent();
this.refreshButtonWidth();
this.show();
},
initWithCountdown: function(e, t, i, o, n, r, a, s) {
var c = !(arguments.length > 8 && void 0 !== arguments[8]) || arguments[8], l = this;
l.basecontentheight = 130.4;
if (l.node) {
l.node.setPosition(0, 5e3);
l.node.opacity = 0;
l.node.scale = .01;
}
if (l.txtMessage && l.txtMessage.node) if ("string" == typeof e && "string" == typeof t) {
l.txtMessage.node.active = !0;
var u = i, d = e + u + t;
l.txtMessage.string = d.toString();
l.schedule(function() {
var i = e + --u + t;
l.txtMessage.string = i.toString();
0 == u && l.countdownFinishAction();
}, 1, i, 0);
} else l.txtMessage.node.active = !1;
if (this.btnPositive && this.btnPositive.node) if ("string" == typeof n) {
this.btnPositive.node.active = !0;
this.txtPositive.string = "<color=#ffffff><outline  color=#49620f with=2.5><b>" + n.toString() + "</b></outline></color>";
} else this.btnPositive.node.active = !1;
if (this.btnNegative && this.btnNegative.node) if ("string" == typeof a) {
this.btnNegative.node.active = !0;
this.txtNegative.string = "<color=#ffffff><outline  color=#850b0b with=2.5><b>" + a.toString() + "</b></outline></color>";
} else this.btnNegative.node.active = !1;
this.countdownCallback = "function" == typeof o ? o : function() {};
this.positiveCallback = "function" == typeof r ? r : function() {};
this.negativeCallback = "function" == typeof s ? s : function() {};
cc.log("show");
if (!c) {
cc.log("isshowtitlecontent");
l.doHideTileContent();
}
l.refreshButtonWidth();
this.show();
},
onEnable: function() {},
refreshButtonWidth: function() {
var e = 0, t = this.btnPositive.node.width, i = this.btnNegative.node.width, o = this.txtPositive.node.width, n = this.txtNegative.node.width;
if ((e = n > o ? n : o) + 30 > t) {
this.btnPositive.node.width = e + 30;
this.btnNegative.node.width = e + 30;
}
cc.log("btnPositivewidth=" + t);
cc.log("btnNegativewidth=" + i);
cc.log("txtPositivewidth=" + o);
cc.log("txtNegative=" + n);
},
doHideTileContent: function() {
var e = cc.find("content/title", this.node), t = cc.find("content/titleline", this.node), i = cc.find("content/txt_message", this.node), o = cc.find("content", this.node);
if (cc.isValid(e) && cc.isValid(t)) {
e.active = !1;
t.active = !1;
}
if (cc.isValid(i)) {
var n = i.getComponent(cc.Widget);
if (n) {
o.height = o.height - 104;
n.top = 50;
n.bottom = 127;
}
}
},
show: function() {
var e = this;
e.scheduleOnce(function() {
if (cc.isValid(e.txtMessage.node)) {
var t = e.txtMessage.node.height;
if (t > e.basecontentheight) {
var i = cc.find("content", e.node);
cc.isValid(i) && (i.height = i.height + (t - e.basecontentheight));
}
}
}, .1);
if (cc.isValid(e.node)) {
e.node.setPosition(0, 0);
e.node.opacity = 0;
e.node.scale = 0;
e.node.active = !0;
e.node.runAction(cc.sequence(cc.spawn(cc.fadeTo(.15, 255), cc.scaleTo(.15, 1.1)), cc.scaleTo(.15, 1))).easing(cc.easeSineOut());
}
},
dismiss: function() {
n.default.common && n.default.common.btnMusic && o.default.playEffect(n.default.common.btnMusic);
this.closeAlertAction();
},
countdownFinishAction: function() {
this.countdownCallback();
this.dismiss();
},
onClickPositive: function() {
this.positiveCallback();
this.dismiss();
},
onClickNegative: function() {
this.negativeCallback();
this.dismiss();
},
showCloseBtn: function() {
cc.isValid(this.closeBtnNode) && (this.closeBtnNode.active = !0);
},
closeAlertAction: function() {
cc.isValid(this.node) && this.node.runAction(cc.sequence(cc.scaleTo(.08, 1.1), cc.scaleTo(.1, 0), cc.delayTime(.2), cc.callFunc(function() {
this.destroy();
}, this.node))).easing(cc.easeIn(3));
},
adaptSizeByText: function(e) {
var t = this, i = cc.find("content", this.node), o = i.width, n = i.height, r = cc.find("content/titleline", this.node), a = r.width, s = cc.find("content/buttons", this.node).getComponent(cc.Layout), c = s.spacingX;
this.txtMessage._lineCount > 3 && function l(u) {
var d = t.txtMessage.lineHeight * (u - 3), f = d / n * o;
i.height = n + d;
i.width = o + f;
r.width = a + f;
s.spacingX = c + f / 2;
t.txtMessage.maxWidth = i.width - 60;
t.txtMessage.string = e.toString();
t.txtMessage._lineCount > u && u < 6 && l(u + 1);
}(4);
}
});
cc._RF.pop();
}, {
"../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
FullScreenAdapter: "FullScreenAdapter"
} ],
TableSeatFrame: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "380d4aUrxBB+I3X4repLdC3", "TableSeatFrame");
var o = a(e("../../Script/BaseFormat")), n = a(e("../../Script/UserManager")), r = a(e("../../Script/ProjectConfig"));
function a(e) {
return e && e.__esModule ? e : {
default: e
};
}
var s = e("TableSeatModel"), c = e("CommonFunction"), l = e("NewGameInfo"), u = e("FullScreenAdapter");
cc.Class({
extends: cc.Component,
properties: {
playerArr: {
default: [],
type: cc.Node
},
awardBgImg: {
default: [],
type: cc.SpriteFrame
},
awardFonts: {
default: [],
type: cc.Font
},
starNode: cc.Prefab
},
onLoad: function() {
u.applyHorizon(this.node);
},
init: function(e, t) {
this.allPlayersId = [ 0, 0, 0, 0, 0, 0 ];
this.playerBetAmounts = [ 0, 0, 0, 0, 0, 0 ];
this.localUserModels = [ {}, {}, {}, {}, {}, {} ];
this.userAvatorActionIsDone = [ !1, !1, !1, !1, !1, !1 ];
this.areaStars = [];
this.starEndPos = e || [];
if ("function" == typeof t) {
for (var i = [], o = 0, n = this.playerArr.length; o < n; o++) {
var r = this.playerArr[o];
if (cc.isValid(r)) {
var a = cc.find("playerFrame/headFrame", r);
a && i.push(a);
}
}
t(i);
}
},
disposeBestUserBetInfoAction: function(e) {
if (null != this.starNode) {
var t = [];
t = l.current.gameID == r.default.GAME_TYPE.NEW_LONGHUDOU ? this.getAreaStarsByGameID() : this.starEndPos;
for (var i = 0; i < t.length; i++) {
var o = cc.instantiate(this.starNode);
o.position = cc.v2(560, 200);
cc.isValid(this.node.parent) && this.node.parent.addChild(o);
o.opacity = 0;
this.areaStars.push(o);
}
for (var n in e) {
if (l.current.gameID === r.default.GAME_TYPE.NEW_SHARK) {
n = {
31: 2,
32: 2,
3: 2,
13: 0,
12: 1,
11: 3,
14: 4,
21: 5,
22: 6,
1: 7,
2: 8,
23: 9,
24: 10
}[n];
}
cc.log("this star position is " + t);
var a = this.areaStars[n];
if (a) {
a.opacity = 255;
for (var s = 0; s < 10; s++) {
var c = a.getChildByName("star" + (s + 1));
if (c) {
c.stopAllActions();
var u = .6, d = n;
l.current.gameID === r.default.GAME_TYPE.NEW_SHARK && (u = .5);
c.scale = u;
c.setPosition(t[d]);
}
}
}
}
}
},
updateUserInfoAction: function(e) {
if (e) for (var t = 0, i = this.localUserModels.length; t < i; t++) {
var o = e[t], n = this.localUserModels[t];
if (o) {
var r = null;
o.ID && o.UserName && (r = new s(o));
if (null != r) {
this.allPlayersId[t] = r.ID;
if (this.playerArr) {
var a = this.playerArr[t];
if (cc.isValid(a)) {
var c = cc.find("playerFrame", a), l = cc.find("emptyFrame", a);
c && (c.opacity = 255);
l && (l.opacity = 0);
if (n.ID && n.UserName) if (r.ID == n.ID) t <= 1 && this.showUserGoldAction(a, r, t); else {
this.showUserAvatarAction(a, r);
this.showUserNameAction(a, r);
t <= 1 && this.showUserGoldAction(a, r, t);
} else {
this.showUserAvatarAction(a, r);
this.showUserNameAction(a, r);
t <= 1 && this.showUserGoldAction(a, r, t);
}
this.localUserModels[t] = r;
}
}
} else {
if (this.playerArr) {
var u = this.playerArr[t];
if (cc.isValid(u)) {
var d = cc.find("playerFrame", u), f = cc.find("emptyFrame", u);
d && (d.opacity = 0);
f && (f.opacity = 255);
}
}
this.localUserModels[t] = {};
this.allPlayersId[t] = 0;
}
} else {
if (this.playerArr) {
var h = this.playerArr[t];
if (cc.isValid(h)) {
var p = cc.find("playerFrame", h), g = cc.find("emptyFrame", h);
p && (p.opacity = 0);
g && (g.opacity = 255);
}
}
this.localUserModels[t] = {};
this.allPlayersId[t] = 0;
}
}
},
showUserNameAction: function(e, t) {
var i = null;
(i = cc.find("playerFrame/moneyFrame/nameBg/nameLab", e)) && (i.getComponent(cc.Label).string = t.UserName);
},
showUserAvatarAction: function(e, t) {
var i = cc.find("playerFrame/headFrame/mask/avatar", e);
if (i) {
var o = c.getAvatarFromAtlas(t.Avatar, t.Gender);
i.getComponent(cc.Sprite).spriteFrame = o;
}
},
showUserGoldAction: function(e, t, i) {
var n = cc.find("playerFrame/moneyFrame/moneyBg/moneyLab", e);
if (n) {
t.Credit < 0 && (t.Credit = 0);
n.getComponent(cc.Label).string = "₹ " + o.default.formatAmount(t.Credit / 1e3);
}
},
updateUserGoldWithAwardAction: function(e, t) {
var i = this.playerArr[t];
if (cc.isValid(i)) {
var n = cc.find("playerFrame/moneyFrame/moneyBg/moneyLab", i);
if (n) {
e < 0 && (e = 0);
n.getComponent(cc.Label).string = "₹ " + o.default.formatAmount(e / 1e3);
}
}
},
confirmPlayerWinAction: function(e, t) {
var i = [];
for (var o in e) for (var n = e[o], r = n.Award - n.Cost, a = 0, s = this.allPlayersId.length; a < s; a++) {
var c = this.allPlayersId[a];
null != c && o == c && r > 0 && i.push(a);
}
"function" == typeof t && t(i);
},
showAwardAnimAction: function(e) {
var t = this;
if (null != e) for (var i in e) {
var n = e[i];
cc.log("this award is " + n.Award + " cost " + n.Cost);
var r = 0;
r = n.Award > 0 ? n.Award - n.Cost : n.Award;
if (null != i && null != r) for (var a = function(e, a) {
var s = t.allPlayersId[e];
if (null != s && s > 0 && i == s) {
l = 0;
if (r > 0) l = 0; else {
if (!(r < 0)) return "continue";
l = 1;
}
var c = t.playerArr[e];
if (cc.isValid(c)) {
var u = cc.find("playerFrame/showAward", c), d = t.awardBgImg[l], f = t.awardFonts[l], h = cc.find("award", u);
if (u && d && f && h) {
if (r > 0) {
h.getComponent(cc.Label).fontSize = 27;
h.getComponent(cc.Label).string = "+" + o.default.formatAmount(r / 1e3);
var p = c.getChildByName("particle_tx_win");
if (p && p.getComponent(cc.ParticleSystem)) {
p.opacity = 255;
p.getComponent(cc.ParticleSystem).resetSystem();
t.scheduleOnce(function() {
if (cc.isValid(p)) {
p.getComponent(cc.ParticleSystem).stopSystem();
p.opacity = 0;
}
}, 1);
}
} else if (r < 0) {
h.getComponent(cc.Label).fontSize = 24;
var g = Math.round(100 * r) / 100;
h.getComponent(cc.Label).string = "-" + o.default.formatAmount(Math.abs(g) / 1e3);
}
e < 2 && t.updateUserGoldWithAwardAction(n.After, e);
t.scheduleOnce(function() {
if (cc.isValid(u)) {
u.opacity = 255;
u.getComponent(cc.Sprite).spriteFrame = d;
h.getComponent(cc.Label).font = f;
u.stopAllActions();
u.x = 0;
if (e < 2) {
u.y = -50;
u.runAction(cc.sequence(cc.moveTo(2.5, cc.v2(0, cc.vv.souhu ? 120 : 90)).easing(cc.easeOut(10)), cc.fadeOut(.1), cc.moveTo(.1, cc.v2(0, -50))));
} else {
u.y = -45;
u.runAction(cc.sequence(cc.moveTo(2.5, cc.v2(0, cc.vv.souhu ? 80 : 50)).easing(cc.easeOut(10)), cc.fadeOut(.1), cc.moveTo(.1, cc.v2(0, -45))));
}
}
}, .6);
}
}
}
}, s = 0, c = t.allPlayersId.length; s < c; s++) {
var l;
a(s);
}
}
},
hideAwardAnimAction: function() {
for (var e = 0, t = this.playerArr.length; e < t; e++) {
var i = this.playerArr[e];
cc.isValid(i);
}
for (var o = 0; o < this.areaStars.length; o++) {
var n = this.areaStars[o];
n.position = cc.v2(560, 200);
n.opacity = 0;
for (var r = 0; r < 10; r++) {
var a = n.getChildByName("star" + (r + 1));
if (a) {
a.stopAllActions();
a.position = cc.v2(0, 0);
}
}
}
this.playerBetAmounts = [ 0, 0, 0, 0, 0, 0 ];
},
seatPlayerBetAction: function(e, t) {
var i = !1, o = e.UserID;
if (o) {
var r = e.Info;
if (r) {
for (var a = 0, s = this.allPlayersId.length; a < s; a++) {
if (o == this.allPlayersId[a]) {
i = !0;
for (var c in r) {
var l = r[c];
if (l) {
o != n.default.uid && "function" == typeof t && t(c, a, l);
this.showUserAvatorNodeActiom(a);
0 == a && this.showStarAnimAction(c);
this.playerBetAmounts[a] += l.Total;
}
}
0 != a && 1 != a || this.updateUserGoldAction(e, a);
}
}
return i;
}
}
},
updateUserGoldAction: function(e, t) {
var i = e.After || 0, n = this.playerArr[t];
if (cc.isValid(n)) {
var r = cc.find("playerFrame/moneyFrame/moneyBg/moneyLab", n);
r && (r.getComponent(cc.Label).string = "₹ " + o.default.formatAmount(i / 1e3));
}
},
updateUserGoldWithMe: function(e) {
for (var t = -1, i = e.UserID || 0, o = 0, n = this.allPlayersId.length; o < n; o++) {
var r = this.allPlayersId[o];
if (null != r && i == r) {
t = o;
break;
}
}
if (-1 != t) {
this.updateUserGoldAction(e, t);
this.showUserAvatorNodeActiom(t);
}
if (0 == t) {
var a = e.Info;
if (a) for (var s in a) this.showStarAnimAction(parseInt(s));
}
},
showUserAvatorNodeActiom: function(e) {
var t = this, i = t.playerArr[e];
if (cc.isValid(i)) {
var o = cc.find("playerFrame/headFrame", i);
if (o && !t.userAvatorActionIsDone[e]) {
t.userAvatorActionIsDone[e] = !0;
var n = cc.sequence(cc.moveBy(.1, 30, 0), cc.moveBy(.1, -30, 0), cc.callFunc(function() {
t.userAvatorActionIsDone[e] = !1;
}));
0 != e && 3 != e && 5 != e || (n = cc.sequence(cc.moveBy(.1, -30, 0), cc.moveBy(.1, 30, 0), cc.callFunc(function() {
t.userAvatorActionIsDone[e] = !1;
})));
o.stopAllActions();
o.runAction(n);
}
}
},
showStarAnimAction: function(e) {
var t = l.current.gameID;
if (t === r.default.GAME_TYPE.NEW_SHARK) {
e = {
31: 2,
32: 2,
3: 2,
13: 0,
12: 1,
11: 3,
14: 4,
21: 5,
22: 6,
1: 7,
2: 8,
23: 9,
24: 10
}[e];
}
var i = this.areaStars[parseInt(e)];
if (!(i && i.opacity > 0) && i && i.opacity <= 0) {
i.opacity = 255;
var o = [ 1.5, 1, 1, 1 ];
t === r.default.GAME_TYPE.NEW_SHARK && (o = [ 1.5, 1.5, 1, 1, 1, 1.5, 1.5, 1, 1, 1, 1 ]);
var n = [];
n = l.current.gameID == r.default.GAME_TYPE.NEW_LONGHUDOU ? this.getAreaStarsByGameID() : this.starEndPos;
for (var a = [ cc.v2(0, -250), cc.v2(200, 250), n[e] ], s = 0; s < 10; s++) {
var c = i.getChildByName("star" + (s + 1));
c.stopAllActions();
c.runAction(cc.sequence(cc.delayTime(.05 * s), cc.bezierBy(o[e], a), cc.scaleTo(.1, t === r.default.GAME_TYPE.NEW_SHARK ? .5 : .6)));
}
}
},
getAreaStarsByGameID: function() {
var e = [];
l.current.gameID == r.default.GAME_TYPE.NEW_LONGHUDOU && ("beautifulgame" == r.default.variable.curSkin ? e = [ cc.v2(-779, -238.5), cc.v2(-341, -238.5), cc.v2(-240, -78.5) ] : "handsome" == r.default.variable.curSkin && (e = [ cc.v2(-779, -250), cc.v2(-341, -250), cc.v2(-240, -76.5) ]));
return e;
}
});
cc._RF.pop();
}, {
"../../Script/BaseFormat": "BaseFormat",
"../../Script/ProjectConfig": "ProjectConfig",
"../../Script/UserManager": "UserManager",
CommonFunction: "CommonFunction",
FullScreenAdapter: "FullScreenAdapter",
NewGameInfo: "NewGameInfo",
TableSeatModel: "TableSeatModel"
} ],
TableSeatListItem: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "dc0a7W+5oxDE7JVk/ATsgju", "TableSeatListItem");
var o = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("../../Script/BaseFormat"));
var n = e("CommonFunction");
cc.Class({
extends: cc.Component,
properties: {
RankBgArr: {
type: cc.SpriteFrame,
default: []
},
RankBgSprite: cc.Sprite,
RankLabel: cc.Label,
Avatar: cc.Sprite,
NameLabel: cc.Label,
MoneyLabel: cc.Label,
BetLabel: cc.Label,
WinLabel: cc.Label,
RangeLabel: cc.Label,
itemID: 0
},
initData: function(e) {
if (e && this.RankBgArr && 2 === this.RankBgArr.length) {
this.itemID = e.rank;
if (e.rank <= 8) if (0 === e.rank) {
if (this.RankBgSprite) {
this.RankBgSprite.spriteFrame = this.RankBgArr[0];
this.RankBgSprite.node.y = 0;
cc.vv.souhu && (this.RankBgSprite.node.x = -330);
}
this.RankLabel && (this.RankLabel.string = "");
} else {
if (this.RankBgSprite) {
this.RankBgSprite.spriteFrame = this.RankBgArr[1];
cc.vv.beautifulgame && (this.RankBgSprite.node.y = 12);
if (cc.vv.souhu) {
this.RankBgSprite.node.x = -346;
this.RankBgSprite.node.y = 0;
}
}
cc.vv.beautifulgame && this.RankLabel && (this.RankLabel.string = "富豪NO." + e.rank);
cc.vv.souhu && this.RankLabel && (this.RankLabel.string = "NO." + e.rank);
} else {
if (this.RankBgSprite) {
this.RankBgSprite.spriteFrame = null;
cc.vv.beautifulgame && (this.RankBgSprite.node.y = 25);
if (cc.vv.souhu) {
this.RankBgSprite.node.y = 0;
this.RankBgSprite.node.x = -375;
}
}
this.RankLabel && (this.RankLabel.string = "NO." + e.rank);
}
var t = e.avatar || "", i = 0;
void 0 != e.gender && null != e.gender && (i = e.gender);
var r = n.getAvatarFromAtlas(t, i);
this.Avatar && r && (this.Avatar.spriteFrame = r);
this.NameLabel && (this.NameLabel.string = e.user_name);
this.MoneyLabel && (this.MoneyLabel.string = o.default.formatAmount(e.credit));
this.BetLabel && (this.BetLabel.string = o.default.formatAmount(e.bet_amount));
this.WinLabel && (this.WinLabel.string = e.win_count + "局");
this.RangeLabel && (this.RangeLabel.string = "近" + e.range + "局");
}
}
});
cc._RF.pop();
}, {
"../../Script/BaseFormat": "BaseFormat",
CommonFunction: "CommonFunction"
} ],
TableSeatList: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "afceeBxUYhDRZFWuLu0DNS2", "TableSeatList");
var o = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("./../../Script/GameFramework/ApiMgr"));
var n = e("DialogUtil");
cc.Class({
extends: cc.Component,
properties: {
ContentNode: cc.Node,
ScrollView: cc.ScrollView,
TableListItem: cc.Prefab
},
init: function() {
this.spawnCount = 4;
this.totalCount = 0;
this.spacing = -10;
this.itemTemplateHeight = 126;
this.items = [];
this.updateTimer = 0;
this.updateInterval = .2;
this.lastContentPosY = 0;
this.bufferZone = this.spawnCount * (this.itemTemplateHeight + this.spacing) / 2;
},
showDialog: function(e) {
var t = "";
cc.vv.beautifulgame && (t = "beautifulgame/common/texture/game/ds_commcon_title_text_wjlb");
cc.vv.souhu && (t = "handsome/common/texture/dialogTitle/common_dialog_title_text_wjlb");
var i = {
type: "sprite",
content: t
}, r = {};
cc.vv.souhu && (r = {
width: 900,
height: 580
});
n.addNormalDialog(this.node, i, r);
var a = this;
a.init();
o.default.getTableUsers(e, function(e) {
if (e && e.list && e.list.length > 0 && a.TableListItem) {
if (!a.ContentNode) return;
a.ContentNode.removeAllChildren();
a.data = e.list;
for (var t = !1, i = 0; i < a.data.length; i++) if (a.data[i]) {
a.data[i].rank = i;
a.data[i].range = e.range;
} else t = !0;
a.totalCount = e.list.length;
a.ContentNode.height = t ? (a.totalCount - 1) * (a.itemTemplateHeight + a.spacing) + a.spacing : a.totalCount * (a.itemTemplateHeight + a.spacing) + a.spacing;
a.totalCount < a.spawnCount && (a.spawnCount = a.totalCount);
for (var o = 0; o < a.spawnCount; ++o) if (a.data[o]) {
var n = cc.instantiate(a.TableListItem);
a.ContentNode.addChild(n);
var r = t && o > 0 ? o - 1 : o;
n.setPosition(0, -n.height * (.5 + r) - a.spacing * (r + 1));
n.getComponent("TableSeatListItem").initData(a.data[o]);
a.items.push(n);
}
}
});
},
getPositionInView: function(e) {
var t = e.parent.convertToWorldSpaceAR(e.position);
return this.ScrollView.node.convertToNodeSpaceAR(t);
},
update: function(e) {
this.updateTimer += e;
if (!(this.updateTimer < this.updateInterval)) {
this.updateTimer = 0;
for (var t = this.items, i = this.ContentNode.y < this.lastContentPosY, o = (this.itemTemplateHeight + this.spacing) * t.length, n = 0, r = 0; r < t.length; ++r) {
var a = this.getPositionInView(t[r]);
if (i) {
n = t[r].y + o;
if (a.y < -this.bufferZone && n < 0) {
t[r].y = n;
var s = t[r].getComponent("TableSeatListItem"), c = s.itemID - t.length;
s.initData(this.data[c]);
}
} else {
n = t[r].y - o;
if (a.y > this.bufferZone && n > -this.ContentNode.height) {
t[r].y = n;
var l = t[r].getComponent("TableSeatListItem"), u = l.itemID + t.length;
l.initData(this.data[u]);
}
}
}
this.lastContentPosY = this.ScrollView.content.y;
}
}
});
cc._RF.pop();
}, {
"./../../Script/GameFramework/ApiMgr": "ApiMgr",
DialogUtil: "DialogUtil"
} ],
TableSeatModel: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "8d57fNpVBJGXbp8CRyiabQN", "TableSeatModel");
var o, n;
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var a = (n = o = function e(t) {
r(this, e);
this.ID = t.ID || "";
this.Credit = t.Credit || 0;
this.Gender = t.Gender || 0;
this.Avatar = t.Avatar || "";
this.UserName = t.UserName || "";
}, o.ID = "", o.Credit = 0, o.Gender = 0, o.Avatar = "", o.UserName = "", n);
t.exports = a;
cc._RF.pop();
}, {} ],
"TeenPatti.proto": [ function(e, t, i) {
"use strict";
cc._RF.push(t, "a73a5iEWcpC5Y7zWoy22KAl", "TeenPatti.proto");
t.exports = '\nsyntax = "proto3";\npackage msg;\n\n// 对时，服务端存活探测, id=0\nmessage Ping {\n    int64 Timestamp = 1;\n}\n\n//对时，服务端返回当前时间，id=99\nmessage Pong {\n    int64 Timestamp = 1;\n}\n//错误码\nenum STATUS {\n    OK = 0;\n    UNKNOWN_ERROR = 1; // 未知错误\n    NOT_AUTH = 2; // 需要重新认证\n    TOKEN_INVALID = 3; // token错误\n    INSUFFICIENT = 4; // 余额不足\n    REDIRECT = 5; // 需要用户重连到另外的服务器\n    IDLE_TIMEOUT = 6; //闲置时间过长\n    DUP_LOGIN = 7; //Deprecated: 在别处登录，现在统一使用3\n    PARAM_ERROR = 8; //参数错误\n    SERVER_CLOSED = 9;//服务器已经关闭\n}\n\n//错误信息，id: 100\nmessage ErrorST {\n    int64 Timestamp = 1; //毫秒级时间戳，下同\n    STATUS Status = 2;\n    string Msg = 3;\n}\n\n//消息后缀为ST，表示一种状态；为EV表示用户触发的某种事件；为NT表示服务端生成的通知\n//消息后缀为Req，表示客户端向服务端发送的请求\n//---------------------------基础结构----------------------------\nenum PATTERN {\n    OFFSUIT = 0; //散牌\n    PAIR = 1; //对子\n    FLUSH = 2; //同花\n    SEQ = 3; //顺子\n    FLUSH_SEQ = 4; // 同花顺\n    TRIPLE = 5; //豹子\n}\n\n// 参考旧游戏的设计\n// wait--\x3eprepare: 状态凑人数, 人数凑齐后立即进入prepare状态\n// prepare--\x3eplay: 再过3秒会重新检查人数，少于最小人数2，取消prepare状态, 回到wait状态;否则进入play\n// play--\x3esettle: 场上只剩下一名玩家时3秒钟之后进入结算状态，游戏结束\n// settle--\x3ewait: 结算完毕后, 自动进入wait状态, (此处应该再检查人数)5秒钟后进入prepare状态\nenum STAGE {\n    WAIT = 0; //等待\n    PREPARE = 1; //准备\n    SHUFFLE = 2; //发牌\n    PLAY = 3; //出牌\n    SETTLE = 4; //结算\n}\n\n// 手牌\nmessage CardGroup {\n    PATTERN Pattern = 1; //与上面的枚举对应\n    repeated int32 Cards = 2; // 固定三张牌\n    int32 AbsRank = 3; // 牌型的绝对大小，用于手牌比较\n    int32 MaxRank = 4; // 最大牌大小\n}\n\n//----------------------------客户端请求--------------------------\n//用户认证，id:1，用户认证后自动进入准备状态\nmessage AuthReq {\n    int64 Timestamp = 1;\n    uint64 UserID = 2;\n    string Token = 3;\n    int32 RoomKind = 4; //房间类别的索引，例如新手区，高手区， 就是0, 1\n    int32 Version = 5; //客户端版本，现在传0就行\n    bool IsReconnect = 6; //如果用户是点击返回游戏进来的，会将上一局游戏结果(108)推送过去，然后用户要点击继续游戏才会变成准备状态\n    string IP = 7; //客户端上传ip\n}\n//用户离开房间，id:2\nmessage UserOutReq {\n    int64 Timestamp = 1;\n    int32 ChairNo = 2;\n}\n//用户请求更换牌桌, id:3\nmessage ChangeTableReq {\n    int64 Timestamp = 1;\n}\n//用户请求弃牌, id:4\nmessage FoldReq {\n    int64 Timestamp = 1;\n}\n//用户请求看牌, id:5\nmessage CheckReq {\n    int64 Timestamp = 1;\n}\n//用户请求比牌, id:6\nmessage CompareReq {\n    int64 Timestamp = 1;\n}\n// 用户拒绝/接受比牌操作, id: 61\nmessage CompareAcceptReq {\n    int64 Timestamp = 1;\n    int32 DestChair = 2;\n    int32 SrcChair = 3;\n    bool Accepted = 4;\n    int32 Count = 5;\n}\n//用户请求跟注, id:7\nmessage CallReq {\n    int64 Timestamp = 1;\n    bool Raise = 2; // 是否加注\n}\n//用户请求show, id:10\nmessage PkAllReq {\n    int64 Timestamp = 1;\n}\n//用户请求allin\nmessage AllInReq {\n    int64 Timestamp = 1;\n}\n//同步用户手牌, id:11;返回用户的状态数据(101)\nmessage SyncUserReq {\n    int64 Timestamp = 1;\n}\n//更新防超时弃牌开关状态, id:12;\nmessage AntiTimeoutReq {\n    int64 Timestamp = 1;\n    bool Switch = 2; // true:打开, false:关闭\n}\n\n//--------------------------服务端推送------------------------------\n//用户状态，id=101\nmessage UserST {\n    uint64 ID = 1;\n    string UserName = 2;\n    int64 Credit = 3;\n    string Avatar = 4;\n    bool Gender = 5;\n    int32 Status = 6; // 0:准备中，1：游戏中，2：弃牌，3: 比牌失败, 4: 获胜\n    uint64 RoomID = 7;\n    int32 Chair = 8; // 0:尚未分配座位，1-5，座位编号\n    bool Checked = 9; //是否看牌, false:未看牌，true:已看牌\n    bool IsBanker = 10; //是否庄家, false:否，true:是\n    repeated int32 Cards = 11; //手牌，只有用户看牌时才有该字段\n    int64 BetAmount = 12; //用户本局下注金额\n    int64 LastActiveAt = 13; //用户最后活跃时间\n    string ServerAddr = 14; //用户实际连接的服务器\n    int32 TurnCount = 15; //玩家的回合数，初始为0\n    int64 UnSyncedWin = 16; //未落库的金币数\n    int32 QuitFlag = 17; //断线标记, 1: 已断线\n    string Addr = 18; //用户地址\n    bool AntiTimeout = 19; //防超时开关\n    string Channel = 20; //用户渠道\n    int32 Action = 21; //用户动作  0:没有动作，1:跟注，2:SideShow\n}\n//游戏状态，id:102，当进入房间或游戏开始倒计时(prepare)会一次性发送给客户端\nmessage RoomST {\n    int64 Timestamp = 1; //当前时间戳\n    uint64 ID = 2; //房间ID\n    STAGE Stage = 3; //游戏阶段\n    map<int32, UserST> Users = 4; //记录座位的实时玩家信息, key是座位号，value是玩家信息\n    int32 ActiveChair = 5; //当前轮的座位号\n    int64 NextTS = 6; //到下一玩家的时间戳, 0表示不存在倒计时\n    int32 LastPlayer = 7; //上一轮的座位号\n    int32 BankerChair = 8; //庄家座位号, 0表示没有庄家\n    int64 Base = 9; //当前底注\n    int32 DoubleCount = 10; //房间的双倍加注次数, 在加注封顶之前为0\n    int64 TotalBet = 11; //牌桌上的筹码\n    int32 Kind = 12; //房间类型\n    int32 TurnCount = 13; //房间回合数，初始为0\n    int32 MaxTurnCount = 14; //房间最大回合数\n    int64 MaxBet = 15; //个人最大投注筹码\n    int64 MaxPool = 16; //奖池最大筹码\n    int32 MaxBlind = 17; //最大盲注轮数\n}\n// 用户进入房间，id：103\nmessage UserInEV {\n    int64 Timestamp = 1;\n    UserST user = 2;\n}\n// 用户退出房间(用户主动退出/被踢出房间)，id：104\nmessage UserOutEV {\n    int64 Timestamp = 1;\n    int32 ChairNo = 2;\n    int32 OutReason = 3;  //2:超时弃牌 1:余额不符合场次 0:正常\n}\n//广播游戏准备, id: 105\nmessage PrepareNT {\n    int64 Timestamp = 1;\n    int64 NextTS = 2; //游戏开始的时间戳, 用于客户端准备倒计时\n}\n//广播游戏准备取消, id: 106\nmessage PrepareCancelNT {\n    int64 Timestamp = 1;\n}\n//广播通知用户操作(看牌/跟注/加注/双倍加注/比牌/pkall)，id：107\nmessage PlayNT {\n    int64 Timestamp = 1;\n    int32 Chair = 2;\n    int64 NextTS = 3; //叫牌结束时间戳，用于客户端提醒用户叫牌倒计时\n    int32 TurnCount = 4; //房间回合数，初始为0\n}\n//广播用户看牌，id: 108\nmessage CheckEV {\n    int64 Timestamp = 1;\n    int32 Chair = 2;\n    repeated int32 Chairs = 3;\n}\n//广播用户弃牌，id: 109\nmessage FoldEV {\n    int64 Timestamp = 1;\n    int32 Chair = 2;\n    bool  IsTimeOut = 3;\n}\n//广播用户下注/跟注，id: 110\nmessage CallEV {\n    int64 Timestamp = 1;\n    int32 Chair = 2;\n    int64 BetAmount = 3; //跟注筹码金额\n    int64 Base = 4; // 该用户操作后的房间底注\n    bool Raise = 5; // 该用户是否加注, 方便机器人策略\n}\n\n// 先判断done, false 表示用户发起比牌请求, true表示比牌的结果\n// 再判断Accepted, false表示用户拒绝比牌，为true时再取其他值\nmessage CompareEV {\n    int64 Timestamp = 1;\n    int32 SourceChair = 2;\n    int32 DestChair = 3;\n    int64 BetAmount = 4; //比牌筹码金额\n    int32 Count = 5; //筹码倍数(客户端展示筹码个数)\n    bool HasWin = 6; //比牌结果，false:输，true:赢\n    bool Accepted = 7; // false: 拒绝比牌\n    bool Done = 8; // true: 比牌结果, false: 比牌请求\n    int32 compareCount = 9; // 房间内的比牌次数\n    CardGroup DestCards = 10;\n    CardGroup SrcCards = 11;\n}\n//广播用户PKAll，id: 114\nmessage PkAllEV {\n    int64 Timestamp = 1;\n    int32 Chair = 2;\n    int64 BetAmount = 3; //pkall投注金额\n    bool HasWin = 4; //pkall结果，false:输，true:赢\n    uint64 WinUserId = 5;\n    int64 EndAmount = 6; //pkall结算金额\n}\n\n//广播用户AllIn，id: 118\nmessage AllInEV {\n    int64 Timestamp = 1;\n    int32 Chair = 2;\n    int64 BetAmount = 3; //allin投注金额\n    bool HasWin = 4; //allin结果，false:输，true:赢\n    uint64 WinUserId = 5;\n    int64 EndAmount = 6; //pkall结算金额\n}\n//结算结果，id:115\nmessage ComputeST {\n    int64 Timestamp = 1;\n    int32 WinnerChair = 2; //赢家座位号\n    int64 Award = 3; //本局获得的金币\n    map<int32, CardGroup> Info = 4; //各个座位亮牌\n    bool Action = 5; //是否强制结算\n    int32 LastChair  = 6; //强制结算最后操作座位号\n    int64 LastPot = 7; //强制结算当前结算奖池\n    int64 LastCallBet = 8; //强制结算最后投注金额\n}\n';
cc._RF.pop();
}, {} ],
TeenPattiAudioMgr: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "91fbasmw4VGEpHDWaBE6cIq", "TeenPattiAudioMgr");
var o = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}(), n = a(e("../../../Script/Audio/CommonAudioMgr")), r = a(e("../../../Script/Audio/CommonAudio"));
function a(e) {
return e && e.__esModule ? e : {
default: e
};
}
function s(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var c = e("TeenPattiRes").audio, l = function() {
function e() {
s(this, e);
}
o(e, null, [ {
key: "selfPlayEffect",
value: function(e) {
n.default.playEffect(e, !1, 1);
}
}, {
key: "playBGM",
value: function() {
n.default.playMusic(c.Bgm);
}
}, {
key: "playBoss",
value: function() {
n.default.playMusic(r.default.dzc.boss);
}
}, {
key: "playReady",
value: function() {
this.selfPlayEffect(c.Ready);
}
}, {
key: "playCardDeal",
value: function() {
n.default.playEffect(c.Deal, !1, .4);
}
}, {
key: "playClock5Remind",
value: function() {
this.selfPlayEffect(c.clockAudio);
}
}, {
key: "stopClock5Remind",
value: function() {
cc.loader.loadRes(c.clockAudio, function(e, t) {
if (!e) {
var i = cc.audioEngine.play(t, !1, 1);
cc.log("this audioID is " + i);
n.default.stopEffect(i);
}
});
}
}, {
key: "playGameWin",
value: function() {
this.selfPlayEffect(c.winAudio);
}
}, {
key: "playGenzhu",
value: function(e) {
var t = 0 == e ? c.genzhuW[Math.floor(Math.random() * c.genzhuW.length)] : c.genzhuM[Math.floor(Math.random() * c.genzhuM.length)];
this.selfPlayEffect(t);
}
}, {
key: "playJiazhu",
value: function(e) {
var t = 0 == e ? c.jiazhuW[Math.floor(Math.random() * c.jiazhuW.length)] : c.jiazhuM[Math.floor(Math.random() * c.jiazhuM.length)];
this.selfPlayEffect(t);
}
}, {
key: "playKanPai",
value: function(e) {
var t = 0 == e ? c.kanpaiW : c.kanpaiM;
this.selfPlayEffect(t);
}
}, {
key: "playQiPai",
value: function(e) {
var t = 0 == e ? c.qipaiW[Math.floor(Math.random() * c.qipaiW.length)] : c.qipaiM[Math.floor(Math.random() * c.qipaiM.length)];
this.selfPlayEffect(t);
}
}, {
key: "playPK",
value: function(e) {
var t = 0 == e ? c.pkW[Math.floor(Math.random() * c.pkW.length)] : c.pkM[Math.floor(Math.random() * c.pkM.length)];
this.selfPlayEffect(t);
}
} ]);
return e;
}();
t.exports = l;
cc._RF.pop();
}, {
"../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
TeenPattiRes: "TeenPattiRes"
} ],
TeenPattiButton: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "f9510xjMn1OjrhGLZ33aFM2", "TeenPattiButton");
var o = s(e("../../../Script/Audio/CommonAudioMgr")), n = s(e("../../../Script/Audio/CommonAudio")), r = s(e("../../../Script/ProjectConfig")), a = s(e("../../../Script/UserManager"));
e("../../../Component/ServiceRecharge/GeneralMessageModel");
function s(e) {
return e && e.__esModule ? e : {
default: e
};
}
var c = e("TeenPattiSocketSend"), l = e("TeenPattiGlobal"), u = e("TeenPattiModel").FT_USER_STATUS, d = e("TeenPattiSocketMgr"), f = e("TeenPattiInfo"), h = (e("TeenPattiAudioMgr"), 
e("GameEngineUtil")), p = e("TrackUtil"), g = e("TeenPattiRes");
cc.Class({
extends: cc.Component,
properties: {
btnFold: cc.Node,
btnCompare: cc.Node,
chipUnitNode: cc.Node,
btnlessChip: cc.Node,
btnAddChip: cc.Node,
coinValueLabel: cc.Label,
acceptCompareNode: cc.Node,
timerSprite: cc.Node,
sureCompareBtn: cc.Button,
refuseCompareBtn: cc.Button,
compareProgressBar: cc.ProgressBar,
btnLook: cc.Node,
btnAdd: cc.Node,
btnKeep: cc.Node,
btnKeepEnd: cc.Node,
maskAddCoin: cc.Node,
btnChange: cc.Node,
btnAvoidQuit: cc.Node,
avoidQuitAnimationNode: cc.Node,
avoidQuitNode: cc.Node,
_canFold: !0,
_canCheck: !0,
_canDouble: !0,
_canCall: !0,
bottombgnode: cc.Node
},
init: function(e, t, i, o, n, r, a) {
this.bindAddCoinEvent();
this.btnCompareLogic = e;
this.btnKeepEndLogic = t;
this.btnAcceptCompareLogic = r;
this.btnRefuseCompareLogic = a;
this.reconnectSocketCallback = i;
this.btnAvoidQuitLogic = o;
this.btnChangeTableCallback = n;
var s = (cc.winSize.width - 1280) / 2;
cc.vv.beautifulgame && this.btnAvoidQuit && (this.btnAvoidQuit.x -= s);
cc.director.off("userSeenPork", this.btnLookClicked, this);
cc.director.on("userSeenPork", this.btnLookClicked, this);
var c = this, l = cc.sys.localStorage.getItem("showedAvoidQuit");
if (null == l || "1" !== l) {
cc.sys.localStorage.setItem("showedAvoidQuit", "1");
if (c.avoidQuitAnimationNode && c.avoidQuitNode) {
c.avoidQuitNode.active = !0;
c.avoidQuitAnimationNode.runAction(cc.sequence(cc.sequence(cc.moveTo(.1, 0, 70), cc.moveTo(.1, 0, 55), cc.moveTo(.1, 0, 70), cc.moveTo(.1, 0, 55), cc.moveTo(.1, 0, 70), cc.moveTo(.1, 0, 55), cc.delayTime(.5)).repeat(10), cc.callFunc(function() {
c.avoidQuitAnimationNode.stopAllActions();
c.avoidQuitNode.active = !1;
})));
}
}
cc.isValid(c.bottombgnode) && (c.bottombgnode.zIndex = -1);
},
closeAvoidQuitAnim: function() {
if (this.avoidQuitAnimationNode && this.avoidQuitNode) {
this.avoidQuitAnimationNode.stopAllActions();
this.avoidQuitNode.active = !1;
}
},
btnFoldClicked: function() {
o.default.playMultiEffect(n.default.common.btnMusic);
h.trackEvent(p.teenpattidiscardcardsonclick);
r.default.clickManager(this.btnFold);
if (1 == this._canFold) {
c.fold();
this._canFold = !1;
}
cc.director.emit("hideUserSeenBtnMethod");
this.hideAddCoin();
},
resetCanFold: function(e) {
this._canFold = e;
},
showCompareUIMethod: function(e, t) {
var i = this, o = {
positiveCallback: function() {
i.sureAcceptCompareClick();
},
negativeCallback: function() {
i.cancelAcceptCompareClick();
}
};
o.nickname = t.getChildByName("user_wrapper").getChildByName("nick").getComponent(cc.Label).string;
o.headsprite = t.getChildByName("user_wrapper").getChildByName("avatar_mask").getChildByName("avatar").getComponent(cc.Sprite).spriteFrame;
o.downtime = 15;
var n = r.default.getSceneCanvas();
cc.loader.releaseRes(g.prefabPath.requestsideshowdialog);
cc.loader.loadRes(g.prefabPath.requestsideshowdialog, function(e, t) {
var i = null;
if (t) {
i = cc.instantiate(t);
if (cc.isValid(i)) {
i.getComponent("TeenpattiSideShowRequestDialog") && i.getComponent("TeenpattiSideShowRequestDialog").init(o);
cc.isValid(n) && n.addChild(i, 1e3);
}
}
});
f.cacheData = e;
},
showtimeUIMethod: function(e) {
this.acceptCompareNode.getChildByName("timer").getChildByName("text").getComponent(cc.Label).string = e.toString();
},
closeTimerUIMethod: function() {
this.acceptCompareNode.active = !1;
},
sureAcceptCompareClick: function() {
this.acceptCompareNode.active = !1;
f.compareResultTimer && clearInterval(f.compareResultTimer);
r.default.clickManager(this.sureCompareBtn);
this.btnAcceptCompareLogic && this.btnAcceptCompareLogic(f.cacheData, f.compareType);
},
cancelAcceptCompareClick: function() {
this.acceptCompareNode.active = !1;
f.compareResultTimer && clearInterval(f.compareResultTimer);
r.default.clickManager(this.refuseCompareBtn);
this.btnRefuseCompareLogic && this.btnRefuseCompareLogic(f.cacheData, f.compareType);
},
addChipBtnClick: function() {
h.trackEvent(p.teenpattiannotationclick);
var e = this.coinValueLabel.string.substring(1);
if (parseInt(1e3 * e) >= f.bet_max) {
this.btnlessChip.getComponent(cc.Button).interactable = !1;
this.btnAddChip.getComponent(cc.Button).interactable = !1;
} else if (f.betRaise) {
this.btnlessChip.getComponent(cc.Button).interactable = !0;
this.btnAddChip.getComponent(cc.Button).interactable = !1;
} else {
var t = 2 * e;
this.coinValueLabel.string = "₹" + t.toFixed(2);
f.betRaise = !0;
this.btnlessChip.getComponent(cc.Button).interactable = !0;
this.btnAddChip.getComponent(cc.Button).interactable = !1;
}
},
lessChipBtnClick: function() {
var e = this.coinValueLabel.string.substring(1);
if (parseInt(1e3 * e) <= f.betChip) {
this.btnlessChip.getComponent(cc.Button).interactable = !1;
this.btnAddChip.getComponent(cc.Button).interactable = !0;
} else if (f.betRaise) {
var t = e / 2;
this.coinValueLabel.string = "₹" + t.toFixed(2);
f.betRaise = !1;
this.btnlessChip.getComponent(cc.Button).interactable = !1;
this.btnAddChip.getComponent(cc.Button).interactable = !0;
}
},
showCurrentChip: function(e) {
cc.log("this user coin is " + a.default.coin);
f.playerCurrentBalance < e / 1e3 ? this.coinValueLabel.string = "₹" + f.playerCurrentBalance.toFixed(2) : this.coinValueLabel.string = "₹" + (e / 1e3).toFixed(2);
this.btnlessChip.getComponent(cc.Button).interactable = !1;
this.btnAddChip.getComponent(cc.Button).interactable = !0;
e == f.bet_max && (this.btnAddChip.getComponent(cc.Button).interactable = !1);
if (f.playerCurrentBalance < e / 1e3 * 2) {
this.btnlessChip.getComponent(cc.Button).interactable = !1;
this.btnAddChip.getComponent(cc.Button).interactable = !1;
}
},
getCurrentChip: function() {
var e = this.coinValueLabel.string.substring(1);
return parseInt(e);
},
btnCompareClicked: function() {
o.default.playMultiEffect(n.default.common.btnMusic);
r.default.clickManager(this.btnCompare);
this.btnCompareLogic && this.btnCompareLogic();
this.hideAddCoin();
this.btnlessChip.getComponent(cc.Button).interactable = !1;
this.btnAddChip.getComponent(cc.Button).interactable = !1;
this.btnKeep.getComponent(cc.Button).interactable = !1;
this.btnCompare.getComponent(cc.Button).interactable = !1;
},
btnLookClicked: function() {
o.default.playMultiEffect(n.default.common.btnMusic);
if (1 == this._canCheck) {
this.messageSendLogic(l.gameStatus.CHECK, function() {
cc.log("执行看牌几次");
c.check();
});
this._canCheck = !1;
}
this.hideAddCoin();
},
resetCanCheck: function(e) {
this._canCheck = e;
},
btnAddClicked: function() {
o.default.playMultiEffect(n.default.common.btnMusic);
r.default.clickManager(this.btnAdd);
if (this.btnAdd && this.btnAdd.getChildByName("text1") && this.btnAdd.getChildByName("text1").active && 1 == this._canDouble) {
this.messageSendLogic(l.gameStatus.DOUBLE, function() {
c.double();
});
this._canDouble = !1;
}
},
resetCanDouble: function(e) {
this._canDouble = e;
},
btnKeepClicked: function() {
o.default.playMultiEffect(n.default.common.btnMusic);
h.trackEvent(p.teenpattifollowuponclick);
this.messageSendLogic(l.gameStatus.KEEP, function() {
f.betChip == f.bet_max ? c.call(!1) : c.call(!!f.betRaise);
});
this.hideAddCoin();
},
messageSendLogic: function(e, t) {
var i = this;
if (null != d.flowerSocket && null != d.flowerSocket.webSocket && d.flowerSocket.webSocket.readyState == WebSocket.OPEN) {
if (e == l.gameStatus.KEEP) {
t();
l.isCalling = !0;
} else if (e == l.gameStatus.ADD) {
t();
l.isAddCoining = !0;
var o = setTimeout(function() {
1 == l.isAddCoining && i.reconnectSocketCallback && i.reconnectSocketCallback(t);
clearTimeout(o);
}, 2e3);
} else if (e == l.gameStatus.CHECK) {
t();
l.isChecking = !0;
} else if (e == l.gameStatus.DOUBLE) {
t();
l.isDoubleing = !0;
var n = setTimeout(function() {
t();
1 == l.isDoubleing && i.reconnectSocketCallback && i.reconnectSocketCallback(t);
clearTimeout(n);
}, 2e3);
}
} else this.reconnectSocketCallback && this.reconnectSocketCallback(t);
},
resetCanCall: function(e) {
this._canCall = e;
},
btnKeepEndClick: function() {
o.default.playMultiEffect(n.default.common.btnMusic);
this.hideAddCoin();
this.btnKeepEndLogic && this.btnKeepEndLogic();
},
btnChangeClick: function() {
o.default.playMultiEffect(n.default.common.btnMusic);
r.default.clickManager(this.btnChange);
c.change();
this.btnChangeTableCallback && this.btnChangeTableCallback();
},
btnAvoidClick: function() {},
setAddCoinStake: function(e) {
this.maskAddCoin && this.maskAddCoin.children.forEach(function(t, i) {
var o = t.getComponent("ChipFrame");
if (o) {
o.initValueWithInfoAction(e[i + 1], i + 1, 1);
o.setEnable(!0);
}
});
},
bindAddCoinEvent: function() {
for (var e = this, t = function(t) {
e.maskAddCoin && e.maskAddCoin.children && e.maskAddCoin.children[t] && e.maskAddCoin.children[t].on("click", function(i) {
e.messageSendLogic(l.gameStatus.ADD, function() {
c.raise(t + 1);
});
e.maskAddCoin.active = !1;
}, e);
}, i = 0; i < e.maskAddCoin.childrenCount; i++) t(i);
},
hideAddCoin: function() {
this.maskAddCoin && (this.maskAddCoin.active = !1);
},
showAddCoin: function() {
var e = this.btnAdd.position.x, t = e + 150;
cc.vv.souhu ? t = e + 150 : cc.vv.beautifulgame && (t = e + 605);
var i = this.maskAddCoin.y;
if (this.maskAddCoin) {
this.maskAddCoin.active = !0;
this.maskAddCoin.setPosition(t, i);
}
},
disableAddCoin: function(e) {
this.maskAddCoin && this.maskAddCoin.children && this.maskAddCoin.children.forEach(function(t, i) {
i <= e - 1 && t && t.getComponent("ChipFrame") && t.getComponent("ChipFrame").setEnable(!1);
});
},
disableAddCoinByBalance: function(e, t) {
var i = this;
e && e.forEach(function(e, o) {
o > 0 && t < e && i.maskAddCoin && i.maskAddCoin.children && i.maskAddCoin.children[o - 1].getComponent("ChipFrame").setEnable(!1);
});
},
hideAllBtns: function(e, t) {
this.btnFold.active = !1;
this.btnCompare.active = !1;
this.btnLook.active = !1;
this.btnAdd.active = !1;
this.btnKeep.active = !1;
this.chipUnitNode.active = !1;
this.btnlessChip.active = !1;
this.btnAddChip.active = !1;
e && (this.btnKeepEnd.active = !1);
t && (this.btnChange.active = !1);
this.maskAddCoin.active = !1;
this.refreshBottombgViewShow();
},
refreshBottombgViewShow: function() {
for (var e = !1, t = this.node.children, i = 0; i < t.length; i++) if (0 != i) {
if (t[i].active) {
e = !0;
break;
}
}
this.bottombgnode.active = e;
},
setAddVisible: function(e) {
this.btnAdd.active = e;
this.refreshBottombgViewShow();
},
setFoldVisible: function(e) {
this.btnFold.active = e;
this.refreshBottombgViewShow();
},
setCompareVisible: function(e) {
this.btnCompare.active = e;
this.refreshBottombgViewShow();
},
setLookVisible: function(e) {
this.btnLook.active = e;
this.refreshBottombgViewShow();
},
setKeepVisible: function(e) {
this.btnKeep.active = e;
this.refreshBottombgViewShow();
},
setKeepEndVisible: function(e) {
this.btnKeepEnd.active = e;
this.refreshBottombgViewShow();
},
setChangeVisible: function(e) {
this.btnChange.active = e;
this.refreshBottombgViewShow();
},
setBtnChangeByState: function(e) {
this.btnChange.active = e == u.Null || e == u.Prepare || e == u.Quit || e == u.Compare_Lose;
this.refreshBottombgViewShow();
},
showAddHideDouble: function() {
this.btnAdd.getChildByName("text1") && (this.btnAdd.getChildByName("text1").active = !0);
this.btnAdd.getChildByName("text2") && (this.btnAdd.getChildByName("text2").active = !1);
this.refreshBottombgViewShow();
},
showDoubleHideAdd: function() {
this.btnAdd.getChildByName("text1") && (this.btnAdd.getChildByName("text1").active = !1);
this.btnAdd.getChildByName("text2") && (this.btnAdd.getChildByName("text2").active = !0);
this.refreshBottombgViewShow();
},
setKeepEndChecked: function(e) {
this.btnKeepEnd && (this.btnKeepEnd.getComponent(cc.Toggle).isChecked = e);
},
getKeepEndChecked: function() {
return !!this.btnKeepEnd && this.btnKeepEnd.getComponent(cc.Toggle).isChecked;
},
setAvoidQuitChecked: function(e) {
this.btnAvoidQuit && (this.btnAvoidQuit.getComponent(cc.Toggle).isChecked = e);
},
getAvoidQuitChecked: function() {
return !!this.btnAvoidQuit && this.btnAvoidQuit.getComponent(cc.Toggle).isChecked;
},
statusPrepare: function() {
this.setChangeVisible(!1);
this.showAddHideDouble();
this.hideAllBtns(!0, !0);
this.setKeepEndChecked(!1);
this.setAddCoinStake(l.betCoinValue);
},
statusJoin: function() {
this.hideAllBtns(!0, !0);
this.setKeepEndChecked(!1);
},
statusGameBegin: function() {
this.hideAllBtns(!0, !0);
},
statusCompare: function() {
this.hideAllBtns(!0, !1);
},
statusCompute: function() {
this.hideAllBtns(!0, !1);
},
statusMyTurn: function(e, t, i, o, n) {
this.hideAllBtns(!0, !0);
this.btnFold.active = !0;
this.chipUnitNode.active = !0;
this.btnlessChip.active = !0;
this.btnAddChip.active = !0;
this.btnCompare.active = !0;
if (f.isPeeked) if (e > t / 1e3) {
this.btnKeep.active = !0;
this.btnKeep.getComponent(cc.Button).interactable = !0;
this.btnKeep.getChildByName("text").getComponent(cc.Label).string = "Chaal";
if (1 == n.length) {
this.btnCompare.getComponent(cc.Button).interactable = !0;
this.btnCompare.getChildByName("text").getComponent(cc.Label).string = "Show";
} else if (n.length >= 2) {
var r = !1;
f.userSeenArray.indexOf(n[n.length - 1]) > -1 && (r = !0);
if (r) {
this.btnCompare.getComponent(cc.Button).interactable = !0;
this.btnCompare.getChildByName("text").getComponent(cc.Label).string = "Side Show";
} else this.btnCompare.active = !1;
}
} else {
this.btnKeep.active = !0;
this.btnKeep.getComponent(cc.Button).interactable = !1;
this.btnCompare.active = !0;
this.btnCompare.getComponent(cc.Button).interactable = !0;
this.btnCompare.getChildByName("text").getComponent(cc.Label).string = "All In";
} else if (e > t / 1e3) {
this.btnKeep.active = !0;
this.btnKeep.getComponent(cc.Button).interactable = !0;
this.btnKeep.getChildByName("text").getComponent(cc.Label).string = "Blind";
if (1 == n.length) {
this.btnCompare.active = !0;
this.btnCompare.getComponent(cc.Button).interactable = !0;
this.btnCompare.getChildByName("text").getComponent(cc.Label).string = "Show";
} else this.btnCompare.active = !1;
} else {
this.btnKeep.active = !0;
this.btnKeep.getComponent(cc.Button).interactable = !1;
this.btnCompare.active = !0;
this.btnCompare.getComponent(cc.Button).interactable = !0;
this.btnCompare.getChildByName("text").getComponent(cc.Label).string = "All In";
}
o.userInfo.Checked && (this.btnLook.active = !1);
this.refreshBottombgViewShow();
},
statusMyTurnHuiShow: function(e) {
if (e) {
this.btnFold.active = !0;
this.chipUnitNode.active = !0;
this.btnKeep.active = !0;
this.btnCompare.active = !0;
}
this.btnFold.interactable = !e;
this.btnKeep.interactable = !e;
this.btnCompare.interactable = !e;
this.refreshBottombgViewShow();
},
statusDoubleTurnShow: function(e, t, i, o) {
if (4 == e.bet_index) {
this.btnAdd.active = !1;
if (e.turn_count >= 5) {
if (0 == t && !this.getKeepEndChecked()) if (i >= 2 * o) {
this.btnAdd.active = !0;
this.showDoubleHideAdd();
} else this.btnAdd.active = !1;
3 == e.double_count && (this.btnAdd.active = !1);
}
}
this.refreshBottombgViewShow();
},
statusLook: function(e, t) {
this.hideAllBtns();
if (!this.btnKeepEnd || !this.getKeepEndChecked()) {
this.btnFold.active = !0;
if (e < t) this.btnCompare.active = !0; else {
this.btnCompare.active = !0;
this.btnKeep.active = !0;
this.btnAdd.active = e >= 2 * t;
}
}
this.refreshBottombgViewShow();
},
statusFold: function() {
this.hideAllBtns(!0);
},
resetButtonStatusTagVariable: function() {
this.resetCanFold(!0);
this.resetCanCall(!0);
this.resetCanCheck(!0);
this.resetCanDouble(!0);
}
});
cc._RF.pop();
}, {
"../../../Component/ServiceRecharge/GeneralMessageModel": "GeneralMessageModel",
"../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../../Script/ProjectConfig": "ProjectConfig",
"../../../Script/UserManager": "UserManager",
GameEngineUtil: "GameEngineUtil",
TeenPattiAudioMgr: "TeenPattiAudioMgr",
TeenPattiGlobal: "TeenPattiGlobal",
TeenPattiInfo: "TeenPattiInfo",
TeenPattiModel: "TeenPattiModel",
TeenPattiRes: "TeenPattiRes",
TeenPattiSocketMgr: "TeenPattiSocketMgr",
TeenPattiSocketSend: "TeenPattiSocketSend",
TrackUtil: "TrackUtil"
} ],
TeenPattiDealer: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "1ab2bUpvEtMlLF10FoPKuV3", "TeenPattiDealer");
var o = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("../../../Script/BaseFormat"));
var n = e("TeenPattiAudioMgr");
cc.Class({
extends: cc.Component,
properties: {
prefabChip: cc.Prefab,
labelChipAmount: cc.Label,
labelBaseAmount: cc.Label,
chipLayer: cc.Node
},
init: function() {
this.resetChipsAmount();
},
initNode: function(e, t) {
this.labelBaseAmount = e;
this.labelChipAmount = t;
},
setBaseAmountLabel: function(e) {
this.labelBaseAmount && (this.labelBaseAmount.string = "" + e);
},
addChipsAmount: function(e) {
this.totalChipsAmount += e;
this.labelChipAmount && (this.labelChipAmount.string = o.default.formatAmount(o.default.iTofixed(this.totalChipsAmount, 1)));
},
resetChipsAmount: function() {
this.totalChipsAmount = 0;
this.labelChipAmount && (this.labelChipAmount.string = "0");
},
showCompareAnimationMethod: function(e, t) {
var i = e.getChildByName("user_wrapper").getChildByName("showCompare"), o = i, n = t.getChildByName("user_wrapper").getChildByName("showCompare");
i.active = !0;
o.active = !0;
if (cc.isValid(i)) {
i.stopAllActions();
e.stopAllActions();
cc.log("source x:" + i.x + "source y:" + i.y);
cc.log("dest x:" + n.x + "dest y:" + n.y);
var r = cc.sequence(cc.moveTo(2.5, cc.v2(i.x + 20, i.y + 30)), cc.fadeOut(.1), cc.moveTo(2, cc.v2(n.x, n.y)));
i.runAction(r);
var a = cc.sequence(cc.moveTo(2.5, cc.v2(i.x + 40, i.y + 50)), cc.fadeOut(.1), cc.moveTo(2, cc.v2(n.x, n.y)));
o.runAction(a);
}
},
stopCompareAnimationMethod: function(e) {
e.getChildByName("user_wrapper").getChildByName("showCompare").stopAllActions();
},
throwChip: function(e, t, i, o) {
for (var n = e.convertToWorldSpace(cc.v2(0, 0)), r = this.chipLayer.convertToNodeSpace(n), a = 0; a < o; a++) {
var s = cc.instantiate(this.prefabChip);
if (s) {
s.getComponent("ChipFrame") && s.getComponent("ChipFrame").initValueWithInfoAction(i, t, 1);
s.parent = this.chipLayer;
var c = 2 * (Math.random() - .5) * 270, l = 2 * (Math.random() - .5) * 60;
s.getComponent(cc.Button) && (s.getComponent(cc.Button).transition = cc.Button.Transition.NONE);
s.setScale(.4);
s.runAction(cc.sequence(cc.place(r), cc.moveTo(.5, c, l).easing(cc.easeCubicActionOut())));
}
}
},
collectChip: function(e) {
this.scheduleOnce(function() {
n.playGameWin();
}, 1);
var t = e.convertToWorldSpace(cc.v2(0, 0)), i = this.chipLayer.convertToNodeSpace(t);
this.chipLayer.children.forEach(function(e) {
e.runAction(cc.sequence(cc.delayTime(1 + .5 * Math.random()), cc.moveTo(.5, i).easing(cc.easeCubicActionOut()), cc.removeSelf()));
}, this);
},
cleanChip: function() {
this.chipLayer.removeAllChildren();
},
setChips: function(e, t) {
this.resetChipsAmount();
var i = 0;
for (var o in e) {
var n = parseInt(o);
if (n >= t.length) return;
var r = e[o];
i += t[n] * r;
for (var a = 0; a < r; a++) {
var s = cc.instantiate(this.prefabChip);
if (s) {
s.getComponent("ChipFrame") && s.getComponent("ChipFrame").initValueWithInfoAction(t[n], n, 1);
s.parent = this.chipLayer;
var c = 2 * (Math.random() - .5) * 150, l = 2 * (Math.random() - .5) * 30;
s.getComponent(cc.Button) && (s.getComponent(cc.Button).transition = cc.Button.Transition.NONE);
s.setScale(.4);
s.setPosition(c, l);
}
}
}
this.addChipsAmount(i);
}
});
cc._RF.pop();
}, {
"../../../Script/BaseFormat": "BaseFormat",
TeenPattiAudioMgr: "TeenPattiAudioMgr"
} ],
TeenPattiError: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "6a3d5Zp/lBClpCd4BlgyBiA", "TeenPattiError");
var o, n;
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var a = (n = o = function e() {
r(this, e);
}, o.ERROR = cc.Enum({
10000: "网络连接失效或账号在其它环境登录，请重新登录",
10001: "接收到的信息不是json格式的, 或者信息缺失",
10002: "这把没你",
10003: "没到你出牌",
10004: "已经看牌",
10005: "不能与该玩家比牌",
10006: "你已经弃牌了",
10007: "已经封顶",
10008: "余额不足",
10009: "请求参数错误",
10010: "不符合规则,前五圈加注，五圈之后可以加倍加注",
10011: "不满足pk all的条件",
10012: "无效的加注筹码",
10013: "双倍加注必须在加注封顶之后",
10014: "房间限制, 玩家金币不满足条件",
10015: "该游戏阶段不能有这样的操作",
10016: "网络连接失效或账号在其它环境登录，请重新登录",
10017: "服务器错误",
10018: "服务器错误",
10021: "网络连接失效或账号在其它环境登录，请重新登录",
10022: "超时弃牌，请您下局到大厅休息一下",
10023: "房间已满，请稍后再试",
10024: "余额不足"
}), n);
t.exports = a;
cc._RF.pop();
}, {} ],
TeenPattiExitUI: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "da6f1NxY7lB15uAq9qHVHEm", "TeenPattiExitUI");
var o, n;
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var a = (n = o = function e() {
r(this, e);
}, o.canExitGame = !0, n);
t.exports = a;
cc._RF.pop();
}, {} ],
TeenPattiFX: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "763ec7tiIdPAY/aiV6XelSy", "TeenPattiFX");
var o = e("TeenPattiRes");
cc.Class({
extends: cc.Component,
properties: {
fire: cc.Animation,
effectPK: cc.Node,
pkPlayerLayer: cc.Node,
pkAllWin: cc.Node,
pkAllLose: cc.Node,
pkSkeleton: cc.Node
},
onLoad: function() {
cc.isValid(this.node) && (this.node.zIndex = 10);
},
startFire: function() {
if (this.fire) {
this.fire.node.active = !0;
this.fire.play();
}
},
stopFire: function() {
if (this.fire) {
this.fire.stop();
this.fire.node.active = !1;
}
},
newStartPK: function(e, t, i) {
var n = this;
this.effectPK && (this.effectPK.active = !0);
if (this.pkSkeleton) {
this.pkSkeleton.active = !0;
this.pkSkeleton.getComponent(dragonBones.ArmatureDisplay) && this.pkSkeleton.getComponent(dragonBones.ArmatureDisplay).playAnimation(o.Skeleton.pk_one_name, 1);
}
var r = e.node.position.clone(), a = cc.instantiate(e.user);
if (a) {
a.parent = this.pkPlayerLayer;
a.position = r;
a.runAction(cc.sequence(cc.moveTo(.2, -350, 60), cc.delayTime(.2), cc.callFunc(function() {
if (!i) {
var e = a.getChildByName("pk_fail_skeleton");
if (e && e.getComponent(dragonBones.ArmatureDisplay)) {
e.active = !0;
e.getComponent(dragonBones.ArmatureDisplay).playAnimation(o.Skeleton.pk_fail_name, 1);
}
}
}), cc.delayTime(.5), cc.moveTo(.2, r), cc.removeSelf()));
var s = t.node.position.clone(), c = cc.instantiate(t.user);
if (c) {
c.parent = this.pkPlayerLayer;
c.position = s;
c.runAction(cc.sequence(cc.moveTo(.2, 300, -40), cc.delayTime(.2), cc.callFunc(function() {
if (i) {
var e = c.getChildByName("pk_fail_skeleton");
if (e && e.getComponent(dragonBones.ArmatureDisplay)) {
e.active = !0;
e.getComponent(dragonBones.ArmatureDisplay).playAnimation(o.Skeleton.pk_fail_name, 1);
}
}
}), cc.delayTime(.5), cc.moveTo(.2, s), cc.removeSelf()));
setTimeout(function() {
cc.isValid(n.effectPK) && (n.effectPK.active = !1);
cc.isValid(n.pkSkeleton) && (n.pkSkeleton.active = !1);
}, 2e3);
}
}
},
startPKAll: function(e, t) {
var i = this;
this.effectPK && (this.effectPK.active = !0);
var n = e.node.position.clone(), r = cc.instantiate(e.user);
if (r) {
r.parent = this.pkPlayerLayer;
r.position = n;
r.runAction(cc.sequence(cc.moveTo(.5, -250, 60), cc.delayTime(2), cc.moveTo(.3, n), cc.removeSelf()));
if (t) {
if (this.pkAllWin) {
this.pkAllWin.active = !0;
this.pkAllWin.getComponent(dragonBones.ArmatureDisplay) && this.pkAllWin.getComponent(dragonBones.ArmatureDisplay).playAnimation(o.Skeleton.pk_all_win_name, 1);
}
this.scheduleOnce(function() {
if (cc.isValid(r) && r.getChildByName("pk_win_bg")) {
r.getChildByName("pk_win_bg").active = !0;
r.getChildByName("pk_win_bg").getComponent(cc.Animation).play();
}
}, 2.3);
} else {
if (this.pkAllLose) {
this.pkAllLose.active = !0;
this.pkAllLose.getComponent(dragonBones.ArmatureDisplay) && this.pkAllLose.getComponent(dragonBones.ArmatureDisplay).setAnimation(o.Skeleton.pk_all_fail_name, 1);
}
this.scheduleOnce(function() {
if (cc.isValid(r) && r.getChildByName("pk_lose_bg")) {
r.getChildByName("pk_lose_bg").active = !0;
r.getChildByName("pk_lose_bg").getComponent(cc.Animation).play();
}
}, 2.3);
}
setTimeout(function() {
cc.isValid(i.effectPK) && (i.effectPK.active = !1);
}, 3e3);
}
}
});
cc._RF.pop();
}, {
TeenPattiRes: "TeenPattiRes"
} ],
TeenPattiGameUI: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "0c9fdYWgo5JjY6zNkt34/0L", "TeenPattiGameUI");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = cc._decorator, a = r.ccclass, s = r.property, c = e("../../../Script/ProjectConfig"), l = e("TeenPattiInfo"), u = e("../../../Script/BaseFormat"), d = function(t) {
o(i, t);
function i() {
var e = null !== t && t.apply(this, arguments) || this;
e.Fx = null;
e.selector = null;
e.waitNextNode = null;
e.waitingGameBeginNode = null;
e.betInfoBaseLabel = null;
e.betInfoTotlaLabel = null;
e.turnInfoLabel = null;
e.turnTipsNode = null;
e.potNode = null;
return e;
}
i.prototype.initNode = function(e) {
e._selectorNode = this.selector;
e._waitNextNode = this.waitNextNode;
e._waitingGameBeginNode = this.waitingGameBeginNode;
};
i.prototype.updateTurnCount = function(e, t) {
cc.vv.beautifulgame ? this.turnInfoLabel && (this.turnInfoLabel.string = "跟注轮数: " + e + "/" + t) : cc.vv.souhu && this.turnInfoLabel && (this.turnInfoLabel.string = "轮数: " + e + "/" + t);
};
i.prototype.clickWarnShowTurnTips = function(e) {
c.default.clickManager(e.target);
this.turnTipsNode && (this.turnTipsNode.active = !0);
};
i.prototype.clickCloseTurnTips = function(e) {
c.default.clickManager(e.target);
this.turnTipsNode && (this.turnTipsNode.active = !1);
};
i.prototype.updatePotCount = function(e, t) {
if (t) {
this.potNode.active = !0;
var i = e + u.default.iTofixed(l.cacheRoomPot, 2);
cc.log("pot:" + e + "original" + i + "last" + l.cacheRoomPot);
l.cacheRoomPot = u.default.iTofixed(i, 2);
this.potNode.getChildByName("text").getComponent(cc.Label).string = "Pot: " + i.toFixed(2);
} else {
this.potNode.active = !1;
l.cacheRoomPot = 0;
}
};
i.prototype.updatePotMax = function(e) {
l.cacheRoomPot = u.default.iTofixed(e, 2);
this.potNode.getChildByName("text").getComponent(cc.Label).string = "Pot: " + l.cacheRoomPot;
};
i.prototype.calculatePlayerBetAmount = function(e) {
var t = e + u.default.iTofixed(l.playerBetAmount, 2);
l.playerBetAmount = u.default.iTofixed(t, 2);
};
n([ s(e("TeenPattiFX")) ], i.prototype, "Fx", void 0);
n([ s(cc.Node) ], i.prototype, "selector", void 0);
n([ s(cc.Node) ], i.prototype, "waitNextNode", void 0);
n([ s(cc.Node) ], i.prototype, "waitingGameBeginNode", void 0);
n([ s(cc.Label) ], i.prototype, "betInfoBaseLabel", void 0);
n([ s(cc.Label) ], i.prototype, "betInfoTotlaLabel", void 0);
n([ s(cc.Label) ], i.prototype, "turnInfoLabel", void 0);
n([ s(cc.Node) ], i.prototype, "turnTipsNode", void 0);
n([ s(cc.Node) ], i.prototype, "potNode", void 0);
return i = n([ a ], i);
}(cc.Component);
i.default = d;
cc._RF.pop();
}, {
"../../../Script/BaseFormat": "BaseFormat",
"../../../Script/ProjectConfig": "ProjectConfig",
TeenPattiFX: "TeenPattiFX",
TeenPattiInfo: "TeenPattiInfo"
} ],
TeenPattiGame: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "41994UECO9M36GThmGqNUmn", "TeenPattiGame");
h(e("../../Script/GameFramework/ResDynamicLoader"));
var n = h(e("./View/TeenPattiUIMgr")), r = (e("path"), h(e("../../Script/BaseFormat"))), a = h(e("../../Script/UserManager")), s = h(e("../../Script/UI/CommonPrefabMgr")), c = h(e("../../Script/ProjectConfig")), l = h(e("../../Script/Audio/CommonAudioMgr")), u = h(e("../../Script/Audio/CommonAudio")), d = h(e("../../Script/Socket/FastPlayMgr")), f = h(e("../../Script/LocalStorage/LocalStorageUtil"));
e("../../Component/ServiceRecharge/GeneralMessageModel");
function h(e) {
return e && e.__esModule ? e : {
default: e
};
}
var p = e("TeenPattiSocketMgr"), g = e("TeenPattiModel"), m = e("TeenPattiSocketSend"), y = e("TeenPattiInfo"), b = e("TeenPattiGlobal"), _ = e("TeenPattiLoadingView"), v = (e("TeenPattiFX"), 
e("TeenPattiExitUI")), S = e("TeenPattiPkCompareUI"), C = e("TeenPattiAudioMgr"), w = e("NewGameInfo"), A = e("CommonEventManager"), R = e("CommonLanguage"), T = e("GameEngineUtil"), E = e("TeenPattiRes"), M = e("TrackUtil"), P = e("CommonFunction");
cc.Class({
extends: cc.Component,
properties: {
backBtnNode: cc.Node,
ruleBtnNode: cc.Node,
bgNode: cc.Node,
bottomBgNode: cc.Node,
gameInfoNode: cc.Node,
broadcastInfoNode: cc.RichText,
playerUIPrefabNode: cc.Node,
gameUIPrefabNode: cc.Node,
gameStartSkeleton: sp.Skeleton,
showNodeAnimation: cc.Node,
allInNodeAnimation: cc.Node,
sideShowNodeAnimation: cc.Node,
timeNode: cc.Node,
_playerAnchors: []
},
onLoad: function() {
var e = this;
f.default.setPlayingGame();
l.default.stopAll();
var t = d.default.resArr[c.default.SCENE_NAME.TEENPATTI];
n.default.dynamicLoadRes(e, t);
e._rulePrefab = null;
e._playerPrefab = null;
e._playerAnchors = [];
e._timePrefab = null;
e._waitNextNode = null;
e._waitingGameBeginNode = null;
e._selectorNode = null;
e.FDealerUI = null;
e.FButtonUI = null;
e.FPlayerExtraUI = null;
e.fx = null;
y.isGamingExit = !1;
y.isAmountEnough = !1;
e.isFPlayingfire = !1;
e.dynamicPreAsyncLoad(t, function() {
e.FDealerUI && e.FDealerUI.init();
e.createPlayers();
e.FButtonUI && e.FButtonUI.init(e.btnCompareLogic.bind(e), e.btnKeepEndLogic.bind(e), e.reconnectSocket.bind(e), e.btnAvoidQuitLogic.bind(e), e.btnChangeTableLogic.bind(e), e.btnAcceptCompareLogic.bind(e), e.btnRefuseCompareLogic.bind(e));
console.log("socket 初始化");
e._getRoomInfo();
S.init(e._selectorNode);
if (e._timePrefab) {
var t = cc.instantiate(e._timePrefab);
if (t) {
t.x = 0;
t.y = 0;
e.timeNode.addChild(t);
t.active = !1;
_.init(e.gameInfoNode, e._waitingGameBeginNode, t);
}
}
b.reconnetTimes = 3;
y.playerCurrentBalance = 0;
C.playBGM();
e.GameStage = g.FT_STAGE.WAIT;
});
},
showGameInfoNode: function() {
var e = this;
e.gameInfoNode.active = !0;
e.showcomplete || e.showGameInfoNodecallback && e.unschedule(e.showGameInfoNodecallback);
e.showGameInfoNodecallback = function() {
if (cc.isValid(e.node)) {
e.showcomplete = !0;
cc.isValid(e.gameInfoNode) && (e.gameInfoNode.active = !1);
}
};
e.showcomplete = !1;
e.scheduleOnce(e.showGameInfoNodecallback, 1.5);
},
createBgViewMethod: function() {
var e = this, t = "/beautifulgame/common/texture/game/bg/common_game_bg_desk", i = cc.winSize.width / 2, o = cc.winSize.height, n = new cc.Node("sprite 1"), r = n.addComponent(cc.Sprite);
cc.loader.loadRes(t, cc.SpriteFrame, function(t, a) {
r.spriteFrame = a;
var s = n.width, c = n.height;
if (s < i || c < o) {
var l = i / s, u = o / c, d = l > u ? l : u;
n.scale = d;
}
var f = e.bgNode.getChildByName("back").zIndex;
n.zIndex = f - 1;
});
n.setAnchorPoint(0, .5);
n.setPosition(-cc.winSize.width / 2, 0);
var a = new cc.Node("sprite 2"), s = a.addComponent(cc.Sprite);
cc.loader.loadRes(t, cc.SpriteFrame, function(t, n) {
s.spriteFrame = n;
var r = a.width, c = a.height;
if (r < i || c < o) {
var l = i / r, u = o / c, d = l > u ? l : u;
a.scale = d;
}
var f = e.bgNode.getChildByName("back").zIndex;
a.zIndex = f - 1;
a.setPosition(i / 2, 0);
var h = cc.flipX(!0);
a.runAction(h);
});
a.setAnchorPoint(.5, .5);
e.bgNode.addChild(n);
e.bgNode.addChild(a);
},
reconnectSocket: function(e) {
var t = this;
s.default.createCommonLoading("Reconnecting...");
p.flowerSocket && (p.flowerSocket.needReconnect = !1);
b.isReconneting = !0;
b.isConnected = !1;
b.reconnetTimes -= 1;
p.init(t.eventsMsgHandle.bind(t), t.socketInit.bind(t));
t.scheduleOnce(function() {
if (0 == b.isConnected) if (b.reconnetTimes <= 0) {
b.reconnetTimes = 3;
b.isConnected = !0;
p.close();
s.default.removeCommonLoading();
s.default.createAlert("The current network is abnormal, please check the mobile network or change the network environment", "Back", function() {
d.default.runGameWithID(c.default.GAME_TYPE.GAME_HALL);
}, null, null, 8888);
} else t.reconnectSocket(); else {
s.default.removeCommonLoading();
"function" == typeof e && e();
}
}, 1.5);
},
socketInit: function() {
b.reconnetTimes = 3;
b.isConnected = !0;
this.FButtonUI && this.FButtonUI.resetCanCall(!0);
this.FButtonUI && this.FButtonUI.resetButtonStatusTagVariable();
},
_getRoomInfo: function() {
b.room = w.current.room;
b.roomIndex = w.getIndexByRoom(c.default.GAME_TYPE.TEENPATTI, b.room);
var e = w.getRoomInfo(), t = e.enterLimitList[0];
e.enterLimitList[1];
b.min_limit = t / 1e3;
b.betCoinValue = e.chipsList;
for (var i = 0; i < b.betCoinValue.length; i++) b.betCoinValue[i] /= 1e3;
this.FDealerUI && this.FDealerUI.setBaseAmountLabel(e.base / 1e3);
this.FButtonUI && this.FButtonUI.setAddCoinStake(b.betCoinValue);
p.flowerSocketUrl = w.getGameWsServer(c.default.GAME_TYPE.TEENPATTI);
console.log("this url is %@", p.flowerSocketUrl);
p.init(this.eventsMsgHandle.bind(this));
this.eventManger || (this.eventManger = new A(this.onHideSocketClose.bind(this), this.onShowSocketInit.bind(this)));
},
onHideSocketClose: function() {
p.close();
_.statusHide();
cc.log("游戏什么情况");
this.FDealerUI && this.FDealerUI.cleanChip();
if (this.GameStage == g.FT_STAGE.SHUFFLE) {
this.unscheduleAllCallbacks();
this.players && this.players.forEach(function(e, t) {
if (e && e.node.active) {
e.handHide();
e.cardHide();
}
});
}
},
onShowSocketInit: function() {
v.canExitGame = !0;
p.init(this.eventsMsgHandle.bind(this));
},
onDisable: function() {
this.enable = !1;
this.eventManger && this.eventManger.closeEvent();
cc.director.off("hideUserSeenBtnMethod", this.hidemainSeenBtnMethod, this);
},
onEnable: function() {
this.enable = !0;
cc.director.on("hideUserSeenBtnMethod", this.hidemainSeenBtnMethod, this);
},
hidemainSeenBtnMethod: function() {
this.players.length > 0 && (this.players[0].userSeenPorkBtn.active = !1);
},
createPlayers: function() {
this.players = new Array(6);
for (var e = 0; e < 6; e++) {
cc.log("init playerAnchors.... 3");
var t = cc.instantiate(this._playerPrefab), i = this._playerAnchors[e];
if (cc.isValid(i)) {
t.position = i.position;
cc.isValid(i.parent) && i.parent.addChild(t);
var o = cc.find("card", i).position, n = cc.find("chips", i).position;
this.players[e] = t.getComponent("TeenPattiPlayer");
this.players[e].init(e, o, n);
var r = this.players[e];
0 != e && r && (r.userSeenPorkBtn.active = !1);
} else console.log("anchor is valid");
}
},
transSeat: function(e) {
return (e - b.mySeat + 6) % 6;
},
playerThrowChipMethod: function(e, t) {
var i = w.getRoomInfo().base, o = t, n = parseInt(o / (500 * i)), r = parseInt(o % (500 * i) / (100 * i)), a = parseInt(o % (500 * i) % (100 * i) / (50 * i)), s = parseInt(o % (500 * i) % (100 * i) % (50 * i) / (10 * i)), c = parseInt(o % (500 * i) % (100 * i) % (50 * i) % (10 * i) / (5 * i)), l = parseInt(o % (500 * i) % (100 * i) % (50 * i) % (10 * i) % (5 * i) / i);
n >= 1 && this.FDealerUI.throwChip(e, 5, 5e4, n);
r >= 1 && this.FDealerUI.throwChip(e, 4, 1e4, r);
a >= 1 && this.FDealerUI.throwChip(e, 3, 5e3, a);
s >= 1 && this.FDealerUI.throwChip(e, 2, 1e3, s);
c >= 1 && this.FDealerUI.throwChip(e, 1, 500, c);
l >= 1 && this.FDealerUI.throwChip(e, 0, 100, l);
},
showPotMaxBroadcast: function() {
self.showGameInfoNode();
this.broadcastInfoNode.string = "The pot has reached the limit. <color=#e93423><b><size=26>Time to show</size></b></color>";
},
btnCompareLogic: function() {
var e = this.getIsAliveIndex(), t = void 0;
this.players && this.players[0] && (t = this.isPkAllCoin(this.players[0]));
if (this.players && this.players[0] && this.players[0].userInfo.Credit < t / 1e3) {
T.trackEvent(M.teenpattiallinbtnclick);
m.allIn();
} else if (e.length > 1) {
T.trackEvent(M.teenpattisideshowbtnonclick);
m.compareLast();
} else if (1 == e.length) {
e[0], b.mySeat;
T.trackEvent(M.teenpattishowbtnclick);
m.pkAll();
}
},
btnRefuseCompareLogic: function(e, t) {
m.compareAccept(e.DestChair, e.SourceChair, !1, e.compareCount);
},
btnAcceptCompareLogic: function(e, t) {
m.compareAccept(e.DestChair, e.SourceChair, !0, e.compareCount);
},
btnKeepEndLogic: function() {
if (this.FButtonUI && !this.FButtonUI.getKeepEndChecked() && this.players && this.players[0] && 0 == y.turn) {
var e = this.isPkAllCoin(this.players[0]), t = this.players[0].userInfo.Credit;
this.FButtonUI.statusMyTurn(t, e, y.turn_count, this.players[0], this.getIsAliveIndex());
this.FButtonUI.disableAddCoinByBalance(b.betCoinValue, t);
this.FButtonUI.statusDoubleTurnShow({
bet_index: y.bet_index,
turn_count: y.turn_count,
double_count: y.double
}, 0, t, e);
}
},
btnAvoidQuitLogic: function() {
this.FButtonUI && m.avoidQuit(this.FButtonUI.getAvoidQuitChecked());
},
btnChangeTableLogic: function() {
this.unscheduleAllCallbacks();
this.players && this.players instanceof Array && this.players.forEach(function(e) {
cc.isValid(e) && cc.isValid(e.getComponent("TeenPattiPlayer")) && e.getComponent("TeenPattiPlayer").stopTimer();
});
this.fx && this.fx.stopFire();
y.turn_count = 0;
y.userSeenArray = [];
this.isFPlayingfire = !1;
this.players && this.players.forEach(function(e) {
e && e.stopAllAnim();
});
y.isPeeked = !1;
y.betRaise = !1;
this.FPlayerExtraUI && this.FPlayerExtraUI.hideAll();
this.FButtonUI && this.FButtonUI.hideAllBtns(!0);
if (this.players[0]) {
var e = this.players[0];
e.hideUserSeenBtnMethod(e);
}
this.gameInfoNode.active = !1;
this.TeenPattiGameUI.updatePotCount(0, !1);
this.TeenPattiGameUI.calculatePlayerBetAmount(0);
this.FButtonUI && this.FButtonUI.resetButtonStatusTagVariable();
},
eventsMsgHandle: function(e, t) {
if (this.enable) {
cc.log("type:" + e + "********msgData:" + t.Chair);
if (!b.isReconneting) switch (e) {
case g.FT_MSG_TYPE.RoomST:
this.eventRoomST(t);
break;

case g.FT_MSG_TYPE.UserST:
this.eventUserST(t);
break;

case g.FT_MSG_TYPE.UserInEV:
this.eventUserInEV(t);
break;

case g.FT_MSG_TYPE.UserOutEV:
this.eventUserOutEV(t);
break;

case g.FT_MSG_TYPE.PrepareNT:
this.eventPrepareNT(t);
break;

case g.FT_MSG_TYPE.PrepareCancelNT:
this.eventPrepareCancelNT(t);
break;

case g.FT_MSG_TYPE.PlayNT:
this.eventPlayNT(t);
break;

case g.FT_MSG_TYPE.CheckEV:
this.eventCheckEV(t);
break;

case g.FT_MSG_TYPE.FoldEV:
this.eventFoldEV(t);
break;

case g.FT_MSG_TYPE.CallEV:
this.eventCallEV(t);
break;

case g.FT_MSG_TYPE.RaiseEV:
this.eventRaiseEV(t);
break;

case g.FT_MSG_TYPE.DoubleEV:
this.eventDoubleEV(t);
break;

case g.FT_MSG_TYPE.CompareEV:
this.eventCompareEV(t);
break;

case g.FT_MSG_TYPE.PkAllEV:
this.eventPkAllEV(t);
break;

case g.FT_MSG_TYPE.AllInEV:
this.eventAllInEV(t);
break;

case g.FT_MSG_TYPE.ComputeST:
this.eventComputeST(t);
break;

case g.FT_MSG_TYPE.ErrorST:
this.eventErrorST(t);
}
}
},
eventErrorST: function(e) {
if (e) {
cc.log("error data " + e.Status);
var t = this;
switch (e.Status) {
case "IDLE_TIMEOUT":
p.close();
s.default.removeCommonLoading();
s.default.createLeaveAlert(function() {
t.exitGame();
}, function() {
t.FButtonUI && t.FButtonUI.hideAllBtns(!0, !0);
p.init(t.eventsMsgHandle.bind(t));
});
break;

case "UNKNOWN_ERROR":
case "PARAM_ERROR":
break;

case "SERVER_CLOSED":
p.close();
s.default.createAlert("The network is down, please check the network", "Back ", function() {
t.exitGame();
});
break;

case "NOT_AUTH":
case "TOKEN_INVALID":
case "DUP_LOGIN":
p.close();
s.default.ToLoading("The network connection is invalid or the account is logged in in another environment, please log in again");
break;

case "INSUFFICIENT":
v.canExitGame = !0;
p.close();
if (this.GameStage == g.FT_STAGE.SETTLE) s.default.createAlertWithCountdown("Your balance is insufficient,will", "S later Back ", 5, function() {
t.exitGame();
}, "Back ", function() {
t.exitGame();
}); else {
p.close();
s.default.createAlertWithCountdown("Your balance is insufficient,will", "S later Back ", 5, function() {
t.exitGame();
}, "Back", function() {
t.exitGame();
});
}
break;

case "REDIRECT":
var i = e.Msg;
if (i) {
p.close();
p.flowerSocketUrl = i;
p.init(this.eventsMsgHandle.bind(this));
} else s.default.ToLoading("The network connection is invalid or the account is logged in in another environment, please log in again", p.flowerSocket);
}
}
},
eventRoomST: function(e) {
this.fx && this.fx.stopFire();
this.isFPlayingfire = !1;
console.log("eventRoomST=" + e.Stage);
this.players && this.players.forEach(function(t) {
if (t) {
t.initAllPart();
cc.log("eventRoomST setUserState=FT_USER_STATUS.Null");
"WAIT" == e.Stage && t.setUserState(g.FT_USER_STATUS.Null);
}
});
this.FButtonUI && this.FButtonUI.resetButtonStatusTagVariable();
_.statusHide();
this.unscheduleAllCallbacks();
this.FDealerUI && this.FDealerUI.cleanChip();
this.FDealerUI && this.FDealerUI.resetChipsAmount();
this.FPlayerExtraUI && this.FPlayerExtraUI.hideAll();
this.FButtonUI && this.FButtonUI.hideAllBtns();
this.TeenPattiGameUI.updatePotCount(0, !1);
if (this.players[0]) {
var t = this.players[0];
t.hideUserSeenBtnMethod(t);
}
y.reset();
this.gameInfoNode.active = !1;
for (var i in e.Users) if (e.Users[i].ID == a.default.uid) {
b.mySeat = e.Users[i].Chair;
this.players && this.players[0] && this.players[0].setPlayerUserInfo(e.Users[i], 0);
e.Users[i].Status != g.FT_USER_STATUS.Null && e.Users[i].Status != g.FT_USER_STATUS.Prepare && (y.turn_count = e.Users[i].TurnCount);
this.FButtonUI && this.FButtonUI.setAvoidQuitChecked(e.Users[i].AntiTimeout);
break;
}
for (var o in e.Users) if (e.Users[o].ID != a.default.uid) {
var n = this.transSeat(e.Users[o].Chair);
this.players && this.players[n] && this.players[n].setPlayerUserInfo(e.Users[o]);
} else {
cc.log("this checked status " + e.Users[o].Checked);
y.isPeeked = e.Users[o].Checked;
}
y.betChip = e.Base;
y.bet_base = e.Base;
y.bet_index = e.BetIndex;
y.bet_max = e.MaxBet;
y.pool_max = e.MaxPool;
y.blindCount_max = e.MaxBlind;
y.double = e.DoubleCount;
y.turn = this.transSeat(e.ActiveChair);
y.clock = parseInt((e.NextTS - e.Timestamp) / 1e3);
y.betRaise = !1;
y.cacheRoomPot = r.default.iTofixed(e.TotalBet / 1e3, 2);
y.playerBetAmount = r.default.iTofixed(e.Base / 1e3, 2);
y.room_turn_count = e.TurnCount;
y.room_max_turn_count = e.MaxTurnCount;
this.TeenPattiGameUI && this.TeenPattiGameUI.updateTurnCount(y.room_turn_count, y.room_max_turn_count);
switch (e.Stage) {
case g.FT_STAGE.WAIT:
this.roomSTWait(e);
break;

case g.FT_STAGE.PREPARE:
this.roomSTPrepare(e);
break;

case g.FT_STAGE.SHUFFLE:
this.roomSTShuffle(e);
break;

case g.FT_STAGE.PLAY:
this.roomSTPlay(e);
break;

case g.FT_STAGE.SETTLE:
this.roomSTSettle(e);
}
},
roomSTWait: function(e) {
this.GameStage = g.FT_STAGE.WAIT;
this.FDealerUI && this.FDealerUI.cleanChip();
this.FButtonUI && this.FButtonUI.statusJoin();
this.FPlayerExtraUI && this.FPlayerExtraUI.hideAll();
_.statusWaiting();
this.players && this.players.forEach(function(e) {
e && e.node.active && e.initAllPart();
});
},
roomSTPrepare: function(e) {
this.GameStage = g.FT_STAGE.PREPARE;
this.FButtonUI && this.FButtonUI.statusPrepare();
y.turn_count = 0;
this.players && this.players.forEach(function(e) {
e && e.node.active && e.userStateUI(g.FT_USER_STATUS.Prepare);
});
},
roomSTShuffle: function(e) {
this.GameStage = g.FT_STAGE.SHUFFLE;
y.turn_count = 0;
_.statusGameBegin();
this.FPlayerExtraUI && this.FPlayerExtraUI.hideAllReady();
v.canExitGame = !1;
var t = this;
for (var i in e.Users) {
var o = e.Users[i], n = t.transSeat(o.Chair);
if (t.players && t.players[n]) {
t.players[n].setUserState(o.Status);
if (o.Status <= g.FT_USER_STATUS.Prepare) {
t.FPlayerExtraUI && t.FPlayerExtraUI.showReady(n);
0 == n && _.statusEnterHalfWay();
} else {
1 == i && C.playGenzhu(t.players[n].userInfo.Gender);
t.players[n].userStateUI(!0);
t.players[n].cardInit(!1);
t.FDealerUI && t.FDealerUI.throwChip(t.players[n].node, 0, e.Base, 1);
cc.log("this coin chip is :" + -e.Base / 1e3);
0 == n ? t.players[n].coinChange(0) : t.players[n].coinChange(e.Base / 1e3);
t.players[n].chipChange(e.Base / 1e3);
t.FDealerUI && t.FDealerUI.addChipsAmount(-e.Base / 1e3);
t.FPlayerExtraUI && t.FPlayerExtraUI.showBetCallRaises(n, 0, b.betCoinValue[0]);
t.players[n].bootBet();
t.showGameInfoNode();
this.broadcastInfoNode.string = "Collecting boots.";
}
}
}
this.TeenPattiGameUI.updatePotCount(0, !0);
t.scheduleOnce(function() {
var i = [];
for (var o in e.Users) if (e.Users[o].Status == g.FT_USER_STATUS.Gaming) {
var n = t.transSeat(parseInt(o));
i.push(n);
}
if (i.length > 0) {
i.sort(function(e, t) {
return e - t;
});
for (var r = 0, a = function(e) {
t.scheduleOnce(function() {
C.playCardDeal();
0 == i[e] ? t.players[i[e]].handDeal(t.FDealerUI.node) : t.players[i[e]].cardDeal(t.FDealerUI.node);
}, .267 * r++);
}, s = 0; s < i.length; s++) a(s);
}
}, 1);
},
roomSTPlay: function(e) {
this.GameStage = g.FT_STAGE.PLAY;
this.FDealerUI && this.FDealerUI.setChips(e.TotalBet, b.betCoinValue);
v.canExitGame = !1;
this.gameInfoNode.active = !1;
for (var t in e.Users) {
var i = this.transSeat(t);
if (this.players && this.players[i]) {
this.players[i].setUserState(e.Users[t].Status);
if (e.Users[t].Status <= g.FT_USER_STATUS.Prepare) {
this.FPlayerExtraUI && this.FPlayerExtraUI.showReady(i);
0 == i && _.statusEnterHalfWay();
} else {
this.FPlayerExtraUI && this.FPlayerExtraUI.hideReady(i);
this.FPlayerExtraUI && this.FPlayerExtraUI.showBetCallRaises(i);
if (e.Users[t].Checked && e.Users[t].Status == g.FT_USER_STATUS.Gaming) {
this.players[i].setUserPeeked();
y.userSeenArray.indexOf(i) >= 0 || y.userSeenArray.push(i);
if (0 == i) {
y.isPeeked = !0;
var o = this.players[i];
o.hideUserSeenBtnMethod(o);
}
} else if (0 == i) {
y.isPeeked = !1;
var n = this.players[i];
n && n.showUserSeenBtnMethod(n);
}
if (e.Users[t].Status == g.FT_USER_STATUS.Gaming) {
var r = e.Users[t];
0 == r.Action ? r.Checked ? this.players[i] && this.players[i].cardPeek() : this.players[i] && this.players[i].bootBet() : 2 == r.Action ? r.Checked ? this.players[i] && this.players[i].chaarBet() : this.players[i] && this.players[i].bindBet() : 5 == r.Action && this.players[i] && this.players[i].sideShowBet();
} else if (e.Users[t].Status == g.FT_USER_STATUS.Quit) {
if (this.players && this.players[i]) {
this.players[i].cardGiveup();
this.players[i].setUserState(g.FT_USER_STATUS.Quit);
}
0 == i && _.statusEnterHalfWay();
} else if (e.Users[t].Status == g.FT_USER_STATUS.Compare_Lose) {
if (this.players && this.players[i]) {
this.players[i].cardGiveup();
this.players[i].setUserState(g.FT_USER_STATUS.Quit);
}
0 == i && _.statusEnterHalfWay();
}
}
0 == i ? this.players[i].coinChange(0) : 0 == e.Users[t].BetAmount ? this.players[i].chipChange(e.Base / 1e3) : this.players[i].chipChange(e.Users[t].BetAmount / 1e3);
}
}
if (this.FPlayerExtraUI) {
this.FPlayerExtraUI.hideAllLight();
0 == y.turn && this.players && this.players[0] && this.players[0].isAlive();
}
if (0 == y.turn) {
if (this.players && this.players[0] && this.players[0].isAlive()) {
this.myTurnShow();
this.capDoubleTurnShow(0);
y.clock > 0 && this.players[0].startTimer(y.clock);
}
} else {
this.otherTurnShow();
this.capDoubleTurnShow(y.turn);
y.clock > 0 && this.players && this.players[y.turn] && this.players[y.turn].startTimer(y.clock);
}
if (y.bet_index > 0 && this.FButtonUI) {
this.FButtonUI.disableAddCoin(y.bet_index);
4 == y.bet_index && this.FButtonUI.setAddVisible(!1);
}
if (this.players && this.players[0]) {
this.players[0].restoreMyCardUI();
this.FButtonUI.setBtnChangeByState(this.players[0].state);
}
y.turn_count >= 5 && this.eventFire();
},
roomSTSettle: function(e) {
this.GameStage = g.FT_STAGE.SETTLE;
this.FDealerUI && this.FDealerUI.setChips(e.TotalBet, b.betCoinValue);
for (var t in e.Users) {
var i = this.transSeat(t);
if (this.players && this.players[i]) {
this.players[i].setUserState(e.Users[t].Status);
this.FPlayerExtraUI && this.FPlayerExtraUI.hideReady(i);
e.Users[t].Cards && e.Users[t].Cards.length > 0 && (0 == i ? this.players[i].handShow(e.Users[t].Cards) : this.players[i].cardShow(e.Users[t].Cards));
0 == i && _.statusEnterHalfWay();
}
this.players[i].chipChange(e.Users[t].BetAmount / 1e3);
}
},
eventUserInEV: function(e) {
var t = this, i = e.user, o = this.transSeat(i.Chair), n = function() {
if (t.players && t.players[o]) {
t.players[o].initAllPart();
t.players[o].setPlayerUserInfo(i);
t.GameStage == g.FT_STAGE.SHUFFLE || t.GameStage == g.FT_STAGE.PLAY || t.GameStage == g.FT_STAGE.SETTLE ? t.FPlayerExtraUI && t.FPlayerExtraUI.showReady(o) : t.FPlayerExtraUI && t.FPlayerExtraUI.hideReady(o);
}
};
t.GameStage == g.FT_STAGE.SETTLE ? t.scheduleOnce(function() {
n();
}, 2) : n();
},
closeGame: function() {
l.default.stopAll();
p.close();
this.eventManger && this.eventManger.closeEvent();
d.default.runGameWithID(c.default.GAME_TYPE.GAME_HALL, !1);
},
eventUserOutEV: function(e) {
var t = this, i = t.transSeat(e.ChairNo), o = function() {
if (0 == i) {
if (0 == e.OutReason) {
y.isGamingExit = !0;
t.FPlayerExtraUI && t.FPlayerExtraUI.hideBetCallRaise(i);
if (t.players && t.players[i]) {
t.players[i].setUserState(g.FT_USER_STATUS.Null);
t.FPlayerExtraUI && t.FPlayerExtraUI.hideReady(i);
}
t.closeGame();
} else if (1 == e.OutReason) {
y.isAmountEnough = !0;
t.FPlayerExtraUI && t.FPlayerExtraUI.hideBetCallRaise(i);
if (t.players && t.players[i]) {
t.players[i].setUserState(g.FT_USER_STATUS.Null);
t.FPlayerExtraUI && t.FPlayerExtraUI.hideReady(i);
}
t.closeGame();
} else if (2 == e.OutReason) {
y.isGamingExit = !0;
t.FPlayerExtraUI && t.FPlayerExtraUI.hideBetCallRaise(i);
if (t.players && t.players[i]) {
t.players[i].setUserState(g.FT_USER_STATUS.Null);
t.FPlayerExtraUI && t.FPlayerExtraUI.hideReady(i);
}
console.log(e);
cc.log("-------超时弃牌---------  eventUserOutEV");
}
} else {
t.FPlayerExtraUI && t.FPlayerExtraUI.hideBetCallRaise(i);
if (t.players && t.players[i]) {
t.players[i].setUserState(g.FT_USER_STATUS.Null);
t.FPlayerExtraUI && t.FPlayerExtraUI.hideReady(i);
}
}
};
t.GameStage == g.FT_STAGE.SETTLE ? t.scheduleOnce(function() {
o();
}, 2) : o();
},
eventPrepareNT: function(e) {
this.GameStage = g.FT_STAGE.PREPARE;
this.FButtonUI && this.FButtonUI.statusPrepare();
this.FPlayerExtraUI && this.FPlayerExtraUI.hideAllLight();
this.FPlayerExtraUI && this.FPlayerExtraUI.hideAllReady();
this.FDealerUI && this.FDealerUI.cleanChip();
this.FPlayerExtraUI && this.FPlayerExtraUI.hideAllBetCallRaise();
this.FDealerUI && this.FDealerUI.resetChipsAmount();
y.reset();
this.gameInfoNode.active = !0;
this.broadcastInfoNode.string = "Next game will start shortly.";
_.startCountdown(this);
this.players && this.players.forEach(function(e) {
e && e.node.active && e.initAllPart();
});
if (this.isFPlayingfire) {
this.isFPlayingfire = !1;
C.playBGM();
}
},
eventPrepareCancelNT: function(e) {
this.roomSTWait();
},
eventPlayNT: function(e) {
this.gameInfoNode.active = !1;
this.GameStage = g.FT_STAGE.PLAY;
var t = this.transSeat(e.Chair), i = e.TurnCount;
if (i > y.room_turn_count) {
y.room_turn_count = i;
this.TeenPattiGameUI && this.TeenPattiGameUI.updateTurnCount(y.room_turn_count, y.room_max_turn_count);
}
y.turn = t;
if (this.FPlayerExtraUI) {
this.FPlayerExtraUI.hideAllLight();
this.players && this.players[t] && this.players[t].showPlayerTurnAnimation();
}
console.log("this seat is" + t);
var o = this.players[0];
if (o && !o.userSeenPorkBtn.active && this.players[0].isAlive() && !y.isPeeked) {
var n = this.players[0];
n.showUserSeenBtnMethod(n);
}
if (0 === t) {
y.turn_count += 1;
this.showGameInfoNode();
this.myTurnShow();
this.capDoubleTurnShow(t);
} else {
this.showGameInfoNode();
this.otherTurnShow(t);
}
this.startUserTimer(t);
},
startUserTimer: function(e) {
for (var t = [ 0, 1, 2, 3, 4, 5 ], i = 0; i < t.length; i++) {
var o = t[i];
this.players && this.players[o] && (o == e ? this.players[o].startTimer() : this.players[o].stopTimer());
}
},
myTurnShow: function() {
if (this.players && this.players[0] && this.players[0].isAlive() && this.FButtonUI) {
var e = this.isPkAllCoin(this.players[0]), t = this.players[0].userInfo.Credit;
this.FButtonUI.statusMyTurn(t, e, y.turn_count, this.players[0], this.getIsAliveIndex());
y.betRaise = !1;
this.FButtonUI.disableAddCoinByBalance(b.betCoinValue, t);
this.FButtonUI.showCurrentChip(e);
}
y.turn_count >= 5 && (this.isFPlayingfire || this.eventFire());
},
otherTurnShow: function() {
if (this.FButtonUI) {
this.FButtonUI.hideAllBtns();
if (this.players && this.players[0] && !this.players[0].isAlive()) {
v.canExitGame = !0;
var e = this.players[0].userInfo.Credit, t = b.min_limit;
this.FButtonUI.setChangeVisible(e >= t);
this.FButtonUI.setKeepEndVisible(!1);
} else this.FButtonUI.setKeepEndVisible(!1);
}
},
capDoubleTurnShow: function(e) {
if (this.players && this.players[0]) {
var t = this.isPkAllCoin(this.players[0]), i = this.players[0].userInfo.Credit;
this.FButtonUI && this.FButtonUI.statusDoubleTurnShow({
bet_index: y.bet_index,
turn_count: y.turn_count,
double_count: y.double
}, e, i, t);
}
},
eventCheckEV: function(e) {
var t = this;
b.isChecking = !1;
var o = t.transSeat(e.Chair);
y.userSeenArray.push(o);
if (e.Chairs && e.Chairs.length > 0) for (i = 0; i < e.Chairs.length; i++) {
var n = t.transSeat(e.Chairs[i]);
if (t.players && t.players[n]) {
0 == n && y.isPeeked || t.players[n].setUserPeeked();
if (0 == n) {
y.isPeeked = !0;
t.players[0].hideUserSeenBtnMethod(t.players[0]);
0 == y.turn && t.myTurnShow();
}
t.capDoubleTurnShow(n);
}
t.scheduleOnce(function() {
t.FButtonUI && t.FButtonUI.resetCanCheck(!0);
}, .5);
} else {
var r = t.transSeat(e.Chair);
if (t.players && t.players[r]) {
t.players[r].setUserPeeked();
if (0 == r) {
y.isPeeked = !0;
t.players[0].hideUserSeenBtnMethod(t.players[0]);
0 == y.turn && t.myTurnShow();
}
t.capDoubleTurnShow(r);
}
t.scheduleOnce(function() {
t.FButtonUI && t.FButtonUI.resetCanCheck(!0);
}, .5);
}
},
eventUserST: function(e) {
if (e.Checked && e.Cards) {
var t = e.Cards.sort(function(e, t) {
return e - t;
}).reverse();
if (this.players && this.players[0]) {
this.players[0].userInfo.Checked = e.Checked;
this.players[0].handPeek(t);
}
if (this.players[0]) {
var i = this.players[0];
y.isPeeked = !0;
i.hideUserSeenBtnMethod(i);
}
this.FButtonUI && this.FButtonUI.setLookVisible(!1);
this.FButtonUI && this.FButtonUI.setKeepEndChecked(!1);
}
void 0 !== e.AntiTimeout && null != e.AntiTimeout && this.FButtonUI && this.FButtonUI.setAvoidQuitChecked(e.AntiTimeout);
},
eventFoldEV: function(e) {
var t = this, i = t.transSeat(e.Chair);
if (t.players && t.players[i]) {
t.players[i].handGiveup();
t.players[i].setUserState(g.FT_USER_STATUS.Quit);
t.players[i].stopTimer();
t.players[i].showFoldBroadcast(this.broadcastInfoNode);
C.playPK(t.players[i].userInfo.Gender);
}
if (0 == i) {
v.canExitGame = !0;
t.FButtonUI && t.FButtonUI.statusFold();
S.hide();
if (t.players && t.players[i]) {
var o = b.min_limit, n = t.players[i].userInfo.Credit;
t.FButtonUI && t.FButtonUI.setChangeVisible(parseFloat(n) > parseFloat(o));
}
y.isPeeked = !0;
console.log(e);
if (e.IsTimeOut) {
t.isShowPassiveexit = !0;
s.default.createAlert(R.teenpattilanguage.passiveexit.operationtimeout, R.teenpattilanguage.passiveexit.operationtimeoutbtn, function() {
t.isShowPassiveexit = !1;
}, void 0, void 0, !1, void 0, void 0, !1);
}
_.statusEnterHalfWay();
}
t.players[0].hideUserSeenBtnMethod(t.players[0]);
t.FButtonUI && t.FButtonUI.hideAddCoin();
S.statusFold(i);
t.scheduleOnce(function() {
t.FButtonUI && t.FButtonUI.resetCanFold(!0);
}, .5);
},
eventCallEV: function(e) {
var t = this;
b.isCalling = !1;
t.gameInfoNode.active = !1;
var i = t.transSeat(e.Chair), o = e.BetAmount;
y.betChip = e.Base;
this.TeenPattiGameUI.updatePotCount(r.default.iTofixed(o / 1e3, 2), !0);
0 == i && this.TeenPattiGameUI.calculatePlayerBetAmount(r.default.iTofixed(o / 1e3, 2));
if (t.players && t.players[i]) {
var n = t.getIsAliveIndex();
if (y.userSeenArray.indexOf(i) > -1 && n.indexOf(i) > -1) {
t.players[i].chaarBet();
t.players[i].showChaarBroadcast(this.broadcastInfoNode, o);
} else if (0 != i) {
t.players[i].bindBet();
t.players[i].showBlindBroadcast(this.broadcastInfoNode, o);
} else if (y.isPeeked) {
t.players[i].chaarBet();
t.players[i].showChaarBroadcast(this.broadcastInfoNode, o);
} else {
t.players[i].bindBet();
t.players[i].showBlindBroadcast(this.broadcastInfoNode, o);
}
t.players[i].coinChange(-o / 1e3 * 1);
t.players[i].chipChange(o / 1e3 * 1);
t.players[i].stopTimer();
if (t.FDealerUI) {
t.playerThrowChipMethod(t.players[i].node, o);
t.FDealerUI.addChipsAmount(1 * o);
}
C.playGenzhu(t.players[i].userInfo.Gender);
}
t.FPlayerExtraUI && t.FPlayerExtraUI.showBetCallRaises(i, 1, 1 * o);
t.scheduleOnce(function() {
t.FButtonUI && t.FButtonUI.resetCanCall(!0);
}, .5);
},
eventRaiseEV: function(e) {
b.isAddCoining = !1;
y.bet_index = e.BetIndex;
if (y.bet_index > 0 && this.FButtonUI) {
this.FButtonUI.disableAddCoin(y.bet_index);
this.FButtonUI.setAddVisible(y.bet_index < 4);
}
var t = this.transSeat(e.Chair), i = b.betCoinValue[y.bet_index], o = e.Count;
if (this.players && this.players[t]) {
var n = this.players[t];
n.stopTimer();
n.coinChange(-i * o);
n.chipChange(i * o);
if (this.FDealerUI) {
this.FDealerUI.throwChip(n.node, y.bet_index, i, o);
this.FDealerUI.addChipsAmount(i * o);
}
C.playJiazhu(n.userInfo.Gender);
}
this.FPlayerExtraUI && this.FPlayerExtraUI.showBetCallRaises(t, 2, i * o);
},
eventDoubleEV: function(e) {
var t = this;
b.isDoubleing = !1;
y.double += 1;
var i = this.transSeat(e.Chair), o = b.betCoinValue[y.bet_index], n = e.Count;
if (t.players && t.players[i]) {
t.players[i].stopTimer();
t.players[i].coinChange(-o * n);
t.players[i].chipChange(o * n);
if (t.FDealerUI) {
t.FDealerUI.throwChip(t.players[i].node, y.bet_index, o, n);
t.FDealerUI.addChipsAmount(o * n);
}
C.playJiazhu(t.players[i].userInfo.Gender);
}
t.FPlayerExtraUI && t.FPlayerExtraUI.showBetCallRaises(i, 2, o * n);
t.scheduleOnce(function() {
t.FButtonUI && t.FButtonUI.resetCanDouble(!0);
}, .5);
},
eventCompareEV: function(e) {
var t = this, i = t.transSeat(e.SourceChair), o = t.transSeat(e.DestChair);
console.log("this source is" + i + "this dest is" + o);
if (e.Done) {
if (e.Accepted) {
if (t.players && t.players[o]) {
t.showGameInfoNode();
t.players[o].showSideshowAcceptBroadcast(this.broadcastInfoNode);
}
if (t.players) {
t.players[i] && t.players[i].stopTimer();
t.scheduleOnce(function() {
t.fx && t.players[i] && t.players[o] && t.fx.newStartPK(t.players[i], t.players[o], e.HasWin);
}, 1);
}
t.FButtonUI && t.FButtonUI.statusCompare();
t.players && t.players[i] && t.players[o] && setTimeout(function() {
cc.isValid(t.node) && t.players[i] && t.players[i].showSideshowAcceptCompareBroadcast(t.broadcastInfoNode, t.players[o].node, e.HasWin);
}, 2500);
t.scheduleOnce(function() {
S.statusCompare(t, e.HasWin, t.players, i, o, function(e, i) {
t.FButtonUI && t.FButtonUI.setChangeVisible(e > i);
}.bind(t));
0 == i && 0 == e.HasWin && _.statusEnterHalfWay();
0 == o && 1 == e.HasWin && _.statusEnterHalfWay();
}, 1);
if (0 == i || 0 == o) if (y.isPeeked) ; else {
t.players[i].handShow(e.SrcCards);
t.players[o].handShow(e.DestCards);
}
var n = e.BetAmount;
if (t.players && t.players[i] && t.FDealerUI) {
t.players[i].coinChange(-n / 1e3);
t.players[i].chipChange(n / 1e3);
t.FDealerUI.addChipsAmount(n);
}
} else if (t.players && t.players[o]) {
t.players[i] && t.players[i].stopTimer();
t.players[o].showSideshowRefuseBroadcast(this.broadcastInfoNode);
}
} else {
var a = e.BetAmount;
this.TeenPattiGameUI.updatePotCount(r.default.iTofixed(a / 1e3, 2), !0);
0 == i && this.TeenPattiGameUI.calculatePlayerBetAmount(r.default.iTofixed(a / 1e3, 2));
t.players && t.players[i] && t.players[o] && t.FDealerUI && t.players[i].sideShowBet();
if (t.players && t.players[i] && t.FDealerUI) {
t.playerThrowChipMethod(t.players[i].node, a);
t.players[i].coinChange(-a / 1e3);
t.players[i].chipChange(a / 1e3);
t.FDealerUI.addChipsAmount(a);
C.playGenzhu(t.players[i].userInfo.Gender);
}
if (0 == o) {
t.players[i] && t.players[i].stopTimer();
t.showGameInfoNode();
t.FButtonUI && t.FButtonUI.showCompareUIMethod(e, t.players[i].node);
} else {
this.FButtonUI && this.FButtonUI.hideAllBtns();
t.showGameInfoNode();
t.players[i].showSideshowBroadcast(this.broadcastInfoNode, t.players[o].node);
}
}
},
eventPkAllEV: function(e) {
var t = this.transSeat(e.Chair), i = this;
if (this.players && this.players[t]) {
this.players[t].showBet();
var o = this.getIsAliveIndex();
o.forEach(function(e) {
if (i.players && i.players[e]) {
i.players[e].showBet();
i.players[e].stopTimer();
}
});
var n = e.BetAmount;
i.playerThrowChipMethod(i.players[t].node, n);
this.players[t].stopTimer();
0 == t && this.players[t] && this.players[t].hideUserSeenBtnMethod(this.players[t]);
i.eventShowAnimation();
var a = [];
if (-1 != o.indexOf(t)) {
o.splice(o.indexOf(t), 1);
a = o;
} else a = o;
var s = a[Math.floor(Math.random() * a.length)];
i.scheduleOnce(function() {
i.fx && i.players[t] && i.players[s] && i.fx.newStartPK(i.players[t], i.players[s], e.HasWin);
}, 1);
this.FButtonUI && this.FButtonUI.hideAllBtns();
i.showGameInfoNode();
this.players[t].showPKAllBroadcast(this.broadcastInfoNode, e.HasWin, e.EndAmount);
this.TeenPattiGameUI.updatePotCount(r.default.iTofixed(e.BetAmount / 1e3, 2), !0);
0 == t && this.TeenPattiGameUI.calculatePlayerBetAmount(r.default.iTofixed(e.BetAmount / 1e3, 2));
this.players[t].coinChange(-e.BetAmount / 1e3);
this.players[t].chipChange(e.BetAmount / 1e3);
0 == t && this.players[t].hideUserSeenBtnMethod();
}
if (0 == e.HasWin) {
this.players && this.players[t] && this.players[t].stopTimer();
if (0 == t) {
this.FButtonUI && this.FButtonUI.hideAllBtns();
var c = b.min_limit, l = this.players[0].userInfo.Credit;
this.FButtonUI && this.FButtonUI.setChangeVisible(parseFloat(l) > parseFloat(c));
}
}
this.FDealerUI && this.FDealerUI.addChipsAmount(e.BetAmount / 1e3);
C.playGenzhu(this.players[t].userInfo.Gender);
},
eventAllInEV: function(e) {
var t = this, i = this.transSeat(e.Chair);
if (this.players && this.players[i]) {
this.players[i].allInBet();
var o = this.getIsAliveIndex();
o.forEach(function(e) {
if (t.players && t.players[e]) {
t.players[e].allInBet();
t.players[e].stopTimer();
}
});
var n = e.BetAmount;
t.playerThrowChipMethod(t.players[i].node, n);
this.players[i].stopTimer();
0 == i && this.players[i] && this.players[i].hideUserSeenBtnMethod(this.players[i]);
t.eventAllInAnimation();
var a = [];
if (-1 != o.indexOf(i)) {
o.splice(o.indexOf(i), 1);
a = o;
} else a = o;
var s = a[Math.floor(Math.random() * a.length)];
t.scheduleOnce(function() {
t.fx && t.players[i] && t.players[s] && t.fx.newStartPK(t.players[i], t.players[s], e.HasWin);
}, 1);
0 == i && e.HasWin;
this.FButtonUI && this.FButtonUI.hideAllBtns();
t.showGameInfoNode();
this.players[i].showAllInBroadcast(this.broadcastInfoNode, e.HasWin, e.EndAmount);
this.TeenPattiGameUI.updatePotCount(r.default.iTofixed(e.BetAmount / 1e3, 2), !0);
0 == i && this.TeenPattiGameUI.calculatePlayerBetAmount(r.default.iTofixed(e.BetAmount / 1e3, 2));
cc.log("this bet amount :" + e.BetAmount);
this.players[i].coinChange(-e.BetAmount / 1e3);
this.players[i].chipChange(e.BetAmount / 1e3);
0 == i && this.players[i].hideUserSeenBtnMethod();
}
if (0 == e.HasWin) {
if (this.players && this.players[i]) {
if (t.getIsAliveIndex().length > 1) {
this.players[i].handGiveup();
this.players[i].setUserState(g.FT_USER_STATUS.Quit);
0 == i && _.statusEnterHalfWay();
}
this.players[i].stopTimer();
}
if (0 == i) {
this.FButtonUI && this.FButtonUI.hideAllBtns();
var c = b.min_limit, l = this.players[0].userInfo.Credit;
this.FButtonUI && this.FButtonUI.setChangeVisible(parseFloat(l) > parseFloat(c));
}
}
this.FDealerUI && this.FDealerUI.addChipsAmount(e.BetAmount / 1e3);
C.playGenzhu(this.players[i].userInfo.Gender);
},
eventComputeST: function(e) {
var t = this;
t._getIsGamingPlayer().length >= 2 && y.room_turn_count == y.room_max_turn_count - 1 && t.TeenPattiGameUI && t.TeenPattiGameUI.updateTurnCount(y.room_max_turn_count, y.room_max_turn_count);
this.GameStage = g.FT_STAGE.SETTLE;
var i = t.transSeat(e.WinnerChair), o = r.default.iTofixed(e.Award / 1e3, 2) || 0;
cc.log("cache pot " + y.cacheRoomPot.toFixed(2) + "max:" + (y.pool_max / 1e3).toFixed(2));
cc.log("action is " + e.Action);
if (e.Action) {
this.FButtonUI && this.FButtonUI.hideAllBtns();
this.players[i].stopTimer();
var n = t.transSeat(e.LastChair);
if (this.players && this.players[n]) {
this.players[n].stopTimer();
C.playGenzhu(t.players[n].userInfo.Gender);
this.FDealerUI && this.FDealerUI.throwChip(t.players[n].node, 0, y.bet_base, 1);
}
t.FButtonUI && t.FButtonUI.closeTimerUIMethod();
this.TeenPattiGameUI.updatePotMax((e.LastPot / 1e3).toFixed(2));
t.showPotMaxBroadcast();
var a = t.getIsAliveIndex();
a.forEach(function(e) {
if (t.players && t.players[e]) {
t.players[e].showBet();
t.players[e].stopTimer();
}
});
t.scheduleOnce(function() {
t.eventShowAnimation();
var n = [];
if (-1 != a.indexOf(i)) {
a.splice(a.indexOf(i), 1);
n = a;
} else n = a;
var r = n[Math.floor(Math.random() * n.length)];
cc.log("this winner is" + i + "this dest is " + r);
t.scheduleOnce(function() {
t.fx && t.players[i] && t.players[r] && t.fx.newStartPK(t.players[i], t.players[r], !0);
}, .5);
t.scheduleOnce(function() {
t.FPlayerExtraUI && t.FPlayerExtraUI.hideAllLight();
t.players && t.players.forEach(function(e, t) {
if (e) {
e.hidePKWinAction();
e.hidePKLoseAction();
0 != t && e.coinChange(0);
}
});
t.players && t.players[0] && t.players[0].hideUserSeenBtnMethod();
for (var n in e.Info) {
cc.log("结算的座位 " + n);
var r = t.transSeat(parseInt(n));
t.players && t.players[r] && t.players[r].state > g.FT_USER_STATUS.Prepare && (0 == r ? t.players && t.players[r] && (y.isPeeked || t.players[r].handShow(e.Info[n].Cards)) : t.players && t.players[r] && t.players[r].cardShow(e.Info[n].Cards));
}
t.scheduleOnce(function() {
if (t.players) {
var e = t.players[i];
if (e) {
e.stopTimer();
e.userWin();
0 == i && e.coinChange(o);
}
t.players.forEach(function(e, t) {
e.state > g.FT_USER_STATUS.Prepare && e._chipAmount > 0 && (t == i ? e.showWinAction(o) : e.showWinAction(-e._chipAmount.toFixed(2)));
});
}
t.FButtonUI && t.FButtonUI.statusCompute();
t.players[i].showPlayerWinAnimation();
t.players && t.players[i] && t.FDealerUI && t.FDealerUI.collectChip(t.players[i].node);
t.players[i].showSettlementBroadcast(this.broadcastInfoNode, o);
t.scheduleOnce(function() {
t.TeenPattiGameUI && t.TeenPattiGameUI.updateTurnCount(0, y.room_max_turn_count);
}, 4);
t.fx && t.fx.stopFire();
S.statusCompute();
this.TeenPattiGameUI.updatePotCount(0, !1);
this.TeenPattiGameUI.calculatePlayerBetAmount(0);
v.canExitGame = !0;
t.isShowPassiveexit && t.closeGame();
}, .5);
}, .5);
}, 1.5);
} else t.scheduleOnce(function() {
t.FPlayerExtraUI && t.FPlayerExtraUI.hideAllLight();
t.players && t.players.forEach(function(e, t) {
if (e) {
e.hidePKWinAction();
e.hidePKLoseAction();
0 != t && e.coinChange(0);
}
});
var o = r.default.iTofixed(e.Award / 1e3, 2) || 0;
t.players && t.players[0] && t.players[0].hideUserSeenBtnMethod();
for (var n in e.Info) {
cc.log("结算的座位 " + n);
var a = t.transSeat(parseInt(n));
t.players && t.players[a] && t.players[a].state > g.FT_USER_STATUS.Prepare && (0 == a ? t.players && t.players[a] && (y.isPeeked || t.players[a].handShow(e.Info[n].Cards)) : t.players && t.players[a] && t.players[a].cardShow(e.Info[n].Cards));
}
t.scheduleOnce(function() {
if (t.players) {
var e = t.players[i];
if (e) {
e.stopTimer();
e.userWin();
0 == i && e.coinChange(o);
}
t.players.forEach(function(e, t) {
e.state > g.FT_USER_STATUS.Prepare && e._chipAmount > 0 && (t == i ? e.showWinAction(o) : e.showWinAction(-e._chipAmount.toFixed(2)));
});
}
t.FButtonUI && t.FButtonUI.statusCompute();
t.players[i].showPlayerWinAnimation();
t.players && t.players[i] && t.FDealerUI && t.FDealerUI.collectChip(t.players[i].node);
t.players[i].showSettlementBroadcast(this.broadcastInfoNode, o);
t.scheduleOnce(function() {
t.TeenPattiGameUI && t.TeenPattiGameUI.updateTurnCount(0, y.room_max_turn_count);
}, 4);
t.fx && t.fx.stopFire();
S.statusCompute();
this.TeenPattiGameUI.updatePotCount(0, !1);
this.TeenPattiGameUI.calculatePlayerBetAmount(0);
v.canExitGame = !0;
t.isShowPassiveexit && t.closeGame();
}, .5);
}, .5);
},
eventFire: function() {
this.isFPlayingfire = !0;
},
eventShowAnimation: function() {
var e = this;
e.showNodeAnimation.active = !0;
var t = e.showNodeAnimation;
t.opacity = 0;
var i = t.x, o = cc.callFunc(function() {
e.showNodeAnimation.active = !1;
e.showNodeAnimation.x = i;
}), n = cc.spawn(cc.moveTo(.16, cc.v2(0, 0)), cc.fadeTo(.16, 255)), r = cc.delayTime(.23), a = cc.spawn(cc.moveTo(.3, cc.v2(-334, 0)), cc.fadeTo(.3, 0)), s = cc.sequence(n, r, a, o);
t.runAction(s);
},
eventAllInAnimation: function() {
var e = this;
e.allInNodeAnimation.active = !0;
var t = e.allInNodeAnimation;
t.opacity = 0;
var i = t.x, o = cc.callFunc(function() {
e.allInNodeAnimation.active = !1;
e.allInNodeAnimation.x = i;
}), n = cc.spawn(cc.moveTo(.16, cc.v2(0, 0)), cc.fadeTo(.16, 255)), r = cc.delayTime(.23), a = cc.spawn(cc.moveTo(.3, cc.v2(-334, 0)), cc.fadeTo(.3, 0)), s = cc.sequence(n, r, a, o);
t.runAction(s);
},
eventSideShowAnimation: function() {
var e = this;
e.sideShowNodeAnimation.active = !0;
var t = e.sideShowNodeAnimation;
t.opacity = 0;
var i = cc.callFunc(function() {
e.sideShowNodeAnimation.active = !1;
}), o = cc.spawn(cc.moveTo(.16, cc.v2(0, 0)), cc.fadeTo(.16, 255)), n = cc.delayTime(.23), r = cc.spawn(cc.moveTo(.3, cc.v2(-334, 0)), cc.fadeTo(.3, 0)), a = cc.sequence(o, n, r, i);
t.runAction(a);
},
sleep: function(e) {
return new Promise(function(t) {
return setTimeout(t, e);
});
},
isPkAllCoin: function(e) {
var t = 1;
e && (t = e.userInfo.Checked ? 2 : 1);
return y.betChip == y.bet_max ? y.betChip : y.betChip * t;
},
getIsAliveIndex: function() {
var e = [];
this.players && this.players.forEach(function(t, i) {
t.isAlive() && 0 != i && e.push(i);
});
return e;
},
getLastPlayerSeenMethod: function(e) {
this.players && this.players.forEach(function(e, t) {
e.isAlive() && 0 != t && console.log("this player is ", e);
});
},
_getIsGamingPlayer: function() {
return this.players ? this.players.filter(function(e) {
return e.getState() === g.FT_USER_STATUS.Gaming;
}) : [];
},
clickBackBtn: function() {
var e = this;
c.default.clickManager(e.backBtnNode);
T.trackEvent(M.teenpattigamebackclick);
l.default.playMultiEffect(u.default.common.btnMusic);
e.scheduleOnce(function() {
T.trackGameExit("TeenPatti");
e.exitGame();
}, .5);
},
exitGame: function() {
if (v.canExitGame) {
l.default.stopAll();
p.close();
this.eventManger && this.eventManger.closeEvent();
d.default.runGameWithID(c.default.GAME_TYPE.GAME_HALL, !1, null, null);
} else s.default.createAlert(R.teenpattilanguage.activeexit.betsalready, R.currentlanguage.commondialog.btntwo, function() {
m.exit(b.mySeat);
}, R.currentlanguage.commondialog.btnthree, function() {}, !1, void 0, void 0, !1);
},
onDestroy: function() {
var e = d.default.resArr[c.default.SCENE_NAME.TEENPATTI];
if (e) for (var t in e) {
var i = e[t];
cc.loader.releaseAsset(i);
}
cc.sys.garbageCollect();
},
dynamicPreAsyncLoad: function(e, t) {
var i = this;
if (e && 0 !== e.length) {
e.forEach(function(e) {
switch (e.name) {
case g.prefabName.TeenPattiGameUI:
i.addPrefab(i.gameUIPrefabNode, e);
break;

case g.prefabName.TeenPattiPlayerUI:
i.addPrefab(i.playerUIPrefabNode, e);
break;

case g.prefabName.Player:
i._playerPrefab = e;
break;

case g.prefabName.FX:
i.addPrefab(i.node, e);
var t = i.node.getChildByName("FX");
t.getComponent("TeenPattiFX") && (i.fx = t.getComponent("TeenPattiFX"));
}
});
i.TeenPattiGameUI = i.gameUIPrefabNode.children[0].getComponent("TeenPattiGameUI");
var o = i.playerUIPrefabNode.children[0].getComponent("TeenPattiPlayerUI");
i.TeenPattiGameUI.initNode(i);
cc.log("init playerAnchors.... 1 ");
o.initNode(i);
i.FDealerUI.initNode(i.TeenPattiGameUI.betInfoBaseLabel, i.TeenPattiGameUI.betInfoTotlaLabel);
var n = [ E.prefabPath.timeFrame, E.prefabPath.rule ];
n.length > 0 ? cc.loader.loadResArray(n, function(e, o) {
if (!e) {
o.forEach(function(e) {
switch (e.name) {
case E.prefabPath.timeFrame_name:
i._timePrefab = e;
break;

case E.prefabPath.rule_name:
i._rulePrefab = e;
}
});
t();
}
}) : t();
}
},
addPrefab: function(e, t) {
if (cc.isValid(e) && t) {
var i = cc.instantiate(t);
cc.isValid(i) && cc.isValid(e) && e.addChild(i);
}
},
onRuleClick: function(e) {
var t = this;
l.default.playMultiEffect(u.default.common.btnMusic);
if (t.isshowUiSetting) {
t.isshowUiSetting = !1;
s.default.removeGameSettingUi();
} else {
T.trackEvent(M.teenpattigameroominfoclick);
t.isshowUiSetting = !0;
var i = {
dissCallback: function() {
t.isshowUiSetting = !1;
s.default.removeGameSettingUi();
t.refreshUiSettingBtn();
},
soundCallback: function(e) {
e && C.playBGM();
}
};
s.default.showGameSettingUi(i);
}
t.refreshUiSettingBtn();
cc.log("self.isshowUiSetting = " + t.isshowUiSetting);
},
refreshUiSettingBtn: function() {
this.isshowUiSetting ? P.setComponentSprite(this.ruleBtnNode, E.resources.downUp) : P.setComponentSprite(this.ruleBtnNode, E.resources.downBtn);
}
});
cc._RF.pop();
}, {
"../../Component/ServiceRecharge/GeneralMessageModel": "GeneralMessageModel",
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/BaseFormat": "BaseFormat",
"../../Script/GameFramework/ResDynamicLoader": "ResDynamicLoader",
"../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../Script/ProjectConfig": "ProjectConfig",
"../../Script/Socket/FastPlayMgr": "FastPlayMgr",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"../../Script/UserManager": "UserManager",
"./View/TeenPattiUIMgr": "TeenPattiUIMgr",
CommonEventManager: "CommonEventManager",
CommonFunction: "CommonFunction",
CommonLanguage: "CommonLanguage",
GameEngineUtil: "GameEngineUtil",
NewGameInfo: "NewGameInfo",
TeenPattiAudioMgr: "TeenPattiAudioMgr",
TeenPattiExitUI: "TeenPattiExitUI",
TeenPattiFX: "TeenPattiFX",
TeenPattiGlobal: "TeenPattiGlobal",
TeenPattiInfo: "TeenPattiInfo",
TeenPattiLoadingView: "TeenPattiLoadingView",
TeenPattiModel: "TeenPattiModel",
TeenPattiPkCompareUI: "TeenPattiPkCompareUI",
TeenPattiRes: "TeenPattiRes",
TeenPattiSocketMgr: "TeenPattiSocketMgr",
TeenPattiSocketSend: "TeenPattiSocketSend",
TrackUtil: "TrackUtil",
path: 112
} ],
TeenPattiGlobal: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "4e46d32G5hHxqWjCXDUumLb", "TeenPattiGlobal");
var o, n;
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var a = (n = o = function e() {
r(this, e);
}, o.room = 0, o.roomIndex = 0, o.min_limit = 0, o.betCoinValue = [], o.mySeat = 0, 
o.isCalling = !1, o.isAddCoining = !1, o.isChecking = !1, o.isDoubleing = !1, o.isConnected = !1, 
o.reconnetTimes = 3, o.isReconneting = !1, o.gameStatus = cc.Enum({
KEEP: 0,
ADD: 1,
CHECK: 2,
DOUBLE: 3
}), n);
t.exports = a;
cc._RF.pop();
}, {} ],
TeenPattiInfo: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "982beQX+d1GKqbnzNdQVSY/", "TeenPattiInfo");
var o, n, r = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}();
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var s = (n = o = function() {
function e() {
a(this, e);
}
r(e, null, [ {
key: "reset",
value: function() {
this.bet_index = 0;
this.double = 0;
this.turn_count = 0;
this.turn = 0;
this.stage = 0;
this.clock = 0;
this.room_turn_count = 0;
this.userSeenArray = [];
this.betRaise = !1;
this.compareResultTimer = null;
}
}, {
key: "setInfo",
value: function(e) {
this.bet_index = e.bet_index;
this.double = e.double_;
this.stage = e.stage;
this.turn = e.turn;
this.turn_count = e.turn_count;
this.clock = e.clock;
}
} ]);
return e;
}(), o.betChip = 0, o.bet_base = 0, o.bet_max = 0, o.pool_max = 0, o.blindCount_max = 0, 
o.bet_index = 0, o.double = 0, o.turn_count = 0, o.turn = 0, o.stage = 0, o.clock = 0, 
o.isPeeked = !1, o.betRaise = !1, o.room_turn_count = 0, o.room_max_turn_count = 30, 
o.cacheData = null, o.compareType = 0, o.compareStatusTimer = 3, o.compareWaitTimer = 15, 
o.cacheRoomPot = 0, o.playerBetAmount = 0, o.playerCurrentBalance = 0, o.userSeenArray = [], 
o.isCashOrGold = !0, o.gameLevel = 0, o.isGamingExit = !1, o.isAmountEnough = !1, 
o.compareResultTimer = null, n);
t.exports = s;
cc._RF.pop();
}, {} ],
TeenPattiLoadingView: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "6f52f9/gMFEJ6rwp5sv0cUv", "TeenPattiLoadingView");
var o, n, r = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}(), a = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("../../../Script/UI/CommonPrefabMgr"));
function s(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var c = e("CommonLanguage"), l = (n = o = function() {
function e() {
s(this, e);
}
r(e, null, [ {
key: "init",
value: function(e, t, i) {
this.waintingNext = e;
if (cc.isValid(e)) {
this.waittext = c.teenpattilanguage.notice.waitothers;
var o = e.getChildByName("broadcastInfoLabel");
cc.isValid(o) && o.getComponent(cc.RichText) && (this.waitnextlabel = o.getComponent(cc.RichText));
}
e.zIndex = 1;
this.waitingGameBegin = t;
this.countdownView = i;
this.showWaiting();
}
}, {
key: "startCountdown",
value: function(e) {
this.waintingNext && (this.waintingNext.active = !1);
this.waitingGameBegin && (this.waitingGameBegin.active = !1);
a.default.removeCommonLoading();
if (this.countdownView && this.countdownView.getComponent("TimeFrame")) {
this.countdownView.active = !0;
this.countdownView.getComponent("TimeFrame").hideText();
this.countdownView.getComponent("TimeFrame").startBetCountDownAction(5);
}
}
}, {
key: "statusWaiting",
value: function() {
this.waitingGameBegin && (this.waitingGameBegin.active = !0);
this.showWaiting();
}
}, {
key: "showWaiting",
value: function() {
this.waintingNext && (this.waintingNext.active = !0);
cc.isValid(this.waitnextlabel) && (this.waitnextlabel.string = this.waittext);
}
}, {
key: "statusGameBegin",
value: function() {
this.countdownView && (this.countdownView.active = !1);
this.waintingNext && (this.waintingNext.active = !1);
this.waitingGameBegin && (this.waitingGameBegin.active = !1);
a.default.removeCommonLoading();
}
}, {
key: "statusEnterHalfWay",
value: function() {
this.waintingNext && (this.waintingNext.active = !0);
}
}, {
key: "statusHide",
value: function() {
this.countdownView && (this.countdownView.active = !1);
this.waintingNext && (this.waintingNext.active = !1);
this.waitingGameBegin && (this.waitingGameBegin.active = !1);
a.default.removeCommonLoading();
}
} ]);
return e;
}(), o.isLoading = !1, o.timeDownBlock = null, n);
t.exports = l;
cc._RF.pop();
}, {
"../../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
CommonLanguage: "CommonLanguage"
} ],
TeenPattiModel: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "8d8c2b1edJDtbxf4NU2GNHq", "TeenPattiModel");
var o, n, r = s(e("./TeenPattiSkinConfig")), a = s(e("../../../Script/ProjectConfig"));
function s(e) {
return e && e.__esModule ? e : {
default: e
};
}
function c(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var l = (n = o = function e() {
c(this, e);
}, o.pattern = {
0: "豹子杀手",
1: "散牌",
2: "对子",
3: "顺子",
4: "金花",
5: "同花顺",
6: "豹子"
}, o.FT_MSG_TYPE = cc.Enum({
Pong: 99,
ErrorST: 100,
UserST: 101,
RoomST: 102,
UserInEV: 103,
UserOutEV: 104,
PrepareNT: 105,
PrepareCancelNT: 106,
PlayNT: 107,
CheckEV: 108,
FoldEV: 109,
CallEV: 110,
RaiseEV: 111,
DoubleEV: 112,
CompareEV: 113,
PkAllEV: 114,
AllInEV: 118,
ComputeST: 115
}), o.FT_SEND_TYPE = {
UserOutReq: 2,
ChangeTableReq: 3,
FoldReq: 4,
CheckReq: 5,
CompareReq: 6,
CallReq: 7,
RaiseReq: 8,
DoubleReq: 9,
PkAllReq: 10,
SyncUserReq: 11,
AntiTimeoutReq: 12,
CompareAcceptReq: 61,
AllInReq: 13
}, o.FT_STAGE = {
WAIT: "WAIT",
PREPARE: "PREPARE",
SHUFFLE: "SHUFFLE",
PLAY: "PLAY",
SETTLE: "SETTLE"
}, o.FT_USER_STATUS = {
Null: -1,
Prepare: 0,
Gaming: 1,
Quit: 2,
Compare_Lose: 3,
Win: 4
}, o.prefabName = {
TeenPattiGameUI: "TeenPattiGameUI",
TeenPattiPlayerUI: "TeenPattiPlayerUI",
Player: "player",
FX: "FX"
}, o.SKIN_CONFIG = r.default.SKIN_CONFIG[a.default.variable.curSkin], n);
t.exports = l;
cc._RF.pop();
}, {
"../../../Script/ProjectConfig": "ProjectConfig",
"./TeenPattiSkinConfig": "TeenPattiSkinConfig"
} ],
TeenPattiPkCompareUI: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "1cb35wElSVNHKnVESIdzoJD", "TeenPattiPkCompareUI");
var o = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}();
function n(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var r = e("TeenPattiSocketSend"), a = e("TeenPattiGlobal"), s = e("TeenPattiModel").FT_USER_STATUS, c = function() {
function e() {
n(this, e);
}
o(e, null, [ {
key: "init",
value: function(e) {
this.selector = e;
if (this.selector) {
this.selePlayerNode = this.selector.getChildByName("selePlayerNode");
this.compareIndicators = new Array(4);
this.compareIndicators[0] = this.selector.getChildByName("indicator1");
this.compareIndicators[1] = this.selector.getChildByName("indicator2");
this.compareIndicators[2] = this.selector.getChildByName("indicator3");
this.compareIndicators[3] = this.selector.getChildByName("indicator4");
this.timer = this.selector.getChildByName("timer");
this.timer.active = !1;
this.calcelButton = this.selector.getChildByName("CancelButton");
var t = this;
this.calcelButton.on(cc.Node.EventType.TOUCH_END, function() {
t.hide();
}, this);
}
}
}, {
key: "showTimer",
value: function() {
this.calcelButton.active = !0;
}
}, {
key: "showCompareIndicators",
value: function(e) {
this.compareIndicators && this.compareIndicators[e] && (this.compareIndicators[e].active = !0);
}
}, {
key: "hideCompareIndicators",
value: function(e) {
this.compareIndicators && this.compareIndicators[e] && (this.compareIndicators[e].active = !1);
}
}, {
key: "selectPlayerToPk",
value: function(e) {
var t = this;
t.selector && (t.selector.active = !0);
t.selePlayerNode.removeAllChildren();
t.showTimer();
e && e.forEach(function(e, i) {
if (e.isAlive() && 0 !== i) {
var o = cc.instantiate(e.user);
if (o) {
var n = e.node.position.clone();
t.showCompareIndicators(i - 1);
cc.isValid(t.selePlayerNode) && t.selePlayerNode.addChild(o, 1);
o.setName(i - 1 + "");
o.position = n;
var s = o.getChildByName("anim");
s && (s.active = !0);
o.once("touchend", function(e) {
var o = i + a.mySeat;
r.compare(o > 5 ? o % 5 : o);
s && (s.active = !1);
t.hide();
}, t);
}
} else if (e.isAlive() || 0 === i) t.hideCompareIndicators(i); else {
t.hideCompareIndicators(i - 1);
t.selePlayerNode && t.selePlayerNode.getChildByName(i - 1 + "") && t.selePlayerNode.getChildByName(i - 1 + "").destroy();
}
});
}
}, {
key: "statusCompute",
value: function() {
if (this.selePlayerNode) for (var e = this.selePlayerNode.children, t = 0; t < e.length; ++t) {
var i = e[t];
null == i && void 0 == i || i.destroy();
}
this.selector && 1 == this.selector.active && (this.selector.active = !1);
}
}, {
key: "statusCompare",
value: function(e, t, i, o, n, r) {
var c = this;
if (t) {
i && i[n] && i[n].setUserState(s.Quit);
e.scheduleOnce(function() {
if (i) {
i[o] && i[o] && i[o].showPkWinAction();
i[n] && i[n] && i[n].showPKLoseAction();
i && i[n] && i[n] && i[n].handGiveup();
}
}, 1.3);
e.scheduleOnce(function() {
c.closeAnimation_pk(i);
if (i && i[0] && 0 == i[0].isAlive() && 0 == n) {
var e = a.min_limit, t = i[0].userInfo.Credit;
r && r(parseFloat(t), parseFloat(e));
}
}, 3.2);
c.selePlayerNode && c.selePlayerNode.getChildByName(n - 1 + "") && c.selePlayerNode.getChildByName(n - 1 + "").destroy();
} else {
i && i[o] && i[o].setUserState(s.Quit);
e.scheduleOnce(function() {
if (i) {
i[n] && i[n] && i[n].showPkWinAction();
i[o] && i[o] && i[o].showPKLoseAction();
i[o] && i[o] && i[o].handGiveup();
}
}, 1.3);
e.scheduleOnce(function() {
c.closeAnimation_pk(i);
if (i && i[0] && 0 == i[0].isAlive() && 0 == o) {
var e = a.min_limit, t = i[0].userInfo.Credit;
r && r(parseFloat(t), parseFloat(e));
}
}, 3.2);
c.selePlayerNode && c.selePlayerNode.getChildByName(o - 1 + "") && c.selePlayerNode.getChildByName(o - 1 + "").destroy();
}
}
}, {
key: "closeAnimation_pk",
value: function(e) {
e && e.forEach(function(e) {
e && e.hidePKWinAction();
e && e.hidePKLoseAction();
});
}
}, {
key: "hide",
value: function() {
if (this.selector && 1 == this.selector.active) {
this.selector.active = !1;
this.selePlayerNode && this.selePlayerNode.removeAllChildren();
}
}
}, {
key: "statusFold",
value: function(e) {
if (this.selector && 1 == this.selector.active && this.selePlayerNode) {
var t = this.selePlayerNode.children[e - 1];
t && t.destroy();
}
}
} ]);
return e;
}();
t.exports = c;
cc._RF.pop();
}, {
TeenPattiGlobal: "TeenPattiGlobal",
TeenPattiModel: "TeenPattiModel",
TeenPattiSocketSend: "TeenPattiSocketSend"
} ],
TeenPattiPlayerCardUI: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "b03ffHJAX5OgI4M9aG6tnHW", "TeenPattiPlayerCardUI");
var o = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}(), n = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("../../../Script/ProjectConfig"));
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var a = e("TeenPattiModel"), s = function() {
function e() {
r(this, e);
}
o(e, null, [ {
key: "handCardInit",
value: function(e, t) {
if (e && t) {
e.forEach(function(e, t) {
if (e && e.node && e.node.getComponent("Poker")) {
e.node.getComponent("Poker").showNull();
e.node.rotation = 0;
e.node.x = a.SKIN_CONFIG.my_poker_start_x + t * a.SKIN_CONFIG.my_poker_offset_x;
e.node.y = a.SKIN_CONFIG.my_poker_start_y;
e.node.attr({
ox: e.node.x,
oy: e.node.y
});
}
});
t.node && (t.node.parent.active = !1);
}
}
}, {
key: "playerCardInit",
value: function(e, t, i) {
cc.log("playerCardInit");
if (e && t) {
e.forEach(function(e, t) {
if (e && e.node && e.node.getComponent("Poker")) {
i ? e.node.getComponent("Poker").showCardback() : e.node.getComponent("Poker").showNull();
e.node.rotation = 0;
e.node.x = a.SKIN_CONFIG.other_user_poker_start_x + t * a.SKIN_CONFIG.other_user_poker_offset_x;
e.node.y = a.SKIN_CONFIG.other_user_poker_start_y;
e.node.scale = a.SKIN_CONFIG.other_user_card_scale;
e.node.attr({
ox: e.node.x,
oy: e.node.y
});
}
});
t.node && (t.node.parent.active = !1);
}
}
}, {
key: "handDeal",
value: function(e, t, i) {
var o = t.convertToWorldSpace(cc.v2(-169.5, -100)), n = i.convertToNodeSpace(o);
if (e) {
var r = e[0].node, s = r.x, c = r.y;
e.forEach(function(e, t) {
if (e && e.node && e.node.getComponent("Poker")) {
e.node.getComponent("Poker").showCardback();
var i = e.node.x, o = e.node.y;
e.node.setPosition(n);
e.node.setScale(.2);
e.node.runAction(cc.sequence(cc.delayTime(.067 * t), cc.spawn(cc.moveTo(.266, s, c).easing(cc.easeCubicActionOut()), cc.scaleTo(.266, a.SKIN_CONFIG.my_hand_card_scale).easing(cc.easeCubicActionOut())), cc.moveTo(.24, i, o).easing(cc.easeCubicActionOut())));
}
});
}
}
}, {
key: "handJustShow",
value: function(e) {
e && e.forEach(function(e) {
if (e && e.node) {
e.node.getComponent("Poker").showCardback();
var t = e.node.x, i = e.node.y;
e.node.setPosition(t, i);
}
});
}
}, {
key: "handPeek",
value: function(e, t) {
var i = this;
if (e) {
e[0].node;
e.forEach(function(e, o) {
if (e && e.node) {
var r = e.node.ox;
r || (r = e.node.ox2);
var s = e.node.oy;
s || (s = e.node.oy2);
e.node.setPosition(r, s);
e.node.runAction(cc.sequence(cc.scaleTo(.2, 0, a.SKIN_CONFIG.my_hand_card_scale), cc.callFunc(function(t, i) {
e.node.getComponent("Poker").initWithGameAndCardId(n.default.GAME_TYPE.TEENPATTI, i);
}, i, t[o]), cc.scaleTo(.2, a.SKIN_CONFIG.my_hand_card_scale, a.SKIN_CONFIG.my_hand_card_scale)));
}
}, i);
}
}
}, {
key: "handShow",
value: function(e, t) {
e && e.forEach(function(e, i) {
if (e && e.node) {
var o = e.node.ox;
o || (o = e.node.ox2);
var r = e.node.oy;
r || (r = e.node.oy2);
e.node.setPosition(o, r);
e.node.runAction(cc.sequence(cc.scaleTo(.2, 0, a.SKIN_CONFIG.my_hand_card_scale), cc.callFunc(function() {
e.node.getComponent("Poker").initWithGameAndCardId(n.default.GAME_TYPE.TEENPATTI, t[i]);
}), cc.scaleTo(.2, a.SKIN_CONFIG.my_hand_card_scale, a.SKIN_CONFIG.my_hand_card_scale)));
}
});
}
}, {
key: "handGiveup",
value: function(e, t, i) {
if (t) {
t.spriteFrame = i;
t.node && (t.node.parent.active = !0);
}
e && e.forEach(function(e) {
e && e.node && e.node.getComponent("Poker") && e && e.node.getComponent("Poker").showCardGiveup();
});
}
}, {
key: "handLose",
value: function(e, t, i) {
if (t) {
t.spriteFrame = i;
t.node && (t.node.parent.active = !0);
}
e && e.forEach(function(e) {
e && e.node && e.node.getComponent("Poker") && e.node.getComponent("Poker").showCardFail();
});
}
}, {
key: "cardDeal",
value: function(e, t, i) {
cc.log("cardDeal");
var o = t.convertToWorldSpace(cc.v2(0, 0)), n = i.convertToNodeSpace(o);
if (e) {
var r = e[0].node, s = r.x, c = r.y;
e.forEach(function(e, t) {
if (e && e.node) {
e.node.getComponent("Poker") && e.node.getComponent("Poker").showCardback();
var i = e.node.x, o = e.node.y;
e.node.setPosition(n);
e.node.setScale(.2);
e.node.runAction(cc.sequence(cc.delayTime(.067 * t), cc.spawn(cc.moveTo(.267, s, c).easing(cc.easeCubicActionOut()), cc.scaleTo(.267, a.SKIN_CONFIG.other_user_card_scale).easing(cc.easeCubicActionOut())), cc.moveTo(.24, i, o).easing(cc.easeCubicActionOut())));
}
});
}
}
}, {
key: "cardTogether",
value: function(e) {
var t = void 0, i = void 0;
if (e) {
if (e[1] && e[1].node) {
t = e[1].node.x;
i = e[1].node.y;
}
e[0] && e[0].node && e[0].node.runAction(cc.moveTo(.2, t, i));
e[2] && e[2].node && e[2].node.runAction(cc.moveTo(.2, t, i));
}
}
}, {
key: "cardPeek",
value: function(e, t) {
if (e) {
e.node && (e.node.parent.active = !0);
e.string = "Seen";
}
}
}, {
key: "cardBind",
value: function(e, t) {
if (e) {
e.node && (e.node.parent.active = !0);
e.string = "Blind";
}
}
}, {
key: "cardBoot",
value: function(e, t) {
if (e) {
e.node && (e.node.parent.active = !0);
e.string = "Boot";
}
}
}, {
key: "cardChaar",
value: function(e, t) {
if (e) {
e.node && (e.node.parent.active = !0);
e.string = "Chaal";
}
}
}, {
key: "cardSideShow",
value: function(e, t) {
if (e) {
e.node && (e.node.parent.active = !0);
e.string = "SideShow";
}
}
}, {
key: "cardPorkShow",
value: function(e, t) {
if (e) {
e.node && (e.node.parent.active = !0);
e.string = "Show";
}
}
}, {
key: "cardAccepted",
value: function(e, t) {
if (e) {
e.node && (e.node.parent.active = !0);
e.string = "Accepted";
}
}
}, {
key: "cardRefused",
value: function(e, t) {
if (e) {
e.node && (e.node.parent.active = !0);
e.string = "Refused";
}
}
}, {
key: "cardAllIn",
value: function(e, t) {
if (e) {
e.node && (e.node.parent.active = !0);
e.string = "All-In";
}
}
}, {
key: "cardNormal",
value: function(e) {
if (e) {
e.node && (e.node.parent.active = !0);
e.spriteFrame = null;
}
}
}, {
key: "cardGiveup",
value: function(e, t, i) {
this.cardRestore(e);
if (t) {
t.node && (t.node.parent.active = !0);
t.string = "Packed";
}
e && e.forEach(function(e) {
e && e.node && e.node.getComponent("Poker") && e.node.getComponent("Poker").showCardGiveup();
});
}
}, {
key: "cardLose",
value: function(e, t, i) {
this.cardRestore(e);
if (t) {
t.node && (t.node.parent.active = !0);
t.string = "Loss";
}
e && e.forEach(function(e) {
e && e.node && e.node.getComponent("Poker") && e.node.getComponent("Poker").showCardFail();
});
}
}, {
key: "cardRestore",
value: function(e) {
e && e.forEach(function(e) {
if (e && e.node) {
var t = e.node.ox;
t || (t = e.node.ox2);
var i = e.node.oy;
i || (i = e.node.oy2);
e.node.setPosition(t, i);
e.node.rotation = 0;
}
});
}
}, {
key: "cardShow",
value: function(e, t) {
cc.log("cardShow");
this.cardRestore(e);
e && e.forEach(function(e, i) {
e && e.node && e.node.getComponent("Poker") && e.node.runAction(cc.sequence(cc.scaleTo(.2, 0, a.SKIN_CONFIG.other_user_card_scale), cc.callFunc(function() {
e.node.getComponent("Poker").initWithGameAndCardId(n.default.GAME_TYPE.TEENPATTI, t[i]);
}), cc.scaleTo(.2, a.SKIN_CONFIG.other_user_card_scale, a.SKIN_CONFIG.other_user_card_scale)));
});
}
}, {
key: "stopCarsAction",
value: function(e) {
e && e.forEach(function(e, t) {
e && e.node && e.node.getComponent("Poker") && e.node.stopAllActions();
});
}
} ]);
return e;
}();
t.exports = s;
cc._RF.pop();
}, {
"../../../Script/ProjectConfig": "ProjectConfig",
TeenPattiModel: "TeenPattiModel"
} ],
TeenPattiPlayerExtra: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "b1b4a704fNCJZeCiUwtZDpx", "TeenPattiPlayerExtra");
cc.Class({
extends: cc.Component,
properties: {
readysSprite: {
type: cc.Label,
default: []
},
betCallRaises: {
type: cc.Node,
default: []
},
lights: {
type: cc.Node,
default: []
}
},
hideReady: function(e) {
this.readysSprite && this.readysSprite[e] && this.readysSprite[e].node && (this.readysSprite[e].node.active = !1);
},
showReady: function(e) {
this.readysSprite && this.readysSprite[e] && this.readysSprite[e].node && (this.readysSprite[e].node.active = !1);
},
hideAllReady: function() {
this.readysSprite && this.readysSprite.forEach(function(e) {
e.node.active = !1;
});
},
getReadyCount: function() {
var e = 0;
this.readysSprite && this.readysSprite.forEach(function(t) {
1 == t.node.active && (e += 1);
});
return e;
},
hideAllBetCallRaise: function() {
this.betCallRaises && this.betCallRaises.forEach(function(e) {
e.active = !1;
});
},
hideBetCallRaise: function(e) {
this.betCallRaises && this.betCallRaises[e] && (this.betCallRaises[e].active = !1);
},
showBetCallRaises: function(e, t, i) {
if (void 0 !== t && void 0 !== i) {
if (this.betCallRaises && this.betCallRaises[e]) {
var o = this.betCallRaises[e];
o && !o.active && (o.active = !0);
o && o.getChildByName("text") && o.getChildByName("text").getComponent(cc.Label) && void 0 !== t && void 0 !== i && (o.getChildByName("text").getComponent(cc.Label).string = [ "下注", "跟注", "加注" ][t] + ": " + i);
}
}
},
showLight: function(e) {
this.lights && this.lights[e] && (this.lights[e].active = !0);
},
hideAllLight: function() {
if (this.lights) for (var e = 0; e < this.lights.length; e++) this.lights[e] && (this.lights[e].active = !1);
},
hideAll: function() {
this.hideAllReady();
this.hideAllLight();
this.hideAllBetCallRaise();
}
});
cc._RF.pop();
}, {} ],
TeenPattiPlayerUI: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "f1099/ADlVMMZRmsgKXWFSX", "TeenPattiPlayerUI");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = cc._decorator, a = r.ccclass, s = r.property, c = function(t) {
o(i, t);
function i() {
var e = null !== t && t.apply(this, arguments) || this;
e.FDealerUI = null;
e.playerAnchors = [];
e.FButtonUI = null;
e.FplayerExtra = null;
return e;
}
i.prototype.initNode = function(e) {
cc.log("init playerAnchors.... 2");
e._playerAnchors = this.playerAnchors;
e.FDealerUI = this.FDealerUI;
e.FButtonUI = this.FButtonUI;
e.FPlayerExtraUI = this.FplayerExtra;
};
n([ s(e("TeenPattiDealer")) ], i.prototype, "FDealerUI", void 0);
n([ s([ cc.Node ]) ], i.prototype, "playerAnchors", void 0);
n([ s(e("TeenPattiButton")) ], i.prototype, "FButtonUI", void 0);
n([ s(e("TeenPattiPlayerExtra")) ], i.prototype, "FplayerExtra", void 0);
return i = n([ a ], i);
}(cc.Component);
i.default = c;
cc._RF.pop();
}, {
TeenPattiButton: "TeenPattiButton",
TeenPattiDealer: "TeenPattiDealer",
TeenPattiPlayerExtra: "TeenPattiPlayerExtra"
} ],
TeenPattiPlayer: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "008f4l9BNBN/6C/GPZO2dMz", "TeenPattiPlayer");
var o = r(e("../../../Script/BaseFormat")), n = r(e("../../../Script/UserManager"));
function r(e) {
return e && e.__esModule ? e : {
default: e
};
}
var a = e("TeenPattiModel"), s = e("CommonFunction"), c = e("TeenPattiAudioMgr"), l = a.FT_USER_STATUS, u = e("TeenPattiPlayerCardUI"), d = e("TeenPattiInfo");
cc.Class({
extends: cc.Component,
properties: {
user: cc.Node,
labelNick: cc.Label,
labelCoin: cc.Label,
spriteAvatar: cc.Sprite,
frameAvatar: {
default: [],
type: cc.SpriteFrame
},
spriteTimer: cc.Sprite,
timerResource: {
default: [],
type: cc.SpriteFrame
},
bankNode: cc.Node,
winFont: {
default: [],
type: cc.Font
},
winBgSprite: {
default: [],
type: cc.SpriteFrame
},
winNode: cc.Node,
particleNode: cc.Node,
pk_win_node: cc.Node,
pk_lose_node: cc.Node,
fxWin: cc.Node,
hand: cc.Node,
spriteHands: {
default: [],
type: cc.Sprite
},
spriteHandState: cc.Sprite,
userSeenPorkBtn: cc.Node,
userCompareStatusNode: cc.Node,
card: cc.Node,
spriteCards: {
default: [],
type: cc.Sprite
},
spriteCardState: cc.Label,
frameHandCardState: {
default: [],
type: cc.SpriteFrame
},
frameCardState: {
default: [],
type: cc.SpriteFrame
},
compareAnimationSprite: cc.Node,
compareShowNode: cc.Node,
anotherCompareNode: cc.Node,
winResultAnimation: cc.Node,
chip: cc.Node,
labelStake: cc.Label,
_chipAmount: 0,
seatID: 0
},
onLoad: function() {
this.node.active = !1;
},
init: function(e, t, i) {
this.hand && (this.hand.active = 0 == e);
this.card && (this.card.position = t);
this.chip && (this.chip.position = i);
this.seatID = e;
if ((1 == e || 2 == e) && cc.isValid(this.spriteCardState)) {
var o = this.spriteCardState.node.parent.position;
this.spriteCardState.node.parent.x = -o.x;
}
if (2 == e || 4 == e) {
var n = this.spriteCardState.node.parent.position;
this.spriteCardState.node.parent.y = n.y - 95;
2 == e && (this.spriteCardState.node.parent.x = n.x + 20);
4 == e && (this.spriteCardState.node.parent.x = n.x - 20);
}
this.userInit();
this.handInit();
this.cardInit();
this.chipInit();
this.setUserState(l.Null);
u.stopCarsAction(this.spriteHands);
u.stopCarsAction(this.spriteCards);
this.spriteHands && this.spriteHands.forEach(function(e) {
if (e && e.node) {
var t = e.node.ox2, i = e.node.oy2;
t || i || e.node.attr({
ox2: e.node.x,
oy2: e.node.y
});
}
});
this.spriteCards && this.spriteCards.forEach(function(e, t) {
if (e && e.node) {
e.node.rotation = 0;
e.node.x = a.SKIN_CONFIG.other_user_poker_start_x + t * a.SKIN_CONFIG.other_user_poker_offset_x;
e.node.y = a.SKIN_CONFIG.other_user_poker_start_y;
var i = e.node.ox2, o = e.node.oy2;
i || o || e.node.attr({
ox2: e.node.x,
oy2: e.node.y
});
}
});
},
initAllPart: function() {
this.handInit();
this.cardInit();
this.fxInit();
this.setBanker(!1);
this.chipInit();
this.setUserState(l.Prepare);
this.hideWin();
this.stopTimer();
if (this.winNode) {
this.winNode.opacity = 0;
this.winNode.stopAllActions();
}
u.stopCarsAction(this.spriteHands);
u.stopCarsAction(this.spriteCards);
},
stopAllAnim: function() {
this.stopTimer();
if (this.winNode) {
this.winNode.opacity = 0;
this.winNode.stopAllActions();
}
this.hidePKLoseAction();
this.hidePKWinAction();
this.bankNode && this.bankNode.getComponent(cc.Animation) && this.bankNode.getComponent(cc.Animation).stop();
this.user && this.user.getComponent(cc.Animation) && this.user.getComponent(cc.Animation).stop();
},
userInit: function() {
this.userInfo = null;
this.labelNick && (this.labelNick.string = "");
this.labelCoin && (this.labelCoin.string = "");
if (this.bankNode) {
this.bankNode.opacity = 0;
this.bankNode.getChildByName("banker") && (this.bankNode.getChildByName("banker").opacity = 0);
this.bankNode.getChildByName("border") && (this.bankNode.getChildByName("border").opacity = 0);
this.bankNode.getComponent(cc.Animation) && this.bankNode.getComponent(cc.Animation).stop();
}
},
setUserState: function(e) {
this.state = e;
switch (e) {
case l.Null:
cc.log("FT_USER_STATUS.Null");
this.userHide();
break;

case l.Prepare:
this.userStateUI(!1);
break;

case l.Gaming:
this.userStateUI(!0);
this.cardInit(!0);
break;

case l.Quit:
this.userStateUI(!0);
this.cardInit(!0);
this.cardGiveup();
break;

case l.Compare_Lose:
this.userStateUI(!1);
this.cardInit(!0);
this.cardLose();
break;

case l.Win:
this.userStateUI(!0);
}
},
setUserPeeked: function() {
this.userStateUI(!0);
this.cardInit(!0);
this.cardPeek();
},
showUserSeenBtnMethod: function(e) {
if (e) {
console.log("this seen pork");
e.userSeenPorkBtn.active = !0;
}
},
hideUserSeenBtnMethod: function(e) {
e && (e.userSeenPorkBtn.active = !1);
},
dealUserSeenPorkMethod: function() {
cc.director.emit("userSeenPork");
d.isPeeked = !0;
},
showUserCompareStatusMethod: function(e, t) {
if (e) {
e.userCompareStatusNode.active = !0;
e.userCompareStatusNode.getChildByName("text").getComponent(cc.Label).string = t ? "Accept" : "Refuse";
var i = d.compareStatusTimer, o = null;
o = setInterval(function() {
if (0 == (i -= 1)) {
e.userCompareStatusNode.active = !1;
clearInterval(o);
}
}, 1e3);
}
},
restoreMyCardUI: function() {
if (this.state > l.Prepare) {
this.handJustShow();
if (this.state === l.Quit) this.handGiveup(); else if (this.state === l.Compare_Lose) this.handLose(); else if (this.userInfo.Checked && this.userInfo.Cards) {
this.stopTimer();
this.handShow(this.userInfo.Cards);
}
}
},
setPlayerUserInfo: function(e, t) {
if (0 == t) {
n.default.coin && this.labelCoin && (this.labelCoin.string = o.default.formatAmount(n.default.coin));
n.default.nick && this.labelNick && (this.labelNick.string = n.default.nick);
}
if (e) {
0 == this.node.active && (0 == this.seatID ? this.node.active = !0 : this.playInAnimation());
this.userInfo = e;
this.userInfo.Credit = this.userInfo.Credit / 1e3;
this.labelNick && (this.labelNick.string = o.default.isValidString(this.userInfo.UserName) && this.userInfo.UserName.length > 0 ? this.userInfo.UserName : "Guest");
if (0 == t) this.labelCoin && (this.labelCoin.string = ""); else if (e.BetAmount > 0) {
var i = (e.BetAmount / 1e3).toFixed(2);
this.showOtherPlayerBetCoin(i);
}
var r = s.getAvatarFromAtlas(this.userInfo.Avatar, this.userInfo.Gender ? 1 : 0);
this.spriteAvatar && (this.spriteAvatar.spriteFrame = r);
cc.log("this status is " + e.Status + " checked is " + e.Checked + "Action" + e.Action);
this.setBanker(e.IsBanker);
} else {
this.userInit();
this.userState(l.Null);
}
},
playInAnimation: function() {
var e = this, t = this;
this.node.active = !0;
this.node.stopAllActions();
var i = this.node.position;
cc.log(this.seatID + "playInAnimation rightposition" + i);
this.node.opacity = 0;
switch (this.seatID) {
case 0:
this.node.y -= 200;
break;

case 1:
this.node.x += 100;
break;

case 2:
case 3:
case 4:
this.node.y += 200;
break;

case 5:
this.node.x -= 100;
}
cc.tween(this.node).parallel(cc.tween().to(.6, {
position: cc.v2(i)
}, {
easing: "quadOut"
}), cc.tween().to(.6, {
opacity: 255
}, {
easing: "quadOut"
})).call(function() {
cc.log(e.seatID + "playInAnimation afterrightposition" + t.node.position);
}).start();
},
playOutAnimation: function() {
var e = this;
this.node.stopAllActions();
var t = this.node.position, i = t.x, o = t.y;
cc.log(this.seatID + "playOutAnimation rightposition" + t);
switch (this.seatID) {
case 0:
o -= 200;
break;

case 1:
i += 100;
break;

case 2:
case 3:
case 4:
o += 200;
break;

case 5:
i -= 100;
}
cc.tween(this.node).parallel(cc.tween().to(.6, {
position: cc.v2(i, o)
}, {
easing: "quadOut"
}), cc.tween().to(.6, {
opacity: 0
}, {
easing: "quadOut"
})).call(function() {
e.node.active = !1;
e.node.position = t;
cc.log(e.seatID + "playOutAnimation afterrightposition" + e.node.position);
}).start();
},
showOtherPlayerBetCoin: function(e) {
this.labelCoin && (this.labelCoin.string = "₹  " + e.toString());
},
coinChange: function(e) {
if (this.userInfo) if (this.userInfo.ID == n.default.uid) {
this.userInfo.Credit += e;
this.coinSet(this.userInfo.Credit <= 0 ? 0 : this.userInfo.Credit);
d.playerCurrentBalance = this.userInfo.Credit;
} else this.coinSet(Math.abs(e));
},
userHide: function() {
this.hideWin();
this.setBanker(!1);
cc.log(this.seatID + "userHide=" + this.node.active);
this.node && 1 == this.node.active && (0 == this.seatID ? this.node && (this.node.active = !1) : this.playOutAnimation());
},
userStateUI: function(e) {
this.user && (this.user.opacity = 255);
},
isAlive: function() {
return this.state === l.Gaming || this.state === l.Win;
},
userWin: function() {},
hideWin: function() {
this.fxWin && (this.fxWin.active = !1);
},
fxInit: function() {
if (this.bankNode) {
this.bankNode.opacity = 0;
this.bankNode.getChildByName("banker") && (this.bankNode.getChildByName("banker").opacity = 0);
this.bankNode.getChildByName("border") && (this.bankNode.getChildByName("border").opacity = 0);
this.bankNode.getComponent(cc.Animation) && this.bankNode.getComponent(cc.Animation).stop();
}
},
setBanker: function(e) {
if (this.bankNode) {
this.bankNode.opacity = e ? 255 : 0;
this.bankNode.getChildByName("banker") && (this.bankNode.getChildByName("banker").opacity = e ? 255 : 0);
e ? this.bankNode.getComponent(cc.Animation) && this.bankNode.getComponent(cc.Animation).play() : this.bankNode.getComponent(cc.Animation) && this.bankNode.getComponent(cc.Animation).stop();
}
},
showPlayerTurnAnimation: function() {
this.user.getComponent(cc.Animation) && this.user.getComponent(cc.Animation).play();
},
stopPlayerTurnAnimation: function() {
this.user.getComponent(cc.Animation) && this.user.getComponent(cc.Animation).stop();
},
coinSet: function(e) {
if (0 == e) this.labelCoin.string = ""; else {
var t = o.default.iTofixed(e, 2) || 0;
this.labelCoin && (this.labelCoin.string = o.default.isValidNumber(e) ? "₹ " + o.default.formatAmount(t) : "");
}
},
showPlayerWinAnimation: function() {
var e = this;
e.winResultAnimation.active = !0;
var t = cc.callFunc(function() {
e.winResultAnimation.active = !1;
var t = cc.moveBy(.5, cc.v2(0, -100));
e.winResultAnimation.runAction(t);
}), i = cc.sequence(cc.moveBy(2, cc.v2(0, 100)), t);
e.winResultAnimation.runAction(i);
},
showWinAction: function(e) {
var t = this;
if (t.winNode) {
var i = t.winNode.getChildByName("bg_img"), o = t.winNode.getChildByName("win_value");
if (e > 0) {
i.getComponent(cc.Sprite).spriteFrame = t.winBgSprite[0];
o.getComponent(cc.Label).font = t.winFont[0];
o.getComponent(cc.Label).string = "+" + e;
if (t.particleNode && t.particleNode.getComponent(cc.ParticleSystem)) {
t.particleNode.opacity = 255;
t.particleNode.getComponent(cc.ParticleSystem).resetSystem();
t.scheduleOnce(function() {
if (cc.isValid(t.particleNode)) {
t.particleNode.getComponent(cc.ParticleSystem).stopSystem();
t.particleNode.opacity = 0;
}
}, 1);
}
} else {
i.getComponent(cc.Sprite).spriteFrame = t.winBgSprite[1];
o.getComponent(cc.Label).font = t.winFont[1];
o.getComponent(cc.Label).string = "-" + Math.abs(e);
}
t.scheduleOnce(function() {
if (cc.isValid(t.winNode)) {
t.winNode.opacity = 255;
t.winNode.x = 0;
t.winNode.y = -110;
t.winNode.stopAllActions();
t.winNode.runAction(cc.sequence(cc.moveTo(2.5, cc.v2(0, a.SKIN_CONFIG.result_gold_anim_endy)).easing(cc.easeOut(10)), cc.fadeOut(.1), cc.moveTo(.1, cc.v2(0, -110))));
}
}, .6);
}
},
showPkWinAction: function() {
if (this.pk_win_node) {
this.pk_win_node.active = !0;
this.pk_win_node.getComponent(cc.Animation).play();
}
},
showPKLoseAction: function() {
if (this.pk_lose_node) {
this.pk_lose_node.active = !0;
this.pk_lose_node.getComponent(cc.Animation).play();
}
},
hidePKWinAction: function() {
if (this.pk_win_node) {
this.pk_win_node.active = !1;
this.pk_win_node.getComponent(cc.Animation).stop();
}
},
hidePKLoseAction: function() {
if (this.pk_lose_node) {
this.pk_lose_node.active = !1;
this.pk_lose_node.getComponent(cc.Animation).stop();
}
},
startTimer: function() {
arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
if (cc.isValid(this.spriteTimer)) {
this.duration = 0;
this.canClock = !0;
this.isCounting = !0;
}
},
stopTimer: function() {
this.isCounting = !1;
this.spriteTimer.fillRange = 0;
this.canClock = !1;
this.duration = 15;
this.stopPlayerTurnAnimation();
},
update: function(e) {
if (this.isCounting) {
0 == parseInt(this.duration) && (this.spriteTimer.spriteFrame = this.timerResource[0]);
this.duration += e;
5 == parseInt(this.duration) ? this.spriteTimer.spriteFrame = this.timerResource[1] : 9 == parseInt(this.duration) && (this.spriteTimer.spriteFrame = this.timerResource[2]);
this.spriteTimer.fillRange = -this.duration / 15;
if (this.duration >= 9 && !0 === this.canClock) {
this.canClock = !1;
c.playClock5Remind();
}
this.duration > 15 && (this.isCounting = !1);
}
},
handInit: function() {
u.handCardInit(this.spriteHands, this.spriteHandState);
},
handHide: function() {
this.spriteHands && this.spriteHands.forEach(function(e, t) {
if (e && e.node && e.node.getComponent("Poker")) {
e.node.getComponent("Poker").showNull();
e.node.stopAllActions();
var i = e.node.ox2, o = e.node.oy2;
if ("number" == typeof i && "number" == typeof o) {
e.node.x = i;
e.node.y = o;
}
e.node.scale = a.SKIN_CONFIG.my_hand_card_scale;
}
});
this.spriteHandState.spriteFrame = null;
this.spriteHandState.node && (this.spriteHandState.node.parent.active = !1);
},
handDeal: function(e) {
u.handDeal(this.spriteHands, e, this.hand);
},
handJustShow: function() {
u.handJustShow(this.spriteHands);
},
handPeek: function(e) {
u.handPeek(this.spriteHands, e);
},
handShow: function(e) {
u.handShow(this.spriteHands, e);
},
handGiveup: function() {
u.handGiveup(this.spriteHands, this.spriteHandState, this.frameHandCardState[0]);
},
handLose: function() {
u.handLose(this.spriteHands, this.spriteHandState, this.frameHandCardState[1]);
},
cardInit: function(e) {
u.playerCardInit(this.spriteCards, this.spriteCardState, e);
},
cardHide: function() {
this.spriteCards && this.spriteCards.forEach(function(e, t) {
if (e && e.node && e.node.getComponent("Poker")) {
e.node.getComponent("Poker").showNull();
e.node.stopAllActions();
var i = e.node.ox2, o = e.node.oy2;
if ("number" == typeof i && "number" == typeof o) {
e.node.x = i;
e.node.y = o;
}
}
});
this.spriteCardState.spriteFrame = null;
this.spriteCardState.node && (this.spriteCardState.node.parent.active = !1);
},
cardDeal: function(e) {
u.cardDeal(this.spriteCards, e, this.card);
},
cardTogether: function(e) {
u.cardTogether(e);
},
cardPeek: function() {
u.cardPeek(this.spriteCardState, this.frameCardState[0]);
},
cardGiveup: function() {
u.cardGiveup(this.spriteCards, this.spriteCardState, this.frameCardState[1]);
},
cardLose: function() {
u.cardLose(this.spriteCards, this.spriteCardState, this.frameCardState[2]);
},
bindBet: function() {
u.cardBind(this.spriteCardState, this.frameCardState[3]);
},
bootBet: function() {
u.cardBoot(this.spriteCardState, this.frameCardState[4]);
},
chaarBet: function() {
u.cardChaar(this.spriteCardState, this.frameCardState[5]);
},
sideShowBet: function() {
u.cardSideShow(this.spriteCardState, this.frameCardState[6]);
},
showBet: function() {
u.cardPorkShow(this.spriteCardState, this.frameCardState[7]);
},
acceptedCompareBet: function() {
u.cardAccepted(this.spriteCardState, this.frameCardState[8]);
},
refusedCompareBet: function() {
u.cardRefused(this.spriteCardState, this.frameCardState[9]);
},
allInBet: function() {
u.cardRefused(this.spriteCardState, this.frameCardState[10]);
},
cardShow: function(e) {
u.cardShow(this.spriteCards, e);
},
compareNormalState: function() {
u.cardNormal(this.spriteCardState);
},
showFoldBroadcast: function(e) {
e.string = this.labelNick.string + " has packed.";
},
showBlindBroadcast: function(e, t) {
e.string = this.labelNick.string + " played a <color=#e93423><b><size=26>Blind</size></b></color> of <color=#e93423><b><size=26>₹ " + (t / 1e3).toFixed(2) + "</size></b></color>";
},
showChaarBroadcast: function(e, t) {
e.string = this.labelNick.string + " played a <color=#e93423><b><size=26>Chaal</size></b></color> of <color=#e93423><b><size=26>₹ " + (t / 1e3).toFixed(2) + "</size></b></color>";
},
showSideshowBroadcast: function(e, t) {
var i = t.getChildByName("user_wrapper").getChildByName("nick").getComponent(cc.Label).string;
e.string = this.labelNick.string + " <color=#e93423><b><size=26>Requested</size></b></color> a sideshow with " + i;
},
showSideshowAcceptCompareBroadcast: function(e, t, i) {
try {
if (cc.isValid(e) && cc.isValid(t)) {
var o = t.getChildByName("user_wrapper").getChildByName("nick").getComponent(cc.Label).string;
e.string = i ? o + " <color=#e93423><b><size=26>Packed</size></b></color>" : this.labelNick.string + " <color=#e93423><b><size=26>Packed</size></b></color>";
}
} catch (e) {}
},
showSideshowAcceptBroadcast: function(e) {
e.string = this.labelNick.string + " <color=#e93423><b><size=26>Accepted</size></b></color> the sideshow";
},
showSideshowRefuseBroadcast: function(e) {
e.string = this.labelNick.string + " <color=#e93423><b><size=26>Rejected</size></b></color> the sideshow";
},
showPKAllBroadcast: function(e, t, i) {
e.string = this.labelNick.string + " request a <color=#e93423><b><size=26>show</size></b></color>";
},
showAllInBroadcast: function(e, t, i) {
var o = this;
e.string = this.labelNick.string + " request an <color=#e93423><b><size=26>All-in</size></b></color>";
var n = setTimeout(function() {
0 == t && (e.string = o.labelNick.string + " packed ");
clearTimeout(n);
}, 1500);
},
showSettlementBroadcast: function(e, t) {
e.string = this.labelNick.string + " <color=#e93423><b><size=26>Wins</size></b></color> the pot of <color=#e93423><b><size=26>₹ " + t.toFixed(2) + "</size></b></color>";
},
chipInit: function() {
this._chipAmount = 0;
this.chipSet(this._chipAmount);
},
chipChange: function(e) {
this._chipAmount += e;
this.chipSet(this._chipAmount);
},
chipSet: function(e) {
this.labelStake && (this.labelStake.string = o.default.isValidNumber(e) ? o.default.formatAmount(o.default.iTofixed(e, 1)) : "");
},
getState: function() {
return this.state;
}
});
cc._RF.pop();
}, {
"../../../Script/BaseFormat": "BaseFormat",
"../../../Script/UserManager": "UserManager",
CommonFunction: "CommonFunction",
TeenPattiAudioMgr: "TeenPattiAudioMgr",
TeenPattiInfo: "TeenPattiInfo",
TeenPattiModel: "TeenPattiModel",
TeenPattiPlayerCardUI: "TeenPattiPlayerCardUI"
} ],
TeenPattiReconnect: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "aa540iELWZEfYDOvI51rgf0", "TeenPattiReconnect");
function o(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
t.exports = function e() {
o(this, e);
};
cc._RF.pop();
}, {} ],
TeenPattiRes: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "b2b03z6olhJNbqk7oj7WnY1", "TeenPattiRes");
var o, n, r = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("../../Script/ProjectConfig"));
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var s = e("TeenPattiSkinRes"), c = (n = o = function e() {
a(this, e);
}, o.audio = s.audio[r.default.variable.curSkin], o.Skeleton = s.Skeleton[r.default.variable.curSkin], 
o.prefabPath = s.prefabPath[r.default.variable.curSkin], o.resources = s.resources[r.default.variable.curSkin], 
n);
t.exports = c;
cc._RF.pop();
}, {
"../../Script/ProjectConfig": "ProjectConfig",
TeenPattiSkinRes: "TeenPattiSkinRes"
} ],
TeenPattiSkinConfig: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "c23fcun7rpNJpHmA0jDfE8W", "TeenPattiSkinConfig");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = function() {
function e() {}
e.SKIN_CONFIG = {
beautifulgame: {
result_gold_anim_endy: 50,
my_hand_card_scale: .52,
other_user_card_scale: .27,
game_begin_time_scale: 1,
my_poker_start_x: -75,
my_poker_start_y: 25,
my_poker_offset_x: 75,
other_user_poker_start_x: 0,
other_user_poker_start_y: -25,
other_user_poker_offset_x: 30
},
handsome: {
result_gold_anim_endy: 50,
my_hand_card_scale: .58,
other_user_card_scale: .39,
game_begin_time_scale: .5,
my_poker_start_x: -75,
my_poker_start_y: 0,
my_poker_offset_x: 124,
other_user_poker_start_x: -41,
other_user_poker_start_y: -22,
other_user_poker_offset_x: 41
}
};
return e;
}();
i.default = o;
cc._RF.pop();
}, {} ],
TeenPattiSkinRes: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "ae720HD7g5LlIzFIZkUTlBC", "TeenPattiSkinRes");
var o, n;
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var a = (n = o = function e() {
r(this, e);
}, o.Skeleton = {
beautifulgame: {
gameBegin: "beautifulgame/common/animation/gamestart/gamestart",
gameBegin_animation_name: "gamestart",
pk_one_name: "TeenPatti_pk_one",
pk_fail_name: "TeenPatti_pk_donghua_fail",
pk_all_win_name: "TeenPatti_pk_all_win",
pk_all_fail_name: "TeenPatti_pk_all_fail"
},
handsome: {
gameBegin: "handsome/common/animation/game_start_end_bet/dwc_game_start_end_bet",
gameBegin_animation_name: "game_start_in",
pk_one_name: "pkone",
pk_fail_name: "TeenPatti_pk_donghua_fail",
pk_all_win_name: "win",
pk_all_fail_name: "fail"
}
}, o.resources = {
beautifulgame: {
backBtn: "beautifulgame/TeenPatti/texture/backbtn",
ruleBtn: "beautifulgame/common/texture/game/common_btn_help",
infoBtn: "beautifulgame/TeenPatti/texture/game/btn_info",
downBtn: "beautifulgame/TeenPatti/texture/btn_down",
downUp: "beautifulgame/TeenPatti/texture/btn_up"
},
handsome: {
gameBackgroundSprite: "handsome/TeenPatti/texture/bd_zjh_img_bg",
gameBackgroundSprite_name: "bd_zjh_img_bg",
backBtn: "handsome/common/texture/game/common_btn_back",
ruleBtn: "handsome/common/texture/game/common_btn_help"
}
}, o.prefabPath = {
beautifulgame: {
timeFrame: "beautifulgame/common/prefab/brc/TimeFrame",
timeFrame_name: "TimeFrame",
rule: "beautifulgame/common/prefab/rule/Rule",
rule_name: "Rule",
roominfopre: "beautifulgame/TeenPatti/prefab/roominfolayout",
requestsideshowdialog: "beautifulgame/TeenPatti/prefab/RequestSideShowDialog"
},
handsome: {
timeFrame: "handsome/common/prefab/brc/TimeFrame",
timeFrame_name: "TimeFrame",
rule: "handsome/common/prefab/rule/Rule",
rule_name: "Rule"
}
}, o.audio = {
beautifulgame: {
Bgm: "beautifulgame/TeenPatti/audio/hjzjh",
Ready: "beautifulgame/TeenPatti/audio/ready",
Deal: "beautifulgame/TeenPatti/audio/kaishifapai",
clockAudio: "beautifulgame/TeenPatti/audio/Special_Remind",
winAudio: "beautifulgame/TeenPatti/audio/special_win",
genzhuM: [ "beautifulgame/TeenPatti/audio/genzhu1_M" ],
genzhuW: [ "beautifulgame/TeenPatti/audio/genzhu1_W" ],
jiazhuM: [ "beautifulgame/TeenPatti/audio/jiazhu1_M" ],
jiazhuW: [ "beautifulgame/TeenPatti/audio/jiazhu1_W" ],
kanpaiM: "beautifulgame/TeenPatti/audio/kanpai1_M",
kanpaiW: "beautifulgame/TeenPatti/audio/kanpai1_W",
qipaiM: [ "beautifulgame/TeenPatti/audio/qipai1_M" ],
qipaiW: [ "beautifulgame/TeenPatti/audio/qipai1_W" ],
pkM: [ "beautifulgame/TeenPatti/audio/pk1_M" ],
pkW: [ "beautifulgame/TeenPatti/audio/pk1_M" ]
},
handsome: {
Bgm: "handsome/TeenPatti/audio/bdzjh",
Ready: "handsome/TeenPatti/audio/ready",
Deal: "handsome/TeenPatti/audio/kaishifapai",
clockAudio: "handsome/TeenPatti/audio/Special_Remind",
genzhuM: [ "handsome/TeenPatti/audio/genzhu1_M", "handsome/TeenPatti/audio/genzhu2_M", "handsome/TeenPatti/audio/genzhu3_M" ],
genzhuW: [ "handsome/TeenPatti/audio/genzhu1_W", "handsome/TeenPatti/audio/genzhu2_W", "handsome/TeenPatti/audio/genzhu3_W" ],
jiazhuM: [ "handsome/TeenPatti/audio/jiazhu1_M", "handsome/TeenPatti/audio/jiazhu2_M", "handsome/TeenPatti/audio/jiazhu3_M", "handsome/TeenPatti/audio/jiazhu4_M" ],
jiazhuW: [ "handsome/TeenPatti/audio/jiazhu1_W", "handsome/TeenPatti/audio/jiazhu2_W", "handsome/TeenPatti/audio/jiazhu3_W", "handsome/TeenPatti/audio/jiazhu4_W" ],
kanpaiM: "handsome/TeenPatti/audio/kanpai1_M",
kanpaiW: "handsome/TeenPatti/audio/kanpai1_W",
qipaiM: [ "handsome/TeenPatti/audio/qipai1_M", "handsome/TeenPatti/audio/qipai2_M" ],
qipaiW: [ "handsome/TeenPatti/audio/qipai1_W", "handsome/TeenPatti/audio/qipai2_W" ],
pkM: [ "handsome/TeenPatti/audio/pk1_M", "handsome/TeenPatti/audio/pk2_M" ],
pkW: [ "handsome/TeenPatti/audio/pk1_M", "handsome/TeenPatti/audio/pk2_M" ]
}
}, n);
t.exports = a;
cc._RF.pop();
}, {} ],
TeenPattiSocketMgr: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "d3522qk+35CZro4D0Ff878T", "TeenPattiSocketMgr");
var o, n, r = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}(), a = c(e("../../../../Script/LocalStorage/LocalStorageUtil")), s = c(e("../../../../Script/ProjectConfig"));
function c(e) {
return e && e.__esModule ? e : {
default: e
};
}
function l(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function u(e, t) {
if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return !t || "object" != typeof t && "function" != typeof t ? e : t;
}
function d(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
});
t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
var f = e("CommonProtoBuf3"), h = e("CommonSocketModel"), p = e("TeenPatti.proto"), g = e("TeenPattiModel"), m = e("TeenPattiGlobal"), y = e("CommonFunction"), b = e("CommonSocket"), _ = (n = o = function(e) {
d(t, h);
function t() {
l(this, t);
return u(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
}
r(t, null, [ {
key: "init",
value: function(e, t) {
var i = this;
i.close();
if (null == i.flowerSocket) {
var o = i.buildInitParams(), n = g.FT_MSG_TYPE;
i.protoBuf = new f(p, cc.url.raw("resources/protobufs/TeenPatti.proto"), n);
i.flowerSocket = new b(s.default.GAME_TYPE.TEENPATTI, i.flowerSocketUrl, o, function(t) {
var o = i.protoBuf.decode(t);
o && n[o.index] && "function" == typeof e && e(o.index, o.msgData);
}, function() {
m.isReconneting = !1;
i.authReqSend();
t && t();
});
}
}
}, {
key: "authReqSend",
value: function() {
var e = parseInt(a.default.readUserID()), t = a.default.readUserToken();
if (e && t) {
var i = {
Timestamp: new Date().getTime(),
UserID: e,
Token: t.toString(),
RoomKind: m.room,
Version: 0
};
cc.log("TeenPattiSocketMgr Token=" + i.Token);
this.send(1, "msg.AuthReq", i);
}
}
}, {
key: "send",
value: function(e, t, i) {
var o = this.protoBuf.encode(e, t, i);
this.flowerSocket && this.flowerSocket.send(o);
}
}, {
key: "buildInitParams",
value: function() {
var e = {}, t = a.default.readUserID(), i = a.default.readUserToken();
t && i && (e = {
user_id: t,
token: i,
room: m.room,
rsa: y.getRSA(t, i)
});
return e;
}
}, {
key: "close",
value: function() {
if (null != this.flowerSocket) {
this.flowerSocket.close();
this.flowerSocket = null;
}
}
} ]);
return t;
}(), o.flowerSocket = null, o.flowerSocketUrl = "", n);
t.exports = _;
cc._RF.pop();
}, {
"../../../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../../../Script/ProjectConfig": "ProjectConfig",
CommonFunction: "CommonFunction",
CommonProtoBuf3: "CommonProtoBuf3",
CommonSocket: "CommonSocket",
CommonSocketModel: "CommonSocketModel",
"TeenPatti.proto": "TeenPatti.proto",
TeenPattiGlobal: "TeenPattiGlobal",
TeenPattiModel: "TeenPattiModel"
} ],
TeenPattiSocketSend: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "379a5KUpDNJ95V0nKKW6Smz", "TeenPattiSocketSend");
var o = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}();
function n(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var r = e("TeenPattiSocketMgr"), a = e("TeenPattiModel"), s = function() {
function e() {
n(this, e);
}
o(e, null, [ {
key: "fold",
value: function() {
r.send(a.FT_SEND_TYPE.FoldReq, "msg.FoldReq", {});
}
}, {
key: "pkAll",
value: function() {
r.send(a.FT_SEND_TYPE.PkAllReq, "msg.PkAllReq", {});
}
}, {
key: "allIn",
value: function() {
r.send(a.FT_SEND_TYPE.AllInReq, "msg.AllInReq", {});
}
}, {
key: "compare",
value: function(e) {
r.send(a.FT_SEND_TYPE.CompareReq, "msg.CompareReq", {
DestChair: e
});
}
}, {
key: "compareLast",
value: function() {
r.send(a.FT_SEND_TYPE.CompareReq, "msg.CompareReq", {});
}
}, {
key: "compareAccept",
value: function(e, t, i, o) {
r.send(a.FT_SEND_TYPE.CompareAcceptReq, "msg.CompareAcceptReq", {
DestChair: e,
SrcChair: t,
Accepted: i,
Count: o
});
}
}, {
key: "check",
value: function() {
r.send(a.FT_SEND_TYPE.CheckReq, "msg.CheckReq", {});
}
}, {
key: "double",
value: function() {
r.send(a.FT_SEND_TYPE.DoubleReq, "msg.DoubleReq", {});
}
}, {
key: "call",
value: function(e) {
r.send(a.FT_SEND_TYPE.CallReq, "msg.CallReq", {
Raise: e
});
}
}, {
key: "raise",
value: function(e) {
r.send(a.FT_SEND_TYPE.CallReq, "msg.CallReq", {
Raise: e
});
}
}, {
key: "change",
value: function() {
r.send(a.FT_SEND_TYPE.ChangeTableReq, "msg.ChangeTableReq", {});
}
}, {
key: "exit",
value: function(e) {
r.send(a.FT_SEND_TYPE.UserOutReq, "msg.UserOutReq", {
ChairNo: e
});
}
}, {
key: "avoidQuit",
value: function(e) {
r.send(a.FT_SEND_TYPE.AntiTimeoutReq, "msg.AntiTimeoutReq", {
Switch: e
});
}
}, {
key: "syncUserReq",
value: function() {
r.send(a.FT_SEND_TYPE.SyncUserReq, "msg.SyncUserReq", {});
}
} ]);
return e;
}();
t.exports = s;
cc._RF.pop();
}, {
TeenPattiModel: "TeenPattiModel",
TeenPattiSocketMgr: "TeenPattiSocketMgr"
} ],
TeenPattiUIMgr: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "d6c0dQZgYFOdo9qPp7y/tqq", "TeenPattiUIMgr");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = e("CommonRandomBg"), n = e("CommonFunction"), r = e("TeenPattiRes"), a = function() {
function e() {}
e.dynamicLoadRes = function(e, t) {
cc.vv.beautifulgame || cc.vv.souhu && this.initBiduoBackground(e.bgNode, t);
this.initRes(e);
};
e.initHeiqiBackground = function(e, t) {
if (t && t.length > 0) for (var i = 0; i < t.length; i++) {
var n = t[i];
if (o.isDzcBg(n.name) && cc.isValid(e) && e.getComponent(cc.Sprite)) {
e.getComponent(cc.Sprite).spriteFrame = n;
return;
}
}
o.setDzcBg(e);
};
e.initBiduoBackground = function(e, t) {
if (t && t.length > 0) for (var i = 0; i < t.length; i++) {
var o = t[i];
if (o.name == r.resources.gameBackgroundSprite_name && cc.isValid(e) && e.getComponent(cc.Sprite)) {
e.getComponent(cc.Sprite).spriteFrame = o;
return;
}
}
n.setComponentSprite(e, r.resources.gameBackgroundSprite);
};
e.initRes = function(e) {
n.setComponentSprite(e.backBtnNode, r.resources.backBtn);
n.setComponentSprite(e.ruleBtnNode, r.resources.downBtn);
};
return e;
}();
i.default = a;
cc._RF.pop();
}, {
CommonFunction: "CommonFunction",
CommonRandomBg: "CommonRandomBg",
TeenPattiRes: "TeenPattiRes"
} ],
TeenpattiLanguage: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "83289NqHjhDX6BLisAjKDAQ", "TeenpattiLanguage");
t.exports = {
english: {
activeexit: {
betsalready: "You will lose your bet if you quit current game. Are you sure to leave?"
},
passiveexit: {
operationtimeout: "Are you still there? You have packed automatically and will be removed from the table if you don’t response before next round.",
operationtimeoutbtn: "I’m still here"
},
notice: {
waitothers: "Please wait for other players."
},
noenoughmoney: {
noenoughmoneycontent: "You have been removed from the table for not having enough room entry balance. Make a deposit?",
noenoughmoneybtnone: "Add Cash",
noenoughmoneybtntwo: "No"
}
}
};
cc._RF.pop();
}, {} ],
TeenpattiSideShowRequestDialog: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "ea5bdlmopZMLJT/gX8/2gKI", "TeenpattiSideShowRequestDialog");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = e("../../../Script/Audio/CommonAudioMgr"), a = e("../../../Script/Audio/CommonAudio"), s = e("TeenPattiAudioMgr"), c = cc._decorator, l = c.ccclass, u = c.property, d = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.headimg = null;
t.nickname = null;
t.timeer = null;
t.showinfo = null;
t.positiveCallback = null;
t.negativeCallback = null;
t.countdownTimes = 0;
return t;
}
t.prototype.init = function(e) {
var t = this;
this.showinfo = e;
var i = this.showinfo.positiveCallback;
this.positiveCallback = "function" == typeof i ? i : function() {};
var o = this.showinfo.negativeCallback;
this.negativeCallback = "function" == typeof o ? o : function() {};
cc.isValid(t.nickname) && t.nickname.getComponent(cc.Label) && (t.nickname.getComponent(cc.Label).string = this.showinfo.nickname);
cc.isValid(t.headimg) && t.headimg.getComponent(cc.Sprite) && (t.headimg.getComponent(cc.Sprite).spriteFrame = this.showinfo.headsprite);
if (e.downtime && e.downtime > 0) {
t.countdownTimes = e.downtime;
this.schedule(function() {
t.countdownTimes--;
t.refreshTimerViewShow();
5 == t.countdownTimes && s.playClock5Remind();
0 == t.countdownTimes && t.closeDialog();
}, 1, e.downtime, 0);
t.refreshTimerViewShow();
}
};
t.prototype.refreshTimerViewShow = function() {
cc.isValid(this.timeer) && this.timeer.getComponent(cc.Label) && (this.timeer.getComponent(cc.Label).string = this.countdownTimes + "s");
};
t.prototype.onLoad = function() {};
t.prototype.start = function() {};
t.prototype.cancleBtnOnClick = function() {
r.default.playEffect(a.default.common.btnMusic);
this.closeDialog();
this.negativeCallback();
};
t.prototype.acceptBtnOnclick = function() {
r.default.playEffect(a.default.common.btnMusic);
this.closeDialog();
this.positiveCallback();
};
t.prototype.closeDialog = function() {
if (this.node.getComponent("CommonDialog")) this.node.getComponent("CommonDialog").dismiss(); else {
this.node.active = !1;
this.node.removeFromParent();
}
};
n([ u(cc.Node) ], t.prototype, "headimg", void 0);
n([ u(cc.Node) ], t.prototype, "nickname", void 0);
n([ u(cc.Node) ], t.prototype, "timeer", void 0);
return t = n([ l ], t);
}(cc.Component);
i.default = d;
cc._RF.pop();
}, {
"../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
TeenPattiAudioMgr: "TeenPattiAudioMgr"
} ],
ThirdH5Helper: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "9ad98sjP31FYbHSljGTaQI8", "ThirdH5Helper");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = e("../ProjectConfig"), n = function() {
function e() {}
e.isThirdH5Game = function(e) {
return !(!this.isEbetGame(e) && !this.isIMCGGame(e));
};
e.checkGoldLock = function(e) {
return !!this.isIMCGGame(e);
};
e.getGameScreenOrientation = function(e) {
return this.isEbetGame(e) ? "true" : this.isIMCGGame(e) ? "false" : "true";
};
e.isEbetGame = function(e) {
return o.default.GAME_TYPE.EBET_BJL == e || o.default.GAME_TYPE.EBET_LH == e;
};
e.isIMCGGame = function(e) {
return o.default.GAME_TYPE.IM_CG == e;
};
return e;
}();
i.default = n;
t.exports = n;
cc._RF.pop();
}, {
"../ProjectConfig": "ProjectConfig"
} ],
TimeFrame: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "7bc66xbTOZLDKrwkBYDancV", "TimeFrame");
var o = r(e("../../Script/Audio/CommonAudioMgr")), n = r(e("../../Script/Audio/CommonAudio"));
function r(e) {
return e && e.__esModule ? e : {
default: e
};
}
var a = e("TeenPattiAudioMgr");
cc.Class({
extends: cc.Component,
properties: {
timeTxt: cc.Node,
timeStr: cc.Label,
clockAnim: cc.Node,
_betCountDownTime: 0,
_timeStartCallBack: null,
_timeEndCallBack: null,
_isPlayAnim: !1
},
onLoad: function() {
this._isPlayAnim = !1;
},
init: function(e, t) {
this.node.opacity = 0;
this.stopCountDownAnim();
"function" == typeof e && (this._timeStartCallBack = e);
"function" == typeof t && (this._timeEndCallBack = t);
},
startBetCountDownAction: function(e) {
this._betCountDownTime = e;
this._betCountDownTime >= 13 && this._timeStartCallBack && this._timeStartCallBack();
if (cc.isValid(this.timeStr)) {
this.node.opacity = 127;
this.node.scale = 0;
this.node.runAction(cc.spawn(cc.fadeIn(.2), cc.scaleTo(.2, 1)));
o.default.playMultiEffect(n.default.brc.CountDown, !1, 1);
if (this._betCountDownTime <= 1) {
this.node.opacity = 0;
this.stopCountDownAnim();
this._timeEndCallBack && this._timeEndCallBack();
a.playClock5Remind();
return;
}
this._betCountDownTime <= 5 && this.playCountDownAnim();
this.schedule(this.disposeBetCountDownAction, 1);
}
},
disposeBetCountDownAction: function() {
this._betCountDownTime -= 1;
if (cc.isValid(this.timeStr)) {
this._betCountDownTime;
this._betCountDownTime <= 5 && this._betCountDownTime > 0 && o.default.playMultiEffect(n.default.brc.CountDown, !1, 1);
if (this._betCountDownTime <= 0) {
o.default.playMultiEffect(n.default.brc.Alert, !1, 1);
this.stopCountDownAnim();
this.node.runAction(cc.spawn(cc.fadeOut(.2), cc.scaleTo(.2, 0)));
this._timeEndCallBack && this._timeEndCallBack();
this.unschedule(this.disposeBetCountDownAction);
}
}
},
closeTimeAction: function() {
if (cc.isValid(this.node) && this.node.opacity > 0) {
this.node.opacity = 0;
this.stopCountDownAnim();
this.unschedule(this.disposeBetCountDownAction);
}
},
playCountDownAnim: function() {
if (cc.isValid(this.clockAnim)) {
this.clockAnim.active = !0;
this.clockAnim.getComponent(dragonBones.ArmatureDisplay) && this.clockAnim.getComponent(dragonBones.ArmatureDisplay).playAnimation("newAnimation", 1);
}
},
stopCountDownAnim: function() {
if (cc.isValid(this.clockAnim)) {
this.clockAnim.active = !1;
this._isPlayAnim = !1;
}
},
hideText: function() {
this.timeTxt && (this.timeTxt.opacity = 0);
}
});
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
TeenPattiAudioMgr: "TeenPattiAudioMgr"
} ],
Toast: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "d2c863sDRlJa7QljupuC0iK", "Toast");
(function(e) {
e && e.__esModule;
})(e("../../../Script/ProjectConfig"));
cc.Class({
extends: cc.Component,
properties: {
message: cc.RichText
},
init: function(e) {
this.node && (this.node.active = !0);
this.message && (this.message.string = e);
if (this.hideToast) {
this.unschedule(this.hideToast);
this.schedule(this.hideToast, 0, 1, 2);
}
this.node.x = 0;
this.node.y = 0;
},
hideToast: function() {
this.node.active = !1;
}
});
cc._RF.pop();
}, {
"../../../Script/ProjectConfig": "ProjectConfig"
} ],
ToggleStyleSwitcher: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "2026968kbRGMLzYvpTX/Sxh", "ToggleStyleSwitcher");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = cc._decorator, a = r.ccclass, s = r.property, c = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.title = null;
t.checkedSprite = null;
t.uncheckedSprite = null;
t.checkedContent = null;
t.uncheckedContent = null;
t.checkedColor = null;
t.uncheckedColor = null;
return t;
}
t.prototype.onLoad = function() {
this.toggle = this.node.getComponent(cc.Toggle);
};
t.prototype.start = function() {};
t.prototype.onCheckHandle = function() {
this.ChangeStyle(this.toggle.isChecked);
};
t.prototype.ChangeStyle = function(e) {
if (this.toggle && e) {
this.checkedSprite.node.active = !0;
this.uncheckedSprite.node.active = !1;
this.title && this.checkedContent && (this.title.string = this.checkedContent);
this.title && this.checkedColor && (this.title.node.color = this.checkedColor);
} else {
this.checkedSprite.node.active = !1;
this.uncheckedSprite.node.active = !0;
this.title && this.uncheckedContent && (this.title.string = this.uncheckedContent);
this.title && this.uncheckedColor && (this.title.node.color = this.uncheckedColor);
}
};
n([ s(cc.Label) ], t.prototype, "title", void 0);
n([ s(cc.Sprite) ], t.prototype, "checkedSprite", void 0);
n([ s(cc.Sprite) ], t.prototype, "uncheckedSprite", void 0);
n([ s(cc.String) ], t.prototype, "checkedContent", void 0);
n([ s(cc.String) ], t.prototype, "uncheckedContent", void 0);
n([ s(cc.Color) ], t.prototype, "checkedColor", void 0);
n([ s(cc.Color) ], t.prototype, "uncheckedColor", void 0);
return t = n([ a ], t);
}(cc.Component);
i.default = c;
cc._RF.pop();
}, {} ],
TopBarModel: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "4b32eMAaG9Frr3x/h/vkaU9", "TopBarModel");
var o, n;
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var a = (n = o = function e(t, i) {
r(this, e);
this.barName = t.name || "";
this.tag = t.tag || 0;
this.tag1 = t.tag1 || 0;
this.tag2 = t.tag2 || 0;
this.icon = t.icon || "";
this.layout = i || 0;
}, o.barName = "", o.tag = 0, o.tag1 = 0, o.tag2 = 0, o.icon = "", o.layout = 0, 
n);
t.exports = a;
cc._RF.pop();
}, {} ],
TopFrame: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "1281b2VratANr7vlYF/WIFO", "TopFrame");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = e("../../../Component/BonusCenter/BonusCenterUtil"), a = e("../../../Script/LocalStorage/LocalStorageUtil"), s = cc._decorator, c = s.ccclass, l = s.property, u = e("PromoterGlobal"), d = e("../../../Script/Audio/CommonAudioMgr"), f = e("../../../Script/Audio/CommonAudio"), h = e("../../../Script/UI/CommonPrefabMgr"), p = e("../../../Script/ProjectConfig"), g = e("GameEngineUtil"), m = e("../../../Script/UserManager"), y = e("./../../../Script/GameFramework/ApiMgr"), b = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.bonusCenter = null;
t.bonusCenterTimerLable = null;
t.agencyNode = null;
t.polite = null;
t.jbdl = null;
t._isFirstLogin = !0;
t.promoterNode = null;
t.promoterActivityNode = null;
t._isExecLogic = !1;
t._hallSceneComponentNode = null;
t.BONUS_CENTER_LEVEL = 0;
t.PROMOTER_LEVEL = 1;
t.PROMOTER_ACTIVITY_LEVEL = 2;
t.POLITE_LEVEL = 3;
t.ALL_AGENCY_LEVEL = 4;
t.REPORT_PRIZE_LEVEL = 5;
t._bonusCenterIsCanClick = !0;
return t;
}
t.prototype.onLoad = function() {
cc.director.on("SHOW_TOP_FRAME", this.showTopFrame, this);
cc.director.on("HIDE_TOP_FRAME", this.hideTopFrame, this);
cc.director.on("SHOW_TOP_DIALOG", this.showTopDialog, this);
cc.director.on("SHOW_GIFT_WITH_CONDITION", this.showRegisterForGiftsWithCondition, this);
cc.director.on("SHOW_POLITE_LOGIC", this.showPoliteLogic, this);
cc.director.on(cc.vv.eventName.EVENT_PYRAMID_REDDOT, this.updatePyramidRedDot, this);
cc.director.on(cc.vv.eventName.EVENT_PYRAMID_ENTRY, this.showPromoter, this);
cc.director.on(cc.vv.eventName.REFRESH_BONUS_CENTER_INFO, this.refreshBonusCenter, this);
cc.director.on(cc.vv.eventName.REQUEST_BONUS_CENTER_INFO, this.requestBonusCenter, this);
cc.director.on(cc.vv.eventName.BONUS_CENTER_ONLINE_COUNTDOWN_COMING_END, this.comingEndBonusCenterOnlineCountDown, this);
this._isFirstLogin = a.default.readFirstLogin();
};
t.prototype.setChildNodeName = function() {
this.setNodeNameSafety(this.bonusCenter, this.BONUS_CENTER_LEVEL);
this.setNodeNameSafety(this.promoterNode, this.PROMOTER_LEVEL);
this.setNodeNameSafety(this.promoterActivityNode, this.PROMOTER_ACTIVITY_LEVEL);
this.setNodeNameSafety(this.polite, this.POLITE_LEVEL);
this.setNodeNameSafety(this.agencyNode, this.ALL_AGENCY_LEVEL);
this.setNodeNameSafety(this.jbdl, this.REPORT_PRIZE_LEVEL);
};
t.prototype.setNodeNameSafety = function(e, t) {
if (cc.isValid(e)) {
var i = parseInt(e.getName());
isNaN(i) && e.setName(t + "");
}
};
t.prototype.initSceneComponent = function(e) {
this._hallSceneComponentNode = e;
this.setChildNodeName();
};
t.prototype.onEnable = function() {
cc.director.on(cc.vv.eventName.EVENT_PYRAMID_SHARE_WX, this.shareImageToWx, this);
};
t.prototype.onDisable = function() {
cc.director.off(cc.vv.eventName.EVENT_PYRAMID_SHARE_WX, this.shareImageToWx, this);
};
t.prototype.showTopDialog = function() {
this.showRegisterForGifts();
this.onShowAgency();
};
t.prototype.showTopFrame = function() {
this.node.active = !0;
};
t.prototype.hideTopFrame = function() {
this.node.active = !1;
};
t.prototype.clickBonusCenter = function() {
var e = this;
if (e._bonusCenterIsCanClick) {
e._bonusCenterIsCanClick = !1;
d.default.playEffect(f.default.common.btnMusic);
p.default.clickManager(e.bonusCenter);
var t = e.bonusCenter.getChildByName("RedDot");
cc.isValid(t) && (t.active = !1);
r.default.requestBonusCenter(function(t) {
e.scheduleOnce(function() {
e._bonusCenterIsCanClick = !0;
}, .5);
r.default.notifyOnlineBonusLeftTs(t);
t ? h.default.createBonusCenter(t) : e.bonusCenter.active = !1;
}, function() {
e.scheduleOnce(function() {
e._bonusCenterIsCanClick = !0;
}, .5);
}, !0);
}
};
t.prototype.clickAgency = function() {
d.default.playEffect(f.default.common.btnMusic);
p.default.clickManager(this.agencyNode);
h.default.createAllAgent();
};
t.prototype.clickyouke = function() {
cc.vv.souhu ? d.default.playEffect(f.default.common.regist) : d.default.playEffect(f.default.common.btnMusic);
p.default.clickManager(this.polite);
h.default.createRegisterForGifts();
cc.director.emit(cc.vv.eventName.checkNewEmail);
};
t.prototype.clickReportPrize = function() {
p.default.clickManager(this.jbdl);
d.default.playEffect(f.default.common.btnMusic);
h.default.createReportPrize();
};
t.prototype.onShowAgency = function() {
var e = this;
if (cc.isValid(e.node)) {
var t = new Date().getTime(), i = parseInt(a.default.readAgencyRequestTime());
if (t - i < 864e5) {
var o = a.default.getAgencyEnable();
e.agencyNode && (1 == o ? e.setNodeActiveLess3(e.ALL_AGENCY_LEVEL) : e.agencyNode.active = !1);
e.isShowJbdl();
} else {
var n = {
pkg: cc.vv.gameEngineUtil.getPackageName()
};
y.default.getAgencyPay(n, function(i) {
if (cc.isValid(e.node)) {
var o = i.enabled;
a.default.saveAgencyEnable(o);
if (o) {
a.default.saveAgencyData(i.wechats);
e.agencyNode && e.setNodeActiveLess3(e.ALL_AGENCY_LEVEL);
} else e.agencyNode && (e.agencyNode.active = !1);
e.isShowJbdl();
a.default.saveAgencyRequestTime(t);
}
}, function() {
e.isShowJbdl();
});
}
}
};
t.prototype.isShowJbdl = function() {
if (cc.vv.settingModel.isShowJbdl) {
this.setNodeActiveLess3(this.REPORT_PRIZE_LEVEL);
m.default.is_formal || this.jbdl && (this.jbdl.active = !1);
} else this.jbdl.active = !1;
};
t.prototype.showRegisterForGifts = function() {
cc.isValid(this.node) && !this._isFirstLogin && p.default.isEnterGame && this.showRegisterForGiftsWithCondition();
};
t.prototype.showRegisterForGiftsWithCondition = function() {
if (cc.isValid(this.node)) {
if (a.default.readRegisterForGifts()) cc.director.emit(cc.vv.eventName.SHOW_BONUS_CENTER_LOGIN); else if (m.default.is_formal) {
a.default.saveFirstLogin();
cc.director.emit(cc.vv.eventName.SHOW_BONUS_CENTER_LOGIN);
} else if (p.default.isShowGifts) {
h.default.createRegisterForGifts();
a.default.saveRegisterForGifts();
a.default.saveFirstLogin();
p.default.isShowGifts = !1;
} else cc.director.emit(cc.vv.eventName.SHOW_BONUS_CENTER_LOGIN);
}
};
t.prototype.showPoliteLogic = function() {
if (this.polite) {
m.default.is_formal && (this.polite.active = !1);
if (p.default.isFormalUser) {
this.getPyramidConfig();
p.default.isFormalUser = !1;
}
}
if (!this._isExecLogic) {
m.default.is_formal || (cc.vv.settingModel.isShowRegisterGift ? this.setNodeActiveLess3(this.POLITE_LEVEL) : this.polite.active = !1);
this.getPyramidConfig();
this._isExecLogic = !0;
}
};
t.prototype.getPyramidConfig = function() {
var e = this;
y.default.getPyramidConfig(function(t) {
if (cc.isValid(e.promoterNode)) {
0 == t.enabled ? e.promoterNode.active = !1 : e.setNodeActiveLess3(e.PROMOTER_LEVEL);
var i = e.promoterNode.getChildByName("RedDot");
cc.isValid(i) && (i.opacity = t.red_dot ? 255 : 0);
u.initConfig(t);
if (t.partner) {
var o = t.partner.start_at, n = t.partner.end_at, r = Date.parse(new Date()), a = Date.parse(new Date(o.replace(/-/g, "/")));
r <= Date.parse(new Date(n.replace(/-/g, "/"))) && r >= a ? e.promoterActivityNode && 0 == e.promoterActivityNode.active && e.setNodeActiveLess3(e.PROMOTER_ACTIVITY_LEVEL) : e.promoterActivityNode && (e.promoterActivityNode.active = !1);
}
e.onShowAgency();
}
}, function() {
e.onShowAgency();
});
};
t.prototype.updatePyramidRedDot = function(e) {
if (cc.isValid(this.promoterNode)) {
var t = this.promoterNode.getChildByName("RedDot");
cc.isValid(t) && (t.opacity = e ? 255 : 0);
}
};
t.prototype.clickPromoterSystem = function(e) {
p.default.clickManager(e.target);
d.default.playEffect(f.default.common.btnMusic);
this.showPromoter();
};
t.prototype.showPromoter = function() {
h.default.showPromoterDialog();
};
t.prototype.clickPromoterActivity = function(e) {
p.default.clickManager(e.target);
d.default.playEffect(f.default.common.btnMusic);
this.showPromoterActivity();
};
t.prototype.showPromoterActivity = function() {
h.default.showPromoterActivity();
};
t.prototype.shareImageToWx = function(e) {
if (u.invite_img && u.profit_img) {
var t = e;
if (p.default.variable.nativeVersion >= 12 && u.wechat_share) {
if (cc.sys.isNative) if (cc.sys.os == cc.sys.OS_ANDROID) {
var i = g.getPackageName();
cc.vv.beautifulgame ? "com.black.flag.pirate" == i || "com.blackflag.haidilao" == i || "com.blackflag.dxvp" == i || "com.blackflag.jmqp" == i ? this.allowWechatShare(t) : this.notAllowWechatShare() : cc.vv.souhu && ("com.cfgame.play" == i || "com.goodluck.play" == i || "com.nuggets.enjoy" == i || "com.yhbattle.enjoy" == i || "com.onedra.fun" == i || "com.richking.fight" == i ? this.allowWechatShare(t) : this.notAllowWechatShare());
} else if (cc.sys.os == cc.sys.OS_IOS) {
i = g.getPackageName();
cc.vv.beautifulgame ? "com.blackflag.offline" == i || "com.blackflag.dxvp.offline" == i ? this.allowWechatShare(t) : this.notAllowWechatShare() : cc.vv.souhu && ("com.aoxinty.fun" == i || "com.aoxin.fun" == i || "com.tygame.offline" == i || "com.yhbattle.enjoy" == i || "com.onedra.offline" == i || "com.haidilaohj.offline" == i || "com.yhbattle.nzha.offline" == i || "com.cfgame.offline" == i || "com.nuggets.jjoffline" == i || "com.richking.offline" == i ? this.allowWechatShare(t) : this.notAllowWechatShare());
}
} else this.notAllowWechatShare();
} else this.notAllowWechatShare();
};
t.prototype.allowWechatShare = function(e) {
1 == e ? g.shareImageToWx(u.link, "false") : 2 == e && g.shareWcMoneyToWc(u.link, "false");
};
t.prototype.notAllowWechatShare = function() {
g.copyText(u.link);
if (cc.sys.isNative) if (g.hasWeChat()) {
if (cc.sys.os == cc.sys.OS_ANDROID) if (p.default.variable.nativeVersion >= 6) {
this.scheduleOnce(function() {
g.startWeChatWithAndroid();
}, 2);
h.default.createToast("已复制链接，即将打开微信");
} else h.default.createToast("链接已复制，请打开微信发送至好友"); else if (cc.sys.os == cc.sys.OS_IOS) {
this.scheduleOnce(function() {
g.startWeChat();
}, 2);
h.default.createToast("已复制链接，即将打开微信");
}
} else h.default.createToast("请先安装微信");
};
t.prototype.setNodeActiveLess3 = function(e) {
this.setChildNodeName();
if (this.node) for (var t = this.node.children, i = 0, o = 0; o < t.length; o++) {
var n = t[o];
if (e == parseInt(n.getName())) if (i < 3) {
i += 1;
n.active = !0;
} else n.active = !1; else if (0 == n.active) ; else if (i < 3) {
i += 1;
n.active = !0;
} else n.active = !1;
}
};
t.prototype.refreshBonusCenter = function() {
var e = r.default.getBonusCenterInfo();
if (r.default.showBonusCenter(e)) {
if (cc.isValid(this.bonusCenter)) {
this.setNodeActiveLess3(this.BONUS_CENTER_LEVEL);
var t = r.default.showBonusCenterRedDot(), i = this.bonusCenter.getChildByName("RedDot");
cc.isValid(i) && (i.active = t);
var o = this.bonusCenterTimerLable.node.parent;
r.default.showBonusCenterInfoOnlineLeftTs(this._hallSceneComponentNode, o, this.bonusCenterTimerLable, e);
}
} else cc.isValid(this.bonusCenter) && (this.bonusCenter.active = !1);
};
t.prototype.comingEndBonusCenterOnlineCountDown = function() {
var e = this;
cc.isValid(e.node) && 1 == e.node.active && r.default.startOpenAnim(function() {
r.default.requestBonusCenter(function(t) {
e.refreshBonusCenter();
});
});
};
t.prototype.requestBonusCenter = function() {
var e = this;
cc.isValid(e.node) && 1 == e.node.active && r.default.requestBonusCenter(function(t) {
e.refreshBonusCenter();
});
};
n([ l(cc.Node) ], t.prototype, "bonusCenter", void 0);
n([ l(cc.Label) ], t.prototype, "bonusCenterTimerLable", void 0);
n([ l(cc.Node) ], t.prototype, "agencyNode", void 0);
n([ l(cc.Node) ], t.prototype, "polite", void 0);
n([ l(cc.Node) ], t.prototype, "jbdl", void 0);
n([ l ], t.prototype, "_isFirstLogin", void 0);
n([ l(cc.Node) ], t.prototype, "promoterNode", void 0);
n([ l(cc.Node) ], t.prototype, "promoterActivityNode", void 0);
n([ l ], t.prototype, "_isExecLogic", void 0);
return t = n([ c ], t);
}(cc.Component);
i.default = b;
cc._RF.pop();
}, {
"../../../Component/BonusCenter/BonusCenterUtil": "BonusCenterUtil",
"../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../../Script/ProjectConfig": "ProjectConfig",
"../../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"../../../Script/UserManager": "UserManager",
"./../../../Script/GameFramework/ApiMgr": "ApiMgr",
GameEngineUtil: "GameEngineUtil",
PromoterGlobal: "PromoterGlobal"
} ],
TopUpAgentItemView: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "63cc1Ay8VtAXox6bQAQTka6", "TopUpAgentItemView");
var o = r(e("../../../../Script/Audio/CommonAudioMgr")), n = r(e("../../../../Script/Audio/CommonAudio"));
function r(e) {
return e && e.__esModule ? e : {
default: e
};
}
var a = e("GamePayLanguage");
cc.Class({
extends: cc.Component,
properties: {
vipname: cc.Label,
vipbtn: cc.Button,
vipWrap: cc.Node,
ContactAgentPrefab: cc.Prefab,
lbviptxt: cc.Label
},
onLoad: function() {
this.lbviptxt && (this.lbviptxt.string = a.recharge.btn_rechage);
},
initData: function(e) {
var t = this;
t.vipname && (t.vipname.string = e.nick_name);
t.vipbtn && t.vipbtn.node && t.vipbtn.node.on("touchend", function() {
t.ToRecharge(e);
}, t);
},
ToRecharge: function(e) {
o.default.playEffect(n.default.common.btnMusic);
var t = cc.instantiate(this.ContactAgentPrefab);
t.getComponent("RechargeContactAgent").initWithData(e);
var i = cc.director.getScene().getChildByName("Canvas");
cc.isValid(i) && i.addChild(t, 500);
}
});
cc._RF.pop();
}, {
"../../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
GamePayLanguage: "GamePayLanguage"
} ],
TopUpAgentView: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "f5f66l5eGVPuZ67bVi8ygR5", "TopUpAgentView");
var o = l(e("../../../../Script/UI/CommonPrefabMgr")), n = l(e("../../../../Script/Audio/CommonAudioMgr")), r = l(e("../../../../Script/Audio/CommonAudio")), a = l(e("../../../../Script/UserManager")), s = l(e("../../../../Script/LocalStorage/LocalStorageUtil")), c = l(e("./../../../../Script/GameFramework/ApiMgr"));
function l(e) {
return e && e.__esModule ? e : {
default: e
};
}
var u = e("GamePayLanguage"), d = e("GameEngineUtil");
e("FullScreenAdapter");
cc.Class({
extends: cc.Component,
properties: {
lbID: cc.Label,
txtID: cc.Label,
lbNick: cc.Label,
txtNick: cc.Label,
rt1: cc.RichText,
lb1: cc.Label,
scrollView: cc.ScrollView,
prefabRechargeVipItem: cc.Prefab,
copybtn: cc.Button,
guideNode: cc.Node
},
start: function() {
this.scrollView.scrollToTop(0);
},
onLoad: function() {
var e = this;
e.rt1 && (e.rt1.string = u.recharge.vip_txt1);
e.lb1 && (e.lb1.string = u.recharge.vip_btn1);
e.lbID && (e.lbID.string = u.recharge.vip_lbID);
e.lbNick && (e.lbNick.string = u.recharge.vip_lbName);
e.txtID && (e.txtID.string = a.default.uid);
e.txtNick && (e.txtNick.string = a.default.nick);
var t = void 0;
e.lbID && e.lbNick && (t = e.lbID.string + a.default.uid + e.lbNick.string + a.default.nick);
e.copybtn && e.copybtn.node.on("touchend", function() {
n.default.playEffect(r.default.common.btnMusic);
e.CopyFun(t);
}, e);
if (1 != s.default.readVIPTopUpTransGu1()) {
if (e.guideNode && 0 == e.guideNode.active) {
e.guideNode.active = !0;
e.guideNode.zIndex = 1e3;
}
s.default.saveVIPTopUpTransGu1(1);
}
e.data = null;
},
showEmptyView: function() {
var e = this.node.getChildByName("emptyNode");
if (cc.isValid(e)) e.active = !0; else {
var t = (e = new cc.Node("emptyNode")).addComponent(cc.Label);
t.anchor = .5;
t.string = "暂无可用代理";
t.fontSize = 24;
t.lineHeight = 40;
cc.isValid(this.scrollView) && (e.zIndex = this.scrollView.zIndex + 1);
if (cc.vv.souhu) {
e.setPosition(0, -30);
e.color = cc.color().fromHEX("#3b84c1");
} else {
e.setPosition(116, -90);
e.color = cc.color().fromHEX("#B89C6D");
}
e.parent = this.node;
}
},
hideEmptyView: function() {
var e = this.node.getChildByName("emptyNode");
cc.isValid(e) && (e.active = !1);
},
initContentView: function(e) {
var t = this;
null != t.data && t.data.length > 0 ? t.hideEmptyView() : c.default.newPayChannels(function(e) {
if (cc.isValid(t.node)) if (e) {
t.data = e;
t.loadDataList(e);
} else t.showEmptyView();
});
},
loadDataList: function(e) {
this.scrollView.content.removeAllChildren();
e.length <= 0 ? this.showEmptyView() : this.hideEmptyView();
for (var t = 0; t < e.length; t++) {
var i = cc.instantiate(this.prefabRechargeVipItem);
i && i.getComponent("TopUpAgentItemView") && i.getComponent("TopUpAgentItemView").initData(e[t]);
if (cc.isValid(this.scrollView) && cc.isValid(this.scrollView.content)) {
this.scrollView.content.addChild(i);
this.scrollView.scrollToTop(0);
}
}
},
openJB: function() {
n.default.playEffect(r.default.common.btnMusic);
o.default.createReportAgent();
},
CopyFun: function(e) {
n.default.playEffect(r.default.common.btnMusic);
o.default.createToast("已复制我的ID和昵称");
d.copyText(e);
},
clickGuideAction: function() {
n.default.playEffect(r.default.common.btnMusic);
this.guideNode && (this.guideNode.active = !1);
}
});
cc._RF.pop();
}, {
"../../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"../../../../Script/UserManager": "UserManager",
"./../../../../Script/GameFramework/ApiMgr": "ApiMgr",
FullScreenAdapter: "FullScreenAdapter",
GameEngineUtil: "GameEngineUtil",
GamePayLanguage: "GamePayLanguage"
} ],
TopUpBankTransferView: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "0799a6o32tE4IYbQ3aJnfRz", "TopUpBankTransferView");
var o = d(e("../../../../Script/UserManager")), n = d(e("../../../../Script/UI/CommonPrefabMgr")), r = d(e("../../../../Script/BaseFormat")), a = d(e("../../../../Script/LocalStorage/LocalStorageUtil")), s = d(e("../../../../Script/Audio/CommonAudioMgr")), c = d(e("../../../../Script/Audio/CommonAudio")), l = d(e("../../../../Script/ProjectConfig")), u = d(e("./../../../../Script/GameFramework/ApiMgr"));
function d(e) {
return e && e.__esModule ? e : {
default: e
};
}
var f = e("GamePayLanguage"), h = e("RechargePrefabMgr"), p = e("FullScreenAdapter"), g = e("CommonEventName"), m = (e("GameEngineUtil"), 
{
bankcard: "银行卡",
wechat: "微信",
alipay: "支付宝",
other: "其它"
});
cc.Class({
extends: cc.Component,
properties: {
tabFont: cc.Font,
orderFormtab: cc.Node,
orderFormTabBg: cc.Node,
orderListTab: cc.Node,
orderListTabBg: cc.Node,
orderForm: cc.Node,
orderList: cc.Node,
payType: {
default: "",
visible: !1
},
userIDLabel: cc.Label,
transferName: cc.EditBox,
type: cc.Label,
account: cc.EditBox,
bank: cc.EditBox,
money: cc.EditBox,
alipay: cc.EditBox,
wechat: cc.EditBox,
extend: cc.EditBox,
container: cc.Node,
noInfo: cc.Node,
pageWrap: cc.Node,
loading: cc.Node,
transferOrderHistoryItemPrefab: cc.Prefab,
currentPage: 0,
pageSize: 10,
total: 0,
btnPre: cc.Node,
btnNext: cc.Node,
labelCurrentPage: cc.Label,
xialaFrame: cc.Node,
iType: {
default: "bankcard",
visible: !1
},
inputName: cc.Node,
inputAccount: cc.Node,
inputBank: cc.Node,
inputAlipay: cc.Node,
inputWchat: cc.Node,
inputOther: cc.Node,
minAmount: 0,
base: 1,
explanationUrl: "",
explanationBankUrl: "",
explanationAlipayUrl: "",
guideUrl: "",
labelComment: cc.RichText,
btn_look: cc.Node,
btn_look_disable: cc.Node,
bankType_alipay: cc.Node,
bankType_wechat: cc.Node,
bankType_bankcard: cc.Node,
bankType_other: cc.Node,
formInfo: cc.RichText,
name_frame: cc.Node,
alipy_frame: cc.Node,
account_frame: cc.Node,
wechat_frame: cc.Node,
money_frame: cc.Node,
historyFramePrefab: cc.Prefab,
_historyFrameInfo: cc.String,
btnNameFrame: cc.Node,
btnAlipyFrmae: cc.Node,
btnAccountFrame: cc.Node,
btnBankFrame: cc.Node,
btnWeChatFrame: cc.Node,
btnMoneyFrame: cc.Node,
history_name_frame: cc.Node,
history_alipy_frame: cc.Node,
history_account_frame: cc.Node,
history_transferType_frame: cc.Node,
history_wechat_frame: cc.Node,
history_money_frame: cc.Node,
guideNode: cc.Node,
recordGuideNode: cc.Node,
_checkIndex: 0,
_list: []
},
onLoad: function() {
this.addLabelOutlineWithNode();
this.transData = {
name: "",
subPayType: -1,
account: "",
money: 0,
extend: ""
};
this.transferObj = {
order_id: "",
bankcard_info: {
bank: "",
account_number: "",
subbranch: "",
account_holder: ""
}
};
this.iType = "bankcard";
this.bType = "bankcard";
this.isCanSubmit = !0;
this._historyFrameInfo = a.default.readBankTypeInfo();
if (!this._historyFrameInfo) {
a.default.saveBankTypeInfo({
name: [],
alipay: [],
wechat: [],
bankcard: [],
lastTransType: ""
});
this._historyFrameInfo = a.default.readBankTypeInfo();
}
this.myTransferInfo = null;
this.selectTransferType = "other";
this.selectTransferTimer = "2018-08-23 11:02:24";
this.required = [ "user_name", "bank" ];
this.recommend = [ "10000", "5000", "2000", "1000", "500" ];
this.bankArr = [ "工商银行", "建设银行", "中国银行", "农业银行", "交通银行", "招商银行", "中信银行", "光大银行", "华夏银行", "浦发银行", "兴业银行", "民生银行", "平安银行", "广发银行", "其他银行" ];
this.initBankType();
p.applyHorizon(this.guideNode.getChildByName("mask"));
this.hideAllHistoryFeameBtn();
this.historyObj = {
bankcard: {
btn: this.btnAccountFrame,
frame: this.account_frame,
edit: this.account,
arr: this._historyFrameInfo.bankcard || [],
historyFrame: this.history_account_frame
},
bank: {
btn: this.btnBankFrame,
frame: this.account_frame,
edit: this.bank,
arr: this._historyFrameInfo.bank || [],
historyFrame: this.history_account_frame
},
wechat: {
btn: this.btnWeChatFrame,
frame: this.wechat_frame,
edit: this.wechat,
arr: this._historyFrameInfo.wechat || [],
historyFrame: this.history_wechat_frame
},
alipay: {
btn: this.btnAlipyFrmae,
frame: this.alipy_frame,
edit: this.alipay,
arr: this._historyFrameInfo.alipay || [],
historyFrame: this.history_alipy_frame
},
name: {
btn: this.btnNameFrame,
frame: this.name_frame,
edit: this.transferName,
arr: this._historyFrameInfo.name || [],
historyFrame: this.history_name_frame
},
money: {
btn: this.btnMoneyFrame,
frame: this.money_frame,
edit: this.money,
arr: this._historyFrameInfo.money || [],
historyFrame: this.history_money_frame
}
};
cc.director.on("DeleteHistoryData", this.deleteHistoryEvent, this);
this.updateBankTypesAction();
},
addLabelOutlineWithNode: function() {
if (cc.vv.beautifulgame) {
cc.vv.editBoxMgr.addOutlineWithNode(this.transferName.node);
cc.vv.editBoxMgr.addOutlineWithNode(this.account.node);
cc.vv.editBoxMgr.addOutlineWithNode(this.bank.node);
cc.vv.editBoxMgr.addOutlineWithNode(this.money.node);
cc.vv.editBoxMgr.addOutlineWithNode(this.alipay.node);
cc.vv.editBoxMgr.addOutlineWithNode(this.wechat.node);
cc.vv.editBoxMgr.addOutlineWithNode(this.extend.node);
}
},
initBankType: function() {
var e = this;
u.default.getBankChannels(function(t) {
if (t) {
e._list = t.list;
var i = [];
if (e._list && e._list.length > 0) {
for (var o = 0; o < e._list.length; o++) {
i.push(e._list[o].id);
if ("alipay" == e._list[o].id) {
e.bankType_alipay && (e.bankType_alipay.active = !0);
e.alipay_formInfo = e._list[o].tips;
} else if ("wechat" == e._list[o].id) {
e.bankType_wechat && (e.bankType_wechat.active = !0);
e.wechat_formInfo = e._list[o].tips;
} else if ("bankcard" == e._list[o].id) {
e.bankType_bankcard && (e.bankType_bankcard.active = !0);
e.bankcard_formInfo = e._list[o].tips;
e.bankArr = e._list[o].bank_list;
null != e.bankArr && 0 != e.bankArr.length || (e.bankArr = [ "工商银行", "建设银行", "中国银行", "农业银行", "交通银行", "招商银行", "中信银行", "光大银行", "华夏银行", "浦发银行", "兴业银行", "民生银行", "平安银行", "广发银行", "其他银行" ]);
e.required = e._list[o].required;
null != e.required && 0 != e.required.length || (e.required = [ "user_name", "bank" ]);
e.updateBankTypesAction();
} else {
e.bankType_other && (e.bankType_other.active = !0);
e.other_formInfo = e._list[o].tips;
}
}
e._list && e._list[0] && e._list[0].tips && e.formInfo && (e.formInfo.string = e._list[0].tips);
e._list && e._list[0] && e._list[0].recommend && (e.recommend = e._list[0].recommend || [ "10000", "5000", "2000", "1000", "500" ]);
e.showLastSubmittedData(i);
}
}
});
},
initOrderFormLayout: function() {
var e = this.inputBank.active, t = this.inputAccount.active;
if (e && t) this.orderForm.getChildByName("bankTypes").getComponent(cc.Layout).spacingY = -5; else {
this.orderForm.getChildByName("bankTypes").getComponent(cc.Layout).spacingY = 5;
this.history_money_frame.y = -5;
this.history_wechat_frame.y = 30;
this.history_alipy_frame.y = 31;
this.history_name_frame.y = 75;
this.history_transferType_frame.y = 68;
}
},
updateBankTypesAction: function() {
if (this.required) {
this.inputName && (this.inputName.active = !1);
this.inputAccount && (this.inputAccount.active = !1);
this.inputBank && (this.inputBank.active = !1);
for (var e = 0; e < this.required.length; e++) {
var t = this.required[e];
"user_name" == t && this.inputName && (this.inputName.active = !0);
"bank" == t && "bankcard" == this.iType && this.inputBank && (this.inputBank.active = !0);
"card_no" == t && "bankcard" == this.iType && this.inputAccount && (this.inputAccount.active = !0);
}
this.initOrderFormLayout();
}
},
_initXialaLogic: function(e) {
var t = this.historyObj[e], i = t.btn, o = t.frame, n = t.arr;
if ("money" == e) {
var r = [];
if (n && n.length > 0) for (var a = 0; a < n.length; a++) {
var s = n[a];
r.push(s);
}
if (this.recommend && this.recommend.length > 0) for (var c = 0; c < this.recommend.length; c++) {
var l = this.recommend[c];
r.indexOf(l) < 0 && r.push(l);
}
if (0 == r.length) i.active = !1; else for (var u = r.length >= 5 ? 5 : r.length, d = 0; d < u; d++) {
var f = cc.instantiate(this.historyFramePrefab);
f && f.getComponent("TransferHistoryFrame") && f.getComponent("TransferHistoryFrame").initData(r[d], d, e);
cc.isValid(o) && o.addChild(f);
}
} else if (n) if (0 == n.length) i.active = !1; else for (var h = n.length >= 5 ? 5 : n.length, p = 0; p < h; p++) {
var g = cc.instantiate(this.historyFramePrefab);
g && g.getComponent("TransferHistoryFrame") && g.getComponent("TransferHistoryFrame").initData(n[p], p, e);
cc.isValid(o) && o.addChild(g);
} else i.active = !1;
},
deleteHistoryEvent: function(e) {
var t = e.index, i = e.bType;
if (this.historyObj) {
var o = this.historyObj[i], n = o.btn, r = o.historyFrame, s = o.arr, c = o.edit, l = o.frame;
s.splice(t, 1);
this._historyFrameInfo[i] = s;
a.default.saveBankTypeInfo(this._historyFrameInfo);
if (0 == s.length) {
n.active = !1;
r.active = !1;
c.string = "";
}
l.removeAllChildren();
this._initXialaLogic(i);
}
},
selectHistoryList: function() {
var e = this;
cc.director.on("HistoryList", function(t) {
var i = t.bTpye;
if (e.historyObj) {
var o = e.historyObj[i], n = o.edit, r = o.historyFrame;
n && (n.string = t.Value + "");
r && (r.active = !1);
}
});
},
showLastSubmittedData: function(e) {
var t = this._historyFrameInfo;
if (t) {
var i = t.name || [], o = t.bankcard || [], n = t.alipay || [], r = t.wechat || [], a = t.money || [], s = t.bank || [], c = t.lastTransType || "";
0 != i.length && this.transferName && (this.transferName.string = i[0]);
0 != a.length && (this.money.string = a[0]);
for (var l = 0; l < e.length; l++) {
if ("alipay" == e[l] && "alipay" == c) {
this.alipay.string = n[0];
this.clickAlipay(!1);
}
if ("wechat" == e[l] && "wechat" == c) {
this.wechat.string = r[0];
this.clickWechat(!1);
}
if ("bankcard" == e[l] && "bankcard" == c) {
if (0 != s.length) if (-1 != this.required.indexOf("bank")) {
this.bank.string = s[0];
this.clickUnion(!1);
} else this.bank.string = "";
if (0 != o.length) if (-1 != this.required.indexOf("card_no")) {
this.account && (this.account.string = o[0]);
this.clickUnion(!1);
} else this.account && (this.account.string = "");
}
e.indexOf(c) < 0 && ("alipay" == e[0] ? this.clickAlipay(!1) : "wechat" == e[0] ? this.clickWechat(!1) : "bankcard" == e[0] && this.clickUnion(!1));
}
}
},
clickOrderForm: function() {
s.default.playEffect(c.default.common.btnMusic);
if (cc.isValid(this.orderForm) && cc.isValid(this.orderList) && cc.isValid(this.orderListTab) && cc.isValid(this.orderFormtab)) {
this.orderForm.active = !0;
this.orderFormTabBg && (this.orderFormTabBg.active = !1);
cc.vv.beautifulgame ? this.orderFormtab.getChildByName("toggle_str").color = new cc.Color(255, 255, 255) : cc.vv.souhu && (this.orderFormtab.getChildByName("toggle_str").color = new cc.Color(59, 132, 193));
this.orderList.active = !1;
this.orderListTabBg && (this.orderListTabBg.active = !0);
cc.vv.beautifulgame ? this.orderListTab.getChildByName("toggle_str").color = new cc.Color(187, 187, 187) : cc.vv.souhu && (this.orderListTab.getChildByName("toggle_str").color = new cc.Color(255, 255, 255));
this.updateBankTypesAction();
}
},
clickOrderList: function() {
s.default.playEffect(c.default.common.btnMusic);
if (cc.isValid(this.orderForm) && cc.isValid(this.orderList) && cc.isValid(this.orderListTab) && cc.isValid(this.orderFormtab)) {
this.orderForm.active = !1;
this.orderFormTabBg && (this.orderFormTabBg.active = !0);
cc.vv.beautifulgame ? this.orderFormtab.getChildByName("toggle_str").color = new cc.Color(187, 187, 187) : cc.vv.souhu && (this.orderFormtab.getChildByName("toggle_str").color = new cc.Color(255, 255, 255));
this.orderList.active = !0;
this.orderListTabBg && (this.orderListTabBg.active = !1);
cc.vv.beautifulgame ? this.orderListTab.getChildByName("toggle_str").color = new cc.Color(255, 255, 255) : cc.vv.souhu && (this.orderListTab.getChildByName("toggle_str").color = new cc.Color(59, 132, 193));
}
this.getOrderHistory();
this.showRecordGuide();
},
clickTransferExplanation: function(e) {
l.default.clickManager(e.target);
h.createTransferGuidePages(this.explanationBankUrl, this.explanationAlipayUrl, "alipay");
},
clickCustomService: function() {
if (window.buttonClick) {
this.disableAllButton();
n.default.ToCustomerService();
} else n.default.createToastClick();
},
enableAllButton: function() {
window.buttonClick = !0;
},
disableAllButton: function() {
window.buttonClick = !1;
this.schedule(this.enableAllButton, 1, 0, 0);
},
initContentView: function(e) {
this.initWithData(e);
},
initWithData: function(e) {
this.userIDLabel && (this.userIDLabel.string = o.default.uid);
this.payType = e.pay_type;
this.minAmount = e.min_amount;
isNaN(e.base) ? this.base = 1 : this.base = e.base;
0 == e.base ? this.money.inputMode = 5 : this.money.inputMode = 2;
this.labelComment.string = e.comment;
this.explanationUrl = e.explanation;
var t = e.page_url;
if (null != t && void 0 != t) {
this.explanationBankUrl = t.bank || "";
this.explanationAlipayUrl = t.alipay || "";
this.guideUrl = t.guide || "";
}
if (1 != a.default.readBankTransGu1()) {
this.guideNode && 0 == this.guideNode.active && (this.guideNode.active = !0);
a.default.saveBankTransGu1(1);
} else this.clickGuideAction(!1);
var i = r.default.stringFormat(f.recharge.place_holder, {
MinAmount: e.min_amount,
MaxAmount: e.max_amount
});
this.money && (this.money.placeholder = i);
},
clickGuideAction: function() {
(!(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0]) && this.onPlayBtnMusic();
this.guideNode && 1 == this.guideNode.active && (this.guideNode.active = !1);
},
clickRecordGuideAction: function() {
this.recordGuideNode && 1 == this.recordGuideNode.active && (this.recordGuideNode.active = !1);
},
showRecordGuide: function() {
if (1 != a.default.readBankTransGu12()) {
this.recordGuideNode && 0 == this.recordGuideNode.active && (this.recordGuideNode.active = !0);
a.default.saveBankTransGu12(1);
} else this.clickGuideAction(!1);
},
onKeFuClick: function() {
n.default.showCustomerCenter(!0);
},
onPlayBtnMusic: function() {
s.default.playEffect(c.default.common.btnMusic);
},
clickAlipay: function() {
(!(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0]) && this.onPlayBtnMusic();
this._selectType("alipay");
this.wxAlipayFormLayout();
this.inputAlipay.active = !0;
this.alipay_formInfo ? this.formInfo.string = this.alipay_formInfo : this.formInfo.string = f.recharge.bankCard_tips_err;
},
clickWechat: function() {
(!(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0]) && this.onPlayBtnMusic();
this._selectType("wechat");
this.wxAlipayFormLayout();
this.inputWchat.active = !0;
this.wechat_formInfo ? this.formInfo.string = this.wechat_formInfo : this.formInfo.string = f.recharge.bankCard_tips_err;
},
clickUnion: function() {
(!(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0]) && this.onPlayBtnMusic();
this._selectType("bankcard");
this.initOrderFormLayout();
this.updateBankTypesAction();
this.bankcard_formInfo ? this.formInfo.string = this.bankcard_formInfo : this.formInfo.string = f.recharge.bankCard_tips_err;
},
clickOther: function() {
(!(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0]) && this.onPlayBtnMusic();
this._selectType("other");
this.inputOther.active = !0;
this.other_formInfo ? this.formInfo.string = this.other_formInfo : this.formInfo.string = f.recharge.bankCard_tips_err;
},
wxAlipayFormLayout: function() {
this.orderForm && this.orderForm.getChildByName("bankTypes") && (this.orderForm.getChildByName("bankTypes").getComponent(cc.Layout).spacingY = 5);
},
_hideTypeAccount: function() {
this.inputAccount.active = !1;
this.inputAlipay.active = !1;
this.inputWchat.active = !1;
this.inputOther.active = !1;
this.inputBank.active = !1;
},
_selectType: function(e) {
this.iType = e;
if (this.type) {
this.type.string = m[e];
if (cc.vv.beautifulgame) {
this.type.node.color = new cc.Color(255, 250, 150);
this.type.getComponent(cc.LabelOutline).color = new cc.Color(87, 26, 2);
this.type.getComponent(cc.LabelOutline).width = 2;
}
}
this.xialaFrame.active = !1;
this._hideTypeAccount();
},
clickXiala: function() {
s.default.playEffect(c.default.common.btnMusic);
this.hideAllHistoryFeame();
if (this.xialaFrame) {
!0 === (!1 === this.bankType_alipay.active && !1 === this.bankType_wechat.active && !1 === this.bankType_bankcard.active && !1 === this.bankType_other.active) ? n.default.createToast("没有支持的支付方式") : this.xialaFrame.active = !this.xialaFrame.active;
}
},
hideAllHistoryFeame: function() {
this.history_name_frame && 1 == this.history_name_frame.active && (this.history_name_frame.active = !1);
this.history_alipy_frame && 1 == this.history_alipy_frame.active && (this.history_alipy_frame.active = !1);
this.history_account_frame && 1 == this.history_account_frame.active && (this.history_account_frame.active = !1);
this.history_wechat_frame && 1 == this.history_wechat_frame.active && (this.history_wechat_frame.active = !1);
this.xialaFrame && 1 == this.xialaFrame.active && (this.xialaFrame.active = !1);
this.history_money_frame && 1 == this.history_money_frame.active && (this.history_money_frame.active = !1);
},
hideAllHistoryFeameBtn: function() {
var e = this._historyFrameInfo;
if (e) {
var t = e.name || [], i = e.alipay || [], o = e.bankcard || [], n = e.wechat || [];
t.length < 2 && (this.btnNameFrame.active = !1);
i.length < 2 && (this.btnAlipyFrmae.active = !1);
o.length < 2 && (this.btnAccountFrame.active = !1);
n.length < 2 && (this.btnWeChatFrame.active = !1);
}
},
clickHistoryFrame: function(e, t) {
s.default.playEffect(c.default.common.btnMusic);
this.bType = t;
if ("name" == this.bType) {
this.history_alipy_frame.active = !1;
this.history_account_frame.active = !1;
this.history_wechat_frame.active = !1;
this.history_money_frame.active = !1;
this.xialaFrame.active = !1;
}
this.bType;
if (this.historyObj) {
var i = this.historyObj[this.bType];
i.frame.removeAllChildren();
this._initXialaLogic(this.bType);
this.selectHistoryList();
i.historyFrame && (i.historyFrame.active = !i.historyFrame.active);
}
},
clickBankPulldownAction: function() {
var e = this;
s.default.playEffect(c.default.common.btnMusic);
var t = e.historyObj.bank.arr;
t.length > 5 && (t = t.slice(0, 5));
h.createBankList(e.bankArr, t, function(t) {
e.bank.string = "其他银行" != t ? t : "";
});
},
submitOrder: function() {
s.default.playEffect(c.default.common.btnMusic);
var e = this.iType, t = void 0, i = void 0, o = void 0, n = void 0, r = void 0, l = void 0, u = void 0;
this.userIDLabel && this.userIDLabel.string;
this.transferName && (t = this.transferName.string);
if ("bankcard" == e) {
u = -1 != this.required.indexOf("bank") ? this.bank.string : "";
i = -1 != this.required.indexOf("card_no") ? this.account.string : "";
} else {
u = "";
i = "";
}
this.alipay && (o = this.alipay.string);
this.wechat && (n = this.wechat.string);
this.extend && (l = this.extend.string);
this.money && (r = this.money.string);
if (this._checkField(e, t, i, o, n, r, l, u)) {
this.transData = {
name: t,
subPayType: e,
account: i,
alipay: o,
wechat: n,
money: r,
extend: l,
bank: u
};
if (this.isCanSubmit) {
this.isCanSubmit = !1;
var d = [], f = [], h = [], p = [], g = [], m = [], y = a.default.readBankTypeInfo();
if (y) {
d = y.name || [];
f = y.alipay || [];
h = y.bankcard || [];
p = y.wechat || [];
g = y.money || [];
m = y.bank || [];
}
-1 == d.indexOf(t) && d.unshift(t);
-1 == g.indexOf(r) && g.unshift(r);
if ("alipay" == e) -1 == f.indexOf(o) && f.unshift(o); else if ("bankcard" == e) {
"" != i && -1 == h.indexOf(i) && h.unshift(i);
if ("" != u) if (-1 == m.indexOf(u)) m.unshift(u); else {
m.splice(m.indexOf(u), 1);
m.unshift(u);
}
} else "wechat" == e && -1 == p.indexOf(n) && p.unshift(n);
this.lastTransType = e;
a.default.saveBankTypeInfo({
name: d,
alipay: f,
wechat: p,
bankcard: h,
lastTransType: e,
money: g,
bank: m
});
this.loading && (this.loading.active = !0);
this._payLogic();
}
}
},
_payLogic: function() {
this.onPayReady(this.payType);
},
_checkField: function(e, t, i, o, a, s, c, l) {
if ("" == t) {
n.default.createToast("转账者姓名不能为空");
return !1;
}
if (r.default.isHasSpace(t, "g")) {
n.default.createToast("转账者姓名不能含有空格");
return !1;
}
if (r.default.checkWordLength(t, 21)) {
if ("" == s) {
n.default.createToast("转账金额不能为空");
return !1;
}
if (this.checkDecimal("" + s)) {
if (0 != this.base && s % this.base != 0) {
n.default.createToast("请输入" + this.base + "的倍数");
return !1;
}
if (parseFloat(s) < parseFloat(this.minAmount)) {
var u = r.default.stringFormat(f.recharge.min_amount, {
MinAmount: this.minAmount
});
n.default.createToast(u);
return !1;
}
if ("bankcard" == e) {
var d = /^[0-9]*[1-9][0-9]*$/;
if (null == this.required || 0 == this.required.length) return !0;
var h = this.required.indexOf("bank"), p = this.required.indexOf("card_no");
if (h > 0 && p > 0) {
if ("" == i) {
n.default.createToast("转账银行卡号不能为空");
return !1;
}
if (d.test(i)) {
if ("" == l) {
n.default.createToast("请正确填写转账银行");
return !1;
}
if (r.default.isHasSpace(l, "g")) {
n.default.createToast("转账银行不能含有空格");
return !1;
}
if (r.default.checkWordLength(l, 51)) return !0;
n.default.createToast("转账银行必须为50个字符以内（1个汉字算2个字符）");
return !1;
}
n.default.createToast("转账银行卡号格式不正确");
return !1;
}
if (p > 0) {
if ("" == i) {
n.default.createToast("转账银行卡号不能为空");
return !1;
}
if (d.test(i)) return !0;
n.default.createToast("转账银行卡号格式不正确");
return !1;
}
if (h > 0) {
if ("" == l) {
n.default.createToast("请正确填写转账银行");
return !1;
}
if (r.default.isHasSpace(l, "g")) {
n.default.createToast("转账银行不能含有空格");
return !1;
}
if (r.default.checkWordLength(l, 51)) return !0;
n.default.createToast("转账银行必须为50个字符以内（1个汉字算2个字符）");
return !1;
}
return !0;
}
if ("alipay" == e) {
if ("" == o) {
n.default.createToast("转账支付宝不能为空");
return !1;
}
if (r.default.isHasSpace(o, "g")) {
n.default.createToast("转账支付宝不能含有空格");
return !1;
}
if (!r.default.checkWordLength(o, 41)) {
n.default.createToast("转账支付宝必须为40个字符以内（1个汉字算2个字符）");
return !1;
}
return !0;
}
if ("wechat" == e) {
if ("" == a) {
n.default.createToast("转账微信号不能为空");
return !1;
}
if (r.default.isHasSpace(a, "g")) {
n.default.createToast("转账微信号不能含有空格");
return !1;
}
if (!r.default.checkWordLength(a, 41)) {
n.default.createToast("转账微信号必须为40个字符以内（1个汉字算2个字符）");
return !1;
}
return !0;
}
if ("other" == e) {
if ("" == c) {
n.default.createToast("备注不能为空");
return !1;
}
if (r.default.isHasSpace(c, "g")) {
n.default.createToast("备注不能含有空格");
return !1;
}
if (!r.default.checkWordLength(c, 41)) {
n.default.createToast("转账微信号必须为100个字符以内（1个汉字算2个字符）");
return !1;
}
return !0;
}
return !0;
}
n.default.createToast("转账金额只可输入数字和小数点(最多2位)");
return !1;
}
n.default.createToast("转账者姓名必须为20个字符以内（1个汉字算2个字符）");
return !1;
},
checkDecimal: function(e) {
return !(e.indexOf(".") > -1) || e.split(".")[1].length <= 2;
},
onPayReady: function(e) {
var t = this, i = {
type: e
};
u.default.getPayID(i, function(e) {
e && t.onPaySubmit(e.pay_id);
});
},
onPaySubmit: function(e) {
var t = this, i = t.transData, o = void 0, r = i.subPayType, a = "";
if ("bankcard" == r) {
a = -1 != t.required.indexOf("bank") ? t.bank.string : "";
o = -1 != t.required.indexOf("card_no") ? i.account : "";
} else "wechat" == r ? o = i.wechat : "alipay" == r && (o = i.alipay);
var s = {
pay_account_num: o,
pay_account_username: i.name,
pay_account_bank: a,
pay_type: r,
pay_extend: i.extend
}, c = {
pay_amount: i.money,
sdk_version: "android_v_1_1",
content: s
};
u.default.getPayInfo(e, c, function(e) {
if (e) {
t.transferObj = e;
t.transData = {
name: "",
subPayType: -1,
account: "",
money: 0,
extend: "",
bank: ""
};
t.loading && (t.loading.active = !1);
t.selectTransferType = r;
n.default.createToast("订单已提交，2S后为您展示官方收款银行卡");
var i = "", o = "";
if ("bankcard" == r) {
i = -1 != t.required.indexOf("bank") ? t.bank.string : "";
o = -1 != t.required.indexOf("card_no") ? t.account.string : "";
} else i = "wechat" == r ? t.wechat.string : "alipay" == r ? t.alipay.string : t.extend.string;
var a = {
bank: i,
name: t.transferName.string,
money: "" + t.money.string,
account: o
};
t.scheduleOnce(function() {
h.createAwaitTransfer(t.selectTransferType, a, t.transferObj, t.explanationBankUrl, t.explanationAlipayUrl, t.guideUrl, 1798, function() {
if (t.orderListTab) {
if (cc.isValid(t.orderList) && t.orderList.active) return;
t.orderFormtab.getComponent(cc.Toggle).isChecked = 0;
t.orderListTab.getComponent(cc.Toggle).isChecked = 1;
}
});
t.isCanSubmit = !0;
}, 2);
cc.director.emit(g.REFRESH_PAY_UNREAD_MSG);
}
}, function(e) {
t.isCanSubmit = !0;
t.pay_id = "";
if (e) {
var i = e.status;
if (130 == i) {
t.loading && (t.loading.active = !1);
var o = e.msg;
n.default.createAlert(o, "确定", function() {});
} else if (2 == i) {
t.loading && (t.loading.active = !1);
var r = e.msg || "金额请输入10额整数倍";
n.default.createAlert(r, "确定", function() {});
} else {
t.loading && (t.loading.active = !1);
n.default.createAlert("充值失败，请选择VIP专属通道充值。", "确定", function() {});
}
}
});
},
linkToTransferAccount: function() {
var e = new Date(this.selectTransferTimer.replace(/-/g, "/")).getTime() / 1e3, t = 1800 - (new Date().getTime() / 1e3 - e);
h.createAwaitTransfer(this.selectTransferType, this.myTransferInfo, this.transferObj, this.explanationBankUrl, this.explanationAlipayUrl, this.guideUrl, t, function() {});
},
getMaxPage: function() {
return Math.ceil(this.total / this.pageSize);
},
showPreNextBtns: function() {
var e = this.getMaxPage();
if (e <= 1) {
this.btnPre.active = !1;
this.btnNext.active = !1;
} else if (0 == this.currentPage) {
this.btnPre.active = !1;
this.btnNext.active = !0;
} else if (this.currentPage == e - 1) {
this.btnPre.active = !0;
this.btnNext.active = !1;
} else {
this.btnPre.active = !0;
this.btnNext.active = !0;
}
},
clickBtnPre: function() {
s.default.playEffect(c.default.common.btnMusic);
l.default.clickManager(this.btnPre);
this.currentPage = parseInt(this.currentPage) - 1;
this.getOrderHistory();
},
clickBtnNext: function() {
s.default.playEffect(c.default.common.btnMusic);
l.default.clickManager(this.btnNext);
this.currentPage = parseInt(this.currentPage) + 1;
this.getOrderHistory();
},
getOrderHistory: function() {
var e = this, t = {
pay_type: e.payType,
page: e.currentPage
};
u.default.getOrderHistory(t, function(t) {
if (t) {
var i = t.pays_info, o = t.count;
e.total = o;
if (i.length <= 0) {
e.noInfo && (e.noInfo.active = !0);
e.container && (e.container.active = !1);
e.pageWrap && (e.pageWrap.active = !1);
e.btn_look && (e.btn_look.active = !1);
e.btn_look_disable && (e.btn_look_disable.active = !0);
} else {
e.noInfo && (e.noInfo.active = !1);
e.container && (e.container.active = !0);
e.container && (e.pageWrap.active = !0);
e.initHistoryData(i);
e.showPreNextBtns();
e.labelCurrentPage && (e.labelCurrentPage.string = "当前第" + (parseInt(e.currentPage) + 1) + "页");
}
}
});
},
initHistoryData: function(e) {
var t = this;
if (cc.isValid(t.container)) {
t.container.removeAllChildren();
for (var i = function(i) {
var o = e[i], a = !1;
if (0 == i) {
a = !0;
t.transferObj = {
order_id: o.extend.order_id,
bankcard_info: o.extend.bankcard_info
};
t.selectTransferTimer = o.ts;
t.selectTransferType = o.extend.pay_type;
n = "";
r = "";
if ("bankcard" == t.selectTransferType) {
n = o.extend.pay_account_bank;
r = o.extend.pay_account_num;
} else n = "other" == t.selectTransferType ? o.extend.pay_extend : o.extend.pay_account_num;
t.myTransferInfo = {
bank: n,
name: o.extend.pay_account_username,
money: "" + o.price,
account: r
};
}
var s = {
id: o.id,
status: o.status,
price: o.price,
extend: {
pay_account_num: o.extend.pay_account_num,
pay_account_username: o.extend.pay_account_username,
pay_account_bank: o.extend.pay_account_bank,
pay_type: o.extend.pay_type,
bankcard_info: o.extend.bankcard_info,
pay_extend: o.extend.pay_extend
},
ts: o.ts,
isSelected: a
};
t.loadOrderHistoryItem(s, function(e) {
if (cc.isValid(t.container)) {
t.container.addChild(e);
var o = t.container.children;
if (cc.isValid(o)) {
o[t._checkIndex] && o[t._checkIndex].getComponent("RechargeAgencyItem") && o[t._checkIndex].getComponent("RechargeAgencyItem").setItemSelect();
e && e.on(cc.Node.EventType.TOUCH_END, function() {
o[t._checkIndex] && o[t._checkIndex].getComponent("RechargeAgencyItem") && o[t._checkIndex].getComponent("RechargeAgencyItem").setItemNormal();
o[i] && o[i].getComponent("RechargeAgencyItem") && o[i].getComponent("RechargeAgencyItem").setItemSelect();
t._checkIndex = i;
});
}
}
});
}, o = 0; o < e.length; o++) {
var n, r;
i(o);
}
}
},
onTransferOrderHistoryItem: function(e) {},
loadOrderHistoryItem: function(e, t) {
var i = this, o = cc.instantiate(this.transferOrderHistoryItemPrefab);
if (o) {
o.getComponent("RechargeAgencyItem").init(e, function(t, o, n) {
i.transferObj = {
order_id: e.extend.order_id,
bankcard_info: t
};
i.selectTransferTimer = n.ts;
i.selectTransferType = n.extend.pay_type;
var r = "", a = "";
if ("bankcard" == i.selectTransferType) {
r = n.extend.pay_account_bank;
a = n.extend.pay_account_num;
} else r = "other" == i.selectTransferType ? n.extend.pay_extend : n.extend.pay_account_num;
i.myTransferInfo = {
bank: r,
name: n.extend.pay_account_username,
money: "" + n.price,
account: a
};
if (0 == o || 1 == o) {
i.btn_look.active = !0;
i.btn_look_disable.active = !1;
} else {
i.btn_look.active = !1;
i.btn_look_disable.active = !0;
}
});
t(o);
}
}
});
cc._RF.pop();
}, {
"../../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../../../Script/BaseFormat": "BaseFormat",
"../../../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../../../Script/ProjectConfig": "ProjectConfig",
"../../../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"../../../../Script/UserManager": "UserManager",
"./../../../../Script/GameFramework/ApiMgr": "ApiMgr",
CommonEventName: "CommonEventName",
FullScreenAdapter: "FullScreenAdapter",
GameEngineUtil: "GameEngineUtil",
GamePayLanguage: "GamePayLanguage",
RechargePrefabMgr: "RechargePrefabMgr"
} ],
TopUpDataMgr: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "0635dCHPfxOjYGbbqxCCtcv", "TopUpDataMgr");
var o, n, r = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}();
a(e("../../../../Script/ProjectConfig")), a(e("../../../../Script/LocalStorage/LocalStorageUtil"));
function a(e) {
return e && e.__esModule ? e : {
default: e
};
}
function s(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
e("GameEngineUtil");
var c = (n = o = function() {
function e() {
s(this, e);
}
r(e, null, [ {
key: "getChannelData",
value: function(e) {
var t = null;
if (this.topUpChannelList) for (var i in this.topUpChannelList) {
var o = this.topUpChannelList[i];
o && e == o.source_type && (t = o);
}
return t;
}
} ]);
return e;
}(), o.topUpChannelList = null, n);
t.exports = c;
cc._RF.pop();
}, {
"../../../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../../../Script/ProjectConfig": "ProjectConfig",
GameEngineUtil: "GameEngineUtil"
} ],
TopUpToBeAgentView: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "44d5bIdsQZIoZp+nJoNuKOD", "TopUpToBeAgentView");
var o = c(e("../../../../Script/GameFramework/ApiMgr")), n = c(e("../../../../Script/Audio/CommonAudioMgr")), r = c(e("../../../../Script/Audio/CommonAudio")), a = c(e("../../../../Script/UserManager")), s = c(e("../../../../Script/UI/CommonPrefabMgr"));
function c(e) {
return e && e.__esModule ? e : {
default: e
};
}
var l = e("GamePayLanguage");
cc.Class({
extends: cc.Component,
properties: {
lbName: cc.Label,
txtName: cc.EditBox,
lbTel: cc.Label,
txtTel: cc.EditBox,
lbQ: cc.Label,
txtQ: cc.EditBox,
lbWx: cc.Label,
txtWx: cc.EditBox,
lbInfo: cc.Label,
txtInfo: cc.EditBox,
tjbtn: cc.Button,
lbtj: cc.Label
},
onLoad: function() {
var e = this;
e.addLabelOutlineWithNode();
e.lbName && (e.lbName.string = l.recharge.agent.txt1);
e.lbTel && (e.lbTel.string = l.recharge.agent.txt2);
e.lbQ && (e.lbQ.string = l.recharge.agent.txt3);
e.lbWx && (e.lbWx.string = l.recharge.agent.txt6);
e.lbInfo && (e.lbInfo.string = l.recharge.agent.txt4);
e.lbtj && (e.lbtj.string = "提交");
e.tjbtn && e.tjbtn.node && e.tjbtn.node.on("touchend", function() {
e.tjData();
}, e);
},
initContentView: function(e) {},
addLabelOutlineWithNode: function() {
if (cc.vv.beautifulgame) {
cc.vv.editBoxMgr.addOutlineWithNode(this.txtName.node);
cc.vv.editBoxMgr.addOutlineWithNode(this.txtTel.node);
cc.vv.editBoxMgr.addOutlineWithNode(this.txtQ.node);
cc.vv.editBoxMgr.addOutlineWithNode(this.txtWx.node);
cc.vv.editBoxMgr.addOutlineWithNode(this.txtInfo.node);
}
},
tjData: function() {
n.default.playEffect(r.default.common.btnMusic);
var e = this, t = void 0, i = void 0, c = void 0, u = void 0, d = void 0;
e.txtName && (t = e.txtName.string);
e.txtTel && (i = e.txtTel.string);
e.txtQ && (c = e.txtQ.string);
e.txtInfo && (u = e.txtInfo.string);
e.txtWx && (d = e.txtWx.string);
"" == t ? s.default.createToast(l.recharge.agent.txt5) : "" == i ? s.default.createToast(l.recharge.agent.txt5) : "" == c ? s.default.createToast(l.recharge.agent.txt5) : "" == d ? s.default.createToast(l.recharge.agent.txt6) : "" == u ? s.default.createToast(l.recharge.agent.txt5) : o.default.PostApplyAgency(a.default.uid, {
username: t,
phone: i,
qq: c,
wx: d,
remark: u
}, function(t) {
if (cc.isValid(e.node)) {
e.txtName && (e.txtName.string = "");
e.txtTel && (e.txtTel.string = "");
e.txtQ && (e.txtQ.string = "");
e.txtWx && (e.txtWx.string = "");
e.txtInfo && (e.txtInfo.string = "");
s.default.createToast(l.recharge.txt_finish);
}
});
},
onNameTextChanged: function() {
var e = void 0, t = void 0, i = void 0;
this.txtName && (e = this.txtName.string);
this.txtWx && (t = this.txtWx.string);
this.txtInfo && (i = this.txtInfo.string);
if (-1 != e.indexOf(" ")) {
e = e.replace(" ", "");
this.txtName && (this.txtName.string = e);
} else if (-1 != t.indexOf(" ")) {
t = t.replace(" ", "");
this.txtWx && (this.txtWx.string = t);
} else if (-1 != i.indexOf(" ")) {
i = i.replace(" ", "");
this.txtInfo && (this.txtInfo.string = i);
}
}
});
cc._RF.pop();
}, {
"../../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../../../Script/GameFramework/ApiMgr": "ApiMgr",
"../../../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"../../../../Script/UserManager": "UserManager",
GamePayLanguage: "GamePayLanguage"
} ],
TopUpUIMgr: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "fc4cdsqQgZM4I1K2MFgIehh", "TopUpUIMgr");
var o, n, r = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}(), a = (l(e("../../../../Script/ProjectConfig")), l(e("../../../../Script/LocalStorage/LocalStorageUtil"))), s = l(e("../../../../Script/UI/CommonPrefabMgr")), c = l(e("./../../../../Script/GameFramework/ApiMgr"));
function l(e) {
return e && e.__esModule ? e : {
default: e
};
}
function u(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
e("DialogUtil");
var d = e("GameEngineUtil"), f = (e("CommonEventName"), e("TopUpDataMgr")), h = (e("ComponentRes"), 
e("Language"), e("PopWindowPull")), p = e("CommonLanguage"), g = (n = o = function() {
function e() {
u(this, e);
}
r(e, null, [ {
key: "showGameTopUpView",
value: function() {
this.loadPayChannels();
}
}, {
key: "loadPayChannels",
value: function(e) {
this._callBack = e;
var t = cc.sys.os, i = d.getPackageName(), o = t.toLowerCase();
"os x" == o && (o = "ios");
var n = {
bundle_id: i,
platform: o,
channel: d.getChannel(),
build_number: d.getVersionCode()
};
this.requestNewChannelData(n);
}
}, {
key: "requestNewChannelData",
value: function(e) {
var t = this;
c.default.getRechargeTypes(function(e) {
var i = e.rechargetypecategoryList;
if (i && i.length > 0) {
cc.vv.pay_channel_data_ram_cache = i;
t.initTopUpUI(i);
a.default.saveData("pay_channel_data", JSON.stringify(i));
} else {
s.default.createToast(p.currentlanguage.rechargeview.getRechargeTypesError);
s.default.removeCommonLoading();
}
}, function(e) {
if (e && e.msg) s.default.createToast(e.msg); else {
s.default.createToast(p.currentlanguage.rechargeview.getRechargeTypesError);
s.default.removeCommonLoading();
}
});
}
}, {
key: "initTopUpUI",
value: function(e) {
if (e) {
f.topUpChannelList = e;
for (var t in e) {
var i = e[t];
i.ischecked = 0 == t;
var o = i.rechargetypeinfosList;
if (o && o.length > 0) for (var n in o) {
var r = o[n];
r.ischecked = 0 == n;
}
}
1 == e.length && 1 == e[0].rechargetypeinfosList.length ? s.default.showCashierPayDialog(e) : s.default.showRechargeDialog(e);
}
}
}, {
key: "showRechargeNotice",
value: function() {
var e = h.showTopupAnnouncement();
e && s.default.showRechargeNoticeDialog(e);
}
}, {
key: "LoadData",
value: function(e) {
for (var t = this, i = 0; i < e.length; i++) if ("1005" !== e[i].source_type) {
t.leftBarIosImg && (t.leftBarIosImg.active = !1);
var o = cc.instantiate(t.GameLeftBarItemPrefab);
o && o.getComponent("RechargeLeftItem") && o.getComponent("RechargeLeftItem").initData(e[i], i);
cc.isValid(t.LeftBar) && t.LeftBar.addChild(o);
var n = void 0;
t.LeftBar && (n = t.LeftBar.children) && n[t.checkIndex] && n[t.checkIndex].getComponent("RechargeLeftItem") && n[t.checkIndex].getComponent("RechargeLeftItem").setItemSelect();
o && o.on("click", function(e) {
t.clickItem(this.getSiblingIndex());
});
} else t.leftBarIosImg && (t.leftBarIosImg.active = !0);
t.checkIndex = 0;
t.initRightContent(t.listData[t.checkIndex]);
}
} ]);
return e;
}(), o._callBack = null, n);
t.exports = g;
cc._RF.pop();
}, {
"../../../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../../../Script/ProjectConfig": "ProjectConfig",
"../../../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"./../../../../Script/GameFramework/ApiMgr": "ApiMgr",
CommonEventName: "CommonEventName",
CommonLanguage: "CommonLanguage",
ComponentRes: "ComponentRes",
DialogUtil: "DialogUtil",
GameEngineUtil: "GameEngineUtil",
Language: "Language",
PopWindowPull: "PopWindowPull",
TopUpDataMgr: "TopUpDataMgr"
} ],
TopUpView: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "cd3b0J+TPJDcIsuLTzjkI8M", "TopUpView");
var o = d(e("../../../../Script/UserManager")), n = d(e("../../../../Script/LocalStorage/LocalStorageUtil")), r = d(e("../../../../Script/UI/CommonPrefabMgr")), a = d(e("../../../../Script/Audio/CommonAudioMgr")), s = d(e("../../../../Script/Audio/CommonAudio")), c = d(e("../../../../Script/BaseFormat")), l = d(e("../../../../Script/ProjectConfig")), u = d(e("./../../../../Script/GameFramework/ApiMgr"));
function d(e) {
return e && e.__esModule ? e : {
default: e
};
}
var f = e("Language"), h = e("GamePayLanguage"), p = e("RechargePrefabMgr"), g = e("GameEngineUtil"), m = e("TopUpDataMgr"), y = e("CommonFunction"), b = e("CommonEventName");
e("NewGameInfo");
cc.Class({
extends: cc.Component,
properties: {
lbRechargeTxt: cc.Label,
lbClearTxt: cc.Label,
lbBuyTxt: cc.Label,
lbBotTxt: cc.RichText,
txtRecharge: cc.EditBox,
btnBuy: cc.Button,
btnWrap: cc.Node,
btnItemPrefab: cc.Prefab,
loadingView: cc.Node,
txtBg: cc.Node,
_payStatusRetryTimes: 0,
loadingText: cc.Label,
payAmount: {
default: 0,
visible: !1,
type: cc.Integer
},
webmode: {
default: 0,
visible: !1,
type: cc.Integer
},
clearBtn: cc.Button,
minAmount: {
default: 0,
visible: !1,
type: cc.Integer
},
maxAmount: {
default: 0,
visible: !1,
type: cc.Integer
},
amount_type: {
default: 0,
visible: !1,
type: cc.Integer
},
base: {
default: 1,
visible: !1,
type: cc.Integer
},
payType: cc.String,
kefuBtn: cc.Node,
mask: cc.Node,
banner_type: {
default: [],
type: cc.SpriteFrame
},
tipsStr: cc.Node,
banner: cc.Node
},
onLoad: function() {
var e = this;
e.kind = 0;
e.pic = "";
e.target = "";
e.direction = 0;
e.browser = 0;
m.getChannelData(0);
cc.vv.beautifulgame && cc.vv.editBoxMgr.addOutlineWithNode(e.txtRecharge.node);
e.lbClearTxt && (e.lbClearTxt.string = h.recharge.wx.txt4);
var t = n.default.readData("payAmount");
if (t > 0) {
e.txtRecharge && (e.txtRecharge.string = t + "");
e.payAmount = t;
}
cc.director.on("GamepayBet", function(t) {
(e.txtRecharge && "" == e.txtRecharge.string || 0 == e.payAmount) && (e.txtRecharge.string = "0");
e.payAmount = parseInt(t);
e.txtRecharge && (e.txtRecharge.string = e.payAmount + "");
1 == e.amount_type ? e.clearBtn.node.active = !1 : e.clearBtn.node.active = !0;
n.default.saveData("payAmount", e.payAmount);
}, e);
e.clearBtn && e.clearBtn.node && e.clearBtn.node.on("touchend", function() {
a.default.playEffect(s.default.common.btnMusic);
e.txtRecharge && (e.txtRecharge.string = "");
e.payAmount = 0;
1 == e.amount_type && (e.clearBtn.node.active = !1);
});
e.updateUISettings();
e.btnBuy && e.btnBuy.node && e.btnBuy.node.on("touchend", function() {
e.ToBuy();
}, e);
this.buy_enable = !0;
this.pay_id = "";
this.pay_name = "";
this.tmp_name = "";
e.wait_sec = 5;
e.canRequestPayStatus = !0;
e.currentTimestamp = 0;
},
onEnable: function() {
var e = this;
cc.game.on(cc.game.EVENT_HIDE, this.gameHide.bind(this), this);
cc.game.on(cc.game.EVENT_SHOW, this.gameShow.bind(this), this);
cc.director.on("REFRESHLEVELPAY_RECHARGE", function(t) {
e.paySuccess(t);
});
cc.director.on("PAYFAILURE_RECHARGE", function() {
e.payFailure();
});
},
onDisable: function() {
cc.game.off(cc.game.EVENT_HIDE);
cc.game.off(cc.game.EVENT_SHOW);
cc.director.off("PAYFAILURE_RECHARGE");
cc.director.off("REFRESHLEVELPAY_RECHARGE");
},
onDestroy: function() {
cc.game.off(cc.game.EVENT_HIDE);
cc.game.off(cc.game.EVENT_SHOW);
cc.director.off("PAYFAILURE_RECHARGE");
cc.director.off("REFRESHLEVELPAY_RECHARGE");
},
gameShow: function() {
n.default.readGameType();
var e = this.pay_id;
if (e) {
var t = cc.director.getScene().getChildByName("Canvas");
if (cc.isValid(t)) {
var i = t.getChildByName("Alert");
i && t.removeChild(i);
}
this.pay_id = "";
this.loadingView.active = !0;
this.onPayStatus(e);
}
},
gameHide: function() {
this.currentTime = Date.parse(new Date()) / 1e3;
},
rechargingLoading: function() {
this.rechargeCountdown -= 1;
this.canRequestPayStatus = !1;
if (this.rechargeCountdown > 0) this.loadingText.string = "充值中" + this.rechargeCountdown + "s..."; else {
this.unscheduleAllCallbacks();
this.ignorePayStatus = !0;
this.loadingView.active = !1;
cc.director.emit("enable_pay_view_click");
this._payStatusRetryTimes = 0;
cc.director.emit("PAYFAILURE");
}
},
updateUISettings: function() {
null != this.kefuBtn && (this.kefuBtn.active = !1);
},
enableAllButton: function() {
window.buttonClick = !0;
},
disableAllButton: function() {
window.buttonClick = !1;
this.schedule(this.enableAllButton, 1, 0, 0);
},
clickCustomService: function() {
if (window.buttonClick) {
this.disableAllButton();
r.default.ToCustomerService();
} else r.default.createToastClick();
},
onEditTextInputChanged: function(e) {
this.payAmount = e || 0;
n.default.saveData("payAmount", this.payAmount);
},
onEditTextInputFinished: function(e) {},
initContentView: function(e) {
this.initWithWXData(e, 0);
},
clickBannerItem: function(e) {
if (8 == this.kind) r.default.showNoticeDialog(parseInt(this.target)); else {
if (6 == this.kind && "" != this.target && !isNaN(this.target)) {
this._closeRechargeDialog(e);
cc.director.emit(b.RECHARGE_BANNER_CLICK);
}
y.clickEventHandler(this.kind, this.target, this.direction, this.browser, !0);
}
},
_closeRechargeDialog: function(e) {
var t = l.default.getSceneCanvas().getChildByName("RechargeDialog");
if (cc.isValid(t)) {
var i = t.getComponent("RechargeDialog");
cc.isValid(i) && i.hideRechargeDialogView(e);
}
},
initWithWXData: function(e, t) {
var i = this;
i.btnWrap && i.btnWrap.removeAllChildren();
var o = e.amount_type || 0, n = [], r = e.source_type;
i.showDefaultBannerSpriteAction(r);
if (e.banner) {
i.kind = e.banner.kind;
i.pic = e.banner.pic;
i.target = e.banner.target;
i.direction = e.banner.direction;
i.browser = e.banner.browser;
i.pic ? cc.loader.load(i.pic, function(e, t) {
if (null == e) {
var o = new cc.SpriteFrame(t);
o && i.banner ? i.banner.getComponent(cc.Sprite).spriteFrame = o : i.showDefaultBannerSpriteAction(r);
} else i.showDefaultBannerSpriteAction(r);
}) : i.showDefaultBannerSpriteAction(r);
} else i.showDefaultBannerSpriteAction(r);
var a = function(e, t, o, n, r) {
i.lbRechargeTxt && (i.lbRechargeTxt.string = n);
i.txtRecharge && (i.txtRecharge.placeholder = r);
i.txtRecharge && (i.txtRecharge.string = "");
i.payAmount = 0;
for (var a = 0; a < t.length; a++) {
var c = t[a];
s(e, a, 8, c);
}
i.amount_type = o;
i.btnWrap.y = 63;
1 == i.amount_type && (t.length <= 4 ? i.btnWrap.y = 40 : i.btnWrap.y = 80);
}, s = function(e, t, o, n) {
if (t < o) {
var r = cc.instantiate(i.btnItemPrefab);
r && r.getComponent("RechargePlusBtn") && r.getComponent("RechargePlusBtn").initData(n, e);
cc.isValid(i.btnWrap) && i.btnWrap.addChild(r);
}
}, l = {
min_amount: e.min_amount,
max_amount: e.max_amount
};
if (o && 1 == o) {
i.mask.active = !0;
i.clearBtn.node.active = !1;
i.tipsStr && (i.tipsStr.active = !1);
n = e.solid_amount.split(",");
c.default.stringFormat(h.recharge.place_holder, {
MinAmount: e.min_amount,
MaxAmount: e.max_amount
});
a(l, n, o, "充值金额", "不可输入，请点选充值金额");
} else {
i.mask.active = !1;
i.clearBtn.node.active = !0;
if (i.tipsStr) {
i.tipsStr.getComponent(cc.Label).string = "玩家常用充值金额";
i.tipsStr.active = !0;
}
a(l, n = e.recharge_amount.split(","), o, "充值金额", c.default.stringFormat(h.recharge.place_holder, {
MinAmount: e.min_amount,
MaxAmount: e.max_amount
}));
}
i.maxAmount = e.max_amount;
i.minAmount = e.min_amount;
i.webmode = t;
i.payType = e.source_type;
"1888" != e.source_type ? i.tmp_name = e.name : i.tmp_name = "";
isNaN(e.base) ? i.base = 1 : i.base = e.base;
0 == e.base ? i.txtRecharge.inputMode = 5 : i.txtRecharge.inputMode = 2;
i.lbBotTxt && (i.lbBotTxt.string = e.comment);
},
showDefaultBannerSpriteAction: function(e) {
cc.isValid(this.banner) && (this.banner.getComponent(cc.Sprite).spriteFrame = "1001" == e ? this.banner_type[0] || null : "1000" == e ? this.banner_type[1] || null : "88" == e ? this.banner_type[3] || null : "1002" == e ? this.banner_type[4] || null : "1013" == e ? this.banner_type[5] || null : "1012" == e ? this.banner_type[6] || null : this.banner_type[2] || null);
},
ToBuy: function() {
var e = this, t = e.payType, i = e.payAmount, l = e.maxAmount, u = e.minAmount;
e.webmode;
a.default.playEffect(s.default.common.btnMusic);
o.default.uid, o.default.token;
if (0 == i) {
r.default.createToast(h.recharge.txt_err2);
e.payAmount = 0;
} else if (0 != e.base && i % e.base != 0) r.default.createToast("请输入" + e.base + "的倍数"); else if (i - l > 0) {
e.payAmount = l;
e.txtRecharge && (e.txtRecharge.string = e.payAmount + "");
n.default.saveData("payAmount", e.payAmount);
var d = c.default.stringFormat(h.recharge.max_amount, {
MaxAmount: l
});
r.default.createToast(d);
} else if (i - u < 0) {
e.payAmount = u;
e.txtRecharge && (e.txtRecharge.string = e.payAmount + "");
n.default.saveData("payAmount", e.payAmount);
var f = c.default.stringFormat(h.recharge.min_amount, {
MinAmount: u
});
r.default.createToast(f);
} else {
if (e.buy_enable) {
e.buy_enable = !1;
e.schedule(function() {
e.buy_enable = !0;
}, 5, 0, 0);
e.loadingView.active = !0;
cc.director.emit("disable_pay_view_click");
e.onPayReady(t);
e.wait_sec = 5;
e.schedule(function() {
e.wait_sec -= 1;
}, 1, 4, 1);
} else e.wait_sec > 0 && r.default.createToast("手速太快了，请" + e.wait_sec + "秒后再试");
}
},
onPayReady: function(e) {
var t = this;
t.loadingText && (t.loadingText.string = "正在获取订单信息");
var i = {
type: e
};
u.default.getPayID(i, function(e) {
if (e) {
t.pay_name = t.tmp_name;
t.pay_id = e.pay_id;
t.onPaySubmit(e.pay_id);
}
}, function(e, i) {
r.default.createToast("网络连接中断，请检查手机网络");
t.loadingView.active = !1;
cc.director.emit("enable_pay_view_click");
});
},
onPaySubmit: function(e) {
var t = this, i = {
pay_amount: t.payAmount,
sdk_version: "android_v_1_1",
content: "",
native_version: l.default.variable.nativeVersion
};
t.loadingText.string = "正在发起支付请求";
u.default.getPayInfo(e, i, function(e) {
if (e) {
var i = e.charge_info, o = e.open_type;
if ("string" == typeof i && i.startsWith("alipays://")) cc.sys.isNative && l.default.variable.nativeVersion >= 2 ? g.openNativeAliBay(i) : r.default.createAlert("支付失败，请选择代理充值或前往官网下载最新版本。", "确定", function() {}); else {
t.canRequestPayStatus = !0;
if ("app_url" == o) g.openUrlByGameCity(i); else if ("sys_url" == o) g.openUrlByDefaultBrowser(i); else if ("qrcode" == o) p.showQrcodeAction(i, t.payType); else if ("sdk" == o) if (cc.sys.isNative && l.default.variable.nativeVersion >= 1) if (g.hasWeChat()) g.openUrlByWxMiniProgram(i); else {
t.canRequestPayStatus = !1;
l.default.variable.nativeVersion >= 11 ? r.default.createToast("手机未安装微信，请先安装微信") : r.default.createAlert("支付失败，请选择代理充值或前往官网下载最新版本。", "确定", function() {});
} else {
t.canRequestPayStatus = !1;
r.default.createAlert("支付失败，请选择代理充值或前往官网下载最新版本。", "确定", function() {});
}
}
}
t.loadingView.active = !1;
cc.director.emit("enable_pay_view_click");
cc.director.emit(b.REFRESH_PAY_UNREAD_MSG);
}, function(e) {
t.loadingView.active = !1;
t.canRequestPayStatus = !1;
cc.director.emit("enable_pay_view_click");
t.pay_id = "";
if (e) {
var i = e.status;
r.default.removeAlert();
if (130 == i || 2 == i) {
var o = e.msg;
r.default.createAlert(o, "确定", function() {});
} else r.default.createAlert("支付通道关闭，请选择其他充值方式。", "确定", function() {});
}
});
},
onPayStatus: function(e) {
var t = this;
t.loadingView.active = !0;
cc.director.emit("disable_pay_view_click");
t.loadingText.string = "正在获取支付结果";
n.default.savePayStatusIsRequest();
t.interPayStatus = setInterval(function() {
t._payStatusRetryTimes += 1;
if (t._payStatusRetryTimes <= 4) {
t.setInteractable(!1);
u.default.getPayStatus(e, function(e) {
if (e) {
var i = e.status;
if (2 == i) {
t.clearStatusInterval();
if (0 != n.default.readGameType()) {
var o = e.credit;
o && !isNaN(o) && cc.director.emit(b.refreshCoinByTopUp, o);
cc.director.emit("REFRESHLEVELPAY_RECHARGE", t.pay_name);
} else cc.director.emit("REFRESHLEVELPAY", t.pay_name);
t.pay_id = "";
t.tmp_name = "";
t.pay_name = "";
cc.director.emit("enable_pay_view_click");
t._payStatusRetryTimes = 0;
} else if (4 == i) t.clearStatusInterval(); else if (t._payStatusRetryTimes >= 4) {
var a = e.msg;
t.clearStatusInterval();
!a || a.length <= 4 ? 0 != n.default.readGameType() ? cc.director.emit("PAYFAILURE_RECHARGE") : cc.director.emit("PAYFAILURE") : r.default.createAlert(a, "确定", function() {});
}
}
}, function(e) {
if (-1 == e) {
if (t._payStatusRetryTimes >= 4) {
t.clearStatusInterval();
cc.director.emit("enable_pay_view_click");
cc.director.emit("PAYFAILURE");
}
} else {
t.clearStatusInterval();
cc.director.emit("enable_pay_view_click");
t.pay_id = "";
if (e && 130 == e.status) {
var i = e.msg;
r.default.createAlert(i, "确定", function() {});
}
}
});
}
}, 2500);
},
clearStatusInterval: function() {
clearInterval(this.interPayStatus);
this._payStatusRetryTimes = 0;
this.loadingView && (this.loadingView.active = !1);
n.default.clearPayStatusIsRequest();
this.setInteractable(!0);
},
paySuccess: function(e) {
var t = f.recharge.success.title, i = f.recharge.success.button_txt;
r.default.openPayResultDialog(e + t, i);
},
payFailure: function() {
var e = f.recharge.failure.title2, t = f.recharge.failure.button_txt;
r.default.openPayResultDialog(e, t);
},
setInteractable: function(e) {
1 == e ? cc.director.emit("enable_pay_view_click") : cc.director.emit("disable_pay_view_click");
}
});
cc._RF.pop();
}, {
"../../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../../../Script/BaseFormat": "BaseFormat",
"../../../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../../../Script/ProjectConfig": "ProjectConfig",
"../../../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"../../../../Script/UserManager": "UserManager",
"./../../../../Script/GameFramework/ApiMgr": "ApiMgr",
CommonEventName: "CommonEventName",
CommonFunction: "CommonFunction",
GameEngineUtil: "GameEngineUtil",
GamePayLanguage: "GamePayLanguage",
Language: "Language",
NewGameInfo: "NewGameInfo",
RechargePrefabMgr: "RechargePrefabMgr",
TopUpDataMgr: "TopUpDataMgr"
} ],
TopUpiOSItemView: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "16977z0IxpKxIavNpE5ydRV", "TopUpiOSItemView");
var o = a(e("../../../../Script/Audio/CommonAudioMgr")), n = a(e("../../../../Script/Audio/CommonAudio")), r = a(e("../../../../Script/UserManager"));
function a(e) {
return e && e.__esModule ? e : {
default: e
};
}
var s = e("GameEngineUtil");
cc.Class({
extends: cc.Component,
properties: {
titleLB: cc.Label,
btnLB: cc.Label,
btnRecharge: cc.Node
},
onLoad: function() {},
initData: function(e, t) {
var i = this;
i.titleLB && (i.titleLB.string = e + "金币");
i.btnLB && (i.btnLB.string = e + "元");
i.btnRecharge && i.btnRecharge.on("touchend", function() {
i.selectItem(e, t);
});
},
selectItem: function(e, t) {
o.default.playEffect(n.default.common.btnMusic);
var i = r.default.uid, a = r.default.token;
s.startBay(i, a, t, e, t);
}
});
cc._RF.pop();
}, {
"../../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../../../Script/UserManager": "UserManager",
GameEngineUtil: "GameEngineUtil"
} ],
TopUpiOSView: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "4da8411K01DS73yJ2MDcj+O", "TopUpiOSView");
var o = a(e("../../../../Script/UserManager")), n = a(e("../../../../Script/LocalStorage/LocalStorageUtil")), r = a(e("./../../../../Script/GameFramework/ApiMgr"));
function a(e) {
return e && e.__esModule ? e : {
default: e
};
}
var s = e("RechargePrefabMgr"), c = e("CommonEventName");
cc.Class({
extends: cc.Component,
properties: {
btnItemPrefab: cc.Prefab,
payAmount: {
default: 0,
visible: !1,
type: cc.Integer
},
webmode: {
default: 0,
visible: !1,
type: cc.Integer
},
btnWrap: cc.Node
},
onLoad: function() {
var e = this;
cc.director.on("REFRESHLEVEL", function(t) {
e.refreshCoin();
}, e);
},
refreshCoin: function() {
var e = o.default.exp;
r.default.getUserInfo({
user_id: o.default.uid
}, function(t) {
var i = t.exp;
null === n.default.readClickBox() && i > e && !o.default.is_formal && s.ToAlert_PaySuccess();
o.default.initUser(t);
cc.director.emit(c.refreshUserInfo);
});
},
initContentView: function(e) {},
initWithData: function(e, t) {
this.btnWrap && this.btnWrap.removeAllChildren();
var i = e.recharge_amount.split(",");
if (i && i.length > 0) {
for (var o = 0; o < i.length; o++) {
var n = cc.instantiate(this.btnItemPrefab);
n && n.getComponent("RechargeIositem") && n.getComponent("RechargeIositem").initData(i[o], t);
cc.isValid(this.btnWrap) && this.btnWrap.addChild(n);
}
if (this.btnWrap && this.btnWrap.getComponent(cc.Layout)) if (1 === i.length) {
this.btnWrap.getComponent(cc.Layout).type = 1;
this.btnWrap.setPosition(430, -275);
} else if (2 === i.length) {
this.btnWrap.getComponent(cc.Layout).type = 1;
this.btnWrap.setPosition(430, -275);
this.btnWrap.getComponent(cc.Layout).spacingX = 100;
} else if (3 === i.length) {
this.btnWrap.getComponent(cc.Layout).type = 1;
this.btnWrap.setPosition(460, -275);
this.btnWrap.getComponent(cc.Layout).spacingX = 30;
} else 4 === i.length || i.length;
}
}
});
cc._RF.pop();
}, {
"../../../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../../../Script/UserManager": "UserManager",
"./../../../../Script/GameFramework/ApiMgr": "ApiMgr",
CommonEventName: "CommonEventName",
RechargePrefabMgr: "RechargePrefabMgr"
} ],
TrackUtil: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "f1040Z8tOlNgJmFJXTwZQDf", "TrackUtil");
var o, n;
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var a = (n = o = function e() {
r(this, e);
}, o.openregistgiftevent = "cto9i3", o.guideregistdialogphonefoucschanged = "2kspqb", 
o.guideregistdialogphoneeditchanged = "obf15h", o.guideregistonclickvery = "gj2kuc", 
o.guideregisterveryinputchanged = "uqmjet", o.guideregistpasswordinputchanged = "w57c67", 
o.guideregistclaimbtnonclick = "ouc2ck", o.guideregistjumploginonclick = "rdne71", 
o.guideregistercloseclick = "fbf1b5", o.hallguideregistclick = "xayx4w", o.halluserframeclick = "z5n4n0", 
o.hallbeautfulgirlclicl = "vajz18", o.hallteenpattionclick = "tx6q1s", o.hallmoregamesonclick = "x2r2j3", 
o.hallmainrechargeonclick = "99kunb", o.halltworechargeonclick = "vvfnh4", o.hallwithdrawbtnonclick = "112wpb", 
o.hallcontactinfoonclick = "ju8yud", o.hallnoticeonclick = "xfqijd", o.hallmialonclick = "2f0q8w", 
o.openusercenterevent = "7qzynt", o.usercenterchangeuserimgbtnonclick = "876s7h", 
o.usercentersoundchange = "e89kyf", o.usercentermusicchange = "gq3wux", o.usercenternicknameeditchanged = "bn7cup", 
o.usercentercontactinfoonclick = "2s76gv", o.usercenterresetpasswordonclick = "o8w3cy", 
o.usercentersignoutbtnonclick = "7vplge", o.kycdialognameeditchanged = "mialxq", 
o.kycdialogemaileditchanged = "qi0ih6", o.kycdialogconfirmbtnonclick = "lm8sck", 
o.kycdialogclosebtnonclick = "jd7eor", o.resetpassworddialogverycodebtnclick = "dyquby", 
o.resetpassworddialogveryinputchanged = "nweqtg", o.resetpassworddialognewpasswordinputchanged = "qi8cty", 
o.resetpassworddialogconfirmbtnclick = "lm8sck", o.resetpassworddialogclosebtnclick = "lir60x", 
o.initlogingusetbtnclick = "dfin72", o.initloginloginbtnclick = "rkf5v4", o.initloginregistbtnclick = "f9merj", 
o.logindialogphoneinputchanged = "9denya", o.logindialogpasswordinputchanged = "22qo2u", 
o.logindialogconfirmbtnclick = "1khzyv", o.logindialogclosebtnclick = "h5zdnw", 
o.opencontactdialogevent = "4igacp", o.contactdialogwhatsappclick = "o3bbc4", o.contactdialogemailclick = "gbgg1x", 
o.contactdialogcoloseclick = "db3b6a", o.openwithdrawevents = "yf1rtr", o.withdrawmoneyeditchanged = "f4tt1z", 
o.withdrawmaxbtnclick = "ydbpfd", o.withdrawpaytmbtnclick = "a73281", o.withdrawdebitbtnclick = "llt8he", 
o.withdrawcashtabbtnclick = "ujg1bc", o.withdrawcashinfotabclick = "prahmu", o.withdrawbtnclick = "o8ohgh", 
o.withdrawrecordbtnclick = "t80uu8", o.withdrawclosebtnclick = "i8tj5n", o.withdrawpaytmphoneclick = "nqp0ay", 
o.withdrawpaytmlinkclick = "yagccc", o.withdrawdebitnnumbereditchanged = "nvlnu8", 
o.withdrawdebitnameeditchanged = "b3e4mn", o.withdrawdebitcodeeditchanged = "mnat4p", 
o.withdrawdebitlinkclick = "ltki2q", o.rechargewalletpaytmedit = "9t2wzz", o.rechargewalletpaytmaddonclick = "4p2d9l", 
o.rechargewalletphonebeedit = "ouk449", o.rechargewalletphonebeaddonclick = "qhgjii", 
o.rechargecreditcardeditchanged = "x3012s", o.rechargecreditcardaddonclick = "3dsjex", 
o.rechargedebiteditcardchanged = "mr8jx6", o.rechargedebitaddonclick = "2es4hv", 
o.rechargenetbankingeditchanged = "k4o1ba", o.rechargenetbankingaddoncick = "hjmr8x", 
o.rechargeupieditchanged = "t71jsv", o.rechargeupiaddonclick = "i6ks6b", o.rechargecloseonclick = "au4lih", 
o.rechargeopenevents = "58peaz", o.smallrechargeevent = "x3vjtb", o.middlerechargeevent = "lbb520", 
o.bigrechargeevent = "tcx9qt", o.teenpattiroomopenevent = "fbyryn", o.teenpatticlassicroomonclick = "5raolh", 
o.teenpattiproroomclick = "jx6ghk", o.teenpattihighroomclick = "71uv8r", o.teenpattiroomhelpclick = "k3k1jf", 
o.teenpattiroombackclick = "quybbl", o.teenpattigamebackclick = "44dbv3", o.teenpattigameroominfoclick = "kk2795", 
o.teenpattiannotationclick = "ll9ahg", o.teenpattidiscardcardsonclick = "8rapq5", 
o.teenpattifollowuponclick = "a3wmh3", o.teenpattisideshowbtnonclick = "xkg5wa", 
o.teenpattishowbtnclick = "yccmhm", o.teenpattiallinbtnclick = "2jxug4", o.bestfivegameenterclick = "iefu9r", 
o.bestfivegamechiponeclick = "m47a7y", o.bestfivegamechiptwoclcik = "7lmcc4", o.bestfivegamechipthreeclick = "j6ivs4", 
o.bestfivegamechipfourclick = "nu5udw", o.bestfivegamechipfiveclick = "20cgfb", 
o.bestfivegamechipsixclick = "1is11w", o.bestfivegameareaoneclick = "p3j5s6", o.bestfivegameareatwoclick = "vio5ry", 
o.bestfivegameareathreeclick = "1ivfjm", o.bestfivegameareafourclick = "bq2pfg", 
o.bestfivegametrendclick = "g61azm", o.bestfivegamehelpclick = "m9vqfh", n);
t.exports = a;
cc._RF.pop();
}, {} ],
TransferHistoryFrame: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "8929e+GKYNAxKw9qzob59EE", "TransferHistoryFrame");
var o = r(e("../../../../Script/Audio/CommonAudioMgr")), n = r(e("../../../../Script/Audio/CommonAudio"));
function r(e) {
return e && e.__esModule ? e : {
default: e
};
}
cc.Class({
extends: cc.Component,
properties: {
lbTxt: cc.Label,
btnDelete: cc.Node,
touchNode: cc.Node
},
onLoad: function() {},
deleteHistoryData: function(e, t) {
var i = this;
i.btnDelete && i.btnDelete.on("touchend", function() {
o.default.playEffect(n.default.common.btnMusic);
i.node.removeFromParent();
var r = {
index: e,
bType: t
};
cc.director.emit("DeleteHistoryData", r);
});
},
initData: function(e, t, i) {
this.btnDelete.active = "money" != i;
this.lbTxt && (this.lbTxt.string = e);
this.touchNode && this.touchNode.on("touchend", function() {
o.default.playEffect(n.default.common.btnMusic);
var t = {
bTpye: i,
Value: e
};
cc.director.emit("HistoryList", t);
});
this.deleteHistoryData(t, i);
}
});
cc._RF.pop();
}, {
"../../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr"
} ],
UISettingModel: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "f9db6bGQctEwI2WoY8SNi1D", "UISettingModel");
var o, n, r = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}(), a = c(e("../../Script/ProjectConfig")), s = c(e("../../Script/LocalStorage/LocalStorageUtil"));
function c(e) {
return e && e.__esModule ? e : {
default: e
};
}
function l(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var u = e("GameStatusModel"), d = e("BottomBarModel"), f = e("TopBarModel"), h = (n = o = function() {
function e() {
l(this, e);
}
r(e, null, [ {
key: "init",
value: function() {
this.gameListArr = [];
this.topBarListArr = [];
this.bottomBarListArr = [];
this.freshGuideGameIdArr = [];
this.customerInfo = [];
this.pay_config = [];
this.homepage = "";
this.forceGuideGameId = -1;
this.isShowBay = !1;
this.isShowJbdl = !1;
this.isShowRegisterGift = !1;
this.isShowAnniversary = !1;
this.isGuidance = !1;
this.isShowPromoter = !1;
this.isShowExchangeGuide = !1;
this.uiSwitch = {
ireview: !0,
user_center: !0,
broadcast: !1,
barrage: !1,
red_envelope: !1,
areview: !1,
safe_box: !1,
push: !1
};
this.payTips = "<color=#b79b70>付款成功后，</c><color=#e7341a=>1分钟内到账</c><color=#b79b70>。若遇网络延迟，请耐心等待3～10分钟。若</c> <color=#e7341a=>超过30分钟</c> <color=#b79b70>仍未到账。您可进行充值申诉</c>";
this.withdrawTips = "<color=#b79b70>兑换预计</c><color=#e7341a=>3～5分钟内到账</c><color=#b79b70>。若遇网络延迟，请耐心等待30～60分钟。若</c> <color=#e7341a=>超过8小时</c> <color=#b79b70>仍未到账。请联系在线客服</c>";
this.askTips = "<color=#b79b70>本平台提供</c><color=#e7341a=>公平游戏环境</c><color=#b79b70>，拒绝伙牌行为。若想咨询游戏其他问题，请联系在线客服</c>";
}
}, {
key: "parseDataWithUISetting",
value: function(e) {
if (e) {
this.init();
var t = e.layout;
if (null != t) {
for (var i = t.game_list || [], o = 0, n = i.length; o < n; o++) {
var r = i[o], c = new u(r, o);
this.gameListArr.push(c);
}
for (var l = t.top_bar || [], h = 0, p = l.length; h < p; h++) {
var g = l[h], m = new f(g, h);
this.topBarListArr.push(m);
"jbdl" == m.barName && (this.isShowJbdl = !0);
"register_gift" == m.barName && (this.isShowRegisterGift = !0);
"spring" == m.barName && (this.isShowAnniversary = !0);
"pyramid" == m.barName && (this.isShowPromoter = !0);
}
for (var y = t.bottom_bar || [], b = 0, _ = y.length; b < _; b++) {
var v = y[b], S = new d(v, b);
this.bottomBarListArr.push(S);
"bay" == S.barName && (this.isShowBay = !0);
}
}
for (var C = e.kg || [], w = 0, A = C.length; w < A; w++) {
var R = C[w], T = R.name || "", E = R.status || !1;
null != this.uiSwitch[T] && (this.uiSwitch[T] = E);
}
var M = e.force_guide || "", P = a.default.getGameIdWithGameName(M);
if (-1 != P) {
this.isGuidance = !0;
this.forceGuideGameId = P;
} else this.isGuidance = !1;
for (var k = e.fresh_guide || [], I = 0, N = k.length; I < N; I++) {
var B = k[I] || "", L = a.default.getGameIdWithGameName(B);
this.freshGuideGameIdArr.push(L);
}
var U = e.withdraw_guide;
!s.default.readExchangeGuide() && U && (this.isShowExchangeGuide = !0);
if (e.homepage && "" != e.homepage) {
this.homepage = e.homepage;
s.default.saveHomePage(this.homepage);
}
if (e.customer_info) {
this.customerInfo = e.customer_info;
this.pay_config = this.customerInfo.pay_config;
if (this.pay_config) {
var D = this.pay_config.pay_tips;
D && (this.payTips = D);
var F = this.pay_config.withdraw_tips;
F && (this.withdrawTips = F);
var O = this.pay_config.ask_tips;
O && (this.askTips = O);
var x = this.pay_config.appeal_link;
x && (this.appealLink = x);
}
} else this.customerInfo = null;
if (e.safebox_cd && "" != e.safebox_cd) {
var G = e.safebox_cd;
s.default.saveSafeBoxCd(G);
}
}
}
}, {
key: "updateGameStatusWithSocket",
value: function(e) {
"ireview" == e ? this.uiSwitch.ireview = !0 : "areview" == e ? this.uiSwitch.areview = !0 : "broadcast" == e ? this.uiSwitch.broadcast = !0 : "red_envelope" == e ? this.uiSwitch.red_envelope = !0 : "safe_box" == e ? this.uiSwitch.safe_box = !0 : "barrage" == e ? this.uiSwitch.barrage = !0 : "user_center" == e ? this.uiSwitch.user_center = !0 : "lottery" == e ? this.updateTopBarData(e) : "register_gift" == e ? this.updateTopBarData(e) : "announcement" == e ? this.updateTopBarData(e) : "slot" == e ? this.updateTopBarData(e) : "custom_service" == e ? this.updateBottomBarData(e) : "mail" == e ? this.updateBottomBarData(e) : "exchange" == e ? this.updateBottomBarData(e) : "safe_box" == e ? this.updateBottomBarData(e) : "bay" == e ? this.updateBottomBarData(e) : "ddz" == e ? this.updateGameListData(e) : "zjh" == e ? this.updateGameListData(e) : "bull" == e ? this.updateGameListData(e) : "blood_bull" == e && this.updateGameListData(e);
}
}, {
key: "updateTopBarData",
value: function(e) {
for (var t = !1, i = 0, o = this.topBarListArr.length; i < o; i++) {
if (this.topBarListArr[i].barName == e) {
t = !0;
break;
}
}
if (!t) {
var n = new f({
name: e
}, 0);
this.topBarListArr.push(n);
"jbdl" == e && (this.isShowJbdl = !0);
"register_gift" == e && (this.isShowRegisterGift = !0);
}
}
}, {
key: "updateBottomBarData",
value: function(e) {
for (var t = !1, i = 0, o = this.bottomBarListArr.length; i < o; i++) {
if (this.bottomBarListArr[i].barName == e) {
t = !0;
break;
}
}
if (!t) {
var n = new f({
name: e
}, 0);
this.bottomBarListArr.push(n);
"bay" == e && (this.isShowBay = !0);
}
}
}, {
key: "updateGameListData",
value: function(e) {
for (var t = !1, i = 0, o = this.gameListArr.length; i < o; i++) {
if (this.gameListArr[i].gameName == e) {
t = !0;
break;
}
}
if (!t) {
var n = new u({
name: e
}, 0);
this.gameListArr.push(n);
}
}
} ]);
return e;
}(), o.gameListArr = [], o.topBarListArr = [], o.bottomBarListArr = [], o.homepage = "", 
o.customerInfo = null, o.pay_config = null, o.forceGuideGameId = -1, o.freshGuideGameIdArr = [], 
o.uiSwitch = {
ireview: !0,
user_center: !0,
broadcast: !1,
barrage: !1,
red_envelope: !1,
areview: !1,
safe_box: !1,
push: !1
}, o.isShowBay = !1, o.isShowJbdl = !1, o.isShowRegisterGift = !0, o.isShowAnniversary = !1, 
o.isGuidance = !1, o.isShowPromoter = !1, o.isShowExchangeGuide = !1, o.appealLink = "", 
o.payTips = "", o.withdrawTips = "", o.askTips = "", o.ishappyaceskin = !0, o.rednoticepoint = !1, 
o.redmailpoint = !1, n);
t.exports = h;
cc._RF.pop();
}, {
"../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../Script/ProjectConfig": "ProjectConfig",
BottomBarModel: "BottomBarModel",
GameStatusModel: "GameStatusModel",
TopBarModel: "TopBarModel"
} ],
UrlMessageModel: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "539bfK+5qFCbY8Nbwegqu47", "UrlMessageModel");
var o, n;
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var a = (n = o = function e(t, i) {
r(this, e);
if (i) {
var o = t.o_msg, n = t.m_type;
this.msg_type = n;
if (o) {
this.text = o.text || "";
this.time = o.time || 0;
o.fromuserinfo && (this.sendUid = o.fromuserinfo.uid || 0);
null != o.touserinfo && (this.receiveUid = o.touserinfo.uid || 0);
}
} else {
this.msg_type = t.type || 6;
this.text = t.text || 0;
this.time = t.time || 0;
null != t.fromuserinfo && (this.sendUid = t.fromuserinfo.uid || 0);
null != t.touserinfo && (this.receiveUid = t.touserinfo.uid || 0);
}
}, o.msg_type = 6, o.text = 0, o.time = 0, o.sendUid = 0, o.receiveUid = 0, n);
t.exports = a;
cc._RF.pop();
}, {} ],
UrlMessage: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "553a2eZyKFN3oBJgl7yUpPL", "UrlMessage");
var o = e("GameEngineUtil");
cc.Class({
extends: cc.Component,
properties: {
contentText: cc.RichText,
_urlStr: ""
},
init: function(e) {
if (this.contentText && e.text) {
this.contentText.string = "<u>" + e.text + "</u>";
this._urlStr = e.text;
}
},
clickUrlAction: function() {
o.copyText(this._urlStr);
o.openUrlByDefaultBrowser(this._urlStr);
}
});
cc._RF.pop();
}, {
GameEngineUtil: "GameEngineUtil"
} ],
UserCenterContactDialog: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "86539gf/9JGU6gCGtyrW669", "UserCenterContactDialog");
r(e("../../Script/UserManager"));
var o = r(e("../../Script/Audio/CommonAudioMgr")), n = r(e("../../Script/Audio/CommonAudio"));
r(e("../../Script/LocalStorage/LocalStorageUtil")), r(e("../../Script/UI/CommonPrefabMgr")), 
r(e("./../../Script/GameFramework/ApiMgr"));
function r(e) {
return e && e.__esModule ? e : {
default: e
};
}
e("Language"), e("CommonEventName"), e("TopUpUIMgr");
var a = e("GameEngineUtil"), s = e("TrackUtil");
cc.Class({
extends: cc.Component,
properties: {
phone: cc.Node,
email: cc.Node
},
init: function(e) {
this.modeldata = e;
},
onLoad: function() {
a.trackEvent(s.opencontactdialogevent);
this.refreshviewshow();
},
refreshviewshow: function() {
if (this.modeldata) {
cc.isValid(this.phone) && (this.phone.getComponent(cc.Label).string = this.modeldata.whatsapp.phone);
cc.isValid(this.email) && (this.email.getComponent(cc.Label).string = this.modeldata.email.address);
}
},
dismiss: function() {
a.trackEvent(s.contactdialogcoloseclick);
o.default.playEffect(n.default.common.btnMusic);
if (this.node.getComponent("CommonDialog")) this.node.getComponent("CommonDialog").dismiss(); else {
this.node.active = !1;
this.node.removeFromParent();
}
},
whatsAppOnclick: function() {
a.trackEvent(s.contactdialogwhatsappclick);
},
emailOnclick: function() {
a.trackEvent(s.contactdialogemailclick);
}
});
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"../../Script/UserManager": "UserManager",
"./../../Script/GameFramework/ApiMgr": "ApiMgr",
CommonEventName: "CommonEventName",
GameEngineUtil: "GameEngineUtil",
Language: "Language",
TopUpUIMgr: "TopUpUIMgr",
TrackUtil: "TrackUtil"
} ],
UserCenterKycDialog: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "1c9ddtDbaNC4ql0t5UQLasG", "UserCenterKycDialog");
var o = c(e("../../Script/UserManager")), n = c(e("../../Script/Audio/CommonAudioMgr")), r = c(e("../../Script/Audio/CommonAudio")), a = (c(e("../../Script/LocalStorage/LocalStorageUtil")), 
c(e("../../Script/UI/CommonPrefabMgr"))), s = c(e("./../../Script/GameFramework/ApiMgr"));
function c(e) {
return e && e.__esModule ? e : {
default: e
};
}
e("Language");
var l = e("CommonEventName"), u = e("TopUpUIMgr"), d = e("FormatCheckUtil"), f = e("TrackUtil"), h = e("GameEngineUtil");
cc.Class({
extends: cc.Component,
properties: {
editphone: cc.Label,
editname: cc.EditBox,
editemailid: cc.EditBox,
nameeditChanged: !0,
emaileditChanged: !0
},
init: function(e) {
this.type = e;
this.type || (this.type = 0);
},
onLoad: function() {
o.default.phone && (this.editphone.string = o.default.phone);
o.default.kfcname && (this.editname.string = o.default.kfcname);
o.default.kfcemail && (this.editemailid.string = o.default.kfcemail);
},
submitInfo: function() {
var e = this, t = e.editname.string, i = e.editemailid.string;
h.trackEvent(f.kycdialogconfirmbtnonclick);
if (!t || t.length <= 0) a.default.createToast("Please enter your name"); else if (d.checkMail(i)) {
var o = {
name: t,
email: i
};
0 == e.type ? s.default.changeUserInfo(o, function(t) {
cc.director.emit(l.refreshUserInfo);
e.closeDialog();
}, function(e) {
e && e.msg && a.default.createToast(e.msg);
}) : 1 == e.type && s.default.changeUserInfo(o, function(t) {
e.closeDialog();
u.showGameTopUpView();
}, function(e) {
e && e.msg && a.default.createToast(e.msg);
});
}
},
closeDialog: function() {
n.default.playEffect(r.default.common.btnMusic);
if (this.node.getComponent("CommonDialog")) this.node.getComponent("CommonDialog").dismiss(); else {
this.node.active = !1;
this.node.removeFromParent();
}
},
dismiss: function() {
h.trackEvent(f.kycdialogclosebtnonclick);
this.closeDialog();
},
nameeditchanged: function() {
if (this.nameeditChanged) {
this.nameeditChanged = !1;
h.trackEvent(f.kycdialognameeditchanged);
}
},
emaileditchanged: function() {
if (this.emaileditChanged) {
this.emaileditChanged = !1;
h.trackEvent(f.kycdialogemaileditchanged);
}
}
});
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"../../Script/UserManager": "UserManager",
"./../../Script/GameFramework/ApiMgr": "ApiMgr",
CommonEventName: "CommonEventName",
FormatCheckUtil: "FormatCheckUtil",
GameEngineUtil: "GameEngineUtil",
Language: "Language",
TopUpUIMgr: "TopUpUIMgr",
TrackUtil: "TrackUtil"
} ],
UserCenterPrefabMgr: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "7c7579IOOJKxpde0SJl9lGW", "UserCenterPrefabMgr");
var o, n, r = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}(), a = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("../../Script/ProjectConfig"));
function s(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var c = (n = o = function() {
function e() {
s(this, e);
}
r(e, null, [ {
key: "userCenterSelectAvatar",
value: function() {
cc.loader.loadRes(this.UserCenterPrefabPath.SelectAvatar, function(e, t) {
if (t) {
var i = cc.instantiate(t);
if (i) {
var o = cc.director.getScene().getChildByName("Canvas");
cc.isValid(o) && o.addChild(i, a.default.layerZOrder.Dialog);
}
}
});
}
}, {
key: "editKycInfo",
value: function(e) {
cc.loader.loadRes(this.UserCenterPrefabPath.kycdialog, function(t, i) {
if (i) {
var o = cc.instantiate(i);
if (o) {
o.getComponent("UserCenterKycDialog").init(e);
var n = cc.director.getScene().getChildByName("Canvas");
cc.isValid(n) && n.addChild(o, a.default.layerZOrder.Dialog);
}
}
});
}
} ]);
return e;
}(), o.UserCenterPrefabPath = {
SelectAvatar: a.default.variable.curSkin + "/common/prefab/userCenter/UserCenterSelectAvatar",
kycdialog: a.default.variable.curSkin + "/common/prefab/userCenter/UserCenterKycDialog"
}, n);
t.exports = c;
cc._RF.pop();
}, {
"../../Script/ProjectConfig": "ProjectConfig"
} ],
UserCenterSelectAvatarItem: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "beb1a2+6jREkKdFLLNRWufg", "UserCenterSelectAvatarItem");
(function(e) {
e && e.__esModule;
})(e("../../Script/UserManager"));
var o = e("CommonFunction");
cc.Class({
extends: cc.Component,
properties: {
avatar: cc.Sprite,
borderNode: cc.Node,
borderImg: {
default: [],
type: cc.SpriteFrame
}
},
onLoad: function() {},
initWithData: function(e) {
var t = this;
e && cc.loader.load(e, function(e, i) {
if (!e) {
var o = new cc.SpriteFrame(i);
t.avatar && t.avatar.getComponent(cc.Sprite) && (t.avatar.getComponent(cc.Sprite).spriteFrame = o);
}
});
},
initWithLocalData: function(e, t) {
if (e) {
var i = o.getAvatarFromAtlas(e, t);
i && this.avatar && this.avatar.getComponent(cc.Sprite) && (this.avatar.getComponent(cc.Sprite).spriteFrame = i);
}
},
setItemNormal: function() {
this.borderNode && (this.borderNode.active = !1);
},
setItemSelect: function() {
this.borderNode && this.borderNode.getComponent(cc.Sprite) && (this.borderNode.active = !0);
}
});
cc._RF.pop();
}, {
"../../Script/UserManager": "UserManager",
CommonFunction: "CommonFunction"
} ],
UserCenterSelectAvatar: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "d58bbSNNhVK3741q7Tq4mVW", "UserCenterSelectAvatar");
var o = c(e("../../Script/UserManager")), n = c(e("../../Script/Audio/CommonAudioMgr")), r = c(e("../../Script/Audio/CommonAudio")), a = (c(e("../../Script/LocalStorage/LocalStorageUtil")), 
c(e("../../Script/UI/CommonPrefabMgr"))), s = c(e("./../../Script/GameFramework/ApiMgr"));
function c(e) {
return e && e.__esModule ? e : {
default: e
};
}
var l = e("Language"), u = e("CommonEventName");
cc.Class({
extends: cc.Component,
properties: {
selectWrap: cc.Node,
selectItem: cc.Prefab,
mainScrollView: cc.ScrollView,
checkIndex: 0,
AvatarArr: []
},
onLoad: function() {
this.getAvatar();
},
getAvatar: function() {
this.AvatarArr = [ "head_boy1", "head_boy2", "head_boy3", "head_boy4", "head_boy5", "head_boy6", "head_boy7", "head_boy8", "head_girl1", "head_girl2", "head_girl3", "head_girl4", "head_girl5", "head_girl6", "head_girl7", "head_girl8" ];
1 == o.default.gender ? this.checkIndex = 0 : this.checkIndex = 4;
this.init(this.AvatarArr);
},
init: function(e) {
var t = this;
t.selectWrap && t.selectWrap.removeAllChildren();
if (e && e.length) {
for (var i = function(i) {
var a = cc.instantiate(t.selectItem), s = a.getComponent("UserCenterSelectAvatarItem");
if (s) {
s.initWithLocalData(e[i], o.default.gender);
a && a.on("click", function(e) {
t.clickItem(i);
n.default.playEffect(r.default.common.btnMusic);
});
cc.isValid(t.selectWrap) && t.selectWrap.addChild(a);
e[i] == o.default.avatar && (t.checkIndex = i);
}
}, a = 0; a < e.length; a++) i(a);
t.clickItem(this.checkIndex);
var s = t.selectWrap.children;
s && s[this.checkIndex] && s[this.checkIndex].getComponent("UserCenterSelectAvatarItem") && s[this.checkIndex].getComponent("UserCenterSelectAvatarItem").setItemSelect();
cc.isValid(t.mainScrollView) && t.mainScrollView.scrollToTop(0);
}
},
clickItem: function(e) {
var t = this.selectWrap.children;
if (t) {
t[this.checkIndex] && t[this.checkIndex].getComponent("UserCenterSelectAvatarItem") && t[this.checkIndex].getComponent("UserCenterSelectAvatarItem").setItemNormal();
t[e] && t[e].getComponent("UserCenterSelectAvatarItem") && t[e].getComponent("UserCenterSelectAvatarItem").setItemSelect();
}
this.checkIndex = e;
o.default.avatarSelectUrl = this.AvatarArr[e];
},
dismiss: function() {
n.default.playEffect(r.default.common.btnMusic);
if (this.node.getComponent("CommonDialog")) this.node.getComponent("CommonDialog").dismiss(); else {
this.node.active = !1;
this.node.removeFromParent();
}
if (o.default.avatar != o.default.avatarSelectUrl) {
var e = {
avatar: o.default.avatarSelectUrl || ""
};
s.default.changeUserInfo(e, function(e) {
a.default.createToast(l.hall.hall4);
o.default.avatar = o.default.avatarSelectUrl;
cc.director.emit(u.APPLY_LOCAL_USER_INFO);
}, function() {
a.default.createToast(l.hall.hall6);
});
}
}
});
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"../../Script/UserManager": "UserManager",
"./../../Script/GameFramework/ApiMgr": "ApiMgr",
CommonEventName: "CommonEventName",
Language: "Language"
} ],
UserCenter: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "ec783YmpTVLuraeCpumATRU", "UserCenter");
var o = d(e("../../Script/UI/CommonPrefabMgr")), n = d(e("../../Script/Audio/CommonAudioMgr")), r = d(e("../../Script/Audio/CommonAudio")), a = d(e("../../Script/UserManager")), s = d(e("../../Script/LocalStorage/LocalStorageUtil")), c = d(e("../../Script/ProjectConfig")), l = d(e("../../Script/BaseFormat")), u = d(e("./../../Script/GameFramework/ApiMgr"));
function d(e) {
return e && e.__esModule ? e : {
default: e
};
}
var f = e("CommonEventName"), h = e("CommonFunction"), p = e("Language"), g = e("FormatCheckUtil"), m = e("LoginPrefabManager"), y = e("UserCenterPrefabMgr"), b = e("CommonLanguage"), _ = e("GameEngineUtil"), v = e("TrackUtil");
cc.Class({
extends: cc.Component,
properties: {
mask: cc.Node,
frame: cc.Node,
body: cc.Node,
userAvatar: cc.Node,
userGold: cc.Label,
userID: cc.Label,
userTicket: cc.Label,
userNickName: cc.EditBox,
userTx: cc.Label,
btnSendData: cc.Button,
userVipGuest: {
default: [],
type: cc.Node
},
loginAccountNum: cc.Node,
uc_gg_checkmark: cc.Node,
uc_mm_checkmark: cc.Node,
saveBox: cc.Label,
_user_name_txt: "",
_bio_txt: "",
_checkmark: -1,
_needAutoUpdateUserInfo: !1
},
onLoad: function() {
this.initProfileUI();
cc.director.on(f.APPLY_LOCAL_USER_INFO, this.initProfileUI, this);
this.requestServerAvatarList();
this.node.getComponent("Setting") && this.node.getComponent("Setting").setPlayBgmCallBack(function() {
cc.director.emit(f.EVENT_PLAY_HALL_BGM);
});
this.showAccountInfo();
},
showAccountInfo: function() {
var e = s.default.getLastLoginAccount(), t = a.default.phone;
if (t) {
if (cc.isValid(this.loginAccountNum)) {
this.loginAccountNum.active = !0;
this.loginAccountNum.getComponent(cc.Label).string = "Current Account:" + t;
}
} else if (e) {
if (cc.isValid(this.loginAccountNum)) {
this.loginAccountNum.active = !0;
this.loginAccountNum.getComponent(cc.Label).string = "Current Account:" + e;
}
} else cc.isValid(this.loginAccountNum) && (this.loginAccountNum.active = !1);
},
refreshUserInfo: function() {
var e = this;
u.default.refreshUserInfo(function(e) {
a.default.initUser(e);
cc.director.emit(f.APPLY_LOCAL_USER_INFO);
}, function(t) {
e.onUserInfoRefreshFailed();
});
},
requestServerAvatarList: function() {},
initProfileUI: function() {
this._needAutoUpdateUserInfo = !1;
var e = "" + a.default.uid || "";
this.userID && (this.userID.string = e);
this.userGold && (this.userGold.string = b.currentlanguage.goldshow.one.format(l.default.foramtGold(a.default.coin)));
this.userTicket && (this.userTicket.string = a.default.ticket);
this.userNickName && (this.userNickName.string = a.default.nick);
this.userTx && (this.userTx.string = a.default.level_name);
this.currentNickName = a.default.nick;
this.currentSign = a.default.bio;
if (cc.isValid(this.uc_gg_checkmark) && cc.isValid(this.uc_mm_checkmark)) if (0 == a.default.gender) {
this.uc_gg_checkmark.opacity = 0;
this.uc_mm_checkmark.opacity = 255;
} else if (1 == a.default.gender) {
this.uc_gg_checkmark.opacity = 255;
this.uc_mm_checkmark.opacity = 0;
}
this.updateLocalAvatar();
this._needAutoUpdateUserInfo = !0;
},
updateLocalAvatar: function() {
var e = h.getAvatarFromAtlas(a.default.avatar, a.default.gender);
e && this.userAvatar && this.userAvatar.getComponent(cc.Sprite) && (this.userAvatar.getComponent(cc.Sprite).spriteFrame = e);
},
onUserInfoRefreshFailed: function(e) {},
refreshGuestInfo: function() {
for (var e = 0, t = this.userVipGuest.length; e < t; e++) {
var i = this.userVipGuest[e];
0 == e && (i.active = !a.default.is_formal);
1 == e && (i.active = a.default.is_formal);
}
},
onNickNameChanged: function() {
if (this._needAutoUpdateUserInfo) {
_.trackEvent(v.usercenternicknameeditchanged);
this.updateNickName();
}
},
updateNickName: function() {
var e = void 0;
if ("" == (e = this.userNickName ? this.userNickName.string : "")) o.default.createToast(b.currentlanguage.usercenter.emailerror); else if (e.indexOf(" ") >= 0) o.default.createToast(b.currentlanguage.usercenter.nicknameerror1); else if (g.checkNameLengh(e, 20)) {
if (this.currentNickName == e) return;
this.currentNickName = this.userNickName.string;
this.changeUserInfo("user_name", this.userNickName.string);
} else o.default.createToast(b.currentlanguage.usercenter.nicknameerror2);
},
onGenderSwitchChanged: function(e, t) {
n.default.playEffect(r.default.common.btnMusic);
if (this._needAutoUpdateUserInfo) if ("gg" == t) {
if (1 == this._checkmark) return;
if (cc.isValid(this.uc_gg_checkmark) && cc.isValid(this.uc_mm_checkmark)) {
this.uc_gg_checkmark.opacity = 255;
this.uc_mm_checkmark.opacity = 0;
}
a.default.gender = 1;
this.updateGender(1);
this._checkmark = 1;
} else {
if (0 == this._checkmark) return;
if (cc.isValid(this.uc_gg_checkmark) && cc.isValid(this.uc_mm_checkmark)) {
this.uc_gg_checkmark.opacity = 0;
this.uc_mm_checkmark.opacity = 255;
}
a.default.gender = 0;
this.updateGender(0);
this._checkmark = 0;
}
},
onSubmitButtonClick: function() {},
formalUser: function() {
o.default.createFormalUser();
},
showUserCenterDialogView: function() {
var e = this;
_.trackEvent(v.openusercenterevent);
var t = cc.callFunc(function() {
if (cc.isValid(e.body)) {
e.body.active = !0;
e.showAccountInfo();
e.body.runAction(cc.sequence(cc.delayTime(.01), cc.fadeIn(.2)));
}
});
if (cc.isValid(e.node)) {
e.node.setPosition(0, 0);
e.node.opacity = 0;
e.node.scale = 0;
e.mask.width = cc.winSize.width;
e.mask.height = cc.winSize.height;
e.node.active = !0;
e.node.runAction(cc.sequence(cc.spawn(cc.fadeIn(.15), cc.scaleTo(.15, 1.1)), cc.scaleTo(.15, 1), t)).easing(cc.easeSineOut());
}
},
hideUserCenterDialogView: function() {
var e = this;
n.default.playEffect(r.default.common.btnMusic);
cc.isValid(e.node) && e.node.runAction(cc.sequence(cc.scaleTo(.08, 1.1), cc.spawn(cc.fadeOut(.1), cc.scaleTo(.1, 0)), cc.callFunc(function() {
if (cc.isValid(e.node)) {
e.node.active = !1;
e.body.active = !1;
e.body.opacity = 0;
e.node.stopAllActions();
e.userNickName.string || (e.userNickName.string = e.currentNickName);
}
}, e.node))).easing(cc.easeIn(3));
cc.director.emit("REFRESH_USER_AVATAR");
},
showNoticeDialog: function() {},
dismiss: function() {},
modifyAvatar: function() {
_.trackEvent(v.usercenterchangeuserimgbtnonclick);
n.default.playEffect(r.default.common.btnMusic);
y.userCenterSelectAvatar();
},
updateGender: function(e) {
this.changeUserInfo("gender", e, !0);
o.default.createToast(p.hall.hall4);
var t = s.default.readData("SelectAvatar");
this.AvatarInfo = JSON.parse(t);
if (this.AvatarInfo) {
var i = this.AvatarInfo.boy, n = this.AvatarInfo.girl;
if (i && n) {
var r = i[0] || "", c = {
avatar: (r = 1 == e ? i[0] || "" : n[0] || "") || ""
};
u.default.changeUserInfo(c, function(e) {
a.default.avatar = r;
});
}
}
var l = h.getAvatarFromAtlas(null, e);
l && this.userAvatar && this.userAvatar.getComponent(cc.Sprite) && (this.userAvatar.getComponent(cc.Sprite).spriteFrame = l);
},
ModifyPwd: function(e) {
c.default.clickManager(e.target);
n.default.playEffect(r.default.common.btnMusic);
_.trackEvent(v.usercenterresetpasswordonclick);
a.default.is_formal && m.createFindPassword(!1);
},
clickSettingAction: function() {},
clickCopyBtn: function() {
n.default.playEffect(r.default.common.btnMusic);
_.copyText(this.userID.string);
o.default.createToast("ID复制成功 ");
},
changeUserInfo: function(e, t, i) {
var n = {};
n[e] = t;
u.default.changeUserInfo(n, function(e) {
i || cc.director.emit(f.refreshUserInfo);
o.default.createToast(p.hall.hall4);
}, function() {
o.default.createToast(p.hall.hall6);
});
},
clickEditKycInfo: function() {
_.trackEvent(v.usercentercontactinfoonclick);
y.editKycInfo(0);
},
jumpToPrivacyPolicy: function() {
_.openUrlByDefaultBrowser("http://www.happyacerummy.win/privacypolicy.html");
},
jumpToTermsofServices: function() {
_.openUrlByDefaultBrowser("http://www.happyacerummy.win/terms.html");
},
onDestroy: function() {}
});
cc._RF.pop();
}, {
"../../Script/Audio/CommonAudio": "CommonAudio",
"../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../Script/BaseFormat": "BaseFormat",
"../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../Script/ProjectConfig": "ProjectConfig",
"../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"../../Script/UserManager": "UserManager",
"./../../Script/GameFramework/ApiMgr": "ApiMgr",
CommonEventName: "CommonEventName",
CommonFunction: "CommonFunction",
CommonLanguage: "CommonLanguage",
FormatCheckUtil: "FormatCheckUtil",
GameEngineUtil: "GameEngineUtil",
Language: "Language",
LoginPrefabManager: "LoginPrefabManager",
TrackUtil: "TrackUtil",
UserCenterPrefabMgr: "UserCenterPrefabMgr"
} ],
UserInfo: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "3c61bBMSmhCrZeYD52+7ErL", "UserInfo");
var o = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("../../Script/BaseFormat"));
cc.Class({
extends: cc.Component,
properties: {
usernameLabel: cc.Label,
coinLabel: cc.Label
},
notifyUsername: function(e) {
this.usernameLabel.string = e || "";
},
notifyCoin: function(e) {
this.coinLabel.string = o.default.formatAmount(e) || 0;
},
notifyCoinWithNoFormat: function(e) {
this.coinLabel.string = e + "";
}
});
cc._RF.pop();
}, {
"../../Script/BaseFormat": "BaseFormat"
} ],
UserManager: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "211e5E1F6ZMR4gYE3vIUI9a", "UserManager");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = e("../Script/LocalStorage/LocalStorageUtil"), n = e("GameEngineUtil"), r = e("CommonEventName"), a = e("NamingServiceMgr"), s = e("../Script/ProjectConfig"), c = e("./Socket/FastPlayMgr"), l = e("TrackUtil"), u = e("../Script/UI/CommonPrefabMgr"), d = function() {
function e() {}
e.initUser = function(e) {
this.nick = e.userName;
this.bio = e.bio;
this.gender = e.gender;
this.avatar = e.avatar;
this.vip = e.level;
this.coin = e.gold;
this.gem = e.balance;
this.exp = e.exp;
this.ticket = 0;
this.phone = e.phone;
this.level_name = e.levelName;
0 == e.isFormal ? this.is_formal = !1 : 1 == e.isFormal && (this.is_formal = !0);
this.safe_box = e.safeBox;
this.amount = this.coin + this.safe_box;
this.location = e.location;
this.kfcname = e.name;
this.kfcemail = e.email;
};
e.initAccount = function() {
var e = o.default.readUserID(), t = o.default.readUserToken();
this.uid = e;
this.token = t;
};
e.clearAccount = function() {
this.uid = "";
this.token = "";
};
e.addCoinCount = function(e) {
this.coin += parseFloat(e);
cc.director.emit(r.refreshUserInfo);
this.amount = this.coin + this.safe_box;
return this.coin;
};
e.exitLogin = function(e) {
this.clearUserLoginData();
e ? e() : c.default._startGame(s.default.GAME_TYPE.LOGIN);
};
e.isEditKyc = function() {
return !!(this.kfcname && this.kfcname.length > 0 && this.kfcemail && this.kfcemail.length > 0);
};
e.trackRechargeCounts = function(e) {
void 0 != e && e.size > 0 && e.forEach(function(e, t) {
cc.log(t + " = " + e);
if (void 0 != e && void 0 != t && e) try {
var i = parseInt(e);
if (i > 0) for (var o = 0; o < i; o++) if ("1" == t) {
cc.log("TrackUtil.smallrechargeevent");
n.trackEvent(l.smallrechargeevent);
} else if ("2" == t) {
cc.log("TrackUtil.middlerechargeevent");
n.trackEvent(l.middlerechargeevent);
} else if ("3" == t) {
cc.log("TrackUtil.bigrechargeevent");
n.trackEvent(l.bigrechargeevent);
}
} catch (e) {}
});
};
e.showPopupWindow = function(e) {
void 0 != e && (1 == e.type || e.text && u.default.createToast(e.text));
};
e.clearUserLoginData = function() {
var e = "youke_" + new Date().toLocaleDateString(), t = o.default.readData(e);
this.clearAccount();
o.default.clearUserLoginData();
o.default.clearData("WithDrawDtypes");
o.default.clearData("GameSafeBoxPwd");
o.default.clearNoticeIds();
a.closeNamingService();
o.default.clearRegisterForGifts();
s.default.isShowGifts = !0;
t && o.default.saveData(e, "show");
s.default.variable.exitStatus = !0;
};
e.uid = "0";
e.token = "";
e.nick = "";
e.bio = "";
e.gender = 0;
e.avatar = "";
e.vip = 0;
e.coin = 0;
e.gem = 0;
e.ticket = 0;
e.phone = "";
e.level_name = "";
e.exp = 0;
e.is_formal = !1;
e.chat_timeStamp = 0;
e.kefu_uid = -1;
e.safe_box = 0;
e.amount = 0;
e.location = "";
e.kfcname = "";
e.kfcemail = "";
e.bankcode = "";
return e;
}();
i.default = d;
cc._RF.pop();
}, {
"../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../Script/ProjectConfig": "ProjectConfig",
"../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"./Socket/FastPlayMgr": "FastPlayMgr",
CommonEventName: "CommonEventName",
GameEngineUtil: "GameEngineUtil",
NamingServiceMgr: "NamingServiceMgr",
TrackUtil: "TrackUtil"
} ],
Utility: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "0d0e2vCfe1N3bBSsaaVWm/i", "Utility");
Object.defineProperty(i, "__esModule", {
value: !0
});
var o = e("./../BaseFormat"), n = function() {
function e() {}
e.labelNumRoll = function(e, t, i, n, r, a, s) {
void 0 === r && (r = !1);
void 0 === a && (a = null);
void 0 === s && (s = null);
var c = Math.abs(i - t) < 20 ? Math.abs(i - t) : 20, l = (i - t) / c, u = r && l > 0 ? "+" : "";
cc.isValid(e) && e.node.stopAllActions();
for (var d = function(i) {
cc.isValid(e) && e.node.runAction(cc.sequence(cc.delayTime(i / c * n), cc.callFunc(function() {
var n = u + o.default.formatAmount(t + l * i);
a && (n = a.replace("%d", n));
cc.isValid(e) && (e.string = "₹ " + n);
i == c && s && s();
})));
}, f = 1; f <= c; f++) d(f);
};
e.stringFormat = function(e) {
for (var t = [], i = 1; i < arguments.length; i++) t[i - 1] = arguments[i];
if (null == e) {
console.error("format == null");
return "";
}
var o = e;
if (arguments.length > 1) if (2 == arguments.length && "object" == typeof t) {
var n = t[0];
for (var r in n) n.hasOwnProperty(r) && null != n[r] && (o = o.replace("{" + r + "}", n[r]));
} else for (var a = 1; a < arguments.length; a++) null != arguments[a] && (o = o.replace("{" + (a - 1) + "}", arguments[a]));
return o;
};
e.normalRandom = function() {
var e = Math.cos(Math.random() * Math.PI * 2) * Math.pow(-2 * Math.log(Math.random()), -2);
return e = (e = (e + 3) / 6) < 0 ? 0 : e > 1 ? 1 : e;
};
e.findChildByName = function(e, t) {
if (null == t || t.length <= 0) {
console.log(" childName == null");
return null;
}
var i = t.split("/"), o = "";
if (!(i.length > 0)) {
console.log(" name == null ==>" + i);
return null;
}
o = i[0];
var n = e.getChildByName(o);
if (null == n) {
console.log(" not found ==>" + o);
return null;
}
var r = i.slice(1);
r.length > 0 && (n = this.findChildByName(n, r.join("/")));
return n;
};
e.PayCoinsAnimation = function(t, i, o, n, r) {
for (var a = Math.floor(Math.log(Math.abs(t))), s = 0; s < a; s++) {
var c = cc.instantiate(o);
c.parent = n;
var l = 150 * (e.normalRandom() - .5), u = 100 * (e.normalRandom() - .5);
c.scale = .4;
c.angle = 45;
var d = i.convertToWorldSpaceAR(i.getPosition());
d = cc.find("Canvas").convertToNodeSpaceAR(d);
c.setPosition(d);
c.runAction(cc.sequence(cc.delayTime(.2 * Math.random()), cc.spawn(cc.sequence(cc.moveBy(.3, 0, 100).easing(cc.easeOut(.5)), cc.moveBy(.2, 0, -100).easing(cc.easeIn(.5))), cc.moveTo(.5, cc.v2(l, u)), cc.scaleTo(.5, 1, 1).easing(cc.easeSineInOut())), cc.delayTime(.2), cc.callFunc(function() {
r && r();
})));
}
};
return e;
}();
i.default = n;
cc._RF.pop();
}, {
"./../BaseFormat": "BaseFormat"
} ],
ValidCodeEnum: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "05efeEE8RVK2JuAWvPpDXav", "ValidCodeEnum");
var o, n;
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
var a = (n = o = function e() {
r(this, e);
}, o.target = cc.Enum({
REGISTER: 0,
UPGRADE: 1,
RESET_PWD: 2,
RESET_BOX: 3,
RESET_CASH: 4,
LOGIN: 5
}), n);
t.exports = a;
cc._RF.pop();
}, {} ],
VerticalTabDialog: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "76dfaPiNQVGu73PM8Zj+XXZ", "VerticalTabDialog");
s(e("../../../Script/ProjectConfig"));
var o = s(e("../../../Script/Audio/CommonAudioMgr")), n = s(e("../../../Script/Audio/CommonAudio")), r = s(e("../../../Script/UI/CommonPrefabMgr")), a = s(e("./../../../Script/GameFramework/ApiMgr"));
function s(e) {
return e && e.__esModule ? e : {
default: e
};
}
var c = e("DialogModel"), l = e("TopUpUIMgr"), u = e("CustomerUIMgr"), d = e("WithdrawUIMgr"), f = e("SafeBoxUIMgr"), h = e("NoticeUIMgr"), p = e("CommonFunction");
cc.Class({
extends: cc.Component,
properties: {
titleNode: cc.Node,
labelTitle: cc.Label,
tabBarFrame: cc.Node,
tabBarScrollView: cc.Node,
tabBarScrollBar: cc.Node,
tabBarContainerParent: cc.Node,
tabBarContainer: cc.Node,
contentFrame: cc.Node,
contentFrameBg: cc.Node,
tabBottomContainer: cc.Node,
_currentContent: cc.Node,
_isClose: !1,
_leftTabBarHeight: 0,
_bottomAdded: !1
},
onLoad: function() {
this._isClose = !1;
this._tabData = [];
this._tabBottomData = {};
this._contentData = [];
this._contentView = [];
this._currentIndex = -1;
cc.director.on("TabChange", this.onTabChange, this);
cc.director.on("DeleteTabItem", this.onDeleteTabItem, this);
},
onDestroy: function() {
cc.director.off("TabChange", this.onTabChange, this);
cc.director.off("DeleteTabItem", this.onDeleteTabItem, this);
},
onTabChange: function(e) {
if (e) {
this.optionData = e.option;
if ("number" == typeof e.index) {
-1 == e.index && (this._currentIndex = -1);
this.onTabItemClick(e.index);
}
}
},
getTab: function() {
return this.tabBarContainer;
},
onDeleteTabItem: function(e) {
if (e) {
var t = e.bindIndexArr;
this._currentIndex = -1;
if (t) {
for (var i = 0; i < t.length; i++) {
this._tabData.splice(t[i], 1);
this._contentData.splice(t[i], 1);
}
this.addTabChild(this._tabData, 0, !1);
this.tabBarScrollView.getComponent(cc.ScrollView).scrollToTop(0);
}
}
},
showRechargeDialogAction: function() {
var e = this, t = cc.director.getScene().getChildByName("Canvas");
cc.isValid(t) && t.addChild(e.node, 500);
l.loadPayChannels(function(t, i, o, n, r) {
e.initWithTabDataAndContent(t, i, o, n, r);
});
},
showCustomerDialogAction: function() {
var e = this, t = cc.director.getScene().getChildByName("Canvas");
cc.isValid(t) && t.addChild(e.node, 500);
var i = u.initUI(function(t, i, o, n, r) {
e.initWithTabDataAndContent(t, i, o, n, r);
});
e.loadDataWithDialog(i);
},
showWithdrawDialogAction: function(e) {
var t = this, i = cc.director.getScene().getChildByName("Canvas");
r.default.removeCommonLoading();
cc.isValid(i) && i.addChild(t.node, 500);
var o = d.initWithdrawUI(e, function(e, i, o, n, r) {
t.initWithTabDataAndContent(e, i, o, n, r);
});
t.loadDataWithDialog(o);
},
showSafeBoxDialogAction: function() {
var e = this, t = cc.director.getScene().getChildByName("Canvas");
cc.isValid(t) && t.addChild(e.node, 500);
f.initUI(function(t, i, o, n, r) {
e.initWithTabDataAndContent(t, i, o, n, r);
});
},
showMailBoxDialogAction: function(e) {
var t = cc.director.getScene().getChildByName("Canvas");
cc.isValid(t) && t.addChild(this.node, 500);
p.setComponentSprite(this.titleNode, e);
var i = a.default.getMailList(function(e, t, i, o, n) {});
this.loadDataWithDialog(i);
},
showNoticeDialogAction: function() {
var e = this, t = cc.director.getScene().getChildByName("Canvas");
cc.isValid(t) && t.addChild(e.node, 700);
h.requestNoticeData(function(t, i, o, n, r) {
e.initWithTabDataAndContent(t, i, o, n, r, !0);
});
},
loadDataWithDialog: function(e) {
var t = setTimeout(function() {
"function" == typeof e && e();
clearInterval(t);
}, 300);
},
initWithTabDataAndContent: function(e, t, i) {
var o = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0, n = arguments[4], r = arguments[5];
if (!this._isClose) {
p.setComponentSprite(this.titleNode, i);
this._tabData = this.reBuildTabData(e);
this._contentData = t;
if (n) {
this._tabBottomData = n.tabBottomData;
this._options = n;
}
this.resizeLayout(n);
this.addTabChild(this._tabData, o, !0, r);
}
},
initWithTabAndContent: function(e, t, i) {
var o = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0, n = arguments[4], r = cc.director.getScene().getChildByName("Canvas");
cc.isValid(r) && r.addChild(this.node, 500);
p.setComponentSprite(this.titleNode, i);
this._tabData = this.reBuildTabData(e);
this._contentData = t;
if (n) {
this._tabBottomData = n.tabBottomData;
this._options = n;
}
this.resizeLayout(n);
this.addTabChild(this._tabData, o, !0);
},
addTabChild: function(e, t, i, r) {
var a = this;
if (!a._isClose) {
a.tabBarContainer && a.tabBarContainer.removeAllChildren();
a._bottomAdded = !1;
if (null != e && void 0 != e && 0 != e.length) {
var s = e[0].prefabPath;
cc.loader.loadRes(s, function(r, s) {
if (s) {
for (var c = function(t) {
var i = t, r = e[i], c = cc.instantiate(s);
if (c) {
r && r.prefabScript && c.getComponent(r.prefabScript) && c.getComponent(r.prefabScript).initData(r.prefabData, i);
a.tabBarContainer && a.tabBarContainer.addChild(c);
}
c.on("click", function(e) {
a.onTabItemClick(i);
o.default.playEffect(n.default.common.btnMusic);
});
}, l = 0; l < e.length; l++) c(l);
a._currentIndex = -1;
a.onTabItemClick(t);
a.addTabBottomChild(i);
}
});
} else {
a.tabBottomContainer.active = !1;
a.tabBarScrollBar.active = !1;
a.addEmptyChild();
}
}
},
addEmptyChild: function() {
var e = this;
if (e._options && e._options.emptyData && e._options.emptyData.prefabPath) {
var t = e._contentView[e._options.emptyData.prefabPath];
if (t) {
t.active = !0;
if (e._options.emptyData.prefabScript) {
var i = t.getComponent(e._options.emptyData.prefabScript);
i && i.setEmptyView(e._options.emptyData.prefabData);
}
} else {
e.contentFrame.removeAllChildren();
var o = e._options.emptyData.prefabPath;
cc.loader.loadRes(o, function(t, i) {
if (i) {
var o = cc.instantiate(i);
if (o) {
e._options.emptyData.prefabScript && o.getComponent(e._options.emptyData.prefabScript) && o.getComponent(e._options.emptyData.prefabScript).setEmptyView(e._options.emptyData.prefabData);
e.contentFrame.addChild(o);
}
}
});
}
}
},
removeChildView: function() {
cc.isValid(this.tabBarContainer) && this.tabBarContainer.removeAllChildren();
cc.isValid(this.contentFrame) && this.contentFrame.removeAllChildren();
this._tabData = [];
this._tabBottomData = {};
this._contentData = [];
this._contentView = [];
this._currentIndex = -1;
this._bottomAdded = !1;
},
addTabBottomChild: function(e) {
var t = this;
if (!t._bottomAdded) {
t._bottomAdded = !0;
var i = t._tabBottomData, o = t._contentData;
if (i && i.prefabPath && o && o.length > 0) {
if (0 != e || 0 != i.location) {
if (0 == i.location && t.tabBottomContainer) {
t.tabBottomContainer.removeAllChildren();
t.tabBottomContainer.active = !1;
}
cc.loader.loadRes(i.prefabPath, function(e, o) {
if (o) {
var n = cc.instantiate(o);
if (n) {
i && i.prefabScript && n.getComponent(i.prefabScript) && n.getComponent(i.prefabScript).initData(i.prefabData);
if (0 == i.location) {
if (t.tabBottomContainer) {
t.tabBottomContainer.addChild(n);
var r = t.tabBottomContainer.position.x;
t._leftTabBarHeight <= 0 && (t._leftTabBarHeight = t.tabBarScrollView.height - n.height);
if (cc.vv.beautifulgame) {
t.tabBottomContainer.position = cc.v2(r, n.height - 700);
t.tabBarScrollBar.height = t._leftTabBarHeight + 20;
t.tabBarScrollView.height = t._leftTabBarHeight + 20;
t.tabBarContainerParent.height = t._leftTabBarHeight + 20;
} else if (cc.vv.souhu) {
t.tabBottomContainer.position = cc.v2(r, n.height - 680);
t.tabBarScrollBar.height = t._leftTabBarHeight + 50;
t.tabBarScrollView.height = t._leftTabBarHeight + 50;
t.tabBarContainerParent.height = t._leftTabBarHeight + 50;
}
}
t.tabBottomContainer.active = !0;
} else t.tabBarContainer && t.tabBarContainer.addChild(n);
}
}
});
}
} else t.tabBottomContainer.active = !1;
}
},
reBuildTabData: function(e) {
for (var t = [], i = 0; i < e.length; i++) {
var o = e[i];
o.prefabPath ? t.push(o) : t.push(c.getDefaultTabPrefabPath(o));
}
return t;
},
resizeLayout: function(e) {
if (!this._isClose && e && e.tabWidth > 0 && e.contentWidth > 0) {
var t = e.tabWidth, i = e.contentWidth;
this.tabBottomContainer.width = t;
this.tabBarFrame.width = t;
this.tabBarScrollView.width = t;
this.tabBarContainerParent.width = t - 10;
this.tabBarContainer.width = t - 20;
this.contentFrame.width = i;
var o = e.paddingOffset;
o || (o = 715);
}
},
initContent: function(e, t) {},
onTabItemClick: function(e) {
var t = this;
if (e != t._currentIndex && !(e >= t._contentData.length)) {
var i = t._contentData[t._currentIndex];
i && i.prefabPath;
var o = t._contentData[e], n = null;
o && (n = o.prefabPath);
if (null != n) {
t.highlightTabItem(t._currentIndex, e);
t._currentIndex = e;
if (t._contentView) {
var r = t._contentView[n];
r ? t.showContentWithPath(e, n) : cc.loader.loadRes(n, function(i, o) {
if (o) {
r = cc.instantiate(o);
t._contentView[n] = r;
t.contentFrame.addChild(r);
t.showContentWithPath(e, n);
}
});
}
cc.director.emit("TabItemClick");
}
}
},
highlightTabItem: function(e, t) {
if (this.tabBarContainer) {
var i = this.tabBarContainer.children;
if (i) {
var o = i[e];
if (o) {
var n = o.getComponent(this._tabData[e].prefabScript);
n && n.setItemNormal();
}
var r = i[t];
if (r) {
var a = r.getComponent(this._tabData[t].prefabScript);
a && a.setItemSelect();
}
}
}
},
showContentWithPath: function(e, t) {
if (e == this._currentIndex) {
var i = this.contentFrame.children;
if (i) for (var o = 0, n = i.length; o < n; o++) {
var r = i[o];
"bg" != r.name && "Loading" != r.name && (r.active = !1);
}
var a = this._contentData[e];
if (a) {
var s = a.prefabPath, c = this._contentView[s], l = a.prefabData, u = a.prefabScript;
!l && this.optionData && (l = this.optionData);
if (c && s == t) {
c.active = !0;
var d = c.getComponent(u);
d && d.initContentView(l, e);
}
}
}
},
setComponentSprite: function(e, t) {
if (e && t) {
var i = cc.url.raw(t), o = cc.textureCache.addImage(i), n = void 0;
o && (n = new cc.SpriteFrame(o, cc.Rect(0, 0, o.width, o.height))) && e.getComponent(cc.Sprite) && (e.getComponent(cc.Sprite).spriteFrame = n);
}
},
dismiss: function() {
if (1 === this.node.scale) {
this._isClose = !0;
o.default.playEffect(n.default.common.btnMusic);
if (this.node && this.node.getComponent("CommonDialog")) this.node.getComponent("CommonDialog").dismiss(); else {
this.node.active = !1;
this.node.removeFromParent();
r.default.removeCommonLoading();
}
this._options && "function" == typeof this._options.onCloseCallBack && this._options.onCloseCallBack();
}
}
});
cc._RF.pop();
}, {
"../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../../Script/ProjectConfig": "ProjectConfig",
"../../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"./../../../Script/GameFramework/ApiMgr": "ApiMgr",
CommonFunction: "CommonFunction",
CustomerUIMgr: "CustomerUIMgr",
DialogModel: "DialogModel",
NoticeUIMgr: "NoticeUIMgr",
SafeBoxUIMgr: "SafeBoxUIMgr",
TopUpUIMgr: "TopUpUIMgr",
WithdrawUIMgr: "WithdrawUIMgr"
} ],
VerticalTabItem: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "de88eFVsVZHcLuu8ExVPMDd", "VerticalTabItem");
cc.Class({
extends: cc.Component,
properties: {
btnBg: {
default: [],
type: cc.SpriteFrame
},
txtColors: {
default: [],
type: cc.Color
},
btnNode: cc.Sprite,
txt: cc.Label,
checkIndex: 0,
txtOutlineColors: {
default: [],
type: cc.Font
}
},
onLoad: function() {},
initData: function(e, t) {
this.btnNode && (this.btnNode.spriteFrame = this.btnBg[0]);
this.txt && (this.txt.string = e);
this.setItemNormal();
},
setItemNormal: function() {
this.btnNode && (this.btnNode.spriteFrame = this.btnBg[0]);
this.txt && (this.txt.node.color = this.txtColors[1]);
if (cc.vv.souhu) {
if (this.node.getChildByName("body")) {
this.node.getChildByName("body").width = 334;
this.node.getChildByName("body").x = -5;
}
if (this.txt) {
this.txt.node.width = 334;
this.txt.node.x = 0;
}
this.txt.node && this.txt.node.getComponent(cc.Label) && (this.txt.node.getComponent(cc.Label).font = this.txtOutlineColors[0]);
} else this.txt._isBold = !0;
},
setItemSelect: function() {
this.btnNode && (this.btnNode.spriteFrame = this.btnBg[1]);
this.txt && (this.txt.node.color = this.txtColors[0]);
if (cc.vv.souhu) {
if (this.node.getChildByName("body")) {
this.node.getChildByName("body").width = 354;
this.node.getChildByName("body").x = 7;
}
if (this.txt) {
this.txt.node.x = -10;
this.txt.node.width = 334;
}
this.txt.node && this.txt.node.getComponent(cc.Label) && (this.txt.node.getComponent(cc.Label).font = this.txtOutlineColors[1]);
}
}
});
cc._RF.pop();
}, {} ],
WalletRechargeTypeItem: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "c28c0TJN5ZH0r2mZyTCDGgU", "WalletRechargeTypeItem");
e("RechargeSecondModel"), e("CommonEventName");
cc.Class({
extends: cc.Component,
properties: {
btnBg: {
default: [],
type: cc.SpriteFrame
},
txt: cc.Label,
btnNode: cc.Sprite,
line: cc.Node
},
initData: function(e) {
this.itemdata = e;
},
onLoad: function() {
this.refreshItemViewShow();
},
refreshItemViewShow: function() {
if (this.itemdata) {
this.txt && (this.txt.string = this.itemdata.name);
this.itemdata.ischecked ? this.setItemSelect() : this.setItemNormal();
}
},
setItemNormal: function() {
this.btnNode && (this.btnNode.spriteFrame = this.btnBg[1]);
this.txt && cc.vv.beautifulgame && (this.txt.node.opacity = 120);
this.line && (this.line.active = !0);
},
setItemSelect: function() {
this.btnNode && (this.btnNode.spriteFrame = this.btnBg[0]);
this.txt && cc.vv.beautifulgame && (this.txt.node.opacity = 255);
this.line && (this.line.active = !1);
}
});
cc._RF.pop();
}, {
CommonEventName: "CommonEventName",
RechargeSecondModel: "RechargeSecondModel"
} ],
WalletTopUpLeftTabItem: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "0da632Kt6BJzagtSJIxnl6T", "WalletTopUpLeftTabItem");
e("RechargeSecondModel"), e("CommonEventName");
cc.Class({
extends: cc.Component,
properties: {
btnBg: {
default: [],
type: cc.SpriteFrame
},
btnNode: cc.Sprite,
tagNode: cc.Sprite,
tagSprite: {
default: [],
type: cc.SpriteFrame
},
type_icon: {
default: [],
type: cc.SpriteFrame
},
txtColors: {
default: [],
type: cc.Color
},
txt: cc.Label,
icon: cc.Node,
msg_red_dot: cc.Node,
checkIndex: 0,
_source_type: ""
},
initData: function(e, t) {
cc.isValid(this.btnNode) && (this.btnNode.spriteFrame = this.btnBg[0]);
cc.isValid(this.txt) && cc.vv.beautifulgame && (this.txt._isBold = !0);
if (e) {
var i = e.source_type;
this._source_type = i;
if (this.txt) {
var o = this.getLastedIndex(e.name, 15);
this.txt.string = o <= 0 ? e.name : e.name.substring(0, o) + "...";
}
if (e.tag) {
var n = this.tagSprite[e.tag];
if (n) {
this.tagNode.node.active = !0;
this.tagNode.spriteFrame = n;
} else this.tagNode.node.active = !1;
} else this.tagNode.node.active = !1;
this.setDefaultTabIcon(i);
this.loadTabIcon(e.icon, i);
}
},
loadTabIcon: function(e, t) {
var i = this;
if (e && e.length > 0) {
var o = e.replace(/\s+/g, "");
cc.loader.load(o, function(e, o) {
if (null == e) {
var n = new cc.SpriteFrame(o);
n && cc.isValid(i.icon) && i.icon.getComponent(cc.Sprite) ? i.icon.getComponent(cc.Sprite).spriteFrame = n : i.setDefaultTabIcon(t);
} else i.setDefaultTabIcon(t);
});
}
},
setDefaultTabIcon: function(e) {
cc.isValid(this.icon) && this.icon.getComponent(cc.Sprite) && (this.icon.getComponent(cc.Sprite).spriteFrame = "2888" == e ? this.type_icon[3] : "1000" == e ? this.type_icon[0] : "1001" == e ? this.type_icon[1] : "1002" == e ? this.type_icon[7] : "1888" == e ? this.type_icon[5] : "10086" == e ? this.type_icon[2] : "3888" == e ? this.type_icon[3] : "88" == e ? this.type_icon[8] : "1012" == e ? this.type_icon[9] : "1013" == e ? this.type_icon[10] : "4888" == e ? this.type_icon[4] : this.type_icon[6]);
},
setItemNormal: function() {
if (this.btnNode) {
this.btnNode.spriteFrame = this.btnBg[0];
cc.vv.souhu && (this.btnNode.node.width = 300);
}
this.txt && (cc.vv.beautifulgame ? this.txt.node.color = cc.color().fromHEX("#967b47") : this.txt.getComponent(cc.LabelOutline).color = new cc.Color(42, 109, 174));
},
setItemSelect: function() {
if (this.btnNode) {
this.btnNode.spriteFrame = this.btnBg[1];
cc.vv.souhu && (this.btnNode.node.width = 320);
}
this.txt && (cc.vv.beautifulgame ? this.txt.node.color = cc.color().fromHEX("#f6df82") : this.txt.getComponent(cc.LabelOutline).color = new cc.Color(183, 76, 42));
},
getLastedIndex: function(e, t) {
var i = 0;
if (e) for (var o = 0; o < e.length; o++) {
null != e.charAt(o).match(/[^\x00-\xff]/gi) ? i += 2 : i += 1;
if (i >= t) return o;
}
return -1;
}
});
cc._RF.pop();
}, {
CommonEventName: "CommonEventName",
RechargeSecondModel: "RechargeSecondModel"
} ],
WalletTopUp: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "ec894rFotBAwL77dg4TASyS", "WalletTopUp");
s(e("../../../Script/ProjectConfig"));
var o = s(e("../../../Script/Audio/CommonAudioMgr")), n = s(e("../../../Script/Audio/CommonAudio")), r = s(e("../../../Script/LocalStorage/LocalStorageUtil")), a = s(e("./../../../Script/GameFramework/ApiMgr"));
function s(e) {
return e && e.__esModule ? e : {
default: e
};
}
e("DialogUtil");
var c = e("GameEngineUtil"), l = e("CommonEventName");
cc.Class({
extends: cc.Component,
properties: {
mainWrap: cc.Node,
LeftBar: cc.Node,
RightWrap: cc.Node,
GameLeftBarItemPrefab: cc.Prefab,
vipPrefab: cc.Prefab,
WbPrefab: cc.Prefab,
agentPrefab: cc.Prefab,
iosPrefab: cc.Prefab,
checkIndex: 0,
leftBarIosImg: cc.Node,
transferPrefab: cc.Prefab,
disableMaskView: cc.Node,
nodeBgs: {
default: [],
type: cc.SpriteFrame
}
},
onLoad: function() {
var e = this;
e.listData = null;
var t = cc.sys.os, i = {
bundle_id: c.getPackageName(),
platform: t.toLowerCase(),
channel: c.getChannel(),
build_number: c.getVersionCode()
}, o = r.default.readData("pay_channel_data");
if (o) {
var n = JSON.parse(o);
n[0] && n[0].receive_amount ? a.default.GetPayChannel(i, function(t) {
if (cc.isValid(e.node)) {
r.default.saveData("pay_channel_data", JSON.stringify(t));
e.listData = t;
e.LoadData(t);
}
}, function(t) {
var i = JSON.parse(o);
e.listData = i;
e.LoadData(i);
}, 1e3) : e.requestNewChannelData(i);
} else e.requestNewChannelData(i);
e.vipContent = cc.instantiate(e.vipPrefab);
e.wbContent = cc.instantiate(e.WbPrefab);
e.agentContent = cc.instantiate(e.agentPrefab);
e.iosContent = cc.instantiate(e.iosPrefab);
e.transferContent = cc.instantiate(e.transferPrefab);
e.initContent();
e._hideAllPrefab();
e.disableMaskView.active = !1;
e.disableMaskView.opacity = 0;
cc.director.on("enable_pay_view_click", function(t) {
e.disableMaskView.active = !1;
}, e);
cc.director.on("disable_pay_view_click", function(t) {
e.disableMaskView.active = !0;
}, e);
},
initContent: function() {
if (cc.isValid(this.RightWrap)) {
this.RightWrap.addChild(this.vipContent);
this.vipContent.setPosition(340, -260);
this.RightWrap.addChild(this.wbContent);
this.wbContent.setPosition(0, 0);
this.RightWrap.addChild(this.agentContent);
this.RightWrap.addChild(this.iosContent);
this.iosContent.setPosition(0, 0);
this.RightWrap.addChild(this.transferContent);
}
},
_hideAllPrefab: function() {
this.vipContent.active = !1;
this.wbContent.active = !1;
this.agentContent.active = !1;
this.iosContent.active = !1;
this.transferContent.active = !1;
},
_showVipPrefab: function() {
this._hideAllPrefab();
this.vipContent.active = !0;
},
_showWbPrefab: function() {
this._hideAllPrefab();
this.wbContent.active = !0;
},
_showAgentPrefab: function() {
this._hideAllPrefab();
this.agentContent.active = !0;
},
_showIOSPrefab: function() {
this._hideAllPrefab();
this.iosContent.active = !0;
},
_showTransferPrefab: function() {
this._hideAllPrefab();
this.transferContent.active = !0;
},
requestNewChannelData: function(e) {
var t = this;
a.default.GetPayChannel(e, function(e) {
if (cc.isValid(t.node)) {
r.default.saveData("pay_channel_data", JSON.stringify(e));
t.listData = e;
t.LoadData(e);
}
});
},
LoadData: function(e) {
var t = this;
t.LeftBar.removeAllChildren();
for (var i = 0; i < e.length; i++) if ("1005" !== e[i].source_type) {
t.leftBarIosImg && (t.leftBarIosImg.active = !1);
var o = cc.instantiate(t.GameLeftBarItemPrefab);
o && o.getComponent("RechargeLeftItem") && o.getComponent("RechargeLeftItem").initData(e[i], i);
t.LeftBar && t.LeftBar.addChild(o);
var n = void 0;
t.LeftBar && (n = t.LeftBar.children) && n[t.checkIndex] && n[t.checkIndex].getComponent("RechargeLeftItem") && n[t.checkIndex].getComponent("RechargeLeftItem").setItemSelect();
o && o.on("click", function(e) {
t.clickItem(this.getSiblingIndex());
});
} else t.leftBarIosImg && (t.leftBarIosImg.active = !0);
t.checkIndex = 0;
t.initRightContent(t.listData[t.checkIndex]);
},
clickItem: function(e) {
o.default.playEffect(n.default.common.btnMusic);
var t = void 0;
if (this.LeftBar) {
(t = this.LeftBar.children)[this.checkIndex].getComponent("RechargeLeftItem").setItemNormal();
t[e].getComponent("RechargeLeftItem").setItemSelect();
this.initRightContent(this.listData[e]);
this.checkIndex = e;
}
},
initRightContent: function(e) {
var t = this;
t.RightWrap.getChildByName("startLoading").active = !1;
if (e.source_type) {
if ("1888" == e.source_type) {
var i = t.vipContent;
t._showVipPrefab();
a.default.newPayChannels(function(e) {
cc.isValid(t.node) && e.length > 0 && i.getComponent("RechargeVip").loadDataList(e);
});
} else if ("1000" == e.source_type) {
var o = t.wbContent;
o && o.getComponent("RechargeThirdParty") && o.getComponent("RechargeThirdParty").initWithWXData(e, 0);
t._showWbPrefab();
} else if ("1001" == e.source_type) {
var n = t.wbContent;
n && n.getComponent("RechargeThirdParty") && n.getComponent("RechargeThirdParty").initWithWXData(e, 0);
t._showWbPrefab();
} else if ("2888" == e.source_type) {
t.agentContent;
t._showAgentPrefab();
} else if ("1005" == e.source_type) {
var r = t.iosContent;
r && r.getComponent("RechargeIos") && r.getComponent("RechargeIos").initWithData(e, 1);
t._showIOSPrefab();
} else if ("10086" == e.source_type) {
var s = t.transferContent;
s && s.getComponent("RechargeTransfer") && s.getComponent("RechargeTransfer").initWithData(e);
t._showTransferPrefab();
} else {
var c = t.wbContent;
c && c.getComponent("RechargeThirdParty") && c.getComponent("RechargeThirdParty").initWithWXData(e, 0);
t._showWbPrefab();
}
"1005" == e.source_type ? t.node.getChildByName("frame") && t.nodeBgs[1] && (t.node.getChildByName("frame").getComponent(cc.Sprite).spriteFrame = t.nodeBgs[1]) : t.node.getChildByName("frame") && t.nodeBgs[0] && (t.node.getChildByName("frame").getComponent(cc.Sprite).spriteFrame = t.nodeBgs[0]);
}
},
closeDialog: function() {
o.default.playEffect(n.default.common.btnMusic);
this.mainWrap && this.mainWrap.runAction(cc.sequence(cc.spawn(cc.fadeOut(.1), cc.scaleTo(.1, .8)), cc.callFunc(function() {
this.active = !1;
this.destroy();
}, this.node)));
r.default.readData("payAmount") > 0 && r.default.saveData("payAmount", 0);
cc.director.emit(l.refreshUserInfo);
cc.director.emit(l.RedEnvelopeEnable);
},
onDestroy: function() {
cc.vv.gameEngineUtil.dumpMemory("WalletTopUp");
}
});
cc._RF.pop();
}, {
"../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../../Script/ProjectConfig": "ProjectConfig",
"./../../../Script/GameFramework/ApiMgr": "ApiMgr",
CommonEventName: "CommonEventName",
DialogUtil: "DialogUtil",
GameEngineUtil: "GameEngineUtil"
} ],
WalletViewTopUpLeftTabItem: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "6f11c8nCsNLt7Bw4j3aZTlV", "WalletViewTopUpLeftTabItem");
e("RechargeSecondModel"), e("CommonEventName");
cc.Class({
extends: cc.Component,
properties: {
btnBg: {
default: [],
type: cc.SpriteFrame
},
txt: cc.Label,
btnNode: cc.Sprite
},
initData: function(e) {
this.itemdata = e;
},
onLoad: function() {
this.refreshItemViewShow();
},
refreshItemViewShow: function() {
if (this.itemdata) {
this.txt && (this.txt.string = this.itemdata.name);
this.itemdata.ischecked ? this.setItemSelect() : this.setItemNormal();
}
},
setItemNormal: function() {
this.btnNode && (this.btnNode.spriteFrame = this.btnBg[0]);
this.txt && cc.vv.beautifulgame && (this.txt.node.color = cc.color().fromHEX("#b8d4fd"));
},
setItemSelect: function() {
this.btnNode && (this.btnNode.spriteFrame = this.btnBg[1]);
this.txt && cc.vv.beautifulgame && (this.txt.node.color = cc.color().fromHEX("#faef4c"));
},
getLastedIndex: function(e, t) {
var i = 0;
if (e) for (var o = 0; o < e.length; o++) {
null != e.charAt(o).match(/[^\x00-\xff]/gi) ? i += 2 : i += 1;
if (i >= t) return o;
}
return -1;
}
});
cc._RF.pop();
}, {
CommonEventName: "CommonEventName",
RechargeSecondModel: "RechargeSecondModel"
} ],
WithdrawAlibay: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "7f6cfwjcphDMbG3gQS1YSD8", "WithdrawAlibay");
var o = l(e("../../../../Script/UI/CommonPrefabMgr")), n = l(e("../../../../Script/LocalStorage/LocalStorageUtil")), r = l(e("../../../../Script/BaseFormat")), a = l(e("../../../../Script/Audio/CommonAudioMgr")), s = l(e("../../../../Script/Audio/CommonAudio")), c = l(e("./../../../../Script/GameFramework/ApiMgr"));
function l(e) {
return e && e.__esModule ? e : {
default: e
};
}
e("WithdrawGlobal");
cc.Class({
extends: cc.Component,
properties: {
unbindView: cc.Node,
bindedView: cc.Node,
unBindPlayerName: cc.EditBox,
unBindAccountName: cc.EditBox,
unBindHintText: cc.Label,
bindedPlayerName: cc.Label,
bindedAccountName: cc.Label,
bindedHintText: cc.Label,
resetBtn: cc.Node
},
onLoad: function() {
this.addLabelOutlineWithNode();
},
addLabelOutlineWithNode: function() {
cc.vv.editBoxMgr.addOutlineWithNode(this.unBindPlayerName.node);
cc.vv.editBoxMgr.addOutlineWithNode(this.unBindAccountName.node);
},
onConfigLoaded: function() {
this.getBindingAlibayAction();
},
clickBind: function() {
var e = this;
a.default.playEffect(s.default.common.btnMusic);
var t = e.unBindPlayerName.string;
if (r.default.verifyActualname(t)) {
var i = e.unBindAccountName.string;
i = i.replace(/\s+/g, "");
if (r.default.isEmail(i) || r.default.isPhone(i)) {
var n = {
name: t,
aliacc: i
};
c.default.postBindAlipay(n, function(t) {
o.default.createToast("绑定成功，即将跳转兑换页面");
e.scheduleOnce(function() {
cc.director.emit("TabChange", {
index: 0,
option: {
refresh: !0
}
});
e.getBindingAlibayAction();
e.unBindPlayerName.string = "";
e.unBindAccountName.string = "";
}, 1);
}.bind(e), function(t) {
e.unBindPlayerName.string = "";
e.unBindAccountName.string = "";
301 != JSON.parse(t).status ? o.default.createToast("绑定失败") : o.default.createToast("抱歉，该账户已与三个账户发生关联");
}.bind(e));
} else o.default.createToast("请输入有效的支付宝账号");
} else o.default.createToast("请输入正确的收款人姓名");
},
getBindingAlibayAction: function() {
var e = this;
c.default.getBindAlibay(function(t) {
var i = null;
"{}" != JSON.stringify(t) && (i = t);
n.default.saveWithDrawBindInfo(10, i);
e.showAlibayInfoView(i);
}.bind(e));
},
showAlibayInfoView: function(e) {
if (WithdrawProjectConfig.bindInfoConfig && WithdrawProjectConfig.bindInfoConfig.length > 0) {
for (var t = void 0, i = 0; i < WithdrawProjectConfig.bindInfoConfig.length; i++) if (10 == WithdrawProjectConfig.bindInfoConfig[i].type) {
t = WithdrawProjectConfig.bindInfoConfig[i];
break;
}
if (t) {
var o = t.resettable;
if (e) {
this.unbindView && (this.unbindView.active = !1);
this.bindedView && (this.bindedView.active = !0);
this.resetBtn && (this.resetBtn.active = o);
this.bindedHintText && (this.bindedHintText.string = t.tips);
this.bindedPlayerName && (this.bindedPlayerName.string = e.name || "");
this.bindedAccountName && (this.bindedAccountName.string = e.acc || "");
} else {
this.unbindView && (this.unbindView.active = !0);
this.bindedView && (this.bindedView.active = !1);
this.unBindHintText && (this.unBindHintText.string = t.tips);
}
}
}
},
clickReset: function() {
var e = this;
a.default.playEffect(s.default.common.btnMusic);
cc.loader.loadRes(WithdrawProjectConfig.resources.withdrawResetDialog, function(t, i) {
if (i) {
var o = cc.instantiate(i);
o && o.getComponent("WithdrawResetBind") && o.getComponent("WithdrawResetBind").showDialog(10, function() {
e.getBindingAlibayAction();
}.bind(e));
}
});
}
});
cc._RF.pop();
}, {
"../../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../../../Script/BaseFormat": "BaseFormat",
"../../../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"./../../../../Script/GameFramework/ApiMgr": "ApiMgr",
WithdrawGlobal: "WithdrawGlobal"
} ],
WithdrawBankItem: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "c43c3N72L1IqLMo8ve+T5Tv", "WithdrawBankItem");
cc.Class({
extends: cc.Component,
properties: {
bank: cc.Sprite,
highlight: cc.Node
},
initContent: function(e, t, i) {
this.index = e;
this.clickCallback = i;
this.bank.spriteFrame = t;
},
clickItem: function() {
this.clickCallback && this.clickCallback(this.index);
},
setSelected: function(e) {
this.highlight && (this.highlight.active = e);
}
});
cc._RF.pop();
}, {} ],
WithdrawBankListItem: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "47a78zAWVlDYYOQ/eJOdeU3", "WithdrawBankListItem");
cc.Class({
extends: cc.Component,
properties: {
labelName: cc.Label,
labelBg: cc.Node,
_onItemSelectCallback: null,
_bankName: null
},
onLoad: function() {},
init: function(e, t) {
this._bankName = e;
this.labelName && (this.labelName.string = e);
this._onItemSelectCallback = t;
},
onItemClick: function() {
this.showItemBg();
this._onItemSelectCallback && this._onItemSelectCallback(this._bankName);
},
showItemBg: function() {
this.labelName && (cc.vv.beautifulgame ? this.labelName.node.color = this.labelName.node.color.fromHEX("#fec85f") : cc.vv.souhu && (this.labelName.node.color = this.labelName.node.color.fromHEX("#ffffff")));
this.labelBg && !this.labelBg.active && (this.labelBg.active = !0);
},
hideItemBg: function() {
this.labelName && (cc.vv.beautifulgame ? this.labelName.node.color = this.labelName.node.color.fromHEX("#B79B70") : cc.vv.souhu && (this.labelName.node.color = this.labelName.node.color.fromHEX("#3b84c1")));
this.labelBg && this.labelBg.active && (this.labelBg.active = !1);
},
getBankName: function() {
return this.labelName ? this.labelName.string : "";
}
});
cc._RF.pop();
}, {} ],
WithdrawBankListRow: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "67565Hnq8FOhqbyqAWiSAXw", "WithdrawBankListRow");
cc.Class({
extends: cc.Component,
properties: {
bankItem1: cc.Node,
bankItem2: cc.Node,
itemID: 0
},
setCallback: function(e) {
this.callback = e;
},
setData: function(e, t, i) {
this.bankItem1Script || this.bankItem1 && (this.bankItem1Script = this.bankItem1.getComponent("WithdrawBankListItem"));
this.bankItem2Script || this.bankItem2 && (this.bankItem2Script = this.bankItem2.getComponent("WithdrawBankListItem"));
this.itemID = e;
t && this.bankItem1Script && this.bankItem1Script.init(t, this.callback);
if (i) {
this.bankItem2 && (this.bankItem2.active = !0);
this.bankItem2Script && this.bankItem2Script.init(i, this.callback);
} else this.bankItem2 && (this.bankItem2.active = !1);
},
updateSelectStatus: function(e) {
if (this.bankItem1Script) {
e != this.bankItem1Script.getBankName() ? this.bankItem1Script.hideItemBg() : this.bankItem1Script.showItemBg();
}
if (this.bankItem2Script) {
e != this.bankItem2Script.getBankName() ? this.bankItem2Script.hideItemBg() : this.bankItem2Script.showItemBg();
}
}
});
cc._RF.pop();
}, {} ],
WithdrawBankList: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "6ca49OsxHFBoI7aw3s72DHD", "WithdrawBankList");
var o = s(e("../../../../Script/LocalStorage/LocalStorageUtil")), n = s(e("../../../../Script/Audio/CommonAudioMgr")), r = s(e("../../../../Script/Audio/CommonAudio")), a = s(e("./../../../../Script/GameFramework/ApiMgr"));
function s(e) {
return e && e.__esModule ? e : {
default: e
};
}
var c = e("DialogUtil");
e("WithdrawGlobal");
cc.Class({
extends: cc.Component,
properties: {
ContentNode: {
default: null,
type: cc.Node
},
listItemPrefab: {
type: cc.Prefab,
default: null
},
listRowPrefab: cc.Prefab,
scrollView: {
type: cc.ScrollView,
default: null
},
_bankName: null
},
getPositionInView: function(e) {
var t = e.parent.convertToWorldSpaceAR(e.position);
return this.scrollView.node.convertToNodeSpaceAR(t);
},
update: function(e) {
if (this.data && 0 != this.data.length) {
this.updateTimer += e;
if (!(this.updateTimer < this.updateInterval)) {
this.updateTimer = 0;
for (var t = this.items, i = this.ContentNode.y < this.lastContentPosY, o = (this.itemTemplateHeight + this.spacing) * t.length, n = 0, r = 0; r < t.length; ++r) {
var a = this.getPositionInView(t[r]);
if (i) {
n = t[r].y + o;
if (a.y < -this.bufferZone && n < 0) {
t[r].y = n;
var s = t[r].getComponent("WithdrawBankListRow"), c = s.itemID - t.length;
this.renderItemData(c, s, !0);
}
} else {
n = t[r].y - o;
if (a.y > this.bufferZone && n > -this.ContentNode.height) {
t[r].y = n;
var l = t[r].getComponent("WithdrawBankListRow"), u = l.itemID + t.length;
this.renderItemData(u, l, !0);
}
}
}
this.lastContentPosY = this.scrollView.content.y;
}
}
},
initBankList: function(e) {
this.spawnCount = 6;
this.totalCount = 0;
this.spacing = 10;
this.itemTemplateHeight = 60;
this.items = [];
this.updateTimer = 0;
this.updateInterval = .2;
this.lastContentPosY = 0;
this.bufferZone = this.spawnCount * (this.itemTemplateHeight + this.spacing) / 2;
this.showDefaultBankList();
if (e) {
this._bankName = e;
this.updateSelectStatus(e);
}
},
showDialog: function(e, t) {
var i = this;
this.selectFinishCallback = t;
var o = {
type: "sprite",
content: WithdrawProjectConfig.resources.bankListTitleSprite
};
c.addNormalDialog(this.node, o);
setTimeout(function() {
i.initBankList(e);
}, 200);
},
autoScrollViewToTop: function() {
this.scrollView.scrollToBottom(0);
this.scrollView.scrollToTop(.5);
},
onItemSelect: function(e) {
this._bankName = e;
n.default.playEffect(r.default.common.btnMusic);
this.updateSelectStatus(e);
},
updateSelectStatus: function(e) {
if (this.ContentNode && this.ContentNode.children && this.ContentNode.children.length > 0) for (var t = 0; t < this.ContentNode.childrenCount; t++) {
var i = this.ContentNode.children[t];
i && i.getComponent("WithdrawBankListRow") && i.getComponent("WithdrawBankListRow").updateSelectStatus(e);
}
},
onOkButtonClick: function() {
n.default.playEffect(r.default.common.btnMusic);
this.selectFinishCallback && this.selectFinishCallback(this._bankName);
this.node.parent.parent.parent.getComponent("BaseNormalDialog").dismiss();
},
loadRemoteBankList: function() {
a.default.getBankList(function(e) {
if (e) {
var t = e.list;
t && t.length > 0 && o.default.saveBankList(t);
}
}, function(e) {});
},
showDefaultBankList: function() {
var e = null;
(!(e = o.default.getBankList()) || e.length <= 0) && (e = [ "中国工商银行", "中国农业银行", "中国银行", "中国建设银行", "交通银行", "邮政储蓄银行", "中国光大银行", "中国民生银行", "招商银行", "中信银行", "华夏银行", "浦发银行", "平安银行", "广发银行", "兴业银行", "浙商银行", "渤海银行", "恒丰银行", "鞍山银行", "包商银行", "保定银行", "北京银行", "本溪市商业银行", "沧州银行", "长安银行", "长沙银行", "长治银行", "朝阳银行", "成都银行", "承德银行", "重庆三峡银行", "重庆银行", "达州市商业银行", "大连银行", "大同银行", "丹东银行", "长城华西银行", "德州银行", "东莞银行", "东营银行", "鄂尔多斯银行", "福建海峡银行", "抚顺银行", "阜新银行", "富滇银行", "甘肃银行", "赣州银行", "广东华兴银行", "广东南粤银行", "广西北部湾银行", "广州银行", "贵阳银行", "贵州银行", "桂林银行", "哈尔滨银行", "哈密市商业银行", "邯郸银行", "汉口银行", "杭州银行", "河北银行", "衡水银行", "葫芦岛银行", "湖北银行", "湖州银行", "华融湘江银行", "徽商银行", "吉林银行", "济宁银行", "嘉兴银行", "江苏银行", "焦作中旅银行", "金华银行", "锦州银行", "晋城银行", "晋商银行", "晋中银行", "江西银行", "九江银行", "中原银行", "库尔勒银行", "昆仑银行", "莱商银行", "兰州银行", "廊坊银行", "乐山市商业银行", "凉山州商业银行", "辽阳银行", "临商银行", "柳州银行", "龙江银行", "泸州市商业银行", "洛阳银行", "绵阳市商业银行", "四川天府银行", "南京银行", "内蒙古银行", "宁波东海银行", "宁波通商银行", "宁波银行", "宁夏银行", "攀枝花市商业银行", "盘锦银行", "平顶山银行", "齐鲁银行", "齐商银行", "秦皇岛银行", "青岛银行", "青海银行", "曲靖市商业银行", "泉州银行", "日照银行", "上海银行", "上饶银行", "绍兴银行", "盛京银行", "石嘴山银行", "苏州银行", "遂宁银行", "台州银行", "泰安银行", "唐山银行", "天津银行", "铁岭银行", "威海市商业银行", "潍坊银行", "温州银行", "乌海银行", "乌鲁木齐银行", "西安银行", "西藏银行", "厦门国际银行", "厦门银行", "新疆汇和银行", "邢台银行", "雅安市商业银行", "烟台银行", "阳泉市商业银行", "宜宾市商业银行", "营口沿海银行", "营口银行", "云南红塔银行", "枣庄银行", "张家口银行", "浙江稠州商业银行", "浙江民泰商业银行", "浙江泰隆商业银行", "郑州银行", "珠海华润银行", "自贡银行", "农村商业银行", "农村信用联合社" ]);
var t = this;
t.totalCount = Math.ceil(e.length / 2);
t.ContentNode.height = t.totalCount * (t.itemTemplateHeight + t.spacing) + t.spacing;
t.data = e;
for (var i = 0; i < t.spawnCount; i++) {
var n = cc.instantiate(this.listRowPrefab);
cc.isValid(t.ContentNode) && t.ContentNode.addChild(n);
n.setPosition(0, -n.height * (.5 + i) - t.spacing * (i + 1));
if (n && n.getComponent("WithdrawBankListRow")) {
n.getComponent("WithdrawBankListRow").setCallback(function(e) {
t.onItemSelect(e);
});
t.renderItemData(i, n);
t.items.push(n);
}
}
t.loadRemoteBankList();
},
renderItemData: function(e, t) {
var i = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
if (this.data && 0 != this.data.length) {
var o = void 0, n = void 0;
2 * e < this.data.length && (o = this.data[2 * e]);
2 * e + 1 < this.data.length && (n = this.data[2 * e + 1]);
t.getComponent("WithdrawBankListRow").setData(e, o, n);
i && t.getComponent("WithdrawBankListRow").updateSelectStatus(this._bankName);
}
}
});
cc._RF.pop();
}, {
"../../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"./../../../../Script/GameFramework/ApiMgr": "ApiMgr",
DialogUtil: "DialogUtil",
WithdrawGlobal: "WithdrawGlobal"
} ],
WithdrawBankSelectItem: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "a40ad4Izz5BGKP/TXsVl+E7", "WithdrawBankSelectItem");
var o = e("CommonFunction");
cc.Class({
extends: cc.Component,
properties: {
avatar: cc.Sprite,
borderNode: cc.Node,
borderImg: {
default: [],
type: cc.SpriteFrame
}
},
onLoad: function() {},
start: function() {},
initWithData: function(e) {
var t = this;
e && cc.loader.load(e, function(e, i) {
if (!e) {
var o = new cc.SpriteFrame(i);
t.avatar && t.avatar.getComponent(cc.Sprite) && (t.avatar.getComponent(cc.Sprite).spriteFrame = o);
}
});
},
initWithLocalData: function(e, t) {
var i = this;
e && o.getBankIconFromAtlas(e, t, function(e, t) {
e || i.avatar && i.avatar.getComponent(cc.Sprite) && (i.avatar.getComponent(cc.Sprite).spriteFrame = t);
});
},
setItemNormal: function() {
this.borderNode && (this.borderNode.active = !1);
},
setItemSelect: function() {
this.borderNode && this.borderNode.getComponent(cc.Sprite) && (this.borderNode.active = !0);
}
});
cc._RF.pop();
}, {
CommonFunction: "CommonFunction"
} ],
WithdrawBanksMapView: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "6c40dJhsAtDs4gHoMnyU1+W", "WithdrawBanksMapView");
cc.Class({
extends: cc.Component,
properties: {
bankItem: cc.Prefab,
bankSprites: {
type: cc.SpriteFrame,
default: []
}
},
initBanks: function(e) {
this.bankNames = [ "中国银行", "中国工商银行", "中国农业银行", "中国建设银行", "交通银行", "招商银行", "平安银行", "中信银行", "邮政储蓄银行" ];
this.selectCallback = e;
this.bankArray = [];
this.node.removeAllChildren();
for (var t = 0; t < this.bankNames.length; t++) {
var i = cc.instantiate(this.bankItem);
if (cc.isValid(this.node) && cc.isValid(i) && i.getComponent("WithdrawBankItem")) {
this.node.addChild(i);
var o = i.getComponent("WithdrawBankItem");
this.bankArray.push(o);
o.initContent(t, this.getSpriteFrame(t), this.selectItem.bind(this));
}
}
},
selectItem: function(e) {
if (this.bankArray && e >= 0 && e < this.bankArray.length) {
this.resetBanks();
this.bankArray[e].setSelected(!0);
}
var t = this.bankNames[e];
null == t && (t = "");
this.selectCallback && this.selectCallback(e, t);
},
setSelectedByBankName: function(e) {
this.resetBanks();
var t = this.bankNames.indexOf(e);
this.bankArray && t >= 0 && t < this.bankArray.length && this.bankArray[t].setSelected(!0);
},
getSpriteFrame: function(e) {
if (null != this.bankSprites && e < this.bankSprites.length) {
var t = this.bankSprites[e];
if (null != t) return t;
}
},
resetBanks: function() {
this.bankArray && this.bankArray.forEach(function(e) {
e.setSelected(!1);
});
}
});
cc._RF.pop();
}, {} ],
WithdrawBank: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "b17babhCp1I9KejrHh5R0ua", "WithdrawBank");
var o = l(e("../../../../Script/BaseFormat")), n = l(e("../../../../Script/UI/CommonPrefabMgr")), r = l(e("../../../../Script/LocalStorage/LocalStorageUtil")), a = l(e("../../../../Script/Audio/CommonAudioMgr")), s = l(e("../../../../Script/Audio/CommonAudio")), c = l(e("./../../../../Script/GameFramework/ApiMgr"));
function l(e) {
return e && e.__esModule ? e : {
default: e
};
}
e("WithdrawGlobal");
var u = e("WithdrawBanksMapView");
cc.Class({
extends: cc.Component,
properties: {
unbindView: cc.Node,
bindedView: cc.Node,
withdrawBanksMapView: u,
unBindPlayerName: cc.EditBox,
unBindBankCard: cc.EditBox,
unBindOpenBank: cc.Label,
selectShowBank: cc.Label,
unBindHintText: cc.Label,
bindedPlayerName: cc.Label,
bindedBankCard: cc.Label,
bindedOpenBank: cc.Label,
bindedHintText: cc.Label,
resetBtn: cc.Node
},
onLoad: function() {
this.addLabelOutlineWithNode();
this.withdrawBanksMapView.initBanks(this.clickBank.bind(this));
},
clickBank: function(e, t) {
a.default.playEffect(s.default.common.btnMusic);
this.unBindOpenBank.string = t;
this.selectShowBank.node.active = !0;
},
addLabelOutlineWithNode: function() {
cc.vv.editBoxMgr.addOutlineWithNode(this.unBindPlayerName.node);
cc.vv.editBoxMgr.addOutlineWithNode(this.unBindBankCard.node);
},
onConfigLoaded: function() {
this.getBindingBankCardAction();
},
clickBind: function() {
var e = this;
a.default.playEffect(s.default.common.btnMusic);
var t = e.unBindPlayerName.string;
if (o.default.verifyActualname(t)) {
var i = e.unBindBankCard.string;
if (o.default.isBankCode(i)) {
var r = e.unBindOpenBank.string;
r = r.replace(/\s+/g, "");
if (o.default.isChinese(r)) {
var l = {
name: t,
bank_no: i,
bank_addr: "",
province: "",
city: "",
sub_bank: r
};
c.default.postBindBankCard(l, function(t) {
n.default.createToast("绑定成功，即将跳转兑换页面");
e.scheduleOnce(function() {
cc.director.emit("TabChange", {
index: 0,
option: {
refresh: !0
}
});
e.getBindingBankCardAction();
e.resetUnBindUI();
}, 1);
}, function(t) {
if (301 != t.status) {
n.default.createToast("绑定失败");
e.resetUnBindUI();
} else n.default.createToast("抱歉，该账户已与三个账户发生关联");
});
} else n.default.createToast("请输入正确的开户银行");
} else n.default.createToast("请输入有效的银行卡号");
} else n.default.createToast("请输入正确的收款人姓名");
},
resetUnBindUI: function() {
this.unBindPlayerName.string = "";
this.unBindBankCard.string = "";
this.unBindOpenBank.string = "";
this.selectShowBank.node.active = !1;
this.withdrawBanksMapView.resetBanks();
},
getBindingBankCardAction: function() {
var e = this;
c.default.getBindBankCard(function(t) {
var i = null;
"{}" != JSON.stringify(t) && (i = t);
r.default.saveWithDrawBindInfo(11, i);
e.showBankCardInfoView(i);
}.bind(e));
},
showBankCardInfoView: function(e) {
if (WithdrawProjectConfig.bindInfoConfig && WithdrawProjectConfig.bindInfoConfig.length > 0) {
for (var t = void 0, i = 0; i < WithdrawProjectConfig.bindInfoConfig.length; i++) if (11 == WithdrawProjectConfig.bindInfoConfig[i].type) {
t = WithdrawProjectConfig.bindInfoConfig[i];
break;
}
if (t) {
var o = t.resettable;
if (e) {
this.unbindView && (this.unbindView.active = !1);
this.bindedView && (this.bindedView.active = !0);
this.resetBtn && (this.resetBtn.active = o);
this.bindedHintText && (this.bindedHintText.string = t.tips);
this.bindedPlayerName && (this.bindedPlayerName.string = e.name || "");
this.bindedBankCard && (this.bindedBankCard.string = e.bank_no || "");
this.bindedOpenBank && (this.bindedOpenBank.string = e.sub_bank || "");
} else {
this.unbindView && (this.unbindView.active = !0);
this.bindedView && (this.bindedView.active = !1);
this.unBindHintText && (this.unBindHintText.string = t.tips);
}
}
}
},
clickChooseBank: function() {
var e = this;
a.default.playEffect(s.default.common.btnMusic);
cc.loader.loadRes(WithdrawProjectConfig.resources.bankListPrefab, function(t, i) {
if (i) {
var o = cc.instantiate(i);
o && o.getComponent("WithdrawBankList") && o.getComponent("WithdrawBankList").showDialog(e.unBindOpenBank.string, function(t) {
if (t && cc.isValid(e.unBindOpenBank)) {
e.selectShowBank && (e.selectShowBank.node.active = !0);
e.unBindOpenBank && (e.unBindOpenBank.string = t);
e.withdrawBanksMapView.setSelectedByBankName(t);
}
}.bind(e));
}
});
},
clickReset: function() {
var e = this;
a.default.playEffect(s.default.common.btnMusic);
cc.loader.loadRes(WithdrawProjectConfig.resources.withdrawResetDialog, function(t, i) {
if (i) {
var o = cc.instantiate(i);
o && o.getComponent("WithdrawResetBind") && o.getComponent("WithdrawResetBind").showDialog(11, function() {
e.getBindingBankCardAction();
e.resetUnBindUI();
}.bind(e));
}
});
}
});
cc._RF.pop();
}, {
"../../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../../../Script/BaseFormat": "BaseFormat",
"../../../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"./../../../../Script/GameFramework/ApiMgr": "ApiMgr",
WithdrawBanksMapView: "WithdrawBanksMapView",
WithdrawGlobal: "WithdrawGlobal"
} ],
WithdrawCashContent: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "744dcyFh4pN0LZRHkDKTewH", "WithdrawCashContent");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = e("../../../Script/UserManager"), a = e("./../../../Script/GameFramework/ApiMgr"), s = e("../../../Script/UI/CommonPrefabMgr"), c = e("CommonEventName"), l = e("CommonLanguage"), u = cc._decorator, d = u.ccclass, f = u.property, h = e("GameEngineUtil"), p = e("TrackUtil"), g = e("FormatCheckUtil"), m = e("../../../Script/BaseFormat"), y = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.balance = null;
t.withdraweditbox = null;
t.methodscontentnode = null;
t.methodsitem = null;
t.text = "hello";
t.modeldata = null;
t.minamount = 500;
t.minbalance = 100;
t.maxamount = 5e4;
t.commison = .02;
t.moneyeditChanged = !0;
return t;
}
t.prototype.onLoad = function() {
var e = r.default.coin > 0 ? r.default.coin : 0;
this.balance.string = l.currentlanguage.goldshow.one.format(m.default.foramtGold(e));
try {
this.minamount = Number(this.modeldata.minamount);
} catch (e) {
this.minamount = 500;
}
try {
this.minbalance = Number(this.modeldata.minbalance);
} catch (e) {
this.minbalance = 100;
}
try {
this.maxamount = Number(this.modeldata.maxamount);
} catch (e) {
this.maxamount = 5e4;
}
try {
this.commison = Number(this.modeldata.commison);
} catch (e) {
this.commison = .02;
}
var t = m.default.accMulti(100, this.commison);
this.node.getChildByName("withdrawnotice").getComponent(cc.RichText).string = l.currentlanguage.withdraw.withdrawnotice.format(this.minamount, this.maxamount, t, this.minbalance);
this.methodscontentnode.removeAllChildren();
this.refreshCommissionViewShow();
};
t.prototype.refreshContentViewShow = function() {
var e = this;
if (e.modeldata) {
var t = e.modeldata.withdrawtypeList;
if (t && t.length > 0) for (var i = function(i) {
var o = i, n = t[i];
if (n.choosemethodsprefab) n.choosemethodsprefab.getComponent("Withdrawmethodsitem").refreshViewShow(); else {
var r = cc.instantiate(e.methodsitem);
r.getComponent("Withdrawmethodsitem").initData(n);
e.methodscontentnode.addChild(r);
n.choosemethodsprefab = r;
r.on("click", function() {
for (var e = 0; e < t.length; e++) {
t[e].ischecked = !1;
if (e == o) {
t[e].ischecked = !0;
var i = t[e];
0 == i.paytype ? h.trackEvent(p.withdrawpaytmbtnclick) : 1 == i.paytype && h.trackEvent(p.withdrawdebitbtnclick);
}
t[e].choosemethodsprefab.getComponent("Withdrawmethodsitem").refreshViewShow();
}
});
}
}, o = 0; o < t.length; o++) i(o);
}
};
t.prototype.maxOnclick = function() {
var e = r.default.coin > 0 ? r.default.coin : 0;
this.withdraweditbox.string = m.default.foramtGold(e);
h.trackEvent(p.withdrawmaxbtnclick);
};
t.prototype.withDrawClick = function() {
h.trackEvent(p.withdrawbtnclick);
var e = r.default.coin > 0 ? r.default.coin : 0, t = Number(Number(m.default.foramtGold(e)) - this.minbalance), i = this.withdraweditbox.string;
if (i.length <= 0 || !g.isIntegerNumber(i)) s.default.createAlert(l.currentlanguage.withdraw.withdraweditemptynotice, l.currentlanguage.alert.alertbuttonone, function() {}, void 0, void 0, !1, void 0, void 0); else {
var o = this.minamount;
if (Number(i) > t) s.default.createAlert(l.currentlanguage.withdraw.withdraweditnotenough, l.currentlanguage.alert.alertbuttonone, function() {}, void 0, void 0, !1, void 0, void 0); else if (Number(i) < o) s.default.createAlert(l.currentlanguage.withdraw.withdraweditnotcopmlete.format(o), l.currentlanguage.alert.alertbuttonone, function() {}, void 0, void 0, !1, void 0, void 0); else if (this.modeldata) {
var n = this.modeldata;
if (this.checkwithdraweditinfocomplete(n)) {
var u = {
amount: i,
paytype: n.paytype,
paychannel: n.paychannel
};
a.default.postYaarPayWithdraw(u, function(e) {
a.default.postExchangeWithdraw(u, function(e) {
s.default.createAlert(l.currentlanguage.withdraw.withdrawsuccess, l.currentlanguage.commondialog.btnone, function() {
cc.director.emit(c.refreshUserInfo);
}, void 0, void 0, !1, void 0, void 0, !1);
cc.director.emit("DIMISSDIALOG");
}, function(e) {
e && e.msg && s.default.createToast(e.msg);
});
}, function(e) {
e && e.msg && s.default.createToast(e.msg);
});
}
}
}
};
t.prototype.checkwithdraweditinfocomplete = function(e) {
if (!e) return !1;
var t = e.paytype;
if (0 == t) {
var i = e.withdrawpaytm;
if (i) {
if (i.payeemobile) return !0;
this.donotcompleteinfoLogic(e);
return !1;
}
this.donotcompleteinfoLogic(e);
return !1;
}
if (1 == t) {
var o = e.withdrawdebitcard;
if (!o) {
this.donotcompleteinfoLogic(e);
return !1;
}
if (0 == e.paychannel) {
if (o.accountnumber && o.accountholdername && o.ifsccode && o.payeeemail && o.payeemobile) return !0;
this.donotcompleteinfoLogic(e);
return !1;
}
if (2 == e.paychannel) {
if (o.accountnumber && o.accountholdername && o.ifsccode && o.bankcodeno) return !0;
this.donotcompleteinfoLogic(e);
return !1;
}
}
};
t.prototype.donotcompleteinfoLogic = function(e) {
this.onClickWithDrawInfoDialog();
s.default.createToast("Please fill in your withdrawal method info first");
};
t.prototype.initData = function(e) {
this.modeldata = e;
};
t.prototype.start = function() {};
t.prototype.onClickWithDrawRecord = function() {
h.trackEvent(p.withdrawrecordbtnclick);
a.default.getWithdrawRecords(void 0, function(e) {
s.default.showWithDrawRecordDialog(e.withdrawitemsList);
}, function(e) {
e && e.msg && s.default.createToast(e.msg);
});
};
t.prototype.onClickWithDrawInfoDialog = function() {
s.default.showWithDrawInfoDialog(this.modeldata);
};
t.prototype.withDrawCashMoneyEditTextChanged = function() {
if (this.moneyeditChanged) {
this.moneyeditChanged = !1;
h.trackEvent(p.withdrawmoneyeditchanged);
}
this.refreshCommissionViewShow();
};
t.prototype.refreshCommissionViewShow = function() {
var e = this.withdraweditbox.string, t = this.node.getChildByName("withdrawapplybtn"), i = this.node.getChildByName("withdrawcommission");
if (e.length <= 0 || !g.isIntegerNumber(e)) {
i.active = !1;
t.getComponent(cc.Widget).top = 412;
} else {
i.active = !0;
t.getComponent(cc.Widget).top = 448;
var o = m.default.accMulti(Number(e), this.commison);
i.getComponent(cc.Label).string = l.currentlanguage.withdraw.withdrawcommission.format(o);
}
};
n([ f(cc.Label) ], t.prototype, "balance", void 0);
n([ f(cc.EditBox) ], t.prototype, "withdraweditbox", void 0);
n([ f(cc.Node) ], t.prototype, "methodscontentnode", void 0);
n([ f(cc.Prefab) ], t.prototype, "methodsitem", void 0);
n([ f ], t.prototype, "text", void 0);
return t = n([ d ], t);
}(cc.Component);
i.default = y;
cc._RF.pop();
}, {
"../../../Script/BaseFormat": "BaseFormat",
"../../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"../../../Script/UserManager": "UserManager",
"./../../../Script/GameFramework/ApiMgr": "ApiMgr",
CommonEventName: "CommonEventName",
CommonLanguage: "CommonLanguage",
FormatCheckUtil: "FormatCheckUtil",
GameEngineUtil: "GameEngineUtil",
TrackUtil: "TrackUtil"
} ],
WithdrawCodeTab: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "354b3qjcAREGqBewKCd2UAY", "WithdrawCodeTab");
var o = c(e("../../../Script/GameFramework/ApiMgr")), n = c(e("../../../Script/UI/CommonPrefabMgr")), r = c(e("../../../Script/Audio/CommonAudioMgr")), a = c(e("../../../Script/Audio/CommonAudio")), s = c(e("../../../Script/ProjectConfig"));
function c(e) {
return e && e.__esModule ? e : {
default: e
};
}
e("WithdrawGlobal");
var l = e("CommonEventName");
cc.Class({
extends: cc.Component,
properties: {
editCode: cc.EditBox,
tips: cc.RichText
},
onLoad: function() {
this.tips.string = WithdrawProjectConfig.codeTips;
this.addLabelOutlineWithNode();
},
initContentView: function(e) {},
addLabelOutlineWithNode: function() {
cc.vv.editBoxMgr.addOutlineWithNode(this.editCode.node);
},
endCodeEditing: function() {
this.editCode.string = this.getOnlyNumberAndEngString(this.editCode.string);
},
getOnlyNumberAndEngString: function(e) {
var t = new RegExp("[^A-Za-z0-9]", "g");
return e.replace(t, "");
},
onBtnClick: function(e) {
r.default.playEffect(a.default.common.btnMusic);
e && e.target && s.default.clickManager(e.target);
var t = void 0;
this.editCode && (t = this.getOnlyNumberAndEngString(this.editCode.string));
o.default.exchangeCode({
code: t
}, function(e) {
if (e) {
var t = e.amount, i = e.title;
n.default.createAlert("恭喜成功兑换“" + i + "”，获得" + t + "元，已存入保险柜！", "确定", function() {
cc.director.emit(l.refreshUserInfo);
});
}
}, function(e) {
var t = e.status, i = e.msg;
1 == t ? n.default.createToast("活动代码输入有误，请重新输入！") : 32 == t ? n.default.createToast("活动代码已过期！") : 33 == t ? n.default.createToast("活动尚未开始，请耐心等候！") : 201 == t ? n.default.createToast("活动代码已兑换，请勿重复兑换！") : 301 == t ? n.default.createToast("您的兑换次数已达到上限，请把机会留给别人吧！") : 308 == t ? n.default.createToast("操作频繁，请稍后再试！") : n.default.createToast(i);
});
}
});
cc._RF.pop();
}, {
"../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../../Script/GameFramework/ApiMgr": "ApiMgr",
"../../../Script/ProjectConfig": "ProjectConfig",
"../../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
CommonEventName: "CommonEventName",
WithdrawGlobal: "WithdrawGlobal"
} ],
WithdrawDialog: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "b8f13nbqCxH+bXlWyVB8eE/", "WithdrawDialog");
var o = s(e("../../../Script/Audio/CommonAudioMgr")), n = s(e("../../../Script/Audio/CommonAudio")), r = s(e("../../../Script/UI/CommonPrefabMgr")), a = s(e("../../../Script/ProjectConfig"));
function s(e) {
return e && e.__esModule ? e : {
default: e
};
}
e("WithdrawGlobal");
var c = e("ComponentRes");
cc.Class({
extends: cc.Component,
properties: {
mask: cc.Node,
frame: cc.Node,
body: cc.Node,
getMoneyInfoBtn: cc.Sprite,
contentFrame: cc.Node,
tabBarContainer: cc.Node,
highlightSpriteFrame: cc.SpriteFrame,
normalSpriteFrame: cc.SpriteFrame
},
onLoad: function() {
this.contentView = null;
this.prefabScript = "WithdrawInfoTab";
cc.director.on("TabItemClick", this.resetGetMoneyInfoBtn, this);
},
bindWithDrawData: function(e, t, i) {
var o = this.node.getComponent("VerticalTabDialog");
o && o.initWithTabDataAndContent(e, t, "", 0, i);
},
showWithDrawDialogView: function(e, t, i) {
var o = this;
r.default.removeCommonLoading();
var n = cc.callFunc(function() {
if (cc.isValid(o.contentFrame)) {
o.bindWithDrawData(e, t, i);
o.contentFrame.opacity = 255;
}
}), a = cc.callFunc(function() {
if (cc.isValid(o.body)) {
o.body.active = !0;
o.body.runAction(cc.sequence(cc.delayTime(.04), cc.fadeIn(.2), cc.delayTime(.1), n));
}
});
if (cc.isValid(o.node)) {
o.node.setPosition(0, 0);
o.node.opacity = 0;
o.node.scale = 0;
o.mask.width = cc.winSize.width;
o.mask.height = cc.winSize.height;
o.contentFrame.opacity = 0;
o.node.active = !0;
o.node.runAction(cc.sequence(cc.spawn(cc.fadeIn(.15), cc.scaleTo(.15, 1.1)), cc.scaleTo(.15, 1), a)).easing(cc.easeSineOut());
}
},
hideWithDrawDialogView: function() {
var e = this;
o.default.playEffect(n.default.common.btnMusic);
r.default.removeCommonLoading();
cc.isValid(e.node) && e.node.runAction(cc.sequence(cc.scaleTo(.08, 1.1), cc.scaleTo(.1, 0), cc.callFunc(function() {
if (cc.isValid(e.node)) {
e.node.active = !1;
e.body.active = !1;
e.body.opacity = 0;
e.clearWithDrawBody();
}
}, e.node))).easing(cc.easeIn(3));
},
clearWithDrawBody: function() {
cc.isValid(this.node) && this.node.stopAllActions();
var e = this.node.getComponent("VerticalTabDialog");
e && e.removeChildView();
},
clickGetMoneyInfo: function() {
o.default.playEffect(n.default.common.btnMusic);
var e = this, t = c.withDraw.info, i = e.contentFrame.children;
if (i) for (var r = 0, a = i.length; r < a; r++) {
var s = i[r];
s.name == e.prefabScript && (e.contentView = s);
}
e.contentView ? e.showContent(e.prefabScript) : cc.loader.loadRes(t, function(t, i) {
if (i) {
e.contentView = cc.instantiate(i);
e.contentFrame.addChild(e.contentView);
e.showContent(e.prefabScript);
}
});
cc.director.emit("TabChange", {
index: -1,
option: {
refresh: !0
}
});
e.resetBtnStatus();
e.getMoneyInfoBtn.spriteFrame = e.highlightSpriteFrame;
},
clickExchangeRecord: function(e) {
a.default.clickManager(e.target);
o.default.playEffect(n.default.common.btnMusic);
cc.loader.loadRes(WithdrawProjectConfig.resources.withdrawRecord, function(e, t) {
if (t) {
var i = cc.instantiate(t);
i && i.getComponent("WithdrawRecord") && i.getComponent("WithdrawRecord").showDialog();
}
});
},
showContent: function(e) {
var t = this.contentView;
if (t) {
if (t.active) return;
var i = this.contentFrame.children;
if (i) for (var o = 0, n = i.length; o < n; o++) {
var r = i[o];
"bg" != r.name && "Loading" != r.name && (r.active = !1);
}
}
if (this.contentView) {
this.contentView.active = !0;
var a = this.contentView.getComponent(e);
a && a.initContentView();
}
},
resetBtnStatus: function() {
if (null != this) {
this.getMoneyInfoBtn.spriteFrame = this.normalSpriteFrame;
var e = this.tabBarContainer.children;
if (e) for (var t = 0, i = e.length; t < i; t++) {
var o = e[t];
if (o) {
var n = o.getComponent("VerticalTabItem");
n && n.setItemNormal();
}
}
}
},
resetGetMoneyInfoBtn: function() {
null != this && (this.getMoneyInfoBtn.spriteFrame = this.normalSpriteFrame);
},
onDestroy: function() {
cc.director.off("TabItemClick", this.resetGetMoneyInfoBtn, this);
cc.vv.gameEngineUtil.dumpMemory("WithdrawDialog");
}
});
cc._RF.pop();
}, {
"../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../../Script/ProjectConfig": "ProjectConfig",
"../../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
ComponentRes: "ComponentRes",
WithdrawGlobal: "WithdrawGlobal"
} ],
WithdrawExTab: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "4584absUMdEQpx2l77Oz8Kc", "WithdrawExTab");
var o = f(e("../../../Script/LocalStorage/LocalStorageUtil")), n = f(e("../../../Script/BaseFormat")), r = f(e("../../../Script/UserManager")), a = f(e("../../../Script/UI/CommonPrefabMgr")), s = f(e("../../../Script/ProjectConfig")), c = f(e("../../../Script/Audio/CommonAudioMgr")), l = f(e("../../../Script/Audio/CommonAudio")), u = f(e("./../../../Script/GameFramework/ApiMgr")), d = f(e("../../../Script/Http/HttpErrorManager"));
function f(e) {
return e && e.__esModule ? e : {
default: e
};
}
e("WithdrawGlobal");
var h = e("GameRestore"), p = e("NewGameInfo");
e("GameEngineUtil");
cc.Class({
extends: cc.Component,
properties: {
myCredit: cc.Label,
exchangeRuleLabel: cc.RichText,
exchangeTypes: {
default: [],
type: cc.Node
},
noBindingInfo: cc.Node,
bindingInfo: cc.Node,
plusBtn: cc.Button,
minusBtn: cc.Button,
mainEditBox: cc.EditBox,
withDrawMethodIcon: {
type: cc.SpriteFrame,
default: []
},
_withDrawDataList: [],
_currentSelectData: null
},
onLoad: function() {
this.multiple = 50;
this.bindingAlipay = null;
this.bindingUnionPay = null;
this.bindingWeChat = null;
this.exchangeNum = 50;
this.minusBtn.interactable = !1;
this.mainEditBox.string = "";
this.addLabelOutline();
this.getMyInfoAction();
this.getWithdrawTypesAction();
},
addLabelOutline: function() {
cc.vv.editBoxMgr.addOutlineWithNode(this.mainEditBox.node);
},
getMyInfoAction: function() {
var e = this;
e.myCredit && (e.myCredit.string = n.default.formatAmount(r.default.coin));
u.default.getUserInfo({
user_id: r.default.uid
}, function(t) {
t && e.myCredit && (e.myCredit.string = n.default.formatAmount(t.gold));
}.bind(e), function() {}, !1);
},
getWithdrawTypesAction: function() {
var e = this;
e._withDrawDataList = o.default.getWithDrawTypesData();
e._withDrawDataList && e._withDrawDataList.length > 0 && e.renderWithdrawTypesInfo(e._withDrawDataList);
u.default.getWithdrawTypes(function(t) {
var i = [];
t && (i = t.list);
if (i && i.length > 0) {
e._withDrawDataList = i;
e.renderWithdrawTypesInfo(i);
o.default.saveWithDrawTypesData(i);
}
});
},
renderWithdrawTypesInfo: function(e) {
this.hideAllMethod();
var t = e.length;
t = t > 4 ? 4 : t;
for (var i = cc.sys.localStorage.getItem("_exchange_last_select_type_"), o = 0, n = 0; n < t; n++) {
var r = e[n];
if (this.exchangeTypes) {
var a = this.exchangeTypes[n];
if (a && r) {
var s = a.getChildByName("selectBg").getChildByName("checkmark"), c = a.getChildByName("text"), l = a.getChildByName("icon");
s && (s.active = !1);
13 == r.type && l && (l.getComponent(cc.Sprite).spriteFrame = this.withDrawMethodIcon[0]);
10 == r.type && l && (l.getComponent(cc.Sprite).spriteFrame = this.withDrawMethodIcon[1]);
11 == r.type && l && (l.getComponent(cc.Sprite).spriteFrame = this.withDrawMethodIcon[2]);
c && (c.getComponent(cc.Label).string = r.name);
a.active = !0;
}
i > 0 && i == r.type && (o = n);
}
}
this.selectMethodByIndex(o);
},
selectMethodByIndex: function(e) {
this.unSelectAllMethod();
this._withDrawDataList && this._withDrawDataList.length > e && (this._currentSelectData = this._withDrawDataList[e]);
if (this.exchangeTypes && this.exchangeTypes.length > e) {
var t = this.exchangeTypes[e];
if (t) {
var i = t.getChildByName("selectBg").getChildByName("checkmark");
i && (i.active = !0);
}
}
this.updateUIWithClickTypeAction();
},
hideAllMethod: function() {
if (this.exchangeTypes && this.exchangeTypes.length > 0) for (var e = 0; e < this.exchangeTypes.length; e++) this.exchangeTypes[e] && (this.exchangeTypes[e].active = !1);
},
unSelectAllMethod: function() {
if (this.exchangeTypes && this.exchangeTypes.length > 0) for (var e = 0; e < this.exchangeTypes.length; e++) {
var t = this.exchangeTypes[e];
if (t) {
var i = t.getChildByName("selectBg").getChildByName("checkmark");
i && (i.active = !1);
}
}
},
updateUIWithClickTypeAction: function() {
this.mainEditBox && (this.mainEditBox.string = "0");
var e = 0;
this._currentSelectData && (e = this._currentSelectData.type);
if (!(e <= 0)) {
var t = this._currentSelectData.min_amount;
t || (t = 10);
var i = this._currentSelectData.max_amount;
0 == i || i || (i = 9999999);
var o = this._currentSelectData.left_count;
0 == o || o || (o = 9999999);
var n = this._currentSelectData.left_total;
0 == n || n || (n = 9999999);
var a = this._currentSelectData.base;
a || (a = 10);
t <= r.default.coin - 10 && t <= n && this.mainEditBox && (this.mainEditBox.string = "" + t);
this.minusBtn && (this.minusBtn.interactable = !1);
if (this.plusBtn) {
this.plusBtn.interactable = !0;
(t > r.default.coin - 10 || i < t || t > n || o <= 0) && (this.plusBtn.interactable = !1);
}
var s = this._currentSelectData.tips;
this.exchangeRuleLabel && (this.exchangeRuleLabel.string = s);
this.updateBindInfoFromRemote(e);
}
},
updateBindInfoFromRemote: function(e) {
10 == e ? this.getBindingAlipayAction() : 11 == e ? this.getBindingBankCardAction() : 13 == e && this.getBindingWeChatAction();
},
getBindingAlipayAction: function() {
var e = this;
e.bindingAlipay = o.default.getWithDrawBindInfo(10);
e.updateBindInfoView();
u.default.getBindAlibay(function(t) {
"{}" == JSON.stringify(t) ? e.bindingAlipay = null : e.bindingAlipay = t;
o.default.saveWithDrawBindInfo(10, e.bindingAlipay);
e.updateBindInfoView();
}.bind(e));
},
getBindingBankCardAction: function() {
var e = this;
e.bindingUnionPay = o.default.getWithDrawBindInfo(11);
e.updateBindInfoView();
u.default.getBindBankCard(function(t) {
"{}" == JSON.stringify(t) ? e.bindingUnionPay = null : e.bindingUnionPay = t;
o.default.saveWithDrawBindInfo(11, e.bindingUnionPay);
e.updateBindInfoView();
}.bind(e));
},
getBindingWeChatAction: function() {
var e = this;
e.bindingWeChat = o.default.getWithDrawBindInfo(13);
e.updateBindInfoView();
u.default.getBindWeChat(function(t) {
"{}" == JSON.stringify(t) ? e.bindingWeChat = null : e.bindingWeChat = t;
o.default.saveWithDrawBindInfo(13, e.bindingWeChat);
e.updateBindInfoView();
}.bind(e));
},
updateBindInfoView: function() {
var e = 0;
this._currentSelectData && (e = this._currentSelectData.type);
if (!(e <= 0)) {
var t = null, i = null, o = null;
if (10 == e) if (null == this.bindingAlipay) {
t = "您尚未绑定支付宝";
if (this.bindingInfo && this.noBindingInfo) {
this.noBindingInfo.getChildByName("text").getComponent(cc.Label).string = t || "";
this.noBindingInfo.active = !0;
this.bindingInfo.active = !1;
}
} else {
i = this.bindingAlipay.acc || "";
o = "您已绑定支付宝：";
if (this.bindingInfo && this.noBindingInfo) {
this.bindingInfo.getChildByName("txt").getComponent(cc.Label).string = o || "";
this.bindingInfo.getChildByName("Label").getComponent(cc.Label).string = i || "";
this.noBindingInfo.active = !1;
this.bindingInfo.active = !0;
}
} else if (11 == e) if (null == this.bindingUnionPay) {
t = "您尚未绑定银行卡";
if (this.bindingInfo && this.noBindingInfo) {
this.noBindingInfo.getChildByName("text").getComponent(cc.Label).string = t || "";
this.noBindingInfo.active = !0;
this.bindingInfo.active = !1;
}
} else {
i = this.bindingUnionPay.acc || "";
o = "您已绑定银行卡：";
if (this.bindingInfo && this.noBindingInfo) {
this.bindingInfo.getChildByName("txt").getComponent(cc.Label).string = o || "";
this.bindingInfo.getChildByName("Label").getComponent(cc.Label).string = i || "";
this.noBindingInfo.active = !1;
this.bindingInfo.active = !0;
}
} else if (13 == e) if (null == this.bindingWeChat) {
t = "您尚未绑定微信账号";
if (this.bindingInfo && this.noBindingInfo) {
this.noBindingInfo.getChildByName("text").getComponent(cc.Label).string = t || "";
this.noBindingInfo.active = !0;
this.bindingInfo.active = !1;
}
} else {
i = this.bindingWeChat.acc || "";
o = "您已绑定微信账号：";
if (this.bindingInfo && this.noBindingInfo) {
this.bindingInfo.getChildByName("txt").getComponent(cc.Label).string = o || "";
this.bindingInfo.getChildByName("Label").getComponent(cc.Label).string = i || "";
this.noBindingInfo.active = !1;
this.bindingInfo.active = !0;
}
}
}
},
clickExchangeTypeAction: function(e, t) {
c.default.playEffect(l.default.common.btnMusic);
this.selectMethodByIndex(t);
},
clickPlusAction: function() {
c.default.playEffect(l.default.common.btnMusic);
var e = 0, t = 0;
if (this._currentSelectData) {
(e = this._currentSelectData.base) || (e = 10);
if ((t = this._currentSelectData.type) <= 0) {
a.default.createToast("未知错误，请稍后再试.");
return;
}
}
var i = this.getInputAmount() + e, o = this._currentSelectData.max_amount;
o || (o = 9999999);
var n = this._currentSelectData.left_count;
0 == n || n || (n = 9999999);
var s = this._currentSelectData.left_total;
0 == s || s || (s = 9999999);
var u = this._currentSelectData.max_total;
u || (u = 9999999);
var d = this._currentSelectData.max_count;
d || (d = 9999999);
if (i > o) {
this.plusBtn.interactable = !1;
a.default.createToast("使用" + WithdrawProjectConfig.withdrawMap[t] + "兑换单笔金额不可高于 " + o);
} else if (i > s) {
this.plusBtn.interactable = !1;
a.default.createToast("每日仅可使用" + WithdrawProjectConfig.withdrawMap[t] + "兑换" + u + "元");
} else if (n <= 0) {
this.plusBtn.interactable = !1;
a.default.createToast("每日仅可使用" + WithdrawProjectConfig.withdrawMap[t] + "兑换" + d + "次");
} else if (i > r.default.coin - 10) {
this.plusBtn.interactable = !1;
a.default.createToast("兑换金额不能超过账户余额");
} else {
this.mainEditBox && (this.mainEditBox.string = "" + i);
i >= this._currentSelectData.min_amount + e && (this.minusBtn.interactable = !0);
i + e > o && (this.plusBtn.interactable = !1);
}
},
clickMinusAction: function() {
c.default.playEffect(l.default.common.btnMusic);
var e = 0, t = 0;
if (this._currentSelectData) {
(e = this._currentSelectData.base) || (e = 10);
t = this._currentSelectData.type;
}
if (t <= 0 || e <= 0) a.default.createToast("数据异常，请稍后再试"); else {
var i = this.getInputAmount() - e, o = this._currentSelectData.min_amount;
0 == o || o || (o = 10);
var n = this._currentSelectData.left_count;
0 == n || n || (n = 9999999);
var s = this._currentSelectData.max_count;
0 == s || s || (s = 9999999);
if (i < o) {
this.minusBtn.interactable = !1;
a.default.createToast("使用" + WithdrawProjectConfig.withdrawMap[t] + "兑换单笔金额不可低于 " + o);
} else if (n <= 0) {
this.minusBtn.interactable = !1;
a.default.createToast("每日仅可使用" + WithdrawProjectConfig.withdrawMap[t] + "兑换" + s + "次");
} else if (i > r.default.coin - 10) {
this.minusBtn.interactable = !1;
a.default.createToast("兑换金额不能超过账户余额");
} else {
this.mainEditBox && (this.mainEditBox.string = "" + i);
this.minusBtn.interactable = !(i < o + e);
this.plusBtn.interactable = !0;
}
}
},
onMaxChangeButtonClick: function() {
c.default.playEffect(l.default.common.btnMusic);
var e = this.getMaxAmount();
this.mainEditBox && (this.mainEditBox.string = "" + e);
if (e > 0) {
this.minusBtn.interactable = !0;
this.plusBtn.interactable = !1;
} else a.default.createToast("当前可用的兑换金额为 " + e + " 元");
},
getMaxAmount: function() {
var e = 0;
if (this._currentSelectData) {
var t = this._currentSelectData.min_amount;
t || (t = 10);
var i = this._currentSelectData.max_amount;
i || (i = 9999999);
var o = this._currentSelectData.left_count;
0 == o || o || (o = 9999999);
var n = this._currentSelectData.left_total;
0 == n || n || (n = 9999999);
var a = this._currentSelectData.base;
a || (a = 10);
(e = parseInt(r.default.coin - parseInt(r.default.coin % a))) > r.default.coin - 10 && (e -= a);
e < t && (e = 0);
e > i && (e = i);
o <= 0 && (e = 0);
}
return e;
},
getMinAmount: function() {
var e = 0;
if (this._currentSelectData) {
var t = this._currentSelectData.min_amount;
t || (t = 10);
var i = this._currentSelectData.left_count;
0 == i || i || (i = 9999999);
var o = this._currentSelectData.left_total;
0 == o || o || (o = 9999999);
e = t;
t > r.default.coin - 10 && (e = 0);
t > o && (e = 0);
i <= 0 && (e = 0);
}
return e;
},
getInputAmount: function() {
if (this.mainEditBox) {
var e = this.mainEditBox.string, t = this.trimInputNumber(e);
t && "" != t || (t = 0);
return parseInt(t);
}
return 0;
},
trimInputNumber: function(e) {
var t = "";
if (e += "") for (var i = 0; i < e.length; i++) {
var o = e.charAt(i);
"0" != o && "1" != o && "2" != o && "3" != o && "4" != o && "5" != o && "6" != o && "7" != o && "8" != o && "9" != o || (t += o);
}
return t;
},
importEdited: function(e) {
if (e && !isNaN(e)) {
var t = this.getMaxAmount();
parseInt(e) >= t && (e = t);
this.mainEditBox && (this.mainEditBox.string = parseInt(e) + "" || "0");
this._currentSelectData.base;
var i = this._currentSelectData.min_amount || 0, o = this._currentSelectData.max_amount;
0 == o || o || (o = 9999999);
var n = parseInt(e);
if (n <= parseInt(i)) {
this.minusBtn.interactable = !1;
this.plusBtn.interactable = !0;
} else if (n > parseInt(i) && n < parseInt(o)) {
this.minusBtn.interactable = !0;
this.plusBtn.interactable = !0;
} else {
this.minusBtn.interactable = !0;
this.plusBtn.interactable = !1;
}
} else {
this.minusBtn.interactable = !1;
this.plusBtn.interactable = !1;
}
},
initContentView: function() {
this.getWithdrawTypesAction();
},
doExchange: function(e) {
var t = this;
e && e.target && s.default.clickManager(e.target);
c.default.playEffect(l.default.common.btnMusic);
if (o.default.isPlayingGame()) {
var i = {
game_id: s.default.GAME_TYPE.GAME_HALL
};
u.default.getRoomConfig(i, function(e) {
var i = e.last_game, n = e.room_index, r = e.room;
if (i) {
p.updateRoomList(i, r);
o.default.setPlayingGame();
h.createGameRestoreDialog(i, n);
} else {
o.default.clearPlayingGame();
t.exchangeAction();
}
}, function(e) {
var t = e.status;
6 == t && d.default.handleCommonHttpError(t);
}, !1);
} else t.exchangeAction();
},
exchangeAction: function() {
var e = this;
if (e._currentSelectData) {
var t = e._currentSelectData.type;
e.onEditInputTextChanged();
var i = e.mainEditBox.string;
if (!i || "" == i) {
a.default.createToast("请先输入兑换金额");
return;
}
var o = parseInt(i);
if (o <= 0) {
a.default.createToast("请先输入兑换金额");
return;
}
var s = e._currentSelectData.max_amount;
s || (s = 9999999);
var c = e._currentSelectData.left_count;
0 == c || c || (c = 9999999);
var l = e._currentSelectData.left_total;
0 == l || l || (l = 9999999);
var f = e._currentSelectData.max_total;
f || (f = 9999999);
var h = e._currentSelectData.max_count;
h || (h = 9999999);
var p = e._currentSelectData.min_amount;
p || (p = 0);
if (o < p) {
e.minusBtn.interactable = !1;
a.default.createToast("使用" + WithdrawProjectConfig.withdrawMap[t] + "兑换单笔金额不可低于 " + p);
return;
}
if (o > s) {
e.plusBtn.interactable = !1;
a.default.createToast("使用" + WithdrawProjectConfig.withdrawMap[t] + "兑换单笔金额不可高于 " + s);
return;
}
if (o > l) {
e.plusBtn.interactable = !1;
a.default.createToast("每日仅可使用" + WithdrawProjectConfig.withdrawMap[t] + "兑换" + f + "元");
return;
}
if (c <= 0) {
e.plusBtn.interactable = !1;
a.default.createToast("每日仅可使用" + WithdrawProjectConfig.withdrawMap[t] + "兑换" + h + "次");
return;
}
if (o > r.default.coin - 10) {
a.default.createToast("兑换后余额不得少于10元");
return;
}
var g = e._currentSelectData.base;
g || (g = 10);
o = parseInt(o - parseInt(o % g));
var m = e.getMinAmount();
if (o < m) {
o = m;
a.default.createToast("使用" + WithdrawProjectConfig.withdrawMap[t] + "当前可用兑换金额为 " + m + "元");
return;
}
var y = e.getMaxAmount();
if (o > y) {
o = y;
a.default.createToast("使用" + WithdrawProjectConfig.withdrawMap[t] + "当前可用的兑换金额为 " + y + "元");
return;
}
if (o > r.default.coin - 10) {
a.default.createToast("余额不足以兑换");
return;
}
e.mainEditBox.string = "" + o;
var b = {
id: e._currentSelectData.id,
amount: o,
type: t
};
u.default.postExchangeWithdraw(b, function(i) {
u.default.getUserInfo({
user_id: r.default.uid
}, function(t) {
if (t) {
r.default.initUser(t);
a.default.createToast("提交成功，审核通过后预计10秒内到帐");
e.myCredit && (e.myCredit.string = n.default.formatAmount(t.gold));
r.default.addCoinCount(-parseInt(e.exchangeNum));
}
}.bind(e), function() {}, !1);
if (e._currentSelectData) {
t = e._currentSelectData.type;
cc.sys.localStorage.setItem("_exchange_last_select_type_", t);
}
e.getWithdrawTypesAction();
}.bind(e), function(e) {
var t = e.status, i = e.msg;
4 != t && 4 != e ? 302 != t && 302 != e ? 301 != t && 301 != e ? 22 != t && 22 != e ? 308 != t ? 6 != t ? a.default.createToast("抱歉，兑换失败，请联系客服") : d.default.handleCommonHttpError(t) : a.default.createAlert(i, "我知道了", function() {}) : a.default.createToast("抱歉，您当前正处于游戏中，请稍后再试.") : a.default.createToast("抱歉，已达当日兑换上限，请明天再来吧.") : a.default.createToast("抱歉，请绑定后再兑换") : "not fromal user" != i || r.default.is_formal ? a.default.createToast("抱歉，兑换后账户余额不可少于10元。") : a.default.createRegisterForGifts();
}.bind(e));
} else a.default.createToast("数据异常，请稍后再式......");
},
onEditInputTextChanged: function() {
if (this.mainEditBox) {
var e = this.mainEditBox.string, t = this.trimInputNumber(e);
this.mainEditBox.string = t;
}
},
clickExchangeRecord: function() {
c.default.playEffect(l.default.common.btnMusic);
cc.loader.loadRes(WithdrawProjectConfig.resources.withdrawRecord, function(e, t) {
if (t) {
var i = cc.instantiate(t);
i && i.getComponent("WithdrawRecord") && i.getComponent("WithdrawRecord").showDialog();
}
});
},
clickBindingAction: function() {
var e = 0;
c.default.playEffect(l.default.common.btnMusic);
this._currentSelectData && (e = this._currentSelectData.type);
e <= 0 || cc.director.emit("TabChange", {
index: 1,
option: {
type: e
}
});
}
});
cc._RF.pop();
}, {
"../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../../Script/BaseFormat": "BaseFormat",
"../../../Script/Http/HttpErrorManager": "HttpErrorManager",
"../../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../../Script/ProjectConfig": "ProjectConfig",
"../../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"../../../Script/UserManager": "UserManager",
"./../../../Script/GameFramework/ApiMgr": "ApiMgr",
GameEngineUtil: "GameEngineUtil",
GameRestore: "GameRestore",
NewGameInfo: "NewGameInfo",
WithdrawGlobal: "WithdrawGlobal"
} ],
WithdrawGlobal: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "0e9a0YPsC9BPZNnShU4pBKs", "WithdrawGlobal");
var o, n, r = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("../../../Script/ProjectConfig"));
function a(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
e("ComponentRes");
var s = (n = o = function e() {
a(this, e);
}, o.resources = {
bankListPrefab: r.default.variable.curSkin + "/common/prefab/wallet/withdraw/bank/WithdrawBankList",
withdrawRecord: r.default.variable.curSkin + "/common/prefab/wallet/withdraw/record/WithdrawRecord",
withdrawRecordDetail: r.default.variable.curSkin + "/common/prefab/wallet/withdraw/record/WithdrawRecordDetail",
withdrawResetDialog: r.default.variable.curSkin + "/common/prefab/wallet/withdraw/WithdrawResetBind"
}, o.bindInfoConfig = [], o.withdrawMap = {
10: "支付宝",
11: "银行卡",
13: "微信"
}, o.codeTips = "提示：1.兑换码为11位字母与数字的组合，请正确输入。 2.兑换成功后会存入保险柜，请注意查收！", o.color = {}, 
n);
t.exports = s;
cc._RF.pop();
}, {
"../../../Script/ProjectConfig": "ProjectConfig",
ComponentRes: "ComponentRes"
} ],
WithdrawInfoDialogModel: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "4ce1eGe6kFM65PrL85Fuvkm", "WithdrawInfoDialogModel");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = e("../../../Script/Audio/CommonAudioMgr"), a = e("../../../Script/Audio/CommonAudio"), s = cc._decorator, c = s.ccclass, l = s.property, u = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.scrollviewcontent = null;
t.paytmprefab = null;
t.debitprefab = null;
t.dokopaydebitprefab = null;
return t;
}
t.prototype.start = function() {};
t.prototype.showWithdrawInfoDialogView = function(e) {
this.scrollviewcontent.removeAllChildren();
var t = void 0;
if (e) {
0 == e.paytype ? t = this.paytmprefab : 1 == e.paytype && (0 == e.paychannel ? t = this.dokopaydebitprefab : 2 == e.paychannel && (t = this.debitprefab));
if (t) {
var i = cc.instantiate(t);
0 == e.paytype ? i.getComponent("PayTM").initData(e) : 1 == e.paytype && (0 == e.paychannel ? i.getComponent("DebitCard").initData(e) : 2 == e.paychannel && i.getComponent("NewWithdrawInfoFrame").initData(e));
this.scrollviewcontent.addChild(i);
}
}
};
t.prototype.dismiss = function() {
r.default.playEffect(a.default.common.btnMusic);
if (this.node.getComponent("CommonDialog")) this.node.getComponent("CommonDialog").dismiss(); else {
this.node.active = !1;
this.node.removeFromParent();
}
};
t.prototype.submitInfoSuccess = function() {
this.dismiss();
};
t.prototype.onEnable = function() {
cc.director.on("JUMPTOAPPLYWITHDRAWCONTENT", this.submitInfoSuccess, this);
};
t.prototype.onDisable = function() {
cc.director.off("JUMPTOAPPLYWITHDRAWCONTENT");
};
n([ l(cc.Node) ], t.prototype, "scrollviewcontent", void 0);
n([ l(cc.Prefab) ], t.prototype, "paytmprefab", void 0);
n([ l(cc.Prefab) ], t.prototype, "debitprefab", void 0);
n([ l(cc.Prefab) ], t.prototype, "dokopaydebitprefab", void 0);
return t = n([ c ], t);
}(cc.Component);
i.default = u;
cc._RF.pop();
}, {
"../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr"
} ],
WithdrawInfoTab: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "f3e6eGFPxBLLYM5il6vXKM0", "WithdrawInfoTab");
var o = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("./../../../Script/GameFramework/ApiMgr"));
var n = e("HorizonTabView");
e("WithdrawGlobal");
cc.Class({
extends: cc.Component,
properties: {
horizonTabView: n,
alipayPrefab: cc.Prefab,
wechatPrefab: cc.Prefab,
bankcardPrefab: cc.Prefab,
body: cc.Node
},
onLoad: function() {
this.tabTypes = [];
this.alipayContent = cc.instantiate(this.alipayPrefab);
this.wechatContent = cc.instantiate(this.wechatPrefab);
this.bankcardContent = cc.instantiate(this.bankcardPrefab);
this.contents = {
13: this.wechatContent.getComponent("WithdrawWechat"),
10: this.alipayContent.getComponent("WithdrawAlibay"),
11: this.bankcardContent.getComponent("WithdrawBank")
};
if (cc.isValid(this.body)) {
this.body.addChild(this.wechatContent);
this.body.addChild(this.alipayContent);
this.body.addChild(this.bankcardContent);
this.wechatContent.active = !1;
this.alipayContent.active = !1;
this.bankcardContent.active = !1;
}
this.loadConfig();
},
hideAllTab: function() {
if (this.contents) for (var e in this.contents) this.contents[e] && this.contents[e].node && (this.contents[e].node.active = !1);
},
showTab: function(e) {
this.hideAllTab();
if (this.tabTypes && this.tabTypes.length > 0 && e < this.tabTypes.length) {
var t = this.tabTypes[e];
if (this.contents) for (var i in this.contents) if (t == i) {
this.contents[i] && (this.contents[i].node.active = !0);
break;
}
}
},
initContentView: function(e) {
if (e && e.type && this.tabTypes && this.tabTypes.length) for (var t = 0; t < this.tabTypes.length; t++) if (this.tabTypes[t] == e.type) {
this.horizonTabView.selectTab(t);
break;
}
},
loadConfig: function() {
var e = this;
WithdrawProjectConfig.bindInfoConfig && WithdrawProjectConfig.bindInfoConfig.length > 0 ? e.renderUI() : o.default.getBindConfig(function(t) {
WithdrawProjectConfig.bindInfoConfig = t.list;
e.renderUI();
}, function() {});
},
renderUI: function() {
if (WithdrawProjectConfig.bindInfoConfig && WithdrawProjectConfig.bindInfoConfig.length > 0) {
for (var e = [], t = 0; t < WithdrawProjectConfig.bindInfoConfig.length; t++) {
var i = WithdrawProjectConfig.bindInfoConfig[t].type;
this.tabTypes.push(i);
e.push(WithdrawProjectConfig.withdrawMap[i]);
}
this.horizonTabView.initTabs(e, this.showTab.bind(this), 0);
if (this.contents) for (var o in this.contents) this.contents[o] && this.contents[o].onConfigLoaded();
}
}
});
cc._RF.pop();
}, {
"./../../../Script/GameFramework/ApiMgr": "ApiMgr",
HorizonTabView: "HorizonTabView",
WithdrawGlobal: "WithdrawGlobal"
} ],
WithdrawRecordDetail: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "6a36aKpr+JC64yXCC6bheIe", "WithdrawRecordDetail");
var o = s(e("../../../../Script/Audio/CommonAudioMgr")), n = s(e("../../../../Script/BaseFormat")), r = s(e("../../../../Script/UI/CommonPrefabMgr")), a = s(e("../../../../Script/ProjectConfig"));
s(e("../../../../Script/UserManager")), s(e("../../../../Script/LocalStorage/LocalStorageUtil"));
function s(e) {
return e && e.__esModule ? e : {
default: e
};
}
var c = e("GamePayLanguage"), l = (e("WithdrawGlobal"), e("DialogUtil")), u = e("GameEngineUtil"), d = e("CommonFunction"), f = e("UISettingModel"), h = e("CustomerAppealMgr");
cc.Class({
extends: cc.Component,
properties: {
topNode: cc.Node,
itemID: cc.Label,
itemName: cc.Label,
itemMoney: cc.Label,
itemDatetime: cc.Label,
itemStatusText: cc.Label,
lb_time: cc.Label,
lb_id: cc.Label,
lb_status: cc.Label,
lb_price: cc.Label,
lb_name: cc.Label,
rt: cc.Label,
statusLabel: cc.Label,
orderNum: cc.Label,
appealBtn: cc.Node,
_orderId: ""
},
showDialog: function(e) {
var t = {
type: "sprite",
content: WithdrawProjectConfig.resources.withdrawRecordDetailTitleSprite
};
l.addNormalDialog(this.node, t);
this.renderData(e);
this._orderId = e.id;
},
renderData: function(e) {
var t = e.type;
if (10 == t) {
this.lb_id && (this.lb_id.string = c.record.lb_id);
this.itemID && (this.itemID.string = e.alipay_num);
} else if (11 == t) {
this.lb_id && (this.lb_id.string = "银行卡号: ");
this.itemID && (this.itemID.string = e.bank_no);
} else if (13 == t) {
this.lb_id && (this.lb_id.string = "微信号: ");
this.itemID && (this.itemID.string = e.wechat_no);
}
this.itemName && (this.itemName.string = e.name);
this.itemMoney && (this.itemMoney.string = n.default.formatAmount(e.price));
this.itemDatetime && (this.itemDatetime.string = e.created_at);
this.orderNum && (this.orderNum.string = e.id + "");
var i = e.status;
if (2 == i) {
this.itemStatusText && (this.itemStatusText.string = "兑换成功");
this.rt && (this.rt.string = c.record.rt_succ);
this.statusLabel && (this.statusLabel.string = "已兑换:");
} else if (32 == i) {
this.itemStatusText && (this.itemStatusText.string = "已返款");
this.rt && (this.rt.string = c.record.rt_reset);
this.statusLabel && (this.statusLabel.string = "已返款:");
} else {
this.itemStatusText && (this.itemStatusText.string = "审核中");
this.rt && (this.rt.string = c.record.rt);
this.statusLabel && (this.statusLabel.string = "审核中:");
}
},
clickCopyBtn: function() {
o.default.playEffect(CommonAudio.common.btnMusic);
u.copyText(this._orderId);
r.default.createToast("已复制订单号");
},
clickAppealBtn: function() {
var e = this;
o.default.playEffect(CommonAudio.common.btnMusic);
cc.isValid(e.appealBtn) && a.default.clickManager(e.appealBtn);
if (d.checkNetwork()) if (f && f.customerInfo) {
var t = 0 != f.customerInfo.browser;
f.customerInfo.withdraw_url ? h.dealContactOnlineCustomer(f.customerInfo.withdraw_url, function(i) {
var o = i + "&orderid=" + e._orderId;
1 == t ? u.openUrlByDefaultBrowser(o) : u.openUrlByH5Browser(o, "false", u.H5_REQUEST_CODE.CUSTOMER_SERVICE);
}) : r.default.createToast("跳转失败");
} else r.default.createToast("跳转失败");
}
});
cc._RF.pop();
}, {
"../../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../../../Script/BaseFormat": "BaseFormat",
"../../../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../../../Script/ProjectConfig": "ProjectConfig",
"../../../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"../../../../Script/UserManager": "UserManager",
CommonFunction: "CommonFunction",
CustomerAppealMgr: "CustomerAppealMgr",
DialogUtil: "DialogUtil",
GameEngineUtil: "GameEngineUtil",
GamePayLanguage: "GamePayLanguage",
UISettingModel: "UISettingModel",
WithdrawGlobal: "WithdrawGlobal"
} ],
WithdrawRecordItem: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "1a062Hj1ZhH74LQKnfovHU6", "WithdrawRecordItem");
var o = s(e("../../../../Script/BaseFormat")), n = s(e("../../../../Script/Audio/CommonAudioMgr")), r = s(e("../../../../Script/Audio/CommonAudio")), a = s(e("../../../../Script/ProjectConfig"));
function s(e) {
return e && e.__esModule ? e : {
default: e
};
}
e("WithdrawGlobal");
cc.Class({
extends: cc.Component,
properties: {
itemID: cc.Label,
itemMoney: cc.Label,
itemDatetime: cc.Label,
itemStatusText: cc.Label,
itemBtn: cc.Button
},
init: function(e) {
this.data = e;
var t = e.id + "";
this.itemID && (this.itemID.string = t.slice(t.length - 10));
this.itemMoney && (this.itemMoney.string = o.default.formatAmount(e.price));
this.itemDatetime && (this.itemDatetime.string = e.created_at);
var i = e.status, n = "";
if (2 == i) {
n = "兑换成功";
this.itemStatusText.node.color = new cc.Color().fromHEX(WithdrawProjectConfig.color.success);
} else if (32 == i) {
n = "已返款";
this.itemStatusText.node.color = new cc.Color().fromHEX(WithdrawProjectConfig.color.haveReturn);
} else {
n = "审核中";
this.itemStatusText.node.color = new cc.Color().fromHEX(WithdrawProjectConfig.color.audit);
}
this.itemStatusText && (this.itemStatusText.string = n);
this.itemBtn && (this.itemBtn.active = !0);
},
clickDetail: function(e) {
var t = this;
a.default.clickManager(e.target);
n.default.playEffect(r.default.common.btnMusic);
cc.loader.loadRes(WithdrawProjectConfig.resources.withdrawRecordDetail, function(e, i) {
if (i) {
var o = cc.instantiate(i);
o && o.getComponent("WithdrawRecordDetail") && o.getComponent("WithdrawRecordDetail").showDialog(t.data);
}
});
}
});
cc._RF.pop();
}, {
"../../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../../../Script/BaseFormat": "BaseFormat",
"../../../../Script/ProjectConfig": "ProjectConfig",
WithdrawGlobal: "WithdrawGlobal"
} ],
WithdrawRecordModel: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "ddd15YtFNxH3JFP1Q70UTpu", "WithdrawRecordModel");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = e("../../../Script/Audio/CommonAudioMgr"), a = e("../../../Script/Audio/CommonAudio"), s = cc._decorator, c = s.ccclass, l = s.property, u = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.recordscontent = null;
t.recordsitem = null;
t.text = "hello";
return t;
}
t.prototype.start = function() {};
t.prototype.showWithDrawRecordDialogView = function(e) {
if (cc.isValid(this.recordscontent)) {
this.recordscontent.removeAllChildren();
if (!e || e.length <= 0) return;
for (var t = 0; t < e.length; t++) {
var i = e[t];
if (this.recordsitem) {
var o = cc.instantiate(this.recordsitem);
o.getComponent("WithdrawrecordsitemMode").initData(i);
this.recordscontent.addChild(o);
}
}
}
};
t.prototype.dismiss = function() {
r.default.playEffect(a.default.common.btnMusic);
if (this.node.getComponent("CommonDialog")) this.node.getComponent("CommonDialog").dismiss(); else {
this.node.active = !1;
this.node.removeFromParent();
}
};
n([ l(cc.Node) ], t.prototype, "recordscontent", void 0);
n([ l(cc.Prefab) ], t.prototype, "recordsitem", void 0);
n([ l ], t.prototype, "text", void 0);
return t = n([ c ], t);
}(cc.Component);
i.default = u;
cc._RF.pop();
}, {
"../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr"
} ],
WithdrawRecordPageItem: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "b553eWcAAFEi7ykkujth+AZ", "WithdrawRecordPageItem");
cc.Class({
extends: cc.Component,
properties: {
itemPageNum: cc.Label
},
init: function(e, t) {
this.pageIndex = e;
this.clickPageIndexCallback = t;
this.itemPageNum && (this.itemPageNum.string = e);
},
clickPageNum: function() {
this.clickPageIndexCallback && this.clickPageIndexCallback(this.pageIndex);
}
});
cc._RF.pop();
}, {} ],
WithdrawRecord: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "6c588Ufh7RK96Ye7A94bh4f", "WithdrawRecord");
var o = a(e("../../../../Script/GameFramework/ApiMgr")), n = a(e("../../../../Script/Audio/CommonAudioMgr")), r = a(e("../../../../Script/Audio/CommonAudio"));
function a(e) {
return e && e.__esModule ? e : {
default: e
};
}
e("WithdrawGlobal");
var s = e("DialogUtil");
cc.Class({
extends: cc.Component,
properties: {
scrollView: cc.ScrollView,
recordPageList: cc.Node,
recordItems: {
default: []
},
pageItems: {
default: []
},
pageTotal: 1,
currentPage: 1,
recordItemPrefab: cc.Prefab,
pageItemPrefab: cc.Prefab,
nextBtn: cc.Node,
preBtn: cc.Node,
noDataInfo: cc.Node,
pageNumber: cc.Label,
pageWrap: cc.Node
},
showDialog: function() {
var e = {
type: "sprite",
content: WithdrawProjectConfig.resources.withdrawRecordTitleSprite
};
s.addNormalDialog(this.node, e);
this.go(this.currentPage);
},
clickPageIndex: function(e) {
this.go(e);
},
nextBtnEvt: function() {
n.default.playEffect(r.default.common.btnMusic);
this.go(this.currentPage + 1);
},
preBtnEvt: function() {
n.default.playEffect(r.default.common.btnMusic);
this.currentPage >= 1 ? this.go(this.currentPage - 1) : this.go(0);
},
go: function(e) {
var t = this, i = {
size: 10,
page: e
};
o.default.getWithdrawList(i, function(i) {
t.noDataInfo && (t.noDataInfo.active = !1);
t.currentPage = e;
if (0 == i.list.length) {
t.noDataInfo && (t.noDataInfo.active = !0);
t.nextBtn && (t.nextBtn.active = !1);
t.preBtn && (t.preBtn.active = !1);
} else t.renderData(e, i);
}.bind(t), function(e) {
t.noDataInfo && (t.noDataInfo.active = !0);
}.bind(t));
},
getTotalPages: function(e) {
var t = 0;
(t = e <= 10 ? 1 : e % 10 == 0 ? e / 10 : parseInt(e / 10) + 1) >= 10 && (t = 10);
return t;
},
renderData: function(e, t) {
this.scrollView && this.scrollView.content && this.scrollView.content.removeAllChildren();
this.pageTotal = this.getTotalPages(t.total);
this.recordItems = t.list;
this.pageNumber && (this.pageNumber.string = e);
if (this.recordItems.length > 0) {
this.pageWrap && (this.pageWrap.active = !0);
for (var i = 0; i < this.recordItems.length; ++i) {
var o = cc.instantiate(this.recordItemPrefab), n = this.recordItems[i];
o && o.getComponent("WithdrawRecordItem") && o.getComponent("WithdrawRecordItem").init(n);
if (cc.isValid(this.scrollView) && cc.isValid(this.scrollView.content)) {
this.scrollView.content.addChild(o);
this.scrollView.scrollToTop(0);
}
}
}
if (this.pageTotal <= 1) {
this.nextBtn && (this.nextBtn.active = !1);
this.preBtn && (this.preBtn.active = !1);
} else if (e == this.pageTotal) {
this.nextBtn && (this.nextBtn.active = !1);
this.preBtn && (this.preBtn.active = !0);
} else if (e <= 1) {
this.nextBtn && (this.nextBtn.active = !0);
this.preBtn && (this.preBtn.active = !1);
} else {
this.nextBtn && (this.nextBtn.active = !0);
this.preBtn && (this.preBtn.active = !0);
}
}
});
cc._RF.pop();
}, {
"../../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../../../Script/GameFramework/ApiMgr": "ApiMgr",
DialogUtil: "DialogUtil",
WithdrawGlobal: "WithdrawGlobal"
} ],
WithdrawResetBind: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "1e1d2cNf8ZNGoI0DMKiha8c", "WithdrawResetBind");
var o = u(e("../../../Script/UI/CommonPrefabMgr")), n = u(e("../../../Script/Audio/CommonAudioMgr")), r = u(e("../../../Script/Audio/CommonAudio")), a = u(e("../../../Script/LocalStorage/LocalStorageUtil")), s = u(e("../../../Script/UserManager")), c = u(e("../../../Script/BaseFormat")), l = u(e("./../../../Script/GameFramework/ApiMgr"));
function u(e) {
return e && e.__esModule ? e : {
default: e
};
}
e("WithdrawGlobal");
var d = e("DialogUtil"), f = (e("Language"), e("GamePayLanguage")), h = e("PhoneValidCode"), p = e("GameEngineUtil"), g = e("FormatCheckUtil"), m = e("ValidCodeEnum");
cc.Class({
extends: cc.Component,
properties: {
labelUserAccount: cc.Label,
editUserCode: cc.EditBox,
phoneValidObj: h,
LoginTag: {
default: !0,
visible: !1
}
},
showDialog: function(e, t) {
var i = {
type: "sprite",
content: WithdrawProjectConfig.resources.withdrawResetDialogTitleSprite
};
d.addNormalDialog(this.node, i, {
bindDialog: !0
});
this.labelUserAccount && (this.labelUserAccount.string = c.default.formatPhone(s.default.phone));
this.dotype = e;
this.resetSuccessCallback = t;
var o = {
target: m.target.RESET_CASH,
phone: s.default.phone
};
this.phoneValidObj && this.phoneValidObj.init(o);
},
onSubmit: function() {
var e = this;
n.default.playEffect(r.default.common.btnMusic);
var t = void 0;
e.editUserCode && (t = e.editUserCode.string);
var i = s.default.phone;
if (g.checkValidCode(t)) {
var c = {
type: e.dotype,
pkg: p.getPackageName(),
vcode: t,
phone: i
};
if (e.LoginTag) {
e.LoginTag = !1;
l.default.resetBind(c, function(t) {
e.LoginTag = !0;
d.removeNormalDialogByIns(e.node.dialog);
a.default.clearWithDrawBindInfo(e.dotype);
e.resetSuccessCallback && e.resetSuccessCallback();
}, function(t) {
e.LoginTag = !0;
o.default.createToast(f.safe.txt_err5);
});
}
}
}
});
cc._RF.pop();
}, {
"../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../../Script/BaseFormat": "BaseFormat",
"../../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"../../../Script/UserManager": "UserManager",
"./../../../Script/GameFramework/ApiMgr": "ApiMgr",
DialogUtil: "DialogUtil",
FormatCheckUtil: "FormatCheckUtil",
GameEngineUtil: "GameEngineUtil",
GamePayLanguage: "GamePayLanguage",
Language: "Language",
PhoneValidCode: "PhoneValidCode",
ValidCodeEnum: "ValidCodeEnum",
WithdrawGlobal: "WithdrawGlobal"
} ],
WithdrawSelectBank: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "505c4RvluFAkLFeKZAtElSK", "WithdrawSelectBank");
var o = r(e("../../../Script/Audio/CommonAudioMgr")), n = r(e("../../../Script/Audio/CommonAudio"));
function r(e) {
return e && e.__esModule ? e : {
default: e
};
}
var a = e("CommonEventName");
cc.Class({
extends: cc.Component,
properties: {
selectWrap: cc.Node,
selectItem: cc.Prefab,
mainScrollView: cc.ScrollView,
checkIndex: -1,
bankIconArr: []
},
onLoad: function() {
this.getBankIcons();
},
start: function() {},
initData: function(e) {
this.selectedcode = e;
},
getBankIcons: function() {
this.bankIconArr = [ "YP_BRDA", "YP_BOIN", "YP_AXIS", "YP_SBIN", "YP_CBOI", "YP_IDBI", "YP_INDNB", "YP_UNBOI", "YP_ICICI", "YP_PNJB", "YP_ CANBK", "YP_YESB", "YP_HDFC", "YP_KOTBK", "YP_KARBK", "YP_SCTRD" ];
this.checkIndex = -1;
for (var e = 0; e < this.bankIconArr.length; e++) if (this.bankIconArr[e] == this.selectedcode) {
this.checkIndex = e;
break;
}
this.init(this.bankIconArr);
},
init: function(e) {
var t = this;
t.selectWrap && t.selectWrap.removeAllChildren();
if (e && e.length) {
for (var i = function(i) {
var r = cc.instantiate(t.selectItem), a = r.getComponent("WithdrawBankSelectItem");
if (a) {
a.initWithLocalData(e[i], i);
r && r.on("click", function(e) {
t.clickItem(i);
o.default.playEffect(n.default.common.btnMusic);
});
cc.isValid(t.selectWrap) && t.selectWrap.addChild(r);
}
}, r = 0; r < e.length; r++) i(r);
t.clickItem(this.checkIndex);
var a = t.selectWrap.children;
a && a[this.checkIndex] && a[this.checkIndex].getComponent("WithdrawBankSelectItem") && a[this.checkIndex].getComponent("WithdrawBankSelectItem").setItemSelect();
cc.isValid(t.mainScrollView) && t.mainScrollView.scrollToTop(0);
}
},
clickItem: function(e) {
var t = this.selectWrap.children;
if (t) {
t[this.checkIndex] && t[this.checkIndex].getComponent("WithdrawBankSelectItem") && t[this.checkIndex].getComponent("WithdrawBankSelectItem").setItemNormal();
t[e] && t[e].getComponent("WithdrawBankSelectItem") && t[e].getComponent("WithdrawBankSelectItem").setItemSelect();
}
this.checkIndex = e;
if (e >= 0) {
var i = this.bankIconArr[e];
cc.director.emit(a.WITHDRAW_SELECT_BANK_CODE, {
bankCode: i
});
}
}
});
cc._RF.pop();
}, {
"../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
CommonEventName: "CommonEventName"
} ],
WithdrawUIMgr: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "bace8yfJ2ZChYeVvMrKbiwY", "WithdrawUIMgr");
var o, n, r = function() {
function e(e, t) {
for (var i = 0; i < t.length; i++) {
var o = t[i];
o.enumerable = o.enumerable || !1;
o.configurable = !0;
"value" in o && (o.writable = !0);
Object.defineProperty(e, o.key, o);
}
}
return function(t, i, o) {
i && e(t.prototype, i);
o && e(t, o);
return t;
};
}(), a = (c(e("../../../../Script/ProjectConfig")), c(e("../../../../Script/UI/CommonPrefabMgr"))), s = c(e("./../../../../Script/GameFramework/ApiMgr"));
function c(e) {
return e && e.__esModule ? e : {
default: e
};
}
function l(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
e("DialogUtil"), e("WithdrawGlobal"), e("GameEngineUtil"), e("CommonEventName"), 
e("ComponentRes"), e("Language");
var u = (n = o = function() {
function e() {
l(this, e);
}
r(e, null, [ {
key: "showView",
value: function() {
var e = this;
s.default.getWithdrawTypes(function(t) {
e.showWithDrawViewWithData(t);
}, function(e) {
e && e.msg && a.default.createToast(e.msg);
});
}
}, {
key: "showWithDrawViewWithData",
value: function(e) {
var t = e.withdrawtypeList;
this.initwithdrawtypeinfodata(e);
this.initCheckedWithdrawTypesData(t);
this.initWithdrawUI(t);
}
}, {
key: "initwithdrawtypeinfodata",
value: function(e) {
var t = e.withdrawtypeList;
if (t && t.length > 0) for (var i = 0; i < t.length; i++) {
var o = t[i];
0 == o.paytype ? e.withdrawbinds && e.withdrawbinds.withdrawpaytm && (o.withdrawpaytm = e.withdrawbinds.withdrawpaytm) : 1 == o.paytype && e.withdrawbinds && e.withdrawbinds.withdrawdebitcard && (o.withdrawdebitcard = e.withdrawbinds.withdrawdebitcard);
}
}
}, {
key: "initCheckedWithdrawTypesData",
value: function(e) {
for (var t = 0; t < e.length; t++) {
var i = e[t];
i.ischecked = 0 == t;
}
}
}, {
key: "initWithdrawUI",
value: function(e, t) {
this._callBack = t;
a.default.showWithDrawDialog(e);
}
} ]);
return e;
}(), o._callBack = null, n);
t.exports = u;
cc._RF.pop();
}, {
"../../../../Script/ProjectConfig": "ProjectConfig",
"../../../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"./../../../../Script/GameFramework/ApiMgr": "ApiMgr",
CommonEventName: "CommonEventName",
ComponentRes: "ComponentRes",
DialogUtil: "DialogUtil",
GameEngineUtil: "GameEngineUtil",
Language: "Language",
WithdrawGlobal: "WithdrawGlobal"
} ],
WithdrawViewModel: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "7c48bSpCFlCHa5Axu1EAiZm", "WithdrawViewModel");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = e("../../../Script/Audio/CommonAudioMgr"), a = e("../../../Script/Audio/CommonAudio"), s = e("GameEngineUtil"), c = e("TrackUtil"), l = cc._decorator, u = l.ccclass, d = l.property, f = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.leftscrollviewcontent = null;
t.leftscrollviewitem = null;
t.toprightcontent = null;
t.toprightitem = null;
t.choosewithdrawcontent = null;
t.editwithdrawcontent = null;
t.rightcontentframe = null;
t.text = "hello";
t.contentarray = null;
return t;
}
t.prototype.start = function() {};
t.prototype.showWithDrawDialogView = function(e) {
var t = this;
s.trackEvent(c.openwithdrawevents);
t.contentarray = e;
if (e && 0 != e.length) {
for (var i = e, o = function(e) {
var o = e, n = i[e];
if (n.toprightitemprefab) n.toprightitemprefab.getComponent("WalletRechargeTypeItem").refreshItemViewShow(); else {
var r = cc.instantiate(t.toprightitem);
r.getComponent("WalletRechargeTypeItem").initData(n);
t.toprightcontent.addChild(r);
n.toprightitemprefab = r;
r.on("click", function() {
for (var e = 0; e < i.length; e++) {
i[e].ischecked = !1;
e == o && (i[e].ischecked = !0);
i[e].toprightitemprefab.getComponent("WalletRechargeTypeItem").refreshItemViewShow();
}
t.refreshContentViewShow();
});
}
}, n = 0; n < i.length; n++) o(n);
t.refreshContentViewShow();
}
};
t.prototype.refreshLeftItemViewShow = function(e, t, i) {
for (var o = 0; o < e.length; o++) {
e[o].ischecked = !1;
t == o && (e[o].ischecked = !0);
e[o].toprightitemprefab.getComponent("WalletRechargeTypeItem").refreshItemViewShow();
}
i.refreshContentViewShow();
};
t.prototype.refreshContentViewShow = function() {
for (var e, t = 0; t < this.contentarray.length; t++) if (this.contentarray[t].ischecked) {
e = this.contentarray[t];
break;
}
var i = this.rightcontentframe.children;
for (t = 0; t < i.length; t++) i[t].active = !1;
if (e) if (e.contentprefab) {
e.contentprefab.active = !0;
e.contentprefab.getComponent("WithdrawCashContent").refreshContentViewShow();
} else {
var o = cc.instantiate(this.choosewithdrawcontent);
o.getComponent("WithdrawCashContent").initData(e);
this.rightcontentframe.addChild(o);
e.contentprefab = o;
}
};
t.prototype.onEnable = function() {
cc.director.on("NEEDEDITWITHDRAWINFO", this.neededitwithdrawinfo, this);
cc.director.on("DIMISSDIALOG", this.closeDialog, this);
};
t.prototype.selectapplywithdrawcontent = function() {
this.refreshLeftItemViewShow(this.contentarray, 0, this);
};
t.prototype.neededitwithdrawinfo = function(e) {
this.refreshLeftItemViewShow(this.contentarray, 1, this);
};
t.prototype.onDisable = function() {
cc.director.off("NEEDEDITWITHDRAWINFO");
cc.director.off("DIMISSDIALOG");
};
t.prototype.closeDialog = function() {
r.default.playEffect(a.default.common.btnMusic);
if (this.node.getComponent("CommonDialog")) this.node.getComponent("CommonDialog").dismiss(); else {
this.node.active = !1;
this.node.removeFromParent();
}
};
t.prototype.dismiss = function() {
this.closeDialog();
s.trackEvent(c.withdrawclosebtnclick);
};
n([ d(cc.Node) ], t.prototype, "leftscrollviewcontent", void 0);
n([ d(cc.Prefab) ], t.prototype, "leftscrollviewitem", void 0);
n([ d(cc.Node) ], t.prototype, "toprightcontent", void 0);
n([ d(cc.Prefab) ], t.prototype, "toprightitem", void 0);
n([ d(cc.Prefab) ], t.prototype, "choosewithdrawcontent", void 0);
n([ d(cc.Prefab) ], t.prototype, "editwithdrawcontent", void 0);
n([ d(cc.Node) ], t.prototype, "rightcontentframe", void 0);
n([ d ], t.prototype, "text", void 0);
return t = n([ u ], t);
}(cc.Component);
i.default = f;
cc._RF.pop();
}, {
"../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
GameEngineUtil: "GameEngineUtil",
TrackUtil: "TrackUtil"
} ],
WithdrawWechat: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "f494a/DUFdF+7i9wjzifxDI", "WithdrawWechat");
var o = l(e("../../../../Script/UI/CommonPrefabMgr")), n = l(e("../../../../Script/LocalStorage/LocalStorageUtil")), r = l(e("../../../../Script/BaseFormat")), a = l(e("../../../../Script/Audio/CommonAudioMgr")), s = l(e("../../../../Script/Audio/CommonAudio")), c = l(e("./../../../../Script/GameFramework/ApiMgr"));
function l(e) {
return e && e.__esModule ? e : {
default: e
};
}
e("WithdrawGlobal");
cc.Class({
extends: cc.Component,
properties: {
unbindView: cc.Node,
bindedView: cc.Node,
unBindPlayerName: cc.EditBox,
unBindAccountName: cc.EditBox,
unBindHintText: cc.Label,
bindedPlayerName: cc.Label,
bindedAccountName: cc.Label,
bindedHintText: cc.Label,
resetBtn: cc.Node
},
onLoad: function() {
this.addLabelOutlineWithNode();
},
addLabelOutlineWithNode: function() {
cc.vv.editBoxMgr.addOutlineWithNode(this.unBindPlayerName.node);
cc.vv.editBoxMgr.addOutlineWithNode(this.unBindAccountName.node);
},
onConfigLoaded: function() {
this.getBindingWeChatAction();
},
clickBind: function() {
var e = this;
a.default.playEffect(s.default.common.btnMusic);
var t = e.unBindPlayerName.string;
if (r.default.verifyActualname(t)) {
var i = e.unBindAccountName.string;
if (!(i = i.replace(/\s+/g, "")) || i.length <= 1) o.default.createToast("请输入有效的微信号(不要输入昵称或汉字)"); else {
if (i.length > 20 || !/^[a-zA-Z]([-_a-zA-Z0-9]{5,19})+$/.test(i)) o.default.createToast("请输入有效的微信号(不要输入昵称或汉字)"); else {
var n = {
name: t,
wechat_id: i
};
c.default.postBindWeChat(n, function(t) {
o.default.createToast("绑定成功，即将跳转兑换页面");
e.scheduleOnce(function() {
cc.director.emit("TabChange", {
index: 0,
option: {
refresh: !0
}
});
e.getBindingWeChatAction();
e.unBindPlayerName.string = "";
e.unBindAccountName.string = "";
}, 1);
}.bind(e), function(t) {
e.unBindPlayerName.string = "";
e.unBindAccountName.string = "";
301 != JSON.parse(t).status ? o.default.createToast("绑定失败") : o.default.createToast("抱歉，该账户已与三个账户发生关联");
}.bind(e));
}
}
} else o.default.createToast("请输入正确的收款人姓名");
},
getBindingWeChatAction: function() {
var e = this;
c.default.getBindWeChat(function(t) {
var i = null;
"{}" != JSON.stringify(t) && (i = t);
n.default.saveWithDrawBindInfo(13, i);
e.showWeChatInfoView(i);
}.bind(e));
},
showWeChatInfoView: function(e) {
if (WithdrawProjectConfig.bindInfoConfig && WithdrawProjectConfig.bindInfoConfig.length > 0) {
for (var t = void 0, i = 0; i < WithdrawProjectConfig.bindInfoConfig.length; i++) if (13 == WithdrawProjectConfig.bindInfoConfig[i].type) {
t = WithdrawProjectConfig.bindInfoConfig[i];
break;
}
if (t) {
var o = t.resettable;
if (e) {
this.unbindView.active = !1;
this.bindedView.active = !0;
this.resetBtn.active = o;
this.bindedHintText.string = t.tips;
this.bindedPlayerName && (this.bindedPlayerName.string = e.name || "");
this.bindedAccountName && (this.bindedAccountName.string = e.acc || "");
} else {
this.unbindView.active = !0;
this.bindedView.active = !1;
this.unBindHintText.string = t.tips;
}
}
}
},
clickReset: function() {
var e = this;
a.default.playEffect(s.default.common.btnMusic);
cc.loader.loadRes(WithdrawProjectConfig.resources.withdrawResetDialog, function(t, i) {
if (i) {
var o = cc.instantiate(i);
o && o.getComponent("WithdrawResetBind") && o.getComponent("WithdrawResetBind").showDialog(13, function() {
e.getBindingWeChatAction();
}.bind(e));
}
});
}
});
cc._RF.pop();
}, {
"../../../../Script/Audio/CommonAudio": "CommonAudio",
"../../../../Script/Audio/CommonAudioMgr": "CommonAudioMgr",
"../../../../Script/BaseFormat": "BaseFormat",
"../../../../Script/LocalStorage/LocalStorageUtil": "LocalStorageUtil",
"../../../../Script/UI/CommonPrefabMgr": "CommonPrefabMgr",
"./../../../../Script/GameFramework/ApiMgr": "ApiMgr",
WithdrawGlobal: "WithdrawGlobal"
} ],
Withdrawinfoedit: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "e5877DzfjxEiaRuHOZd5eLB", "Withdrawinfoedit");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = cc._decorator, a = r.ccclass, s = r.property, c = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.toprightcontent = null;
t.toprightitem = null;
t.rightbigcontent = null;
t.paytmcontent = null;
t.debitcardcontent = null;
t.drawInfoContent = null;
t.text = "hello";
t.datamodel = null;
return t;
}
t.prototype.initData = function(e) {
this.datamodel = e;
};
t.prototype.onLoad = function() {
this.showNewDrawInfoMethod();
};
t.prototype.showNewDrawInfoMethod = function() {
var e = this.drawInfoContent, t = cc.instantiate(e), i = this.datamodel.withdrawtypeList;
i && i.length > 0 && t.getComponent("NewWithdrawInfoFrame").initData(i[0]);
this.rightbigcontent.addChild(t);
};
t.prototype.refreshViewShow = function() {
var e = this;
if (e.datamodel) {
var t = e.datamodel.withdrawtypeList;
if (t && t.length > 0) {
for (var i = function(i) {
var o = i, n = t[i];
if (n.toprightitemprefab) n.toprightitemprefab.getComponent("WalletRechargeTypeItem").refreshItemViewShow(); else {
var r = cc.instantiate(e.toprightitem);
r.getComponent("WalletRechargeTypeItem").initData(n);
e.toprightcontent.addChild(r);
n.toprightitemprefab = r;
r.on("click", function() {
for (var i = 0; i < t.length; i++) {
t[i].ischecked = !1;
i == o && (t[i].ischecked = !0);
t[i].toprightitemprefab.getComponent("WalletRechargeTypeItem").refreshItemViewShow();
}
e.refreshSelectedContentViewShow();
});
}
}, o = 0; o < t.length; o++) i(o);
e.refreshSelectedContentViewShow();
}
}
};
t.prototype.refreshSelectedContentViewShow = function() {
for (var e = this.rightbigcontent.children, t = 0; t < e.length; t++) e[t].active = !1;
var i, o = this.datamodel.withdrawtypeList;
for (t = 0; t < o.length; t++) if (o[t].ischecked) {
i = o[t];
break;
}
var n = void 0;
if (i) {
0 == i.paytype ? n = this.paytmcontent : 1 == i.paytype && (n = this.debitcardcontent);
if (i.rightcontentprefab) i.rightcontentprefab.active = !0; else if (n) {
var r = cc.instantiate(n);
0 == i.paytype ? r.getComponent("PayTM").initData(i) : 1 == i.paytype && r.getComponent("DebitCard").initData(i);
this.rightbigcontent.addChild(r);
i.rightcontentprefab = r;
}
}
};
t.prototype.start = function() {};
n([ s(cc.Node) ], t.prototype, "toprightcontent", void 0);
n([ s(cc.Prefab) ], t.prototype, "toprightitem", void 0);
n([ s(cc.Node) ], t.prototype, "rightbigcontent", void 0);
n([ s(cc.Prefab) ], t.prototype, "paytmcontent", void 0);
n([ s(cc.Prefab) ], t.prototype, "debitcardcontent", void 0);
n([ s(cc.Prefab) ], t.prototype, "drawInfoContent", void 0);
n([ s ], t.prototype, "text", void 0);
return t = n([ a ], t);
}(cc.Component);
i.default = c;
cc._RF.pop();
}, {} ],
Withdrawmethodsitem: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "ce47f20MGdEbq5BZ8HPm0JF", "Withdrawmethodsitem");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = cc._decorator, a = r.ccclass, s = r.property, c = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.methodtv = null;
t.selectbgnode = null;
t.text = "hello";
t.modeldata = null;
return t;
}
t.prototype.initData = function(e) {
this.modeldata = e;
};
t.prototype.onLoad = function() {
this.modeldata && (this.methodtv.string = this.modeldata.name);
this.refreshViewShow();
};
t.prototype.refreshViewShow = function() {
this.modeldata && (this.selectbgnode.active = this.modeldata.ischecked);
};
t.prototype.start = function() {};
n([ s(cc.Label) ], t.prototype, "methodtv", void 0);
n([ s(cc.Node) ], t.prototype, "selectbgnode", void 0);
n([ s ], t.prototype, "text", void 0);
return t = n([ a ], t);
}(cc.Component);
i.default = c;
cc._RF.pop();
}, {} ],
WithdrawrecordsitemMode: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "d3f4cKSVLpMVbdTf23+16cd", "WithdrawrecordsitemMode");
var o = this && this.__extends || function() {
var e = function(t, i) {
return (e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
})(t, i);
};
return function(t, i) {
e(t, i);
function o() {
this.constructor = t;
}
t.prototype = null === i ? Object.create(i) : (o.prototype = i.prototype, new o());
};
}(), n = this && this.__decorate || function(e, t, i, o) {
var n, r = arguments.length, a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, i) : o;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, o); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (a = (r < 3 ? n(a) : r > 3 ? n(t, i, a) : n(t, i)) || a);
return r > 3 && a && Object.defineProperty(t, i, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var r = e("../../../Script/BaseFormat"), a = e("CommonLanguage"), s = cc._decorator, c = s.ccclass, l = s.property, u = function(e) {
o(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.time = null;
t.amount = null;
t.beforewithdraw = null;
t.afterwithdraw = null;
t.feewithdraw = null;
t.status = null;
t.modeldata = null;
return t;
}
t.prototype.onLoad = function() {
this.refreshViewShow();
};
t.prototype.initData = function(e) {
this.modeldata = e;
};
t.prototype.refreshViewShow = function() {
cc.isValid(this.time) && this.modeldata && (this.time.getComponent(cc.Label).string = r.default.timestampFormatWithYearDetailedLined(this.modeldata.createat));
cc.isValid(this.amount) && this.modeldata && (this.amount.getComponent(cc.Label).string = r.default.foramtGold(this.modeldata.gold));
cc.isValid(this.beforewithdraw) && this.modeldata && (this.beforewithdraw.getComponent(cc.Label).string = r.default.foramtGold(this.modeldata.beforewithdraw));
cc.isValid(this.afterwithdraw) && this.modeldata && (this.afterwithdraw.getComponent(cc.Label).string = r.default.foramtGold(this.modeldata.afterwithdraw));
cc.isValid(this.feewithdraw) && this.modeldata && (this.feewithdraw.getComponent(cc.Label).string = r.default.foramtGold(this.modeldata.commison));
if (cc.isValid(this.status) && this.modeldata) if (0 == this.modeldata.status) {
this.status.getComponent(cc.Label).string = a.currentlanguage.withdraw.withdrawrecordsstatusthree;
this.status.color = new cc.Color(255, 0, 6);
} else if (1 == this.modeldata.status) {
this.status.getComponent(cc.Label).string = a.currentlanguage.withdraw.withdrawrecordsstatusone;
this.status.color = new cc.Color(72, 178, 46);
} else if (2 == this.modeldata.status) {
this.status.getComponent(cc.Label).string = a.currentlanguage.withdraw.withdrawrecordsstatustwo;
this.status.color = new cc.Color(252, 252, 254);
}
};
t.prototype.start = function() {};
n([ l(cc.Node) ], t.prototype, "time", void 0);
n([ l(cc.Node) ], t.prototype, "amount", void 0);
n([ l(cc.Node) ], t.prototype, "beforewithdraw", void 0);
n([ l(cc.Node) ], t.prototype, "afterwithdraw", void 0);
n([ l(cc.Node) ], t.prototype, "feewithdraw", void 0);
n([ l(cc.Node) ], t.prototype, "status", void 0);
return t = n([ c ], t);
}(cc.Component);
i.default = u;
cc._RF.pop();
}, {
"../../../Script/BaseFormat": "BaseFormat",
CommonLanguage: "CommonLanguage"
} ],
base64: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "79d0c4qxclF47hGd9j1iEe1", "base64");
var o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
return typeof e;
} : function(e) {
return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e;
};
(function() {
var e = {}, i = [ "A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z", "a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z", "0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "+", "/", "=" ], n = {
A: 0,
B: 1,
C: 2,
D: 3,
E: 4,
F: 5,
G: 6,
H: 7,
I: 8,
J: 9,
K: 10,
L: 11,
M: 12,
N: 13,
O: 14,
P: 15,
Q: 16,
R: 17,
S: 18,
T: 19,
U: 20,
V: 21,
W: 22,
X: 23,
Y: 24,
Z: 25,
a: 26,
b: 27,
c: 28,
d: 29,
e: 30,
f: 31,
g: 32,
h: 33,
i: 34,
j: 35,
k: 36,
l: 37,
m: 38,
n: 39,
o: 40,
p: 41,
q: 42,
r: 43,
s: 44,
t: 45,
u: 46,
v: 47,
w: 48,
x: 49,
y: 50,
z: 51,
0: 52,
1: 53,
2: 54,
3: 55,
4: 56,
5: 57,
6: 58,
7: 59,
8: 60,
9: 61,
"+": 62,
"/": 63
};
e.encode = window.btoa ? function(e) {
return window.btoa(unescape(encodeURIComponent(e)));
} : function(e) {
var t, o, n, r, a, s, c, l, u = 0, d = 0, f = [];
t = (e = unescape(encodeURIComponent(e))).length;
for (;u < t; ) {
o = e.charCodeAt(u++) || 0;
n = e.charCodeAt(u++) || 0;
r = e.charCodeAt(u++) || 0;
a = o >> 2 & 63;
s = (3 & o) << 4 | n >> 4 & 15;
c = (15 & n) << 2 | r >> 6 & 3;
l = 63 & r;
if (!r) {
l = 64;
n || (c = 64);
}
f[d++] = i[a];
f[d++] = i[s];
f[d++] = i[c];
f[d++] = i[l];
}
return f.join("");
};
e.decode = window.atob ? function(e) {
return decodeURIComponent(escape(window.atob(e)));
} : function(e) {
var t, i, o, r, a, s, c, l, u = 0, d = 0, f = [];
t = (e = e.replace(/\=+$/, "").split("")).length;
for (;u < t; ) {
i = n[e[u++]] || "";
o = n[e[u++]] || "";
r = n[e[u++]] || "";
a = n[e[u++]] || "";
s = (63 & i) << 2 | o >> 4 & 3;
c = (15 & o) << 4 | r >> 2 & 15;
l = (3 & r) << 6 | 63 & a;
f[d++] = String.fromCharCode(s);
if (c) {
f[d++] = String.fromCharCode(c);
l && (f[d++] = String.fromCharCode(l));
}
}
return decodeURIComponent(escape(f.join("")));
};
e.encodeSafe = function(t) {
return e.encode(t).replace(/\+/g, "-").replace(/\//g, "_").replace(/\=/g, ".");
};
e.decodeSafe = function(t) {
return e.decode(t.replace(/-/g, "+").replace(/_/g, "/").replace(/\./g, "="));
};
"object" === ("undefined" == typeof lego ? "undefined" : o(lego)) && lego.define ? lego.define("base64", [], function(t, i, o) {
o.exports = e;
}) : "object" === ("undefined" == typeof t ? "undefined" : o(t)) && t.exports ? t.exports = e : window.base64 = e;
})();
cc._RF.pop();
}, {} ],
"game_req.proto": [ function(e, t, i) {
"use strict";
cc._RF.push(t, "823fecLv4hP/Ywm/tv5S95n", "game_req.proto");
t.exports = "\npackage kfc;\nmessage KfcReq\n {\n    required int32     bet_amount = 1;  //  amount\n    required int32     seed = 2;\n    required int32     check_sum = 3;\n }\n\nmessage BullReq\n {\n    required int32     bet_amount = 1;  //  amount\n    required int32     bet_index = 2;\n    required int32     term = 3;  //  amount\n    required int32     seed = 4;\n    required int32     check_sum = 5;\n }\n\nmessage LonghuReq\n{\n    required int32 term =1;\n    required int32 seed = 2;\n    required int32 check_sum = 3;\n    repeated int32 bet_info = 4;\n}\n\nmessage SharkReq {\n    required int32 bet_index = 1;   //下注目标id\n    required int32 amount = 2;      //下注金额\n    required int32 term_number = 3; //目标期数\n    required int32 seed = 4;        //客户端自己随机的seed\n    required string check_sum = 5;  //校验值\n}\n\nmessage BatchBetReq {\n    message BetInfo {\n        required int32 index = 1;\n        required int32 amount = 2;\n    }\n    required int32 term_number = 1;\n    required int32 seed = 2;\n    required int32 check_sum = 3;\n    repeated BetInfo bet_info = 4;\n}\n\nmessage BatchBullReq {\n    message BetInfo {\n        required int32 index = 1;\n        required int32 amount = 2;\n    }\n    required int32 term = 1;\n    required int32 seed = 2;\n    required int32 check_sum = 3;\n    repeated BetInfo bet_info = 4;\n}\n\n\n";
cc._RF.pop();
}, {} ],
"hero_req.proto": [ function(e, t, i) {
"use strict";
cc._RF.push(t, "79f16LhrFFMgLPg2wjVD4wq", "hero_req.proto");
t.exports = "\npackage hero;\nmessage HeroReq\n   {\n        required double     bet_amount = 1;  //  amount\n        required int32     seed = 2;\n        required int32     check_sum = 3;\n        optional int32     lines = 4;\n     }\n\n";
cc._RF.pop();
}, {} ],
"im.proto": [ function(e, t, i) {
"use strict";
cc._RF.push(t, "69cbdri7/lMwoJCPsU8nI8u", "im.proto");
t.exports = '\nsyntax = "proto2";\npackage im;\n\n\nmessage ImProto\n{\n    enum ImType {\n        BARRAGE = 0;\n        PACKET = 1;\n        CHANNEL = 2;\n        BROADCAST = 3;\n        SPRING = 5;\n        ERROR = 88;\n        KICKOUT = 99;\n        HEARTBEAT = 100;\n        MASKON = 102;\n    }\n\n    enum Channel {\n        ALL = 1001;\n        BULL = 1002;\n        ZJH = 1003;\n        DDZ = 1004;\n        HALL = 1005;\n        YYL = 1007;\n        BLOOD = 1008;\n    }\n\n    message BarrageData {\n        required string user_id = 1;\n        required int32 color = 2;\n        required string text = 3;\n    }\n\n    message ChannelData {\n        required Channel channel = 1;\n    }\n\n    message SpringData {\n        required string user_id = 1;\n        required string text = 2;\n        required string mail_id = 3;\n        required int32 bonus_type = 4;\n    }\n\n    message PacketData {\n        enum Rule {\n            RANDOM = 0;\n            AVERAGE = 1;\n        }\n        required string user_id = 1;\n        required int32 count = 2;\n        required Rule rule = 3;\n        required int32 amount = 4;\n        required int32 timestamp = 5;\n        required string packet_id = 6;\n        required string text = 7;\n    }\n    message BroadcastData {\n        enum BroadcastType {\n            PACKET_BROADCAST = 0;\n            GAME_BROADCAST = 1;\n            EXT_BROADCAST = 2;\n        }\n        required BroadcastType btype = 1;\n        required string user_id = 2;\n        required int32 amount = 3;\n        required string nick_name = 4;\n        optional string game_name = 5;\n        optional string ext_content = 6;\n    }\n    message MaskData {\n        optional string position = 1;\n        optional string button = 2;\n    }\n    required ImType msg_type = 1;\n    optional BarrageData barrage_data = 2;\n    optional ChannelData channel_data = 3;\n    optional PacketData packet_data = 4;\n    optional BroadcastData broadcast_data = 5;\n    repeated MaskData mask_data = 6;\n    optional SpringData spring_data = 7; \n}\n\n';
cc._RF.pop();
}, {} ],
long: [ function(e, t, i) {
"use strict";
cc._RF.push(t, "f43977i40JIFZDL6eMzPo7I", "long");
var o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
return typeof e;
} : function(e) {
return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e;
};
(function() {
(function(i, n) {
"function" == typeof define && define.amd ? define([], n) : "function" == typeof e && "object" === ("undefined" == typeof t ? "undefined" : o(t)) && t && t.exports ? t.exports = n() : (i.dcodeIO = i.dcodeIO || {}).Long = n();
})(this, function() {
function e(e, t, i) {
this.low = 0 | e;
this.high = 0 | t;
this.unsigned = !!i;
}
e.prototype.__isLong__;
Object.defineProperty(e.prototype, "__isLong__", {
value: !0,
enumerable: !1,
configurable: !1
});
function t(e) {
return !0 === (e && e.__isLong__);
}
e.isLong = t;
var i = {}, o = {};
function n(e, t) {
var n, r, s;
if (t) {
if ((s = 0 <= (e >>>= 0) && e < 256) && (r = o[e])) return r;
n = a(e, (0 | e) < 0 ? -1 : 0, !0);
s && (o[e] = n);
return n;
}
if ((s = -128 <= (e |= 0) && e < 128) && (r = i[e])) return r;
n = a(e, e < 0 ? -1 : 0, !1);
s && (i[e] = n);
return n;
}
e.fromInt = n;
function r(e, t) {
if (isNaN(e) || !isFinite(e)) return t ? g : p;
if (t) {
if (e < 0) return g;
if (e >= d) return v;
} else {
if (e <= -f) return S;
if (e + 1 >= f) return _;
}
return e < 0 ? r(-e, t).neg() : a(e % u | 0, e / u | 0, t);
}
e.fromNumber = r;
function a(t, i, o) {
return new e(t, i, o);
}
e.fromBits = a;
var s = Math.pow;
function c(e, t, i) {
if (0 === e.length) throw Error("empty string");
if ("NaN" === e || "Infinity" === e || "+Infinity" === e || "-Infinity" === e) return p;
"number" == typeof t ? (i = t, t = !1) : t = !!t;
if ((i = i || 10) < 2 || 36 < i) throw RangeError("radix");
var o;
if ((o = e.indexOf("-")) > 0) throw Error("interior hyphen");
if (0 === o) return c(e.substring(1), t, i).neg();
for (var n = r(s(i, 8)), a = p, l = 0; l < e.length; l += 8) {
var u = Math.min(8, e.length - l), d = parseInt(e.substring(l, l + u), i);
if (u < 8) {
var f = r(s(i, u));
a = a.mul(f).add(r(d));
} else a = (a = a.mul(n)).add(r(d));
}
a.unsigned = t;
return a;
}
e.fromString = c;
function l(t) {
return t instanceof e ? t : "number" == typeof t ? r(t) : "string" == typeof t ? c(t) : a(t.low, t.high, t.unsigned);
}
e.fromValue = l;
var u = 4294967296, d = u * u, f = d / 2, h = n(1 << 24), p = n(0);
e.ZERO = p;
var g = n(0, !0);
e.UZERO = g;
var m = n(1);
e.ONE = m;
var y = n(1, !0);
e.UONE = y;
var b = n(-1);
e.NEG_ONE = b;
var _ = a(-1, 2147483647, !1);
e.MAX_VALUE = _;
var v = a(-1, -1, !0);
e.MAX_UNSIGNED_VALUE = v;
var S = a(0, -2147483648, !1);
e.MIN_VALUE = S;
var C = e.prototype;
C.toInt = function() {
return this.unsigned ? this.low >>> 0 : this.low;
};
C.toNumber = function() {
return this.unsigned ? (this.high >>> 0) * u + (this.low >>> 0) : this.high * u + (this.low >>> 0);
};
C.toString = function(e) {
if ((e = e || 10) < 2 || 36 < e) throw RangeError("radix");
if (this.isZero()) return "0";
if (this.isNegative()) {
if (this.eq(S)) {
var t = r(e), i = this.div(t), o = i.mul(t).sub(this);
return i.toString(e) + o.toInt().toString(e);
}
return "-" + this.neg().toString(e);
}
for (var n = r(s(e, 6), this.unsigned), a = this, c = ""; ;) {
var l = a.div(n), u = (a.sub(l.mul(n)).toInt() >>> 0).toString(e);
if ((a = l).isZero()) return u + c;
for (;u.length < 6; ) u = "0" + u;
c = "" + u + c;
}
};
C.getHighBits = function() {
return this.high;
};
C.getHighBitsUnsigned = function() {
return this.high >>> 0;
};
C.getLowBits = function() {
return this.low;
};
C.getLowBitsUnsigned = function() {
return this.low >>> 0;
};
C.getNumBitsAbs = function() {
if (this.isNegative()) return this.eq(S) ? 64 : this.neg().getNumBitsAbs();
for (var e = 0 != this.high ? this.high : this.low, t = 31; t > 0 && 0 == (e & 1 << t); t--) ;
return 0 != this.high ? t + 33 : t + 1;
};
C.isZero = function() {
return 0 === this.high && 0 === this.low;
};
C.isNegative = function() {
return !this.unsigned && this.high < 0;
};
C.isPositive = function() {
return this.unsigned || this.high >= 0;
};
C.isOdd = function() {
return 1 == (1 & this.low);
};
C.isEven = function() {
return 0 == (1 & this.low);
};
C.equals = function(e) {
t(e) || (e = l(e));
return (this.unsigned === e.unsigned || this.high >>> 31 != 1 || e.high >>> 31 != 1) && (this.high === e.high && this.low === e.low);
};
C.eq = C.equals;
C.notEquals = function(e) {
return !this.eq(e);
};
C.neq = C.notEquals;
C.lessThan = function(e) {
return this.comp(e) < 0;
};
C.lt = C.lessThan;
C.lessThanOrEqual = function(e) {
return this.comp(e) <= 0;
};
C.lte = C.lessThanOrEqual;
C.greaterThan = function(e) {
return this.comp(e) > 0;
};
C.gt = C.greaterThan;
C.greaterThanOrEqual = function(e) {
return this.comp(e) >= 0;
};
C.gte = C.greaterThanOrEqual;
C.compare = function(e) {
t(e) || (e = l(e));
if (this.eq(e)) return 0;
var i = this.isNegative(), o = e.isNegative();
return i && !o ? -1 : !i && o ? 1 : this.unsigned ? e.high >>> 0 > this.high >>> 0 || e.high === this.high && e.low >>> 0 > this.low >>> 0 ? -1 : 1 : this.sub(e).isNegative() ? -1 : 1;
};
C.comp = C.compare;
C.negate = function() {
return !this.unsigned && this.eq(S) ? S : this.not().add(m);
};
C.neg = C.negate;
C.add = function(e) {
t(e) || (e = l(e));
var i = this.high >>> 16, o = 65535 & this.high, n = this.low >>> 16, r = 65535 & this.low, s = e.high >>> 16, c = 65535 & e.high, u = e.low >>> 16, d = 0, f = 0, h = 0, p = 0;
h += (p += r + (65535 & e.low)) >>> 16;
f += (h += n + u) >>> 16;
d += (f += o + c) >>> 16;
d += i + s;
return a((h &= 65535) << 16 | (p &= 65535), (d &= 65535) << 16 | (f &= 65535), this.unsigned);
};
C.subtract = function(e) {
t(e) || (e = l(e));
return this.add(e.neg());
};
C.sub = C.subtract;
C.multiply = function(e) {
if (this.isZero()) return p;
t(e) || (e = l(e));
if (e.isZero()) return p;
if (this.eq(S)) return e.isOdd() ? S : p;
if (e.eq(S)) return this.isOdd() ? S : p;
if (this.isNegative()) return e.isNegative() ? this.neg().mul(e.neg()) : this.neg().mul(e).neg();
if (e.isNegative()) return this.mul(e.neg()).neg();
if (this.lt(h) && e.lt(h)) return r(this.toNumber() * e.toNumber(), this.unsigned);
var i = this.high >>> 16, o = 65535 & this.high, n = this.low >>> 16, s = 65535 & this.low, c = e.high >>> 16, u = 65535 & e.high, d = e.low >>> 16, f = 65535 & e.low, g = 0, m = 0, y = 0, b = 0;
y += (b += s * f) >>> 16;
m += (y += n * f) >>> 16;
y &= 65535;
m += (y += s * d) >>> 16;
g += (m += o * f) >>> 16;
m &= 65535;
g += (m += n * d) >>> 16;
m &= 65535;
g += (m += s * u) >>> 16;
g += i * f + o * d + n * u + s * c;
return a((y &= 65535) << 16 | (b &= 65535), (g &= 65535) << 16 | (m &= 65535), this.unsigned);
};
C.mul = C.multiply;
C.divide = function(e) {
t(e) || (e = l(e));
if (e.isZero()) throw Error("division by zero");
if (this.isZero()) return this.unsigned ? g : p;
var i, o, n;
if (this.unsigned) {
e.unsigned || (e = e.toUnsigned());
if (e.gt(this)) return g;
if (e.gt(this.shru(1))) return y;
n = g;
} else {
if (this.eq(S)) {
if (e.eq(m) || e.eq(b)) return S;
if (e.eq(S)) return m;
if ((i = this.shr(1).div(e).shl(1)).eq(p)) return e.isNegative() ? m : b;
o = this.sub(e.mul(i));
return n = i.add(o.div(e));
}
if (e.eq(S)) return this.unsigned ? g : p;
if (this.isNegative()) return e.isNegative() ? this.neg().div(e.neg()) : this.neg().div(e).neg();
if (e.isNegative()) return this.div(e.neg()).neg();
n = p;
}
o = this;
for (;o.gte(e); ) {
i = Math.max(1, Math.floor(o.toNumber() / e.toNumber()));
for (var a = Math.ceil(Math.log(i) / Math.LN2), c = a <= 48 ? 1 : s(2, a - 48), u = r(i), d = u.mul(e); d.isNegative() || d.gt(o); ) d = (u = r(i -= c, this.unsigned)).mul(e);
u.isZero() && (u = m);
n = n.add(u);
o = o.sub(d);
}
return n;
};
C.div = C.divide;
C.modulo = function(e) {
t(e) || (e = l(e));
return this.sub(this.div(e).mul(e));
};
C.mod = C.modulo;
C.not = function() {
return a(~this.low, ~this.high, this.unsigned);
};
C.and = function(e) {
t(e) || (e = l(e));
return a(this.low & e.low, this.high & e.high, this.unsigned);
};
C.or = function(e) {
t(e) || (e = l(e));
return a(this.low | e.low, this.high | e.high, this.unsigned);
};
C.xor = function(e) {
t(e) || (e = l(e));
return a(this.low ^ e.low, this.high ^ e.high, this.unsigned);
};
C.shiftLeft = function(e) {
t(e) && (e = e.toInt());
return 0 == (e &= 63) ? this : e < 32 ? a(this.low << e, this.high << e | this.low >>> 32 - e, this.unsigned) : a(0, this.low << e - 32, this.unsigned);
};
C.shl = C.shiftLeft;
C.shiftRight = function(e) {
t(e) && (e = e.toInt());
return 0 == (e &= 63) ? this : e < 32 ? a(this.low >>> e | this.high << 32 - e, this.high >> e, this.unsigned) : a(this.high >> e - 32, this.high >= 0 ? 0 : -1, this.unsigned);
};
C.shr = C.shiftRight;
C.shiftRightUnsigned = function(e) {
t(e) && (e = e.toInt());
if (0 === (e &= 63)) return this;
var i = this.high;
if (e < 32) {
return a(this.low >>> e | i << 32 - e, i >>> e, this.unsigned);
}
return a(32 === e ? i : i >>> e - 32, 0, this.unsigned);
};
C.shru = C.shiftRightUnsigned;
C.toSigned = function() {
return this.unsigned ? a(this.low, this.high, !1) : this;
};
C.toUnsigned = function() {
return this.unsigned ? this : a(this.low, this.high, !0);
};
return e;
});
})();
cc._RF.pop();
}, {} ],
md5: [ function(require, module, exports) {
(function(process, global) {
"use strict";
cc._RF.push(module, "2332aM9jM1EOK7xnMmBFvIC", "md5");
var _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
return typeof e;
} : function(e) {
return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e;
};
(function() {
var ERROR = "input is invalid type", WINDOW = "object" === ("undefined" == typeof window ? "undefined" : _typeof(window)), root = WINDOW ? window : {};
root.JS_MD5_NO_WINDOW && (WINDOW = !1);
var WEB_WORKER = !WINDOW && "object" === ("undefined" == typeof self ? "undefined" : _typeof(self)), NODE_JS = !root.JS_MD5_NO_NODE_JS && "object" === ("undefined" == typeof process ? "undefined" : _typeof(process)) && process.versions && process.versions.node;
NODE_JS ? root = global : WEB_WORKER && (root = self);
var COMMON_JS = !root.JS_MD5_NO_COMMON_JS && "object" === ("undefined" == typeof module ? "undefined" : _typeof(module)) && module.exports, AMD = "function" == typeof define && define.amd, ARRAY_BUFFER = !root.JS_MD5_NO_ARRAY_BUFFER && "undefined" != typeof ArrayBuffer, HEX_CHARS = "0123456789abcdef".split(""), EXTRA = [ 128, 32768, 8388608, -2147483648 ], SHIFT = [ 0, 8, 16, 24 ], OUTPUT_TYPES = [ "hex", "array", "digest", "buffer", "arrayBuffer", "base64" ], BASE64_ENCODE_CHAR = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""), blocks = [], buffer8;
if (ARRAY_BUFFER) {
var buffer = new ArrayBuffer(68);
buffer8 = new Uint8Array(buffer);
blocks = new Uint32Array(buffer);
}
!root.JS_MD5_NO_NODE_JS && Array.isArray || (Array.isArray = function(e) {
return "[object Array]" === Object.prototype.toString.call(e);
});
var createOutputMethod = function(e) {
return function(t) {
return new Md5(!0).update(t)[e]();
};
}, createMethod = function() {
var e = createOutputMethod("hex");
NODE_JS && (e = nodeWrap(e));
e.create = function() {
return new Md5();
};
e.update = function(t) {
return e.create().update(t);
};
for (var t = 0; t < OUTPUT_TYPES.length; ++t) {
var i = OUTPUT_TYPES[t];
e[i] = createOutputMethod(i);
}
return e;
}, nodeWrap = function nodeWrap(method) {
var crypto = eval("require('crypto')"), Buffer = eval("require('buffer').Buffer"), nodeMethod = function(e) {
if ("string" == typeof e) return crypto.createHash("md5").update(e, "utf8").digest("hex");
if (null === e || void 0 === e) throw ERROR;
e.constructor === ArrayBuffer && (e = new Uint8Array(e));
return Array.isArray(e) || ArrayBuffer.isView(e) || e.constructor === Buffer ? crypto.createHash("md5").update(new Buffer(e)).digest("hex") : method(e);
};
return nodeMethod;
};
function Md5(e) {
if (e) {
blocks[0] = blocks[16] = blocks[1] = blocks[2] = blocks[3] = blocks[4] = blocks[5] = blocks[6] = blocks[7] = blocks[8] = blocks[9] = blocks[10] = blocks[11] = blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;
this.blocks = blocks;
this.buffer8 = buffer8;
} else if (ARRAY_BUFFER) {
var t = new ArrayBuffer(68);
this.buffer8 = new Uint8Array(t);
this.blocks = new Uint32Array(t);
} else this.blocks = [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ];
this.h0 = this.h1 = this.h2 = this.h3 = this.start = this.bytes = 0;
this.finalized = this.hashed = !1;
this.first = !0;
}
Md5.prototype.update = function(e) {
if (!this.finalized) {
var t = "string" != typeof e;
if (t) {
if (null === e || void 0 === e) throw ERROR;
e.constructor === root.ArrayBuffer && (e = new Uint8Array(e));
}
var i = e.length;
if (t && ("number" != typeof i || !Array.isArray(e) && (!ARRAY_BUFFER || !ArrayBuffer.isView(e)))) throw ERROR;
for (var o, n, r = 0, a = this.blocks, s = this.buffer8; r < i; ) {
if (this.hashed) {
this.hashed = !1;
a[0] = a[16];
a[16] = a[1] = a[2] = a[3] = a[4] = a[5] = a[6] = a[7] = a[8] = a[9] = a[10] = a[11] = a[12] = a[13] = a[14] = a[15] = 0;
}
if (t) if (ARRAY_BUFFER) for (n = this.start; r < i && n < 64; ++r) s[n++] = e[r]; else for (n = this.start; r < i && n < 64; ++r) a[n >> 2] |= e[r] << SHIFT[3 & n++]; else if (ARRAY_BUFFER) for (n = this.start; r < i && n < 64; ++r) if ((o = e.charCodeAt(r)) < 128) s[n++] = o; else if (o < 2048) {
s[n++] = 192 | o >> 6;
s[n++] = 128 | 63 & o;
} else if (o < 55296 || o >= 57344) {
s[n++] = 224 | o >> 12;
s[n++] = 128 | o >> 6 & 63;
s[n++] = 128 | 63 & o;
} else {
o = 65536 + ((1023 & o) << 10 | 1023 & e.charCodeAt(++r));
s[n++] = 240 | o >> 18;
s[n++] = 128 | o >> 12 & 63;
s[n++] = 128 | o >> 6 & 63;
s[n++] = 128 | 63 & o;
} else for (n = this.start; r < i && n < 64; ++r) if ((o = e.charCodeAt(r)) < 128) a[n >> 2] |= o << SHIFT[3 & n++]; else if (o < 2048) {
a[n >> 2] |= (192 | o >> 6) << SHIFT[3 & n++];
a[n >> 2] |= (128 | 63 & o) << SHIFT[3 & n++];
} else if (o < 55296 || o >= 57344) {
a[n >> 2] |= (224 | o >> 12) << SHIFT[3 & n++];
a[n >> 2] |= (128 | o >> 6 & 63) << SHIFT[3 & n++];
a[n >> 2] |= (128 | 63 & o) << SHIFT[3 & n++];
} else {
o = 65536 + ((1023 & o) << 10 | 1023 & e.charCodeAt(++r));
a[n >> 2] |= (240 | o >> 18) << SHIFT[3 & n++];
a[n >> 2] |= (128 | o >> 12 & 63) << SHIFT[3 & n++];
a[n >> 2] |= (128 | o >> 6 & 63) << SHIFT[3 & n++];
a[n >> 2] |= (128 | 63 & o) << SHIFT[3 & n++];
}
this.lastByteIndex = n;
this.bytes += n - this.start;
if (n >= 64) {
this.start = n - 64;
this.hash();
this.hashed = !0;
} else this.start = n;
}
return this;
}
};
Md5.prototype.finalize = function() {
if (!this.finalized) {
this.finalized = !0;
var e = this.blocks, t = this.lastByteIndex;
e[t >> 2] |= EXTRA[3 & t];
if (t >= 56) {
this.hashed || this.hash();
e[0] = e[16];
e[16] = e[1] = e[2] = e[3] = e[4] = e[5] = e[6] = e[7] = e[8] = e[9] = e[10] = e[11] = e[12] = e[13] = e[14] = e[15] = 0;
}
e[14] = this.bytes << 3;
this.hash();
}
};
Md5.prototype.hash = function() {
var e, t, i, o, n, r, a = this.blocks;
if (this.first) t = ((t = ((e = ((e = a[0] - 680876937) << 7 | e >>> 25) - 271733879 << 0) ^ (i = ((i = (-271733879 ^ (o = ((o = (-1732584194 ^ 2004318071 & e) + a[1] - 117830708) << 12 | o >>> 20) + e << 0) & (-271733879 ^ e)) + a[2] - 1126478375) << 17 | i >>> 15) + o << 0) & (o ^ e)) + a[3] - 1316259209) << 22 | t >>> 10) + i << 0; else {
e = this.h0;
t = this.h1;
i = this.h2;
t = ((t += ((e = ((e += ((o = this.h3) ^ t & (i ^ o)) + a[0] - 680876936) << 7 | e >>> 25) + t << 0) ^ (i = ((i += (t ^ (o = ((o += (i ^ e & (t ^ i)) + a[1] - 389564586) << 12 | o >>> 20) + e << 0) & (e ^ t)) + a[2] + 606105819) << 17 | i >>> 15) + o << 0) & (o ^ e)) + a[3] - 1044525330) << 22 | t >>> 10) + i << 0;
}
t = ((t += ((e = ((e += (o ^ t & (i ^ o)) + a[4] - 176418897) << 7 | e >>> 25) + t << 0) ^ (i = ((i += (t ^ (o = ((o += (i ^ e & (t ^ i)) + a[5] + 1200080426) << 12 | o >>> 20) + e << 0) & (e ^ t)) + a[6] - 1473231341) << 17 | i >>> 15) + o << 0) & (o ^ e)) + a[7] - 45705983) << 22 | t >>> 10) + i << 0;
t = ((t += ((e = ((e += (o ^ t & (i ^ o)) + a[8] + 1770035416) << 7 | e >>> 25) + t << 0) ^ (i = ((i += (t ^ (o = ((o += (i ^ e & (t ^ i)) + a[9] - 1958414417) << 12 | o >>> 20) + e << 0) & (e ^ t)) + a[10] - 42063) << 17 | i >>> 15) + o << 0) & (o ^ e)) + a[11] - 1990404162) << 22 | t >>> 10) + i << 0;
t = ((t += ((e = ((e += (o ^ t & (i ^ o)) + a[12] + 1804603682) << 7 | e >>> 25) + t << 0) ^ (i = ((i += (t ^ (o = ((o += (i ^ e & (t ^ i)) + a[13] - 40341101) << 12 | o >>> 20) + e << 0) & (e ^ t)) + a[14] - 1502002290) << 17 | i >>> 15) + o << 0) & (o ^ e)) + a[15] + 1236535329) << 22 | t >>> 10) + i << 0;
t = ((t += ((o = ((o += (t ^ i & ((e = ((e += (i ^ o & (t ^ i)) + a[1] - 165796510) << 5 | e >>> 27) + t << 0) ^ t)) + a[6] - 1069501632) << 9 | o >>> 23) + e << 0) ^ e & ((i = ((i += (e ^ t & (o ^ e)) + a[11] + 643717713) << 14 | i >>> 18) + o << 0) ^ o)) + a[0] - 373897302) << 20 | t >>> 12) + i << 0;
t = ((t += ((o = ((o += (t ^ i & ((e = ((e += (i ^ o & (t ^ i)) + a[5] - 701558691) << 5 | e >>> 27) + t << 0) ^ t)) + a[10] + 38016083) << 9 | o >>> 23) + e << 0) ^ e & ((i = ((i += (e ^ t & (o ^ e)) + a[15] - 660478335) << 14 | i >>> 18) + o << 0) ^ o)) + a[4] - 405537848) << 20 | t >>> 12) + i << 0;
t = ((t += ((o = ((o += (t ^ i & ((e = ((e += (i ^ o & (t ^ i)) + a[9] + 568446438) << 5 | e >>> 27) + t << 0) ^ t)) + a[14] - 1019803690) << 9 | o >>> 23) + e << 0) ^ e & ((i = ((i += (e ^ t & (o ^ e)) + a[3] - 187363961) << 14 | i >>> 18) + o << 0) ^ o)) + a[8] + 1163531501) << 20 | t >>> 12) + i << 0;
t = ((t += ((o = ((o += (t ^ i & ((e = ((e += (i ^ o & (t ^ i)) + a[13] - 1444681467) << 5 | e >>> 27) + t << 0) ^ t)) + a[2] - 51403784) << 9 | o >>> 23) + e << 0) ^ e & ((i = ((i += (e ^ t & (o ^ e)) + a[7] + 1735328473) << 14 | i >>> 18) + o << 0) ^ o)) + a[12] - 1926607734) << 20 | t >>> 12) + i << 0;
t = ((t += ((r = (o = ((o += ((n = t ^ i) ^ (e = ((e += (n ^ o) + a[5] - 378558) << 4 | e >>> 28) + t << 0)) + a[8] - 2022574463) << 11 | o >>> 21) + e << 0) ^ e) ^ (i = ((i += (r ^ t) + a[11] + 1839030562) << 16 | i >>> 16) + o << 0)) + a[14] - 35309556) << 23 | t >>> 9) + i << 0;
t = ((t += ((r = (o = ((o += ((n = t ^ i) ^ (e = ((e += (n ^ o) + a[1] - 1530992060) << 4 | e >>> 28) + t << 0)) + a[4] + 1272893353) << 11 | o >>> 21) + e << 0) ^ e) ^ (i = ((i += (r ^ t) + a[7] - 155497632) << 16 | i >>> 16) + o << 0)) + a[10] - 1094730640) << 23 | t >>> 9) + i << 0;
t = ((t += ((r = (o = ((o += ((n = t ^ i) ^ (e = ((e += (n ^ o) + a[13] + 681279174) << 4 | e >>> 28) + t << 0)) + a[0] - 358537222) << 11 | o >>> 21) + e << 0) ^ e) ^ (i = ((i += (r ^ t) + a[3] - 722521979) << 16 | i >>> 16) + o << 0)) + a[6] + 76029189) << 23 | t >>> 9) + i << 0;
t = ((t += ((r = (o = ((o += ((n = t ^ i) ^ (e = ((e += (n ^ o) + a[9] - 640364487) << 4 | e >>> 28) + t << 0)) + a[12] - 421815835) << 11 | o >>> 21) + e << 0) ^ e) ^ (i = ((i += (r ^ t) + a[15] + 530742520) << 16 | i >>> 16) + o << 0)) + a[2] - 995338651) << 23 | t >>> 9) + i << 0;
t = ((t += ((o = ((o += (t ^ ((e = ((e += (i ^ (t | ~o)) + a[0] - 198630844) << 6 | e >>> 26) + t << 0) | ~i)) + a[7] + 1126891415) << 10 | o >>> 22) + e << 0) ^ ((i = ((i += (e ^ (o | ~t)) + a[14] - 1416354905) << 15 | i >>> 17) + o << 0) | ~e)) + a[5] - 57434055) << 21 | t >>> 11) + i << 0;
t = ((t += ((o = ((o += (t ^ ((e = ((e += (i ^ (t | ~o)) + a[12] + 1700485571) << 6 | e >>> 26) + t << 0) | ~i)) + a[3] - 1894986606) << 10 | o >>> 22) + e << 0) ^ ((i = ((i += (e ^ (o | ~t)) + a[10] - 1051523) << 15 | i >>> 17) + o << 0) | ~e)) + a[1] - 2054922799) << 21 | t >>> 11) + i << 0;
t = ((t += ((o = ((o += (t ^ ((e = ((e += (i ^ (t | ~o)) + a[8] + 1873313359) << 6 | e >>> 26) + t << 0) | ~i)) + a[15] - 30611744) << 10 | o >>> 22) + e << 0) ^ ((i = ((i += (e ^ (o | ~t)) + a[6] - 1560198380) << 15 | i >>> 17) + o << 0) | ~e)) + a[13] + 1309151649) << 21 | t >>> 11) + i << 0;
t = ((t += ((o = ((o += (t ^ ((e = ((e += (i ^ (t | ~o)) + a[4] - 145523070) << 6 | e >>> 26) + t << 0) | ~i)) + a[11] - 1120210379) << 10 | o >>> 22) + e << 0) ^ ((i = ((i += (e ^ (o | ~t)) + a[2] + 718787259) << 15 | i >>> 17) + o << 0) | ~e)) + a[9] - 343485551) << 21 | t >>> 11) + i << 0;
if (this.first) {
this.h0 = e + 1732584193 << 0;
this.h1 = t - 271733879 << 0;
this.h2 = i - 1732584194 << 0;
this.h3 = o + 271733878 << 0;
this.first = !1;
} else {
this.h0 = this.h0 + e << 0;
this.h1 = this.h1 + t << 0;
this.h2 = this.h2 + i << 0;
this.h3 = this.h3 + o << 0;
}
};
Md5.prototype.hex = function() {
this.finalize();
var e = this.h0, t = this.h1, i = this.h2, o = this.h3;
return HEX_CHARS[e >> 4 & 15] + HEX_CHARS[15 & e] + HEX_CHARS[e >> 12 & 15] + HEX_CHARS[e >> 8 & 15] + HEX_CHARS[e >> 20 & 15] + HEX_CHARS[e >> 16 & 15] + HEX_CHARS[e >> 28 & 15] + HEX_CHARS[e >> 24 & 15] + HEX_CHARS[t >> 4 & 15] + HEX_CHARS[15 & t] + HEX_CHARS[t >> 12 & 15] + HEX_CHARS[t >> 8 & 15] + HEX_CHARS[t >> 20 & 15] + HEX_CHARS[t >> 16 & 15] + HEX_CHARS[t >> 28 & 15] + HEX_CHARS[t >> 24 & 15] + HEX_CHARS[i >> 4 & 15] + HEX_CHARS[15 & i] + HEX_CHARS[i >> 12 & 15] + HEX_CHARS[i >> 8 & 15] + HEX_CHARS[i >> 20 & 15] + HEX_CHARS[i >> 16 & 15] + HEX_CHARS[i >> 28 & 15] + HEX_CHARS[i >> 24 & 15] + HEX_CHARS[o >> 4 & 15] + HEX_CHARS[15 & o] + HEX_CHARS[o >> 12 & 15] + HEX_CHARS[o >> 8 & 15] + HEX_CHARS[o >> 20 & 15] + HEX_CHARS[o >> 16 & 15] + HEX_CHARS[o >> 28 & 15] + HEX_CHARS[o >> 24 & 15];
};
Md5.prototype.toString = Md5.prototype.hex;
Md5.prototype.digest = function() {
this.finalize();
var e = this.h0, t = this.h1, i = this.h2, o = this.h3;
return [ 255 & e, e >> 8 & 255, e >> 16 & 255, e >> 24 & 255, 255 & t, t >> 8 & 255, t >> 16 & 255, t >> 24 & 255, 255 & i, i >> 8 & 255, i >> 16 & 255, i >> 24 & 255, 255 & o, o >> 8 & 255, o >> 16 & 255, o >> 24 & 255 ];
};
Md5.prototype.array = Md5.prototype.digest;
Md5.prototype.arrayBuffer = function() {
this.finalize();
var e = new ArrayBuffer(16), t = new Uint32Array(e);
t[0] = this.h0;
t[1] = this.h1;
t[2] = this.h2;
t[3] = this.h3;
return e;
};
Md5.prototype.buffer = Md5.prototype.arrayBuffer;
Md5.prototype.base64 = function() {
for (var e, t, i, o = "", n = this.array(), r = 0; r < 15; ) {
e = n[r++];
t = n[r++];
i = n[r++];
o += BASE64_ENCODE_CHAR[e >>> 2] + BASE64_ENCODE_CHAR[63 & (e << 4 | t >>> 4)] + BASE64_ENCODE_CHAR[63 & (t << 2 | i >>> 6)] + BASE64_ENCODE_CHAR[63 & i];
}
e = n[r];
return o += BASE64_ENCODE_CHAR[e >>> 2] + BASE64_ENCODE_CHAR[e << 4 & 63] + "==";
};
var exports = createMethod();
if (COMMON_JS) module.exports = exports; else {
root.md5 = exports;
AMD && define(function() {
return exports;
});
}
})();
cc._RF.pop();
}).call(this, require("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {});
}, {
_process: 119
} ],
"naming.proto": [ function(e, t, i) {
"use strict";
cc._RF.push(t, "3e27fgLVo1Mm62SglKW+GK9", "naming.proto");
t.exports = "\npackage qqserver;\n\nmessage NamingRequest\n{\n  required string pkg = 1;\n  required string chn = 2;\n  required int32 cvc = 3;\n}\n\nmessage NamingResponse\n{\n  repeated string urls = 1;\n}\n";
cc._RF.pop();
}, {} ]
}, {}, [ "AllAgent", "AllAgentWxItem", "Banner", "BannerItem", "Alert", "LeaveAlert", "SystemDialog", "BaseNormalDialog", "Dialog", "DialogModel", "DialogUtil", "PopDialogControl", "VerticalTabDialog", "VerticalTabItem", "Toast", "BetChip", "BonusCenterDialog", "BonusCenterLeftTabItem", "BonusCenterLogin", "BonusCenterLoginAward", "BonusCenterOnline", "BonusCenterOnlineAward", "BonusCenterOnlineItem", "BonusCenterOnlineRank", "BonusCenterOnlineRankItem", "BonusCenterUtil", "BonusOnlineAwardOpenAnim", "ChipFrame", "ContactUsViewDialog", "CustomerAppealMgr", "CustomerCenter", "CustomerContactService", "CustomerIMMessage", "CustomerModel", "CustomerQA", "CustomerRes", "CustomerSocketMgr", "CustomerSwitchScreen", "CustomerUIMgr", "GameRestore", "GameRoom", "GameRoomBox", "GameRoomItem", "GameRoomItemTeenpatti", "GameRoomLogic", "Loading", "MailBoxContactDialog", "MailBoxContent", "MailBoxDialog", "MailBoxGetGiftSuccess", "MailBoxItem", "MailBoxLeftBottom", "MailBoxPrefabMgr", "MailBoxUtil", "MailUIMgr", "MailViewContent", "MailViewDialog", "MailViewLeftItem", "MenuBarBottom", "MenuBarPrefabMgr", "MenuBarUserInfo", "MenuBottom", "MyInfo", "RedEnvelope", "RedEnvelopeFrame", "RedEnvelopeModel", "RedEnvelopeOpen", "NoticeBody", "NoticeContent", "NoticeDialog", "NoticeItem", "NoticeUIMgr", "NoticeViewDialog", "NoticeViewLeftItem", "Poker", "PreloadSceneMgr", "Promoter", "PromoterAcStageInfo", "PromoterActivity", "PromoterActivityRank", "PromoterActivityRankItem", "PromoterBanner", "PromoterBannerItem", "PromoterDetailItem", "PromoterDialogAwardInfo", "PromoterDialogCopyLink", "PromoterDialogHelp", "PromoterDialogPrize", "PromoterDialogQr", "PromoterFormal", "PromoterGlobal", "PromoterMarque", "PromoterMarqueItem", "PromoterModel", "PromoterPrefabMgr", "PromoterTabDetail", "PromoterTabGuide", "PromoterTabMy", "PromoterTabWeek", "PromoterWeekItem", "AddCashAmountModel", "AddCashContentModel", "RechargeComplaintAgent", "RechargeDialog", "RechargeEvaluationAgent", "RechargeEvaluationDetails", "RechargeRecordEnum", "RechargeRecording", "RechargeRecordingItem", "RechargeRecordingModel", "RechargeSecondAnim", "RechargeSecondModel", "RechargeSecondPay", "RechargeSecondPayItem", "RechargeSecondPayTypeIcon", "RechargeViewDialog", "WalletRechargeTypeItem", "WalletTopUpLeftTabItem", "WalletViewTopUpLeftTabItem", "FormalUser", "RegisterForGifts", "ReportAgent", "ReportPrize", "Rule", "RuleTeenpatti", "RuleText", "GeneralMessage", "GeneralMessageModel", "ImageMessage", "ImageMessageModel", "ImgManager", "MessageGlobal", "MessageTime", "MessageWithMe", "MessageWithService", "OfflineMessage", "OfflineMessageModel", "PayMessage", "PayMessageModel", "RechargeService", "RechargeServiceSocketMgr", "UrlMessage", "UrlMessageModel", "Setting", "ComponentRes", "ComponentSkinRes", "StartAndStopAnim", "TableSeatFrame", "TableSeatList", "TableSeatListItem", "TableSeatModel", "TimeFrame", "UserInfo", "GraphValidCode", "PhoneValidCode", "ValidCodeEnum", "SafeBoxLanguage", "SafeBoxPwdEnter", "SafeBoxPwdReset", "SafeBoxTip", "SafeBoxUIMgr", "SafeBoxIn", "SafeBoxOut", "SafeBoxPwd", "CashierPayDialog", "GamePayLanguage", "RechargeGuidePages", "RechargeNoticeDialog", "RechargeQrcode", "WalletTopUp", "RechargeAgencyItem", "RechargeContactAgent", "ApplePayRecharge", "CustomerEntry", "RechargeCustomer", "RechargeOrder", "RechargeOrderItem", "RechargeBankList", "RechargeBankListItem", "RechargePlusBtn", "TopUpAgentItemView", "TopUpAgentView", "TopUpBankTransferView", "TopUpToBeAgentView", "TopUpView", "TopUpiOSItemView", "TopUpiOSView", "RechargePrefabMgr", "TopUpDataMgr", "TopUpUIMgr", "RechargeAwaitTransfer", "RechargeTransferAccount", "RechargeTransferExplanation", "RechargeTransferGuide1", "RechargeTransferGuide2", "TransferHistoryFrame", "DebitCard", "NewWithdrawInfoFrame", "PayTM", "WithdrawBankSelectItem", "WithdrawCashContent", "WithdrawCodeTab", "WithdrawDialog", "WithdrawExTab", "WithdrawGlobal", "WithdrawInfoDialogModel", "WithdrawInfoTab", "WithdrawRecordModel", "WithdrawResetBind", "WithdrawSelectBank", "WithdrawViewModel", "Withdrawinfoedit", "Withdrawmethodsitem", "WithdrawrecordsitemMode", "WithdrawBankList", "WithdrawBankListItem", "WithdrawBankListRow", "WithdrawAlibay", "WithdrawBank", "WithdrawWechat", "HorizonTabItem", "HorizonTabView", "WithdrawBankItem", "WithdrawBanksMapView", "WithdrawUIMgr", "WithdrawRecord", "WithdrawRecordDetail", "WithdrawRecordItem", "WithdrawRecordPageItem", "MarqueeMgr", "NoticeMarquee", "RedPacket", "RoomBaseInfo", "UserCenter", "UserCenterContactDialog", "UserCenterKycDialog", "UserCenterPrefabMgr", "UserCenterSelectAvatar", "UserCenterSelectAvatarItem", "HallApiDataRequest", "GameHall", "HallModel", "HallError", "HallReconnect", "HallAudio", "HomeMenu", "HomeMenuView", "NativePush", "SgView", "TopFrame", "HallRes", "HallSkinRes", "GameLauncher", "GameLogin", "HotUpdate", "AutoLoginModel", "LauncherModel", "NamingServiceMgr", "NamingSocket", "NetworkFix", "AutoLogin", "FastLogin", "FindPassword", "LauncherContactCustomer", "LauncherFunction", "LauncherView", "LoginPrefabManager", "PasswordLogin", "ProgramInit", "HotUpdateProgressView", "GuideRegister", "Register", "RootNode", "LauncherRes", "LauncherSkinRes", "RummyActionPokerView", "RummyDeclareWaitingView", "RummyFeaturesButtonView", "RummyGameExitView", "RummyHandPokerGroupView", "RummyHandPokerListView", "RummyHandPokerWinView", "RummyPlayerListView", "RummyPlayerView", "RummyPokerView", "RummyResultPlayerView", "RummyResultUI", "RummySettingView", "RummyStartAnimation", "RummyTablePokerView", "RummyTipsUI", "RummyConstConfig", "RummyConstEventName", "RummyLanguageConfig", "RummyActionPokerController", "RummyDeclareWaitingController", "RummyFeaturesController", "RummyHandPokerListController", "RummyHandPokerWinController", "RummyPlayerListController", "RummyTablePokerController", "RummyTipsController", "RummyAnimationMgr", "RummyAssetCacheManager", "RummyAudioMgr", "RummyLogicMgr", "RummyUIManager", "RummyGlobal", "RummyHandPokerModel", "RummyModel", "RummyGame", "RummyError", "RummyProto", "RummyReconnect", "RummySocketMgr", "RummySocketSend", "RummyRes", "RummySkinBaseAudios", "RummySkinBasePrefabs", "RummySkinBaseResources", "RummySkinBaseSkeleton", "RummySkinAudios", "RummySkinPrefabs", "RummySkinResources", "RummySkinSkeleton", "TeenPattiButton", "TeenPattiDealer", "TeenPattiFX", "TeenPattiGameUI", "TeenPattiPlayer", "TeenPattiPlayerExtra", "TeenPattiPlayerUI", "TeenPattiGlobal", "TeenPattiInfo", "TeenPattiModel", "TeenPattiSkinConfig", "TeenPattiError", "TeenPattiReconnect", "TeenPattiSocketMgr", "TeenPattiSocketSend", "TeenPattiAudioMgr", "TeenPattiGame", "TeenPattiExitUI", "TeenPattiLoadingView", "TeenPattiPkCompareUI", "TeenPattiPlayerCardUI", "TeenPattiUIMgr", "TeenpattiSideShowRequestDialog", "TeenPattiRes", "TeenPattiSkinRes", "CommonAudio", "CommonAudioMgr", "CommonAudioSkinRes", "CommonBrcAudioMgr", "BaseFormat", "BaseScrollView", "BrcGraphicsMgr", "BrcModel", "BrcPrefabMgr", "BrcSocketMgr", "BrcSocketSend", "CommonAtlasMgr", "CommonCmdUtil", "CommonEventName", "CommonFunction", "CommonLanguage", "CommonObjectPool", "CommonProtoBufMgr", "CommonVariable", "CompelGuidance", "NodeManager", "DataParseUtil", "EditBoxManager", "ErrorLogReport", "ExchangeGuide", "Api", "ApiMgr", "Api_pb", "CommonProto", "GameType", "GameUtil", "EventManager", "NewCommonHttp", "NewCommonSocket", "ResDynamicLoader", "ReleaseMgr", "ReleaseRes", "ReleaseSkinRes", "GameLanguage", "CommonHttp", "HttpErrorManager", "game_req.proto", "hero_req.proto", "naming.proto", "Language", "LocalStorageUtil", "Localization", "BottomBarModel", "CommonSocketModel", "GameStatusModel", "NewGameInfo", "PopWindowPull", "TopBarModel", "UISettingModel", "GameEngineUtil", "ProjectConfig", "CommonDepend", "DependManage", "CommonRes", "CommonSkinRes", "CommonEventManager", "CommonProtoBuf", "CommonProtoBuf3", "CommonSocket", "FastPlayMgr", "im.proto", "TeenpattiLanguage", "PPGameLib", "ThirdH5Helper", "TrackUtil", "CommonDialog", "CommonFontFamily", "CommonPrefabMgr", "CommonRandomBg", "DynamicMounNodeUtil", "FullScreenAdapter", "SettingView", "UserManager", "EntitiesComponentSystem", "ToggleStyleSwitcher", "FormatCheckUtil", "GameLog", "Utility", "base64", "AutoLoginUtil", "QrCodeUtil", "RequireManager", "long", "md5", "Brc.proto", "CommonProto3.proto", "Fishing.proto", "NamingAccess.proto", "Rummy.proto", "TeenPatti.proto" ]);